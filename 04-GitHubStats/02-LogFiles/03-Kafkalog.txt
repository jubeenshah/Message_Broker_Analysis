commit 9f7267dd2fedde86bf15aabdbc5256e5fc617184
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Sep 26 06:25:55 2018 -0700

    KAFKA-7437; Persist leader epoch in offset commit metadata (#5689)
    
    This commit implements the changes described in KIP-320 for the persistence of leader epoch information in the offset commit protocol.
    
    Reviewers:  Rajini Sivaram <rajinisivaram@googlemail.com>

commit 5916db11f65482fd226450a2b8da407a3397e8e9
Author: Attila Sasvari <asasvari@apache.org>
Date:   Wed Sep 26 11:20:11 2018 +0200

    MINOR: Fix broken link in security.html (#5670)
    
    Reviewers: Mickael Maison <mickael.maison@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 888423ee569d27876468c83243be6dab10a57dc9
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Wed Sep 26 02:08:48 2018 -0700

    KAFKA-7428: ConnectionStressSpec: add "action", allow multiple clients (#5668)

commit f712ce69fc2cb6a164b1ea8e491c9d68e6661933
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Tue Sep 25 15:41:22 2018 -0500

    KAFKA-7223: add tests in preparation for suppression (#5687)
    
    This is Part 2 of suppression.
    Part 1 was #5567
    
    In an effort to control the scope of the review, this PR is just the tests for buffered suppression.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 2933f21374ed383e4db1dfb9c7df02f1707903ba
Author: Vahid Hashemian <vahid.hashemian@gmail.com>
Date:   Tue Sep 25 09:06:30 2018 -0700

    KAFKA-7403; Use default timestamp if no expire timestamp set in offset commit value (#5690)
    
    This fixes a regression caused by KAFKA-4682 (KIP-211) which caused offset commit failures after upgrading from an older version which used the v1 inter-broker format.

commit 81d124440dfeaa421f9ef30e88924fc439f5b7bf
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 25 01:14:20 2018 -0700

    MINOR: Upgrade to Jackson 2.9.7 (#5662)
    
    This contains important fixes:
    
    https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.9.7
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit c835331c7855c4bd60b3eb82b8f284006a1ee9b7
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Sep 24 22:01:00 2018 -0700

    KAFKA-5066; Add KafkaMetricsConfig (Yammer metrics reporters) props to documentation
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5563 from omkreddy/KAFKA-5066-KAFKA-METRICS-CONFIG

commit 057c5307e0f055b37794453d16f6f43b8c56528c
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Mon Sep 24 15:27:39 2018 -0500

    KAFKA-7223: Suppress API with only immediate emit (#5567)
    
    Part 1 of the suppression API.
    
    * add the DSL suppress method and config objects
    * add the processor, but only in "identity" mode (i.e., it will forward only if the suppression spec says to forward immediately)
    * add tests
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 86b4d9d58fc990939b654382adde7d86a4f4c24c
Author: Eugen Feller <efeller@users.noreply.github.com>
Date:   Mon Sep 24 09:25:54 2018 -0700

    KAFKA-7430: Improve Transformer interface JavaDoc (#5675)
    
    This PR improves the JavaDoc of the transformer interface.
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit 95f9622cce2d4a47d59bdfe2dbce6c1cbc2e4573
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri Sep 21 18:00:05 2018 -0500

    MINOR: Fix compilation error in PlaintextConsumerTest under scala 2.12 (#5674)

commit 6ced8550b3183a71500a66728e9957c19456d4f9
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sat Sep 22 02:17:26 2018 +0530

    KAFKA-7216: Ignore unknown ResourceTypes while loading acl cache (#5673)
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 0bc7008e7559337b588c60366d1b935eace59ffc
Author: Bob Barrett <bob.barrett@outlook.com>
Date:   Fri Sep 21 13:31:45 2018 -0700

    KAFKA-7400: Compacted topic segments that precede the log start offse… (#5646)
    
    * KAFKA-7400: Compacted topic segments that precede the log start offset are not cleaned up
    
    Currently we don't delete any log segments if the cleanup policy doesn't include delete. This patch changes the behavior to delete log segments that fully precede the log start offset even when deletion is not enabled. Tested with unit tests to verify that LogManager.cleanupLogs now cleans logs with cleanup.policy=compact and that Log.deleteOldSegments deletes segments that preced the start offset regardless of the cleanup policy.
    
    Reviewers: Dhruvil Shah <dhruvil@confluent.io>, Jason Gustafson <jason@confluent.io>, Jun Rao <junrao@gmail.com>

commit 96132e2dbb69a0c6c11cb183bb05cefef4e30557
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri Sep 21 13:55:56 2018 -0500

    MINOR: rename InternalProcessorContext.initialized (#5672)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit f1f719211e5f28fe5163e65dba899b1da796a8e0
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Fri Sep 21 00:55:10 2018 +0200

    KAFKA-6923; Refactor Serializer/Deserializer for KIP-336 (#5494)
    
    This patch implements KIP-336. It adds a default implementation to the Serializer/Deserializer interface to support the use of headers and it deprecates the ExtendedSerializer and ExtendedDeserializer interfaces for later removal.
    
    Reviewers: Satish Duggana <sduggana@hortonworks.com>, John Roesler <john@confluent.io>, Jason Gustafson <jason@confluent.io>

commit 7bc1019d4bdf2b9592a7fc3e08659aae7961046b
Author: Aleksei Izmalkin <42375035+aai95@users.noreply.github.com>
Date:   Thu Sep 20 23:20:03 2018 +0400

    [KAFKA-7379] [streams] send.buffer.bytes should be allowed to set -1 in KafkaStreams (#5643)
    
    What changes were proposed in this pull request?
    atLeast(0) in StreamsConfig, ProducerConfig and ConsumerConfig were replaced by SEND_BUFFER_LOWER_BOUND and RECEIVE_BUFFER_LOWER_BOUND from CommonClientConfigs.
    
    How was this patch tested?
    Three unit tests were added to KafkaStreamsTest
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>, Matthias J. Sax <mjsax@apache.org>

commit 9f187a9a880c603323a258df3450a29329f95d62
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Sep 19 15:09:33 2018 -0700

    MINOR: increase number of unique keys for Streams EOS system test (#5640)
    
    Increasing the number of unique keys, to increase likelihood that the test exposes KAFKA-7192.
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>

commit df00f1a738b1fe4cfe1140f5ee966745659c212a
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Sep 19 18:05:39 2018 -0400

    MINOR: Remove ignored tests that hang, added new versions for EOS tests (#5666)
    
    Reviewers: John Roesler <vvcephei@users.noreply.github.com>, Guozhang Wang <wangguoz@gmail.com>

commit af80dccc7dfb18c41d17d590a316cb6803294cbb
Author: Joan Goyeau <joan@goyeau.com>
Date:   Wed Sep 19 17:10:15 2018 +0100

    KAFKA-7399: KIP-366, Make FunctionConversions deprecated (#5562)
    
    Reviewers: John Roesler <vvcephei@users.noreply.github.com>, Guozhang Wang <wangguoz@gmail.com>

commit 88823c6016ea2e306340938994d9e122abf3c6c0
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Tue Sep 18 14:19:41 2018 -0700

    MINOR: cleanup some state store code (#5656)
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 43e21252cac8eebfbb168cd47d4de18241f8b755
Author: Mutasem Aldmour <mutdmour@gmail.com>
Date:   Tue Sep 18 11:35:59 2018 +0300

    KAFKA-7388 equal sign in property value for password (#5630)
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Murali Mani <murali.mani@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 4bbbfaf39c79fc5dfa7fbc22842717b0fad13503
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Sep 18 01:01:54 2018 -0700

    KAFKA-7332; Update CORRUPT_MESSAGE exception message description
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5638 from omkreddy/KAFKA-7332-COMPACTED-ERROR_MESSAGE

commit d87ed233c9e3a8faf2a8032d62ff9b90b0e40bfb
Author: Xiongqi Wesley Wu <xiongqi.wu@gmail.com>
Date:   Mon Sep 17 23:36:59 2018 -0700

    KAFKA-7322; Fix race condition between log cleaner thread and log retention thread when topic cleanup policy is updated
    
    In order to fix race condition between log cleaner thread and log retention thread when dynamically switching topic cleanup policy, existing log cleaner in-progress map is used to prevent more than one thread from working on the same topic partition.
    
    Author: Xiongqi Wesley Wu <xiongqi.wu@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5591 from xiowu0/trunk

commit c5ef614bbf133e18bd207e22f2697a2d1d3e8e4e
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Sep 17 12:36:53 2018 -0700

    KAFKA-7414; Out of range errors should never be fatal for follower (#5654)
    
    This patch fixes the inconsistent handling of out of range errors in the replica fetcher. Previously we would raise a fatal error if the follower's offset is ahead of the leader's and unclean leader election is not enabled. The behavior was inconsistent depending on the message format. With KIP-101/KIP-279 and the new message format, upon becoming a follower, the replica would use leader epoch information to reconcile the end of the log with the leader and simply truncate. Additionally, with the old format, the check is not really bulletproof for detecting data loss since the unclean leader's end offset might have already caught up to the follower's offset at the time of its initial fetch or when it queries for the current log end offset.
    
    With this patch, we simply skip the unclean leader election check and allow the needed truncation to occur. When the truncation offset is below the high watermark, a warning will be logged. This makes the behavior consistent for all message formats and removes a scenario in which an error on one partition can bring the broker down.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>

commit 5e72f66ab5c6220098ebbd20957a05a1ed657ab7
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Sep 17 19:12:46 2018 +0100

    MINOR: Increase timeout in log4j system test to avoid transient failures (#5658)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit b21c66f9484a47f549cdfbdf286158fb2d85ee78
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Sep 17 09:35:00 2018 -0700

    KAFKA-5690; Add support to list ACLs for a given principal (KIP-357)
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5633 from omkreddy/KAFKA-5690-LIST-PER-PRICIPAL

commit 607dea234f30a0c40d5a48f518a51372e02fa0a0
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Mon Sep 17 11:22:36 2018 -0500

    MINOR: log and fail on missing task in Streams (#5655)
    
    Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>

commit 3a8ab3258f8b461239bc7c0202f81c611745eee9
Author: Dong Lin <lindong28@gmail.com>
Date:   Sun Sep 16 00:17:07 2018 -0700

    Revert 4e311 KAFKA-5690 since KIP-357 has not passed vote

commit 4e31147a41f03f4ad4c0c8f11414e49d33e60aac
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Sun Sep 16 00:11:05 2018 -0700

    KAFKA-5690; Add support to list ACLs for a given principal (KIP-357)
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5633 from omkreddy/KAFKA-5690-LIST-PER-PRICIPAL

commit e24d82e0eb66b62b5d74f2c60b1eb5db9f378673
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Sep 14 19:51:46 2018 +0100

    KAFKA-7280; Synchronize consumer fetch request/response handling (#5495)
    
    This patch fixes unsafe concurrent access in the consumer by the heartbeat thread and the thread calling `poll()` to the fetch session state in `FetchSessionHandler`.
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Jason Gustafson <jason@confluent.io>

commit b74e7e407c0b065adf68bc45042063def922aa10
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu Sep 13 16:46:47 2018 -0400

    MINOR: Enable ignored upgrade system tests - trunk (#5605)
    
    Removed ignore annotations from the upgrade tests. This PR includes the following changes for updating the upgrade tests:
    
    * Uploaded new versions 0.10.2.2, 0.11.0.3, 1.0.2, 1.1.1, and 2.0.0 (in the associated scala versions) to kafka-packages
    * Update versions in version.py, Dockerfile, base.sh
    * Added new versions to StreamsUpgradeTest.test_upgrade_downgrade_brokers including version 2.0.0
    * Added new versions StreamsUpgradeTest.test_simple_upgrade_downgrade test excluding version 2.0.0
    * Version 2.0.0 is excluded from the streams upgrade/downgrade test as StreamsConfig needs an update for the new version, requiring a KIP. Once the community votes the KIP in, a minor follow-up PR can be pushed to add the 2.0.0 version to the upgrade test.
    * Fixed minor bug in kafka-run-class.sh for classpath in upgrade/downgrade tests across versions.
    * Follow on PRs for 0.10.2x, 0.11.0x, 1.0.x, 1.1.x, and 2.0.x will be pushed soon with the same updates required for the specific version.
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, John Roesler <vvcephei@users.noreply.github.com>, Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <matthias@confluent.io>

commit 466d89306ea23d1f17be0914416944618ceb9f86
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Sep 13 13:04:09 2018 -0700

    MINOR: Insure that KafkaStreams client is closed if test fails (#5618)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roessler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Eno Thereska <enother@amazon.com>

commit b18c8dda525a18c1ade7377a408aabd2254bb6d7
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Thu Sep 13 10:29:07 2018 -0500

    MINOR: fix scala serde tests (#5644)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit df35c22eac2b0d067263378d0d7251fe9b1418a6
Author: Stanislav Kozlovski <stanislav_kozlovski@outlook.com>
Date:   Thu Sep 13 17:38:53 2018 +0300

    MINOR: Update minimum required Gradle version to 4.7 (#5642)
    
    After commit f123d2f, the minimum required gradle version changed to 4.7
    
    This is due to the use of isJava11Compatible() in build.gradle. It was
    introduced in version 4.7 (https://github.com/gradle/gradle/blob/master/subprojects/base-services/src/main/java/org/gradle/api/JavaVersion.java#L172-L180)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit ac7cd16e936116ee92ce5f179b671203b3bacf25
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Sep 12 23:34:41 2018 -0700

    KAFKA-7394; OffsetsForLeaderEpoch supports topic describe access (#5634)
    
    As part of KIP-320, allow OffsetsForLeaderEpoch requests with Topic Describe permission.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit f0282498e7a312a977acb127557520def338d45c
Author: Randall Hauch <rhauch@gmail.com>
Date:   Wed Sep 12 23:21:46 2018 -0500

     KAFKA-6926: Simplified some logic to eliminate some suppressions of NPath complexity checks (#5051)
    
    Modified several classes' `equals` methods and simplified a complex method to
    reduce the NPath complexity so they could be removed from the checkstyle
    suppressions that were required with the recent move to Java 8 and upgrade
    of Checkstyle: https://github.com/apache/kafka/pull/5046.
    
    Reviewers: Robert Yokota <rayokota@gmail.com>, Arjun Satish <arjun@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit 398d2ab244a40e7f975faa1ed60c0e0b14cf4674
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Thu Sep 13 06:13:03 2018 +0200

    MINOR: KafkaAdminClient Java 8 code cleanup (#5594)
    
    Use lambdas and diamond operator whenever possible.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit c121f4eb82da654acbdd133a556cfe1f9197a46a
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Sep 12 23:35:19 2018 +0530

    MINOR: Remove deprecated Metric.value() method usage (#5626)
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, John Roesler <john@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 68b2f49ea75059df5527378e8ae771195029c98a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Sep 11 16:28:52 2018 -0700

    KAFKA-3514, Documentations: Add out of ordering in concepts. (#5458)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 9dac615d228c5b3464c6322aea9f9ce70f9ef37b
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Tue Sep 11 18:17:47 2018 -0500

    KAFKA-7386: streams-scala should not cache serdes (#5622)
    
    Currently, scala.Serdes.String, for example, invokes Serdes.String() once and caches the result.
    
    However, the implementation of the String serde has a non-empty configure method that is variant in whether it's used as a key or value serde. So we won't get correct execution if we create one serde and use it for both keys and values.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 283a19481d1ce4a77f5f465e7b96288db22a8ff1
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Sep 11 16:16:52 2018 -0700

    KAFKA-3514: Part III, Refactor StreamThread main loop (#5428)
    
    * Refactor the StreamThread main loop, in the following:
    
    1. Fetch from consumer and enqueue data to tasks.
    2. Check if any tasks should be enforced process.
    3/ Loop over processable tasks and process them for N iterations, and then check for 1) commit, 2) punctuate, 3) need to call consumer.poll
    4. Even if there is not data to process in this iteration, still need to check if commit / punctuate is needed
    5. Finally, try update standby tasks.
    
    *Add an optimization to only commit when it is needed (i.e. at least some process() or punctuate() was triggered since last commit).
    
    *Found and fixed a ProducerFencedException scenario: producer.send() call would never throw a ProducerFencedException directly, but it may throw a KafkaException whose "cause" is a ProducerFencedException.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>

commit acd3858ea69e676a7840d998240deb32aee62dc0
Author: Joan Goyeau <joan@goyeau.com>
Date:   Tue Sep 11 22:08:42 2018 +0100

    KAFKA-7396: Materialized, Serialized, Joined, Consumed and Produced with implicit Serdes (#5551)
    
    We want to make sure that we always have a serde for all Materialized, Serialized, Joined, Consumed and Produced.
    For that we can make use of the implicit parameters in Scala.
    
    KIP: https://cwiki.apache.org/confluence/display/KAFKA/KIP-365%3A+Materialized%2C+Serialized%2C+Joined%2C+Consumed+and+Produced+with+implicit+Serde
    
    Reviewers: John Roesler <vvcephei@users.noreply.github.com>, Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <guozhang@confluent.io>, Ted Yu <yuzhihong@gmail.com>

commit e2ec2d79c8d5adefc0c764583cec47144dbc5705
Author: Anna Povzner <anna@confluent.io>
Date:   Tue Sep 11 10:10:42 2018 -0700

    KAFKA-7044; Fix Fetcher.fetchOffsetsByTimes and NPE in describe consumer group (#5627)
    
    A call to `kafka-consumer-groups --describe --group ...` can result in NullPointerException for two reasons:
    1)  `Fetcher.fetchOffsetsByTimes()` may return too early, without sending list offsets request for topic partitions that are not in cached metadata.
    2) `ConsumerGroupCommand.getLogEndOffsets()` and `getLogStartOffsets()` assumed that endOffsets()/beginningOffsets() which eventually call Fetcher.fetchOffsetsByTimes(), would return a map with all the topic partitions passed to endOffsets()/beginningOffsets() and that values are not null. Because of (1), null values were possible if some of the topic partitions were already known (in metadata cache) and some not (metadata cache did not have entries for some of the topic partitions). However, even with fixing (1), endOffsets()/beginningOffsets() may return a map with some topic partitions missing, when list offset request returns a non-retriable error. This happens in corner cases such as message format on broker is before 0.10, or maybe in cases of some other errors.
    
    Testing:
    -- added unit test to verify fix in Fetcher.fetchOffsetsByTimes()
    -- did some manual testing with `kafka-consumer-groups --describe`, causing NPE. Was not able to reproduce any NPE cases with DescribeConsumerGroupTest.scala,
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 79ad9026a667469a2013ce82961c0c90f3bb0877
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Sep 11 09:08:22 2018 -0700

    MINOR: Missing throttle time in OffsetsForLeaderEpoch response (#5635)
    
    With KIP-320, the OffsetsForLeaderEpoch API is intended to be used by consumers to detect log truncation. Therefore the new response schema should expose a field for the throttle time like all the other APIs.
    
    Reviewers: Dong Lin <lindong28@gmail.com>

commit 257c402c1565eebf421dbd44a272a3dd6c99d609
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Sep 11 12:30:52 2018 +0530

    MINOR: Remove deprecated Resource class constructor usage (#5624)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 25b13bca7b696b349bae2e9d5e41b75496bfdb1b
Author: mgharat <gharatmayuresh15@gmail.com>
Date:   Mon Sep 10 21:40:08 2018 -0700

    KAFKA-7096 : Clear buffered data for partitions that are explicitly unassigned by user
    
    Author: mgharat <gharatmayuresh15@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5289 from MayureshGharat/KAFKA-7096

commit 1427e84cc7935e3826eb91408ca7fa87ff868505
Author: Anna Povzner <anna@confluent.io>
Date:   Mon Sep 10 17:34:48 2018 -0700

    MINOR: Use LATEST_1_1 instead of V_1_1_0 in quota_test (#5636)
    
    The goal is to only test against the latest bug fix release for each release branch.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit f123d2f18c55b1cf2edb452aeb87e6ad0743c292
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 10 13:14:00 2018 -0700

    KAFKA-5887; Replace findBugs with spotBugs and upgrade to Gradle 4.10
    
    findBugs is abandoned, it doesn't work with Java 9 and the Gradle plugin will be deprecated in
    Gradle 5.0: https://github.com/gradle/gradle/pull/6664
    
    spotBugs is actively maintained and it supports Java 8, 9 and 10. Java 11 is not supported yet,
    but it's likely to happen soon.
    
    Also fixed a file leak in Connect identified by spotbugs.
    
    Manually tested spotBugsMain, jarAll and importing kafka in IntelliJ and running
    a build in the IDE.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Dong Lin <lindong28@gmail.com>
    
    Closes #5625 from ijuma/kafka-5887-spotbugs

commit 0d535b167aa352dbc94b71d598e1ae2a2201b6d7
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Sep 10 09:53:02 2018 -0700

    MINOR: Mark new Scala streams tests as integration tests (KIP-270 follow-up) (#5631)
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, John Roesler <vvcephei@users.noreply.github.com>, Guozhang Wang <wangguoz@gmail.com>

commit 164ef9462e9d18a36f7be856243a1cacf9a300bf
Author: Brandon Kirchner <brandon.kirchner@civitaslearning.com>
Date:   Sun Sep 9 17:22:18 2018 -0700

    KAFKA-4932: Add support for UUID serialization and deserialization (KIP-206)
    
    [KAFKA-4932](https://issues.apache.org/jira/browse/KAFKA-4932)
    
    Added a UUID Serializer / Deserializer.
    
    Added the UUID type to the SerializationTest
    
    Author: Brandon Kirchner <brandon.kirchner@civitaslearning.com>
    
    Reviewers: Jeff Klukas <jeff@klukas.net>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4438 from brandonkirchner/KAFKA-4932.uuid-serde

commit b8651d4e82d45463d2c71798bd5852f8a605b440
Author: Vahid Hashemian <vahid.hashemian@gmail.com>
Date:   Sun Sep 9 14:25:30 2018 -0700

    MINOR: Code cleanup of 'clients' module (#5427)
    
    Cleanup involves:
    * Refactoring to use Java 8 constructs (lambdas,
    diamond for `empty` collection methods) and library
    methods (`computeIfAbsent`)
    * Simplifying code (including unnecessarily complex
    `equals` and `hashCode` implementations)
    * Removing redundant code
    * Fixing typos
    
    Reviewers: Ryanne Dolan, Ismael Juma <ismael@juma.me.uk>

commit 05ba5aa00847b18b74369a821e972bbba9f155eb
Author: Jason Gustafson <jason@confluent.io>
Date:   Sun Sep 9 00:14:57 2018 -0700

    KAFKA-7333; Protocol changes for KIP-320
    
    This patch contains the protocol updates needed for KIP-320 as well as some of the basic consumer APIs (e.g. `OffsetAndMetadata` and `ConsumerRecord`). The inter-broker format version has not been changed and the brokers will continue to use the current API versions.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5564 from hachikuji/KAFKA-7333

commit 4a5cba87bcd4621b999f7290d17d88d6859afb84
Author: Flavien Raynaud <flavien.raynaud@gmail.com>
Date:   Sun Sep 9 08:05:49 2018 +0100

    KAFKA-7286; Avoid getting stuck loading large metadata records (#5500)
    
    If a group metadata record size is higher than offsets.load.buffer.size,
    loading offsets and group metadata from __consumer_offsets would hang
    forever. This was due to the buffer being too small to fit any message
    bigger than the maximum configuration. This patch grows the buffer
    as needed so the large records will fit and the loading can move on.
    A similar change was made to the logic for state loading in the transaction
    coordinator.
    
    Reviewers: John Roesler <vvcephei@users.noreply.github.com>, lambdaliu <lambdaliu@users.noreply.github.com>, Dhruvil Shah <dhruvil@confluent.io>, Jason Gustafson <jason@confluent.io>

commit 958cdca9bece8b65ceb204e1c7a14cf44729bb66
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Sat Sep 8 18:01:01 2018 -0700

    KAFKA-7385; Fix log cleaner behavior when only empty batches are retained (#5623)
    
    With idempotent/transactional producers, we may leave empty batches in the log during log compaction. When filtering the data, we keep track of state like `maxOffset` and `maxTimestamp` of filtered data. This patch ensures we maintain this state correctly for the case when only empty batches are left in `MemoryRecords#filterTo`. Without this patch, we did not initialize `maxOffset` in this edge case which led us to append data to the log with `maxOffset` = -1L, causing the append to fail and log cleaner to crash.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 0984a76b712caa18c688eafbacaa2a7c889d27b2
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Sep 8 17:00:13 2018 -0700

    MINOR: Move common out of range handling into AbstractFetcherThread (#5608)
    
    This patch removes the duplication of the out of range handling between `ReplicaFetcherThread` and `ReplicaAlterLogDirsThread` and attempts to expose a cleaner API for extension. It also adds a mock implementation to facilitate testing and several new test cases.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 4106ff6e5a61b76c5f05377df6f31fa8ae50c73b
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sat Sep 8 20:13:22 2018 +0530

    MINOR: Enable topic deletion in test configs (#5616)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit f348f10ef87925081fdf9455ace6d2a86179b483
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sat Sep 8 06:10:59 2018 +0530

    KAFKA-7117: Support AdminClient API in AclCommand (KIP-332) (#5463)
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jun Rao <junrao@gmail.com>

commit 297fb396a0038addea06a76fd4ab9a451eb7562e
Author: Zhanxiang (Patrick) Huang <hzxa21@hotmail.com>
Date:   Fri Sep 7 14:17:49 2018 -0700

    KAFKA-6082; Fence zookeeper updates with controller epoch zkVersion
    
    This PR aims to enforce that the controller can only update zookeeper states after checking the controller epoch zkVersion. The check and zookeeper state updates are wrapped in the zookeeper multi() operations to ensure that they are done atomically. This PR is necessary to resolve issues related to multiple controllers (i.e. old controller updates zookeeper states before resignation, which is possible during controller failover based on the single threaded event queue model we have)
    
    This PR includes the following changes:
    - Add MultiOp request and response in ZookeeperClient
    - Ensure all zookeeper updates done by controller are protected by checking the current controller epoch zkVersion
    - Modify test cases in KafkaZkClientTest to test mismatch controller epoch zkVersion
    
    Tests Done:
    - Unit tests (with updated tests to test mismatch controller epoch zkVersion)
    - Existing integration tests
    
    Author: Zhanxiang (Patrick) Huang <hzxa21@hotmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Dong Lin <lindong28@gmail.com>, Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Closes #5101 from hzxa21/KAFKA-6082

commit 847780e5a5f376fa2ce8705f483bfd33b319b83d
Author: Kevin Lafferty <kevin.lafferty@gmail.com>
Date:   Wed Sep 5 20:15:25 2018 -0700

    KAFKA-7353: Connect logs 'this' for anonymous inner classes
    
    Replace 'this' reference in anonymous inner class logs to out class's 'this'
    
    Author: Kevin Lafferty <kevin.lafferty@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Arjun Satish <arjun@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5583 from kevin-laff/connect_logging

commit 79a608b286fd6271b841d3cc7997bf69227de912
Author: huxihx <huxi_2b@hotmail.com>
Date:   Tue Sep 4 13:55:49 2018 -0700

    KAFKA-7211; MM should handle TimeoutException in commitSync
    
    With KIP-266 introduced, MirrorMaker should handle TimeoutException thrown in commitSync(). Besides, MM should only commit offsets for existsing topics.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5492 from huxihx/KAFKA-7211

commit 4a46a353482116ed5502737f7809bc6c0d37bf36
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Sep 4 21:24:06 2018 +0100

    MINOR: Tidy up pattern type comparisons, remove unused producer-id (#5593)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Manikumar Reddy <manikumar.reddy@gmail.com>

commit 62ea10a5c17b6a8d3ebed26cdba813647585dc20
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Sep 4 17:59:50 2018 +0530

    MINOR: Update README to specify Gradle 4.6 as the minimum required version (#5606)
    
    #5602 uses `annotationProcessor`, which was introduced in Gradle 4.6.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit a8eac1b8149da20c797d42f426178b31032b76a0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 3 10:21:48 2018 -0700

    MINOR: Use annotationProcessor instead of compile for JMH annotation processor
    
    This fixes the following Gradle warning:
    
    > The following annotation processors were detected on the compile classpath:
    > 'org.openjdk.jmh.generators.BenchmarkProcessor'. Detecting annotation processors
    > on the compile classpath is deprecated and Gradle 5.0 will ignore them. Please add
    > them to the annotation processor path instead. If you did not intend to use annotation
    > processors, you can use the '-proc:none' compiler argument to ignore them.
    
    With this change, the warning went away and `./jmh-benchmarks/jmh.sh` continues
    to work.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5602 from ijuma/annotation-processor

commit cb484666f2474747538585ed3b986aed5b02830d
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Mon Sep 3 21:19:48 2018 +0530

    MINOR: Fix Transient test failure SslTransportLayerTest.testNetworkThreadTimeRecorded (#5597)

commit 6a1bb547c0c1f8e9f021e89958234f92f8a9014f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 3 07:21:20 2018 -0700

    KAFKA-7372: Upgrade Jetty for preliminary Java 11 and TLS 1.3 support (#5600)
    
    "Jetty 9.4.12 includes compatibility for JDK 11. Additionally, TLS 1.3 support has been implemented. While full functionality for new JDK features is not yet supported, this release has been built and tested for compatibility with the latest releases from Oracle."
    
    http://dev.eclipse.org/mhonarc/lists/jetty-announce/msg00124.html
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 7299e18369999ba2ff9485c1256410c569e35379
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Sep 1 11:10:03 2018 -0700

    MINOR: Pass `--continue` to gradle in jenkins.sh
    
    This ensures that the whole test suite is executed even
    if there are failures. It currently stops at a module
    boundary if there are any failures. There is a discussion
    to change the gradle default to stop after the first test failure:
    
    https://github.com/gradle/gradle/issues/6513
    
    `--continue` is recommended for CI in that discussion.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5599 from ijuma/jenkins-script-continue

commit aa7358e8cc0305dd9051fe0d281913247a39264d
Author: huxi <huxi_2b@hotmail.com>
Date:   Sun Sep 2 00:48:50 2018 +0800

    KAFKA-7326: KStream.print() should flush on each line for PrintStream (#5579)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>, Kamal Chandraprakash <kamal.chandraprakash@gmail.com>

commit 4f38c8cd6079100548ca8056c358a2fea57986c2
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Aug 31 18:40:42 2018 -0700

    KAFKA-7369; Handle retriable errors in AdminClient list groups API (#5595)
    
    We should retry when possible if ListGroups fails due to a retriable error (e.g. coordinator loading).
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>,  Guozhang Wang <wangguoz@gmail.com>

commit d57fe1b053546966e6a867d84ee24dd256bb071a
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri Aug 31 15:13:42 2018 -0500

    MINOR: single Jackson serde for PageViewTypedDemo (#5590)
    
    Previously, we depicted creating a Jackson serde for every pojo class, which becomes a burden in practice. There are many ways to avoid this and just have a single serde, so we've decided to model this design choice instead.
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit f6890e78687afbbe09ff34b0a9383b548be77ee6
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Aug 31 13:10:27 2018 -0700

    MINOR: Next round of fetcher thread consolidation (#5587)
    
    Pull the epoch request build logic up to `AbstractFetcherThread`. Also get rid of the `FetchRequest` indirection.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 5d1bfa0665ce0850ee76cee152e397c23ac329a7
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Fri Aug 31 04:04:33 2018 -0700

    KAFKA-6950: Delay response to failed client authentication to prevent potential DoS issues (KIP-306) (#5082)
    
    Reviewers: Ron Dagostino <rndgstn@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit f3a4ebc8f8be12884ff67a63c7ba5ce5c5f67881
Author: Stanislav Kozlovski <stanislav_kozlovski@outlook.com>
Date:   Fri Aug 31 03:04:28 2018 +0300

    KAFKA-6859; Do not send LeaderEpochRequest for undefined leader epochs (#5320)
    
    If a broker or topic has a message format < 0.11, it does not track leader epochs. LeaderEpochRequests for such will always return undefined, making the follower truncate to the highe watermark. Since there is no use to use the network for such cases, don't send a request.
    
    Reviewers: Anna Povzner <anna@confluent.io>, Jason Gustafson <jason@confluent.io>

commit d31c9db4afb300aa53e0a663083f2cfd3a31c537
Author: Stanislav Kozlovski <stanislav_kozlovski@outlook.com>
Date:   Thu Aug 30 18:49:01 2018 +0300

    MINOR: Use producer template in verifiable producer service (#5581)
    
    Also remove an unused old consumer template.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 5651729038406733d7ecd28430b2774473928d29
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Aug 30 16:19:34 2018 +0100

    KAFKA-7338: Specify AES128 default encryption type for Kerberos tests (#5586)
    
    Java 11 enables aes128-cts-hmac-sha256-128 and aes256-cts-hmac-sha384-192 by default. These are not supported in earlier versions of Java and not supported by Apache DS libraries used by MiniKdc. To ensure that the default kerberos configuration used by Kafka integration and system tests work with all versions of Java 8 and above, configure default_tkt_enctypes and default_tgs_enctypes to use aes128-cts-hmac-sha1-96.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 5fb2cdb5c7c4941d3261ec92dc80ca65840de495
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Aug 29 20:41:58 2018 -0400

    MINOR:Use StoreBuilder.name() for node name (#5588)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit 1918f5cb5b5ebbcfb80d19521e2ee7734346a32b
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Thu Aug 30 07:01:17 2018 +0800

    MINOR: Fix swallowed NPE in KafkaServer.close() (#5339)
    
    If the server fails to connect to zk, `kafkaScheduler` will be `null`
    when closing  `KafkaServer`. The NPE is swallowed so it's
    harmless apart from the confusing log noise.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 2514a42e84c4e4bad9ac560c09e3d397707436d8
Author: lucapette <lucapette@gmail.com>
Date:   Wed Aug 29 18:34:54 2018 +0200

     KAFKA-7269: Add docs for KStream.merge (#5512)
    
    Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 34d9ae66281602dad3a70ecd07ca0f2b6237ae8c
Author: tedyu <yuzhihong@gmail.com>
Date:   Wed Aug 29 09:34:01 2018 -0700

    MINOR: Fix streams Scala peek recursive call (#5566)
    
    This PR fixes the previously recursive call of Streams Scala peek
    
    Reviewers: Joan Goyeau <joan@goyeau.com>, Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit d0fcf12832d9d383a5c76c174119e96e36d94eaf
Author: huxihx <huxi_2b@hotmail.com>
Date:   Wed Aug 29 08:29:59 2018 -0700

    KAFKA-7354; Fix IdlePercent and NetworkProcessorAvgIdlePercent metric
    
    Currently, MBean `kafka.network:type=Processor,name=IdlePercent,networkProcessor=*` and `afka.network:type=SocketServer,name=NetworkProcessorAvgIdlePercent` could be greater than 1. However, these two values represent a percentage which should not exceed 1.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5584 from huxihx/KAFKA-7354

commit d76965e38f6a66ab37c14014a2efea7816ab73cb
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Aug 29 07:15:08 2018 -0700

    Fix SslTransportLayerTest.testUnsupportedCiphers to work with Java 11 (#5570)
    
    Java 11 supports TLS 1.3 which has different cipher names than
    previous TLS versions so the simplistic way of choosing ciphers
    is not guaranteed to work. Fix it by configuring the context
    to use TLS 1.2.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit c580f08b7775e4431a4a1559ef7239b69708a782
Author: Andras Katona <41361962+akatona84@users.noreply.github.com>
Date:   Wed Aug 29 13:30:39 2018 +0200

    KAFKA-7134: KafkaLog4jAppender exception handling with ignoreExceptions (#5415)
    
    Reviewers: Andras Beni <andrasbeni@cloudera.com>, Sandor Murakozi <smurakozi@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 7cef37cf55353f542db3562157547d26c992e782
Author: Ron Dagostino <rndgstn@gmail.com>
Date:   Wed Aug 29 06:16:29 2018 -0400

    KAFKA-7324: NPE due to lack of SASLExtensions in SASL/OAUTHBEARER (#5552)
    
    Set empty extensions if null is passed in.
    
    Reviewers: Satish Duggana <sduggana@hortonworks.com>, Stanislav Kozlovski <stanislav_kozlovski@outlook.com>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 9e23af3115ddfbf311f6b37c273327b3fa8e9a14
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Aug 29 04:17:07 2018 +0530

    KAFKA-7287: Set open ACL for old consumer znode path (#5503)
    
    Reviewers: Sriharsha Chintalapani <sriharsha@apache.org>, Satish Duggana <satishd@apache.org>, Jun Rao <junrao@gmail.com>

commit fd5acd73e648a2aab4b970ddf04ad4cace6bad9a
Author: Robert Yokota <rayokota@gmail.com>
Date:   Tue Aug 28 12:59:08 2018 -0700

    KAFKA-7242: Reverse xform configs before saving (KIP-297)
    
    During actions such as a reconfiguration, the task configs are obtained
    via `Worker.connectorTaskConfigs` and then subsequently saved into an
    instance of `ClusterConfigState`.  The values of the properties that are saved
    are post-transformation (of variable references) when they should be
    pre-transformation.  This is to avoid secrets appearing in plaintext in
    the `connect-configs` topic, for example.
    
    The fix is to change the 2 clients of `Worker.connectorTaskConfigs` to
    perform a reverse transformation (values converted back into variable
    references) before saving them into an instance of `ClusterConfigState`.
    The 2 places where the save is performed are
    `DistributedHerder.reconfigureConnector` and
    `StandaloneHerder.updateConnectorTasks`.
    
    The way that the reverse transformation works is by using the
    "raw" connector config (with variable references still intact) from
    `ClusterConfigState` to convert config values back into variable
    references for those keys that are common between the task config
    and the connector config.
    
    There are 2 additional small changes that only affect `StandaloneHerder`:
    
    1) `ClusterConfigState.allTasksConfigs` has been changed to perform a
    transformation (resolution) on all variable references.  This is
    necessary because the result of this method is compared directly to
    `Worker.connectorTaskConfigs`, which also has variable references
    resolved.
    
    2) `StandaloneHerder.startConnector` has been changed to match
    `DistributedHerder.startConnector`.  This is to fix an issue where
    during `StandaloneHerder.restartConnector`, the post-transformed
    connector config would be saved back into `ClusterConfigState`.
    
    I also performed an analysis of all other code paths where configs are
    saved back into `ClusterConfigState` and did not find any other
    issues.
    
    Author: Robert Yokota <rayokota@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5475 from rayokota/KAFKA-7242-reverse-xform-props

commit 70c51633f2f4bdcdc045697c17cbb47c78ed14ad
Author: Anna Povzner <anna@confluent.io>
Date:   Tue Aug 28 10:45:00 2018 -0700

    KAFKA-7128; Follower has to catch up to offset within current leader epoch to join ISR (#5557)
    
    If follower is not in ISR, it has to fetch up to start offset of the current leader epoch. Otherwise we risk losing committed data. Added unit test to verify this behavior.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 7d2b95895ae53060f5743a5e4b8f06ddc039bf66
Author: Joan Goyeau <joan@goyeau.com>
Date:   Tue Aug 28 02:44:12 2018 +0100

    MINOR: Correct folder for package object scala (#5573)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit ebd1354fd7578deb1cfb15846d7dbf8c9cf26074
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Aug 27 17:39:44 2018 -0700

    KAFKA-7347; Return not leader error for OffsetsForLeaderEpoch requests to non-replicas (#5576)
    
    The broker should return NOT_LEADER_FOR_PARTITION for OffsetsForLeaderEpoch requests against non-replicas instead of UNKNOWN_TOPIC_OR_PARTITION. This patch also fixes a minor bug in the handling of ListOffsets request using the DEBUG replica id. We should return UNKNOWN_TOPIC_OR_PARTITION if the topic doesn't exist.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 93a60ee266a202c0b1e94010ce72ba7eb8d068a5
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Sun Aug 26 03:08:25 2018 +0800

    KAFKA-7139; Support option to exclude the internal topics in kafka-topics.sh (#5349)
    
    This patch implements KIP-338: https://cwiki.apache.org/confluence/display/KAFKA/KIP-338+Support+to+exclude+the+internal+topics+in+kafka-topics.sh+command.
    
    Reviewers: Andras Beni <andrasbeni@cloudera.com>, Jason Gustafson <jason@confluent.io>

commit e8e3e34c67c45ae76a51758c600ddb4f7e707717
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Aug 25 08:55:15 2018 -0700

    KAFKA-7309; Upgrade Jacoco for Java 11 support
    
    Jacoco 0.8.2 adds Java 11 support:
    
    https://github.com/jacoco/jacoco/releases/tag/v0.8.2
    
    Java 11 RC1 is out so it would be good for us to
    get a working CI build.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5568 from ijuma/jacoco-0.8.2

commit 50a145d090ae6a4400000d844bf708e6e68a5dce
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sat Aug 25 21:19:41 2018 +0530

    MINOR: Remove unused compressionType parameter from TestUtils.produceMessages (#5569)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 42610e5aa105339b4f691ca97e300202b7d4812b
Author: Gantigmaa Selenge <39860586+tinaselenge@users.noreply.github.com>
Date:   Fri Aug 24 22:03:58 2018 +0100

    MINOR: Fix broken link to record format in protocol docs (#5526)
    
    Co-authored-by: Mickael Maison <mickael.maison@gmail.com>
    Co-authored-by: Gantigmaa Selenge  <tina.selenge@gmail.com>
    
    Reviewers: Sriharsha Chintalapani <sriharsha@apache.org>, Jason Gustafson <jason@confluent.io>

commit 6f48978b629d7f6eaf3f82783789cf46c3566d9b
Author: Sam Lendle <sam.lendle@gmail.com>
Date:   Fri Aug 24 11:20:57 2018 -0700

    KAFKA-7240: -total metrics in Streams are incorrect (#5467)
    
    Changes:
    
    1. Add org.apache.kafka.streams.processor.internals.metrics.CumulativeCount analogous to Count, but not a SampledStat
    2. Use CumulativeCount for -total metrics in streams instead of Count
    
    Testing strategy:
    
    Add a test in StreamsMetricsImplTest which fails on old, incorrect behavior
    
    The contribution is my original work and I license the work to the project under the project's open source license.
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit 89cf515aecd1ce3a5265a5df94357b3b55694522
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Aug 24 08:53:54 2018 -0700

    MINOR: replace deprecated remove with delete (#5565)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit 04770916a743ca9526cfa2fdecaef419d429a443
Author: Mario Molina <mmolimar@gmail.com>
Date:   Fri Aug 24 10:32:06 2018 -0500

    KAFKA-5975; No response when deleting topics and delete.topic.enable=false (#3960)
    
    This PR implements [KIP-322](https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=87295558).
    
    Reviewers: Tom Bentley <tbentley@redhat.com>, Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 1dd85a328f437643a5c135f242c644f47c3767e4
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Thu Aug 23 19:53:10 2018 -0500

    MINOR: restructure Windows to favor immutable implementation (#5536)
    
    Update to KIP-328.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Ted Yu <yuzhihong@gmail.com>, Kamal Chandraprakash <kamal.chandraprakash@gmail.com>

commit b8559de23d120ca07daa6f66de6bba253d16a74a
Author: Joan Goyeau <joan@goyeau.com>
Date:   Fri Aug 24 01:07:39 2018 +0100

    MINOR: Fix streams Scala foreach recursive call (#5539)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit 7884258489a190f076b0d4bd85ca68dbf808a989
Author: Stanislav Kozlovski <stanislav_kozlovski@outlook.com>
Date:   Thu Aug 23 22:55:40 2018 +0100

    MINOR: Make JAAS configurable via template variables in system tests (#5554)
    
    Currently, the only way in system tests to add a new variable to the `jaas.conf` template file is to directly edit the path the config is constructed by adding new keyword arguments.
    This wasn't necessarily a big problem, since you'd only need edit the `security_config.py` file as JAAS settings should come from the security settings.
    
    Now, with the addition of [KIP-342](https://cwiki.apache.org/confluence/display/KAFKA/KIP-342%3A+Add+support+for+Custom+SASL+extensions+in+OAuthBearer+authentication), the OAuthBearer JAAS config supports arbitrary values in the form of SASL extensions. This patch exposes a more convenient API to overrides these values in system tests.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit e577f6d36665012c65fc651ad392dc49e87618e6
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Aug 23 14:22:09 2018 -0700

    KAFKA-7225; Corrected system tests by generating external properties file (#5489)
    
    Fix system tests from earlier #5445 by moving to the `ConnectSystemBase` class the creation & cleanup of a file that can be used as externalized secrets in connector configs.
    
    Reviewers: Arjun Satish <arjun@confluent.io>, Robert Yokota <rayokota@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>

commit c968267bf1362a91eca8bb22566da76d6c9aeb26
Author: Kamal Chandraprakash <kamal.chandraprakash@gmail.com>
Date:   Fri Aug 24 02:09:35 2018 +0530

    MINOR: Return correct instance of SessionWindowSerde (#5546)
    
    Plus minor javadoc cleanups.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>,Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit d8f9f278a2326f3d1ef872a21ef1b43593df571f
Author: Joan Goyeau <joan@goyeau.com>
Date:   Thu Aug 23 17:15:27 2018 +0100

    KAFKA-7316: Fix Streams Scala filter recursive call #5538
    
    Due to lack of conversion to kstream Predicate, existing filter method in KTable.scala would result in StackOverflowError.
    
    This PR fixes the bug and adds testing for it.
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit b1090e52a3c7ea83ef2d79cc4b6ff7084a5070a4
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Thu Aug 23 15:40:33 2018 +0200

    MINOR: Eliminate warnings from KafkaProducerTest (#5548)
    
    And code clean-ups in the same file.
    
    Reviewers: Kamal Chandraprakash <kamal.chandraprakash@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit 4b2af9de6b3330bc7d9098ff690d80ef64628a6c
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Thu Aug 23 10:44:04 2018 +0200

    MINOR: Use method references instead of anonymus classes in Errors (#5525)
    
    Remove `ApiExceptionBuilder` in favour of `Function<String, ApiException>`.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 8f562c1a8d16b940f898a57ec508318c397f6f13
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Thu Aug 23 10:36:18 2018 +0200

    MINOR: Fix side-effecting nullary methods warning in JsonValueTest (#5493)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit bf0675ac5f31d67a1c75baf211475b8fc98f1ef1
Author: Alex Dunayevsky <rootex-@users.noreply.github.com>
Date:   Wed Aug 22 20:13:10 2018 +0300

    KAFKA-6343 Documentation update in OS-level tuning section: add vm.ma… (#4358)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>

commit 3511e904effbfb74fa54c26467477863b7f730c0
Author: Robert Yokota <rayokota@gmail.com>
Date:   Tue Aug 21 23:42:56 2018 -0700

    MINOR: Split at first occurrence of '=' in kafka.py props parsing (#5549)
    
    This is a fix to #5226 to account for config properties that have an
    equal char in the value.   Otherwise if there is one
    equal char in the value the following error occurs:
    
    dictionary update sequence element #XX has length 3; 2 is required
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Ismael Juma <ismael@juma.me.uk>

commit dae9c41838e745d51dba4e6be18359d42d5ff8a3
Author: Joan Goyeau <joan@goyeau.com>
Date:   Tue Aug 21 23:41:36 2018 +0100

    KAFKA-7301: Fix streams Scala join ambiguous overload (#5502)
    
    Join in the Scala streams API is currently unusable in 2.0.0 as reported by @mowczare:
    #5019 (comment)
    
    This due to an overload of it with the same signature in the first curried parameter.
    See compiler issue that didn't catch it: https://issues.scala-lang.org/browse/SI-2628
    
    Reviewers: Debasish Ghosh <dghosh@acm.org>, Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>

commit a289865266618d9736fe49d11edfbc2b146f5148
Author: Joan Goyeau <joan@goyeau.com>
Date:   Tue Aug 21 22:41:59 2018 +0100

    MINOR: Small refactorings on KTable joins (#5540)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 49c5994dd9519775de104bc8d6b8ccdad8908e44
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Aug 22 02:32:14 2018 +0530

    KAFKA-7063; Remove references to old producers and consumers in docs (#5240)
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 3afcbebf39e557448e9bebbf5e3fa0148af1cdd7
Author: tedyu <yuzhihong@gmail.com>
Date:   Tue Aug 21 13:40:33 2018 -0700

    Minor: set task to null at the end of shouldWrapProducerFencedExceptionWithTaskMigragedExceptionInSuspendWhenCommitting (#5534)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 73f8809d99f1ab2db83580715c2e7e8ef3448c24
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Aug 22 01:45:23 2018 +0530

    MINOR: Fix transient test failure in DynamicConnectionQuotaTest (#5544)
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 80294d0f5a7a224c478578253782644f4b5ad724
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Tue Aug 21 19:39:54 2018 +0100

    MINOR: Improved configuration formatting in documentation (#5532)
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 5b25d823aff47f1a50848f5d2b3d329441aac8e9
Author: Lucas Wang <lucasatucla@gmail.com>
Date:   Tue Aug 21 11:37:35 2018 -0700

    KAFKA-6753: Updating the OfflinePartitions count only when necessary (#5388)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jun Rao <junrao@gmail.com>

commit d31762a0c2ec1fc8e2a0fce4b38d9e5be0fd9dae
Author: Robert Yokota <rayokota@gmail.com>
Date:   Tue Aug 21 08:21:46 2018 -0700

    MINOR: Additional testing of logical type handling in Cast transform
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 504824b7b3b62fa1774584c74815c47fa07edd4f
Author: Maciej Bryński <maciek-github@brynski.pl>
Date:   Tue Aug 21 01:43:11 2018 +0200

    KAFKA-5891; Proper handling of LogicalTypes in Cast (#4633)
    
    Currently logical types are dropped during Cast Transformation.
    This patch fixes this behaviour.
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit da35cd5114899d278c697efe5f4b19cc16fc4abc
Author: Mayank Tankhiwale <tankhiwale@users.noreply.github.com>
Date:   Tue Aug 21 01:57:44 2018 +0530

    KAFKA-6312; Document --reset-offsets option for consumer group tool (#4527)
    
    KIP-122 added the ability for kafka-consumer-groups.sh to reset/change consumer offsets, at a fine grained level. This patch adds documentation for this feature.
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit ea4078e72a737268cc45776a10d8c3a566be9b4a
Author: Rohan <desai.p.rohan@gmail.com>
Date:   Mon Aug 20 12:41:20 2018 -0700

    KAFKA-7311: Reset next batch expiry time on each poll loop
    
    Sender/RecordAccumulator never resets the next batch expiry time. Its always computed as the min of the current value and the expiry time for all batches being processed. This means that its always set to the expiry time of the first batch, and once that time has passed Sender starts spinning on epoll with a timeout of 0, which consumes a lot of CPU. This patch updates Sender to reset the next batch expiry time on each poll loop so that a new value reflecting the expiry time for the current set of batches is computed.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit e46827c4eab21f89a8a4bad10c4e009b5366f2d1
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Aug 20 11:00:57 2018 -0700

    KAFKA-7278; replaceSegments() should not call asyncDeleteSegment() for segments which have been removed from segments list (#5491)
    
    Reviewers: Dhruvil Shah <dhruvil@confluent.io>, Jason Gustafson <jason@confluent.io>

commit 028e80204dd9bfd9d6258f1eb5b0e4132bd3795d
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Mon Aug 20 22:18:13 2018 +0530

    KAFKA-6835: Enable topic unclean leader election to be enabled without controller change (#4957)
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 8325046be2f6577c58fdff7366835308a81718f4
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Aug 20 09:00:21 2018 -0700

    KAFKA-7298; Raise UnknownProducerIdException if next sequence number is unknown (#5518)
    
    If the only producer state left in the log is a transaction marker, then we do not know the next expected sequence number. This can happen if there is a call to DeleteRecords which arrives prior to the writing of the marker. Currently we raise an OutOfOrderSequence error when this happens, but this is treated as a fatal error by the producer. Raising UnknownProducerId instead allows the producer to check for truncation using the last acknowledged sequence number and reset if possible.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 914ffa9dbef3c8ad6851b380276a1cb7c5aa4a0d
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Mon Aug 20 16:16:57 2018 +0530

    KAFKA-7210: Add system test to verify log compaction (#5226)
    
    * Updated TestLogCleaning tool to use Java consumer and rename as LogCompactionTester.
    * Enabled the log cleaner in every system test.
    * Removed configs from "kafka.properties" with default values and `socket.receive.buffer.bytes`
    as the override did not seem necessary.
    * Updated `kafka.py` logic to handle duplicates between `kafka.properties` and `server_prop_overrides`.
    * Updated Gradle build so that classes from `kafka-clients` test jar can be used in
    system tests.
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Ismael Juma <ismael@juma.me.uk>

commit b282b2ab1073a04d33009865b4e9c600899bc2a0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Aug 18 08:18:28 2018 -0700

    KAFKA-7308: Fix rat and checkstyle config for Java 11 support (#5529)
    
    Relative paths in Gradle break when the Gradle daemon is used
    unless user.dir can be changed while the process is running.
    Java 11 disallows this, so we use project paths instead.
    
    Verified that rat and checkstyle work with Java 11 after these
    changes.
    
    Reviewers: Dong Lin <lindong28@gmail.com>

commit f9f0b5c6755c7481699e67d27fb53e03d1493d12
Author: tedyu <yuzhihong@gmail.com>
Date:   Fri Aug 17 16:13:59 2018 -0700

    Minor: add valueChangingOperation and mergeNode to StreamsGraphNode#toString (#5522)
    
    This PR adds valueChangingOperation and mergeNode to StreamsGraphNode#toString
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit bf2c46a0b8266562bf4697dc8e3e9443059f9abb
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Fri Aug 17 18:44:08 2018 -0400

    MINOR: Change order of Property Check To Avoid NPE (#5528)
    
    Reviewer: Matthias J. Sax <matthias@confluent.io>

commit 7c4e6724699bb6fc65112b5513848c733a03019e
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Fri Aug 17 15:14:29 2018 -0400

    MINOR: Update test to wait for final value to reduce flakiness updated test method for multiple keys (#5517)
    
    Updated two integration tests to use IntegrationTestUtils#waitUntilFinalKeyValueRecordsReceived to eliminate flaky test results.
    
    Also, I updated IntegrationTestUtils#waitUntilFinalKeyValueRecordsReceived method to support having results with the same key present with different values.
    
    For testing, I ran the current suite of streams tests.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 0d778987ee3b920b5c876696385c0792671adef8
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Aug 17 09:35:38 2018 -0700

    KAFKA-6998: Disable Caching when max.cache.bytes are zero. (#5488)
    
    1) As titled, add a rewriteTopology that 1) sets application id, 2) maybe disable caching, 3) adjust for source KTable. This optimization can hence be applied for both DSL or PAPI generated Topology.
    
    2) Defer the building of globalStateStores in rewriteTopology so that we can also disable caching. But we still need to build the state stores before InternalTopologyBuilder.build() since we should only build global stores once for all threads.
    
    3) Added withCachingDisabled to StoreBuilder, it is a public API change.
    
    4) [Optional] Fixed unit test config setting functionalities, and set the necessary config to shorten the unit test latency (now it reduces from 5min to 3.5min on my laptop).
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Ted Yu <yuzhihong@gmail.com>

commit e7b9e0473062e4062ee65d4eb4b1a35c66f77781
Author: huxi <huxi_2b@hotmail.com>
Date:   Fri Aug 17 05:54:58 2018 +0800

    KAFKA-7299: Batch LeaderAndIsr requests for AutoLeaderRebalance (#5515)
    
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 4f25f1fb7118825384f89ed9d00c08a54870e3aa
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 16 09:37:32 2018 -0700

    KAFKA-7296; Handle coordinator loading error in TxnOffsetCommit (#5514)
    
    We should check TxnOffsetCommit responses for the COORDINATOR_LOADING_IN_PROGRESS error code and retry if we see it. Additionally, if we encounter an abortable error, we need to ensure that pending transaction offset commits are cleared.
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Guozhang Wang <wangguoz@gmail.com>

commit 634f9af8c0454f46a2510c12c3a155c6fca876e9
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Aug 16 09:02:24 2018 +0100

    KAFKA-7119: Handle transient Kerberos errors on server side (#5509)
    
    Don't report retriable Kerberos errors on the server-side as authentication failures to clients.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 3c14feb442219f58e0008a6242a24f1a492ca337
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Aug 15 17:12:55 2018 -0700

    KAFKA-7285: Create new producer on each rebalance if EOS enabled (#5501)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>

commit a4a65abcd3e5a01e0910afb10a214f4bb47577a3
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Wed Aug 15 16:30:24 2018 -0500

    MINOR: (re)add equals/hashCode to *Windows (#5510)
    
    Andy Coates <big-andy-coates@users.noreply.github.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit e4de328daba2d337929b26dad8e3993b97e9715b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Aug 15 09:05:30 2018 +0100

    KAFKA-7288: Fix for SslSelectorTest.testCloseConnectionInClosingState (#5504)
    
    Ensure that sends are completed before waiting for channel to be closed based on idle expiry, since channel will not be expired if added to ready keys in the next poll as a result of pending sends.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 3e64e5b9c03f13f58e6a049ff1fed039c6a15d69
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue Aug 14 20:46:40 2018 -0400

    KAFKA-6761: Reduce streams footprint part IV add optimization (#5451)
    
    This PR adds the optimization of eliminating multiple repartition topics when the KStream resulting from a key-changing operation executes other methods using the new key and reduces the repartition topics to one.
    
    Note that this PR leaves in place the optimization for re-using a source topic as a changelog topic for source KTable instances. I'll have another follow-up PR to move the source topic optimization to a method within InternalStreamsBuilder so it can be performed in the same area of the code.
    
    Additionally, the current value of StreamsConfig.OPTIMIZE is all and we'll need to have another KIP to change the value to 2.1.
    
    An integration test RepartitionOptimizingIntegrationTest which asserts the same results for an optimized topology with one repartition topic as the un-optimized version with four repartition topics.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, John Roesler <john@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit bb4cc4962894cf930c6b1cc01b121444f4ebb106
Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
Date:   Tue Aug 14 15:30:31 2018 -0700

    KAFKA-7019; Make reading metadata lock-free by maintaining an atomically-updated read snapshot
    
    Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
    
    Reviewers: Dhruvil Shah <dhruvil@confluent.io>, Ismael Juma <github@juma.me.uk>, Dong Lin <lindong28@gmail.com>
    
    Closes #5221 from radai-rosenblatt/metadata-adventures

commit 7a9631e6349239b2dff3728d9237e6a17aa5ad81
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Aug 14 14:34:42 2018 -0700

    MINOR: Use explicit construction of clients in IntegrationTestHarness (#5443)
    
    Pre-initialization of clients in IntegrationTestHarness is a cause of significant confusion and has resulted in a bunch of inconsistent client creation patterns. This patch requires test cases to create needed clients explicitly and makes the creation logic more consistent.
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit ad84eb5e76cb8db7c27355a2f121c0642a692980
Author: Stanislav Kozlovski <stanislav_kozlovski@outlook.com>
Date:   Tue Aug 14 19:44:58 2018 +0100

    KAFKA-7169: Validate SASL extensions through callback on server side (#5497)
    
    Reviewers: Ron Dagostino <rndgstn@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 0d73351852369b0f969e11236332c03e2d955ae7
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Aug 14 18:00:54 2018 +0100

    KAFKA-7119: Handle transient Kerberos errors as non-fatal exceptions (#5487)
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit b3771ba22acad7870e38ff7f58820c5b50946787
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Tue Aug 14 11:53:25 2018 -0500

    KAFKA-7222: Add Windows grace period (#5369)
    
    Part I of KIP-238:
    
    * add grace period to Windows
    * deprecate retention/maintainMs and segmentInterval from Windows
    * record expired records in the store with a new metric
    * record late record drops as a new metric instead of as a "skipped record"
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit cc8fc7c449b97807fecaa179f5831f9bd31ce950
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Aug 14 17:14:48 2018 +0100

    MINOR: Clean up to avoid errors in dynamic broker config tests (#5486)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Viktor Somogyi <viktorsomogyi@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 9e0e29ac5c354079a4306641bc3a44ff6c4ac041
Author: Koen De Groote <kdg.private@gmail.com>
Date:   Tue Aug 14 02:31:29 2018 +0200

    MINOR: Use statically compiled regular expressions for efficiency (#5168)
    
    Reviewers: Andras Beni <andrasbeni@cloudera.com>, Sriharsha Chintalapani <sriharsha@apache.org>, Jason Gustafson <jason@confluent.io>

commit 6d1685fa45da775f9f971121ec53d6135a4561b2
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Mon Aug 13 19:13:13 2018 -0500

    KAFKA-7284: streams should unwrap fenced exception (#5499)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 76a00d78be758153b6485818c0cb86423b69100b
Author: Stanislav Kozlovski <familyguyuser192@windowslive.com>
Date:   Mon Aug 13 21:54:14 2018 +0100

    KAFKA-7266: Fix MetricsTest.testMetrics flakiness using compression (#5485)
    
    Increase record size and use compression for downconversion metrics test to ensure that conversion time is above 1ms to avoid transient test failures.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit a2bc237cef86ca701e371196883429efb7f4074a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Aug 13 10:41:33 2018 -0700

    MINOR: Remove AbstractFetcherThread.PartitionData (#5233)
    
    Since ConsumerFetcherThread has been removed, we have
    an opportunity to simplify the *FetcherThread classes. This
    is an unambitious first step which removes the now unneeded
    `PartitionData` indirection.

commit 68fb2932c9bbcec6c71886fd8f7d2b93b4a00274
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Mon Aug 13 21:55:36 2018 +0530

    MINOR: Add spotlessScalaCheck dependency to streams-scala test task (#5479)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit e6fd99dc6253333c5aaa9931d8ae319e637e9a11
Author: Vahid Hashemian <vahid.hashemian@gmail.com>
Date:   Sun Aug 12 23:59:31 2018 -0700

    KAFKA-5638; Improve the Required ACL of ListGroups API (KIP-231) (#5352)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 69283b4038aec24b240e5825766e8d5629e0ba9e
Author: Bob Barrett <bob.barrett@outlook.com>
Date:   Sun Aug 12 23:30:09 2018 -0700

    KAFKA-7164; Follower should truncate after every missed leader epoch change (#5436)
    
    Currently, we skip the steps to make a replica a follower if the leader does not change, including truncating the follower log if necessary. This can cause problems if the follower has missed one or more leader updates. Change the logic to only skip the steps if the new epoch is the same or one greater than the old epoch. Tested with unit tests that verify the behavior of `Partition` and that show log truncation when the follower's log is ahead of the leader's, the follower has missed an epoch update, and the follower receives a `LeaderAndIsrRequest` making it a follower.
    
    Reviewers: Stanislav Kozlovski <familyguyuser192@windowslive.com>, Jason Gustafson <jason@confluent.io>

commit a3dc10f1d9bc90b13f7449902bf5af43de166de0
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sun Aug 12 18:38:22 2018 +0100

    KAFKA-7261: Record 1.0 for total metric when Count stat is used for rate (#5484)
    
    Reviewers: Jun Rao <junrao@gmail.com>, John Roesler <john@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit 8a78d76466bacd8a2a3487cc84890d29c9bc4a3d
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Sat Aug 11 07:51:17 2018 +0200

    KAFKA-7140; Remove deprecated poll usages (#5319)
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Jason Gustafson <jason@confluent.io>

commit 79a2f892caef38f28c3ad837ad28b63dcbb58b87
Author: nprad <nprad@users.noreply.github.com>
Date:   Fri Aug 10 18:12:03 2018 -0500

    KAFKA-6966: Extend TopologyDescription to better represent Source and (#5284)
    
    Implements KIP-321
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>

commit be43e2330e85d56d6aebf756b83b5ad43d0d4da4
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Aug 10 14:24:27 2018 -0700

    KAFKA-7147; ReassignPartitionsCommand should be able to connect to broker over SSL
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Andras Beni <andrasbeni@cloudera.com>, Manikumar Reddy O <manikumar.reddy@gmail.com>, Sriharsha Chintalapani <sriharsha@apache.org>
    
    Closes #5355 from lindong28/KAFKA-7147

commit 92004fa21a9cc75e3790ab39e44d4d3b754d95d9
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Fri Aug 10 03:10:24 2018 +0530

    KAFKA-6751; Support dynamic configuration of max.connections.per.ip/max.connections.per.ip.overrides configs (KIP-308) (#5334)
    
    KIP-308 implementation. See https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=85474993.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Jason Gustafson <jason@confluent.io>

commit b1539ff62dd3e8eeffeae526a2cbd7e4cb63ecda
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Thu Aug 9 12:11:48 2018 -0500

    KAFKA-7250: switch scala transform to TransformSupplier (#5481)
    
    #5468 introduced a breaking API change that was actually avoidable. This PR re-introduces the old API as deprecated and alters the API introduced by #5468 to be consistent with the other methods
    
    also, fixed misc syntax problems

commit 13a7544418a139d3b2f3891da796cfa33065cbec
Author: Kamal Chandraprakash <kamal.chandraprakash@gmail.com>
Date:   Thu Aug 9 09:52:36 2018 +0530

    MINOR: Fixed log in Topology Builder. (#5477)
    
    - fix log statement in Topology Builder.
    - addressed some warnings shown by Intellij
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Satish Duggana <satishd@apache.org>, Matthias J. Sax <matthias@confluent.io>

commit 811c6433bdd6c888860d18e28bd9751d57ee8e0d
Author: Sébastien Launay <sebastienlaunay@gmail.com>
Date:   Wed Aug 8 15:43:43 2018 -0700

    KAFKA-4950; Fix ConcurrentModificationException on assigned-partitions metric update (#3907)
    
    Use a volatile field to track the size of the set of assigned partitions to avoid the concurrent access to the underlying linked hash map.
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 59ae73482d17f1bd19a27afd4c8624747b10274e
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Aug 8 18:41:02 2018 -0400

    MINOR: Follow up for KAFKA-6761 graph should add stores for consistency (#5453)
    
    While working on 4th PR, I noticed that I had missed adding stores via the graph vs. directly via the InternalStreamsBuilder. Probably ok to do so, but we should be consistent.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit d12ceacd7aff623ae8c9063f89655b1f54af8123
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Aug 8 13:53:34 2018 -0700

    KAFKA-7158: Add unit test for window store range queries (#5466)
    
    While debugging the reported issue, I found that our current unit test lacks coverage to actually expose the underlying root cause.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit cc39e4aa494f036f15e5d105fd472ea4553d1e36
Author: okumin <git@okumin.com>
Date:   Thu Aug 9 01:51:19 2018 +0900

    KAFKA-7247: Update a link to Apache BookKeeper project (#5460)
    
     Reviewers: Sriharsha Chintalapani <sriharsha@apache.org>

commit ce19f34f1e3e6e697cce2e01721bedc850fca698
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Aug 8 17:44:57 2018 +0100

    KAFKA-7255: Fix timing issue with create/update in SimpleAclAuthorizer (#5478)
    
    ACL updates currently get `(currentAcls, currentVersion)` for the resource from ZK and do a conditional update using `(currentAcls+newAcl, currentVersion)`. This supports concurrent atomic updates if the resource path already exists in ZK. If the path doesn't exist, we currently do a conditional createOrUpdate using `(newAcl, -1)`. But `-1` has a special meaning in ZooKeeper for update operations - it means match any version. So two brokers adding acls using `(newAcl1, -1)` and `(newAcl2, -1)` will result in one broker creating the path and setting newAcl1, while the other broker can potentially update the path with `(newAcl2, -1)`, losing newAcl1. The timing window is very small, but we have seen intermittent failures in `SimpleAclAuthorizerTest.testHighConcurrencyModificationOfResourceAcls` as a result of this window.
    
    This commit fixes the version used for conditional updates in ZooKeeper. It also replaces the confusing `ZkVersion.NoVersion=-1` used for `set(any-version)` and `get(return not-found)` with `ZkVersion.MatchAnyVersion` for `set(any-version)` and `ZkVersion.UnknownVersion` for `get(return not-found)` to avoid the return value from `get` matching arbitrary values in `set`.

commit 2fd4e8d13c4f923d0ebab82a66aba24481f3e22d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Aug 7 15:48:54 2018 -0700

    MINOR: add spotlessScalaCheck to jenkins job (#5473)
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>

commit 28a1ae4183c707af363b69e2ec2b743bdf4f236c
Author: Arjun Satish <arjun@confluent.io>
Date:   Tue Aug 7 14:44:01 2018 -0700

    MINOR: System test for error handling and writes to DeadLetterQueue
    
    Added a system test which creates a file sink with json converter and attempts to feed it bad records. The bad records should land in the DLQ if it is enabled, and the task should be killed or bad records skipped based on test parameters.
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    *More detailed description of your change,
    if necessary. The PR title and PR message become
    the squashed commit message, so use a separate
    comment to ping reviewers.*
    
    *Summary of testing strategy (including rationale)
    for the feature or bug fix. Unit and/or integration
    tests are expected for any behaviour change and
    system tests should be considered for larger changes.*
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5456 from wicknicks/error-handling-sys-test

commit e876c921b0cbf01e4d2aef26db56834da1d70c80
Author: Arjun Satish <arjun@confluent.io>
Date:   Tue Aug 7 14:34:27 2018 -0700

    MINOR: Add connector configs to site-docs
    
    In AK's documentation, the config props for connectors are not listed (https://kafka.apache.org/documentation/#connectconfigs). This PR adds these sink and source connector configs to the html site-docs.
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5469 from wicknicks/add-connector-configs-to-docs

commit 36a8fec0ab2d05a8386ecd386bbbd294c3dc9126
Author: Robert Yokota <rayokota@gmail.com>
Date:   Tue Aug 7 13:18:16 2018 -0700

    KAFKA-7225: Pretransform validated props
    
    If a property requires validation, it should be pretransformed if it is a variable reference, in order to have a value that will properly pass the validation.
    
    Author: Robert Yokota <rayokota@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5445 from rayokota/KAFKA-7225-pretransform-validated-props

commit a9d7f8a1fdfa129105c6b3a128a91524874071ef
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Aug 8 01:20:42 2018 +0530

    MINOR: Fix Streams scala format violations (#5472)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit cbe86bc463a59d5c2e4d3fde2659a85bda257910
Author: Arjun Satish <wicknicks@users.noreply.github.com>
Date:   Tue Aug 7 11:08:51 2018 -0700

    MINOR: Fix minikdc cleanup in system tests (#5471)
    
    The original way of stopping the minikdc process sometimes misfires because the process arg string is very long, and `ps` is not able to find the correct process. Using the `kill_java_processes` method is more reliable for finding and killing java processes.

commit b966ce127c2152cebe6d94f18de6db0cbdcccbcb
Author: Marko Stanković <sm4rk0@users.noreply.github.com>
Date:   Tue Aug 7 19:46:56 2018 +0200

    Fix a typo in delegation.token.expiry.time.ms docs (#5449)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>

commit ed13d7eebb0a8c2155ac50fce16c12ec502c1f0d
Author: Michal Dziemianko <michal.dziemianko@gmail.com>
Date:   Tue Aug 7 16:00:22 2018 +0100

    KAFKA-7250: fix transform function in scala DSL to accept TranformerSupplier (#5468)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit fb8eba3d33df2940d58e204697ef84434a5bb089
Author: Kevin Lu <lu.kevin@berkeley.edu>
Date:   Tue Aug 7 00:49:57 2018 -0700

    KAFKA-7207: Make rate & total metrics documentation consistent (#5429)
    
    Some sections of the Monitoring metrics documentation list out the -total metrics, and some sections do not list them out. Make them consistent and list out the missing -total metrics.

commit b0d840d34b4172add831367e8fc2c51e75efb549
Author: uncleGen <hustyugm@gmail.com>
Date:   Mon Aug 6 20:04:55 2018 -0700

    KAFKA-5928; Avoid redundant requests to zookeeper when reassign topic partition
    
    Author: uncleGen <hustyugm@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Dong Lin <lindong28@gmail.com>
    
    Closes #3894 from uncleGen/KAFKA-5928

commit cf981443e493f134bf78b97ad83e5bedddb3fde0
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Aug 7 06:25:55 2018 +0530

    MINOR: Log AdminClient configs (#5457)
    
    Reviewers: Sriharsha Chintalapani <sriharsha@apache.org>, Jason Gustafson <jason@confluent.io>

commit c1ca53b3697e04a0cf3536440a622983b553c69a
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Mon Aug 6 13:39:50 2018 -0700

    MINOR: fix Streams docs state.dir (#5465)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit b282bbe8bea48acc06b0c9b779787d45056b2155
Author: Jimmy Casey <casey.jimmy@gmail.com>
Date:   Mon Aug 6 21:25:18 2018 +0100

    Fixed Spelling. (#5432)
    
    Reviewers: Sriharsha Chintalapani <sriharsha@apache.org>

commit b01f8fb668988caa19feb63e878fe1901a9d0c89
Author: ying-zheng <zheng.ying@rocketmail.com>
Date:   Mon Aug 6 13:20:40 2018 -0700

    KAFKA-7142: fix joinGroup performance issues (#5354)
    
    Summary:
    1. Revert GroupMetadata.members to private
    2. Add back a wrongly removed comment
    3. In GroupMetadata.remove(), update supportedProtocols and awaitingJoinCallbackMembers, only when the remove succeeded
    
    Reviewers: Jason Gustafson <jason@confluent.io>,  Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <sriharsha@apache.org>

commit 518e9d3eee1b1d2c8c76d68e043edd3cf49139fa
Author: Stanislav Kozlovski <familyguyuser192@windowslive.com>
Date:   Mon Aug 6 17:22:04 2018 +0100

    KAFKA-7169: Custom SASL extensions for OAuthBearer authentication mechanism (KIP-342) (#5379)
    
    Reviewers: Ron Dagostino <rndgstn@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit e75048d3e5344187c3980a2a72793fa9ada3196a
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Mon Aug 6 21:43:38 2018 +0530

    MINOR: increase timeout values in streams tests (#5461)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 609c81ec8b190f4812e7008b30fc509ee1656d68
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Mon Aug 6 00:47:25 2018 -0700

    KAFKA-7183: Add a trogdor test that creates many connections to brokers (#5393)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit b9f11796944056a5b3c7440033d587d19290b3c3
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Sat Aug 4 15:57:18 2018 -0500

    MINOR: clean up window store interface to avoid confusion (#5359)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 924466ad627d96fd1851722fdbb02dd6cd71eafa
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sat Aug 4 22:11:09 2018 +0530

    MINOR: close producer instance in AbstractJoinIntegrationTest (#5459)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit cf2c5e9ffc066aad37090fb6f2953a602cd8621b
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Sat Aug 4 00:43:18 2018 -0500

    MINOR: clean up node and store sensors (#5450)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit fc5f6b0e46ff81302b3e445fed0cdf454c942792
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Aug 3 17:25:07 2018 -0700

    MINOR: Add Timer to simplify timeout bookkeeping and use it in the consumer (#5087)
    
    We currently do a lot of bookkeeping for timeouts which is both error-prone and distracting. This patch adds a new `Timer` class to simplify this logic and control unnecessary calls to system time. In particular, this helps with nested timeout operations. The consumer has been updated to use the new class.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>

commit 3637b2c374d48e99e0a7be37605d3c79f2661007
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri Aug 3 15:19:46 2018 -0500

    MINOR: Require final variables in Streams (#5452)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 09fe51f3eb7e3ddee54cfb210d8a22327d1b0773
Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
Date:   Fri Aug 3 10:38:46 2018 -0700

    KAFKA-6648; Fetcher.getTopicMetadata() should return all partitions for each requested topic
    
    Currently Fetcher.getTopicMetadata() will not include offline partitions. Thus
    KafkaConsumer.partitionsFor(topic) will not return all partitions of a topic if
    there if any partition of the topic is offline. This causes problem if user
    tries to query the total number of partitions of the given topic.
    
    Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4679 from radai-rosenblatt/partition_shenanigans

commit afe00effe2d79e89e159972cf1f5f7ffeb0c6e97
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Aug 2 18:34:53 2018 -0700

    KAFKA-3514: Part II, Choose tasks with data on all partitions to process (#5398)
    
    1. In each iteration, decide if a task is processable if all of its partitions contains data, so it can decide which record to process next.
    
    1.a Add one exception that, if the task indeed have data on some but not all of its partitions, we only consider as not processable for some finite round of iterations.
    1.b Add a task-level metric to record whenever we are forced to process a task that is only "partially data available", since it may leads to non-determinism.
    
    2. Break the main loop on put-raw-data and process-them. Since now not all data put into the queue would be processed completely within a single iteration.
    
    3. NOTE that within an iteration, if a task has exhausted one of its queue it will still be processed, since we only update processable list once in each iteration, I'm improving on this on the follow-up part III PR.
    
    4. Found and fixed a bug in metrics recording: the taskName and sensorName parameters were exchanged.
    
    5. Optimized task stream time computation again since our current partition stream time reasoning has been simplified.
    
    6. Added unit tests.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, John Roesler <vvcephei@users.noreply.github.com>, Bill Bejeck <bbejeck@gmail.com>

commit b083ed66b9988a15b01b7359370e4bf82e28059f
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Aug 2 15:16:21 2018 -0700

    MINOR: improve JavaDocs for Streams PAPI WordCountExample (#5442)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 70d882861e1bf3eb503c84a31834e8b628de2df9
Author: Arjun Satish <arjun@confluent.io>
Date:   Thu Aug 2 14:36:02 2018 -0700

    KAFKA-7228: Set errorHandlingMetrics for dead letter queue
    
    DLQ reporter does not get a `errorHandlingMetrics` object when created by the worker. This results in an NPE.
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    *More detailed description of your change,
    if necessary. The PR title and PR message become
    the squashed commit message, so use a separate
    comment to ping reviewers.*
    
    *Summary of testing strategy (including rationale)
    for the feature or bug fix. Unit and/or integration
    tests are expected for any behaviour change and
    system tests should be considered for larger changes.*
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5440 from wicknicks/KAFKA-7228

commit 596c6c0c0b27c13f2017c770ea37cd39e27e5dcf
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 2 11:02:38 2018 -0700

    KAFKA-7231; Ensure NetworkClient uses overridden request timeout (#5444)
    
    Fixed incorrect use of default timeout instead of the argument explicitly passed to `newClientRequest`.
    
    Reviewers: Ron Dagostino <rndgstn@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit ac79d4904797aad99b9481b4e34789402b259664
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Thu Aug 2 15:44:21 2018 +0530

    MINOR: Implement toString() in config validator classes (#5401)

commit 530d951cbd47e7d27d5e687881f3dffe8b880377
Author: Simon Clark <31387062+SimonC6R@users.noreply.github.com>
Date:   Thu Aug 2 03:27:08 2018 +0100

    MINOR: Fixed default streams state dir location. (#5441)
    
    Co-authored-by: Mickael Maison <mickael.maison@gmail.com>
    Co-authored-by: Simon Clark <simonc6r@gmail.com>
    
    Reviewers: Sriharsha Chintalapani <sriharsha@apache.org>

commit c19213ab4139aa1f56f89982448184a5c82f98a4
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Aug 1 18:01:18 2018 -0400

    KAFKA-6761: Construct Physical Plan using Graph, Reduce streams footprint part III (#5201)
    
    The specific changes in this PR from the second PR include:
    
    1. Changed the types of graph nodes to names conveying more context
    2. Build the entire physical plan from the graph, after StreamsBuilder.build() is called.
    
    Other changes are addressed directly as review comments on the PR.
    
    Testing consists of using all existing streams tests to validate building the physical plan with graph
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, John Roesler <vvcephei@users.noreply.github.com>, Guozhang Wang <wangguoz@gmail.com>

commit c3e7c0bcb258061568294c0d96b62fea94ef8ee7
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Aug 1 11:04:17 2018 -0700

    MINOR: Producers should set delivery timeout instead of retries  (#5425)
    
    Use delivery timeout instead of retries when possible and remove various TODOs associated with completion of KIP-91.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>

commit aa4879129770798f0e2cee385ab848b64dbe9498
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Wed Aug 1 13:02:27 2018 -0500

    KAFKA-7161: check invariant: oldValue is in the state (#5366)
    
    Reviewers: Vasily Sulatskov <redvasily@gmail.com>, Guozhang Wang <wangguoz@gmail.com>

commit 814fbe0feabea0f78b690f44ee99b61b07ea7dd2
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Wed Aug 1 13:01:12 2018 -0500

    MINOR: Remove 1 minute minimum segment interval (#5323)
    
    * new minimum is 0, just like window size
    * refactor tests to use smaller segment sizes as well
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit e09d6d796f5a0b840519021d7f6435c65f88a60a
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue Jul 31 12:24:13 2018 -0400

    KAFKA-7027: Add overloaded build method to StreamsBuilder (#5437)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 96bc0b882d0c51d9b58c9f87654e6d133fd9ef34
Author: Lucas Wang <luwang@linkedin.com>
Date:   Sun Jul 29 21:06:18 2018 -0700

    KAFKA-7180; Fixing the flaky test testHWCheckpointWithFailuresSingleLogSegment
    
    By waiting until server1 has joined the ISR before shutting down server2
    
    Rerun the test method many times after the code change, and there is no flakiness any more.
    
    Author: Lucas Wang <luwang@linkedin.com>
    
    Reviewers: Mayuresh Gharat <gharatmayuresh15@gmail.com>, Dong Lin <lindong28@gmail.com>
    
    Closes #5387 from gitlw/fixing_flacky_logrecevorytest

commit 495c78db6f0d0d3fe111ea49f8041b5b3e32a8a4
Author: Lee Dongjin <dongjin@apache.org>
Date:   Sat Jul 28 23:56:31 2018 +0900

    KAFKA-6999: Add description on read-write lock vulnerability of ReadOnlyKeyValueStore (#5351)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 08a4cda34e7535ead76d2a65826ff9e09b8bdd4f
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Sat Jul 28 07:48:01 2018 -0700

    [MINOR] Improve consumer logging on LeaveGroup (#5420)
    
    * Improve consumer logging on LeaveGroup
    
    * Add GroupCoordinator logging, and address review comments
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit c8c3a7dc48dc1ec6220798294da123bb617a6cd7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jul 27 22:11:55 2018 -0700

    KAFKA-7192 Follow-up: update checkpoint to the reset beginning offset (#5430)
    
    1. When we reinitialize the state store due to no CHECKPOINT with EOS turned on, we should update the checkpoint to consumer.seekToBeginnning() / consumer.position() to avoid falling into endless iterations.
    
    2. Fixed a few other logic bugs around needsInitializing and needsRestoring.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Bill Bejeck <bbejeck@gmail.com>

commit a61594dee143ba089300546d1994b875a16ba521
Author: ying-zheng <zheng.ying@rocketmail.com>
Date:   Fri Jul 27 14:00:19 2018 -0700

    KAFKA-6432: Make index lookup more cache friendly (#5346)
    
     KAFKA-6432: Make index lookup more cache friendly
    
    For each topic-partition, Kafka broker maintains two indices: one for message offset, one for message timestamp. By default, a new index entry is appended to each index for every 4KB messages. The lookup of the indices is a simple binary search. The indices are mmaped files, and cached by Linux page cache.
    
    Both consumer fetch and follower fetch have to do an offset lookup, before accessing the actual message data. The simple binary search algorithm used for looking up the index is not cache friendly, and may cause page faults even on high QPS topic-partitions.
    
    In a normal Kafka broker, all the follower fetch requests, and most consumer fetch requests should only look up the last few entries of the index. We can make the index lookup more cache friendly, by searching in the last one or two pages of the index first.
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Guozhang Wang <wangguoz@gmail.com>, Ted Yu <yuzhihong@gmail.com>,  Ismael Juma <github@juma.me.uk>, Sriharsha Chintalapani <sriharsha@apache.org>

commit 061885e9f1675221f31ce47cfb0e59eb5748b9c7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jul 26 17:58:29 2018 -0700

    KAFKA-7192: Wipe out if EOS is turned on and checkpoint file does not exist (#5421)
    
    1. As titled and as described in comments.
    2. Modified unit test slightly to insert for new keys in committed data to expose this issue.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit a932520135d42c7d9731064d96c21ab2fc5de696
Author: Jon Lee <jonlee@linkedin.com>
Date:   Thu Jul 26 10:28:07 2018 -0700

    KAFKA-7126; Reduce number of rebalance for large consumer group after a topic is created
    
    This patch forces metadata update for consumers with pattern subscription at the beginning of rebalance (retry.backoff.ms is respected). This is to prevent such consumers from detecting subscription changes (e.g., new topic creation) independently and triggering multiple unnecessary rebalances. KAFKA-7126 contains detailed scenarios and rationale.
    
    Author: Jon Lee <jonlee@linkedin.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ted Yu <yuzhihong@gmail.com>, Dong Lin <lindong28@gmail.com>
    
    Closes #5408 from jonlee2/KAFKA-7126

commit 42af41d5fc991c392b75396352903b4d919da5d3
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Jul 26 09:31:02 2018 -0700

    MINOR: Caching layer should forward record timestamp (#5423)
    
    Reviewer: Guozhang Wang <guozhang@confluent.io>

commit 7fc7136ffd28245629f00870fc7f7cbe1fe1c6ce
Author: Yu Yang <yuyang08@gmail.com>
Date:   Thu Jul 26 09:13:50 2018 -0700

    KAFKA-5886; Introduce delivery.timeout.ms producer config (KIP-91) (#5270)
    
    Co-authored-by: Sumant Tambe <sutambe@yahoo.com>
    Co-authored-by: Yu Yang <yuyang@pinterest.com>
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>

commit 1d9a427225c64e7629a4eb2e2d129d5551185049
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Jul 25 01:00:18 2018 -0400

    KAFKA-7144: Fix task assignment to be even (#5390)
    
    This PR now justs removes the check in TaskPairs.hasNewPair that was causing the task assignment issue.
    
    This was done as we need to further refine task assignment strategy and this approach needs to include the statefulness of tasks and is best done in one pass vs taking a "patchy" approach.
    
    Updated current tests and ran locally
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 487b95454233e981a65c184c7f3b86adf34058ef
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Tue Jul 24 19:33:55 2018 -0700

    MINOR: internal config objects should not be logged (#5389)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit c83ecf4c55a2dbbb89c71080c601417adb8b699c
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jul 24 01:25:18 2018 -0700

    KAFKA-7194; Fix buffer underflow if onJoinComplete is retried after failure (#5417)
    
    An untimely wakeup can cause ConsumerCoordinator.onJoinComplete to throw a WakeupException before completion. On the next poll(), it will be retried, but this leads to an underflow error because the buffer containing the assignment data will already have been advanced. The solution is to duplicate the buffer passed to onJoinComplete.
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 52c5b5f1118f3571c6c981c16c02484ada0b28c4
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Jul 24 13:09:33 2018 +0530

    MINOR: Remove unused TopicAndPartition usage in tests (#5419)
    
    Also replace `TopicAndPartition` with `TopicPartition` in `MetadataCache`.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 4b60ed3247f0931731904c49dc7381b8eaac88d8
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jul 23 19:10:33 2018 +0100

    KAFKA-7193: Use ZooKeeper IP address in streams tests to avoid timeouts (#5414)
    
    ZooKeeper client from version 3.4.13 doesn't handle connections to localhost very well. If ZooKeeper is started on 127.0.0.1 on a machine that has both ipv4 and ipv6 and a client is created using localhost rather than the IP address in the connection string, ZooKeeper client attempts to connect to ipv4 or ipv6 randomly with a fixed one second backoff if connection fails. Use 127.0.0.1 instead of localhost in streams tests to avoid intermittent test failures due to ZK client connection timeouts if ipv6 is chosen in consecutive address selections. Also add note to upgrade docs for 2.0.0.
    
    Reviewers: Ismael Juma <github@juma.me.uk>, Matthias J. Sax <matthias@confluent.io>

commit 5db2f9903a1e1d9fe574730e89aec0022333db71
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sun Jul 22 22:19:32 2018 +0530

    MINOR: Close ZooKeeperClient if waitUntilConnected fails during construction (#5411)
    
    This has always been an issue, but the recent upgrade to ZooKeeper
    3.4.13 means it is also an issue when an unresolvable ZK
    address is used, causing some tests to leak threads.
    
    The change in behaviour in ZK 3.4.13 is that no exception is thrown
    from the ZooKeeper constructor in case of an unresolvable address.
    Instead, ZooKeeper tries to re-resolve the address hoping it becomes
    resolvable again. We eventually throw a
    `ZooKeeperClientTimeoutException`, which is similar to the case
    where the the address is resolvable but ZooKeeper is not
    reachable.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 9a7f29c1ede9f1ece67b73d2d6497d60f38fb62a
Author: Zhanxiang (Patrick) Huang <hzxa21@hotmail.com>
Date:   Sat Jul 21 16:52:54 2018 -0700

    KAFKA-7152; Avoid moving a replica out of isr if its LEO equals leader's LEO
    
    When there are many inactive partitions in the cluster, we observed constant churn of URP in the cluster even if follower can catch up with leader's byte-in-rate because leader broker frequently moves replicas of inactive partitions out of ISR. This PR mitigates this issue by not moving replica out of ISR if follower's LEO == leader's LEO.
    
    Author: Zhanxiang (Patrick) Huang <hzxa21@hotmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5412 from hzxa21/KAFKA-7152

commit d11f6f26b773343246c217f498de3c02916bec6c
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Sat Jul 21 14:03:14 2018 -0700

    KAFKA-6897; Prevent KafkaProducer.send from blocking when producer is closed (#5027)
    
    After successful completion of KafkaProducer#close, it is possible that an application calls KafkaProducer#send. If the send is invoked for a topic for which we do not have any metadata, the producer will block until `max.block.ms` elapses - we do not expect to receive any metadata update in this case because Sender (and NetworkClient) has already exited. It is only when RecordAccumulator#append is invoked that we notice that the producer has already been closed and throw an exception. If `max.block.ms` is set to Long.MaxValue (or a sufficiently high value in general), the producer could block awaiting metadata indefinitely.
    
    This patch makes sure `Metadata#awaitUpdate` periodically checks if the network client has been closed, and if so bails out as soon as possible.

commit 591954e2e55e0c262bf029f4b8f17566dcae6818
Author: Sandor Murakozi <smurakozi@gmail.com>
Date:   Sat Jul 21 20:40:00 2018 +0200

    MINOR: Add registerController method to KafkaZkClient (#4598)
    
    And change KafkaController to use the newly introduced method.
    Also remove redundant `InZk` postfixes from `registerBrokerInZk` and
    `updateBrokerInfoInZk`.
    
    As `checkedEphemeralCreate` is not used outside of `KafkaZkClient`
    any longer, reduce its visibility.
    
    ControllerIntegrationTest already covers this functionality well, it validates the
    refactor.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit b9b70c95a2cfdf01379f053c65e393bfc4ed7f37
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Sat Jul 21 03:32:56 2018 -0700

    MINOR: Change "no such session ID" log to debug (#5316)
    
    Improve the log messages while at it and fix some code style issues.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit ee0c2cee214b3d46f83562467bb1e4f5165f172c
Author: wangshao <wangshaono1@gmail.com>
Date:   Sat Jul 21 18:13:58 2018 +0800

    MINOR: Fix logged timeout in KafkaProducer.close() (#4623)
    
    The log line says `ms`, but the actual value could represent a
    different time unit depending on what the user provided.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit f9cdadfdcf64b95afe21590884594eb3b11043f8
Author: Jon Lee <jonlee@linkedin.com>
Date:   Sat Jul 21 00:04:16 2018 -0700

    KAFKA-7177; Update 2.0 documentation to reflect changed quota behaviors by KIP-219
    
    Updated the 2.0 document for changed quota behaviors.
    
    Author: Jon Lee <jonlee@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Dong Lin <lindong28@gmail.com>
    
    Closes #5384 from jonlee2/KAFKA-7177

commit 5d2bf6328e1c5b054017419cf4de562dc8a3ec7a
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Fri Jul 20 21:01:10 2018 -0700

    MINOR: FileStreamSinkTask should create file if it doesn't exist (#5406)
    
    A recent change from `new FileOutputStream` to `Files.newOutputStream` missed the `CREATE` flag (which is necessary in addition to `APPEND`).
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 9449f055c7a0b340a8d69d7365c5817464b2f6ed
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Fri Jul 20 12:35:12 2018 -0700

    KAFKA-7185: Allow empty resource name when matching ACLs (#5400)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 0b5fd99ecb2672b74cf970c15a3959c5a1571d6f
Author: Arjun Satish <wicknicks@users.noreply.github.com>
Date:   Fri Jul 20 11:10:43 2018 -0700

    MINOR: Add thread dumps if broker node cannot be stopped (#5373)
    
    In system tests, it is useful to have the thread dumps if a broker cannot be stopped using SIGTERM.
    
    Reviewers: Xavier Léauté <xl+github@xvrl.net>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit c5a4d5cb91e690a740ab9761e78791d5075ea150
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Jul 20 10:55:18 2018 -0700

     MINOR: fix upgrade docs for Streams (#5394)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Rajini Sivaram <rajini@confluent.io>

commit 75825caee4eba332808fe9bb8575920b01d99af4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jul 20 10:37:56 2018 -0700

    KAFKA-5037 Follow-up: move Scala test to Java (#5399)
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit bf237fa7c576bd141d78fdea9f17f65ea269c290
Author: huxi <huxi_2b@hotmail.com>
Date:   Fri Jul 20 23:52:04 2018 +0800

    KAFKA-7141; Consumer group describe should include groups with no committed offsets (#5356)
    
    Currently, if a consumer group never commits offsets, ConsumerGroupCommand will not include it in the describe output even if the member assignment is valid. Instead, the tool should be able to describe the group information showing empty current_offset and LAG.
    
    Reviewers: Sriharsha Chintalapani <sriharsha@apache.org>, Vahid Hashemian <vahidhashemian@us.ibm.com>, Jason Gustafson <jason@confluent.io>

commit 9089fb2d8255b9ea08e083c39c1ec3fe37d78082
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Fri Jul 20 20:50:36 2018 +0530

    MINOR: Fix format violations streams scala tests (#5402)
    
    @guozhangwang @mjsax hot fix for streams scala test format violations
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 980b725bb09ee42469534bf50d01118ce650880a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jul 20 09:23:01 2018 +0100

    KAFKA-3702: Change log level of SSL close_notify failure (#5397)
    
    SslTransportLayer currently closes the SSL engine and logs a warning if close_notify message canot be sent because the remote end closed its connection. This tends to fill up broker logs, especially when using clients which close connections immediately. Since this log entry is not very useful anyway, it would be better to log at debug level.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit be02dbe287f94064fd15b40df1d455342cb512c6
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jul 20 09:16:20 2018 +0100

    MINOR: Fix transient test failure in SslTransportLayerTest (#5396)
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 80b55309d1090b0bb45d571c5f6114461f6cb041
Author: Zhanxiang (Patrick) Huang <hzxa21@hotmail.com>
Date:   Thu Jul 19 23:48:26 2018 -0700

    KAFKA-7098; Improve accuracy of throttling by avoiding under-estimating actual rate in Throttler
    
    Author: Zhanxiang (Patrick) Huang <hzxa21@hotmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5350 from hzxa21/KAFKA-7098

commit 82f124ae30116b2b7d45878aaeb9699b6bdf1c30
Author: Ted Yu <yuzhihong@gmail.com>
Date:   Thu Jul 19 15:22:53 2018 -0700

    KAFKA-5037: Fix infinite loop if all input topics are unknown at startup
    
    1. At the beginning of assign, we first check that all the non-repartition source topics are included in the metadata. If not, we log an error at the leader and set an error in the Assignment userData bytes, indicating that leader cannot complete assignment and the error code would indicate the root cause of it.
    
    2. Upon receiving the assignment, if the error is not NONE the streams will shutdown itself with a log entry re-stating the root cause interpreted from the error code.
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #5322 from tedyu/trunk

commit 96c53e96b8834c550e6db54b2748c08e545f9150
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Fri Jul 20 02:58:12 2018 +0530

    MINOR: Remove deprecated ZkUtils usage from EmbeddedKafkaCluster (#5324)
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>

commit 284b46b7ce8520792a337b721762721817628b3f
Author: Ron Dagostino <rndgstn@gmail.com>
Date:   Thu Jul 19 12:53:47 2018 -0400

    KAFKA-7182: SASL/OAUTHBEARER client response missing %x01 seps (#5391)
    
    The SASL/OAUTHBEARER client response as currently implemented in OAuthBearerSaslClient sends the valid gs2-header "n,," but then sends the "auth" key and value immediately after it.
    This does not conform to the specification because there is no %x01 after the gs2-header, no %x01 after the auth value, and no terminating %x01. Fixed this and the parsing of the client response in
    OAuthBearerSaslServer, which currently allows the malformed text. Also updated to accept and ignore unknown properties as required by the spec.
    
    Reviewers: Stanislav Kozlovski <familyguyuser192@windowslive.com>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 2f6240ac944f2a55ece50a179b79f4e2ee63a621
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jul 19 08:06:17 2018 -0700

    KAFKA-3514: Remove min timestamp tracker (#5382)
    
    1. Remove MinTimestampTracker and its TimestampTracker interface.
    2. In RecordQueue, keep track of the head record (deserialized) while put the rest raw bytes records in the fifo queue, the head record as well as the partition timestamp will be updated accordingly.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 10a0b8a6baad201227281a34ce80748beddd0739
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Jul 19 11:33:34 2018 +0100

    MINOR: Update build.gradle and release.py to upload streams-scala_2.12 (#5368)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>

commit 3205989d585c3939254911ee0757eeaaeb15ae27
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Wed Jul 18 23:05:52 2018 -0700

    KAFKA-4994; Remove findbugs suppression for OffsetStorageWriter (#5385)
    
    Remove findbugs suppression for OffsetStorageWriter because it is no longer needed.

commit 7c9a7359dcf1a325c6eac8b5199048df05ad39e4
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Jul 18 21:45:17 2018 -0700

    MINOR: Consolidate Topic create calls in Test classes
    
    - Replace adminZkClient.createOrUpdateTopicPartitionAssignmentPathInZK calls with TestUtils.createTopic wherever applicable
    - Replace adminZkClient.createTopic calls with TestUtils.createTopic wherever applicable
    - Move non-deprecated tests to other test classes and deprecate AdminTest.scala
    - Remove duplicate tests between AdminTest and AdminZkClientTest
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Dong Lin <lindong28@gmail.com>
    
    Closes #5303 from omkreddy/topiccreate

commit 03e788b29be6da0ef729f38448dc4345e68e398f
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jul 18 13:44:09 2018 -0700

    MINOR: improve docs version numbers (#5372)
    
    Reviewer: Guozhang Wang <guozhang@confluent.io>

commit 359eb4e083c2e22b44b740a8e19319a457f4ef77
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jul 18 18:07:59 2018 +0100

    MINOR: Remove references to version 1.2 in docs (#5386)

commit 06d96628f0e098d93aecc650534c9e9965127d92
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jul 18 09:30:52 2018 -0700

    MINOR: remove unused MeteredKeyValueStore (#5380)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 0875ddeb2381c68afb0e4d5a15b25baf4cde29a2
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jul 18 12:27:21 2018 +0100

    KAFKA-7168: Treat connection close during SSL handshake as retriable (#5371)
    
    SSL `close_notify` from broker connection close was processed as a handshake failure in clients while unwrapping the message if a handshake is in progress. Updated to handle this as a retriable IOException rather than a non-retriable SslAuthenticationException to avoid authentication exceptions in clients during rolling restart of brokers.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 28e29a4c61d98e6f79e1edfb79b8812d753dc139
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Wed Jul 18 07:24:08 2018 +0200

    MINOR: Updated Quickstart to mention log.dirs (#5361)
    
    The default server.properties file now contains the log.dirs setting and not log.dir anymore.
    
    Co-authored-by: Mickael Maison <mickael.maison@gmail.com>
    Co-authored-by: Katherine Farmer <kfarme3@uk.ibm.com>
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Sriharsha Chintalapani <sriharsha@apache.org>

commit 2d877631cde81bd0fdc42bd5bff0c31e5820d623
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jul 17 17:31:32 2018 -0700

    MINOR: web docs fixes on message header (#5381)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit 0c0ced770c45879d67b0e16878ddd36015aa3fd9
Author: Lee Dongjin <dongjin@apache.org>
Date:   Wed Jul 18 09:09:45 2018 +0900

    MINOR: Fix broken Javadoc on [AbstractIndex|OffsetIndex] (#5370)
    
    In the javadoc of `AbstractIndex` and `OffsetIndex`, thrown `Exception`s are not imported.

commit 8c47a3e52f3d6871a708b1d2c8b5a7e30a2a5b99
Author: Ahmed Al Mehdi <aalmehdi@aalmehdi-ld1.linkedin.biz>
Date:   Tue Jul 17 15:45:29 2018 -0700

    KAFKA-5098; KafkaProducer should reject sends to invalid topics
    
    …egal char and generates InvalidTopicException
    
    If config parameter max.block.ms config parameter is set to a non-zero value,
    KafkaProducer.send() blocks for the max.block.ms time if topic name has illegal
    char or is invalid.
    
    Wrote a unit test that verifies the appropriate exception is returned when
    performing a get on the returned future by KafkaProducer.send().
    
    Author: Ahmed Al Mehdi <aalmehdi@aalmehdi-ld1.linkedin.biz>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy@gmail.com>, Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Closes #5247 from ahmedha/KAFKA-5098

commit 08fe24b46a327424e3249eeef1a32e05db717b18
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Tue Jul 17 14:04:51 2018 -0700

    KAFKA-7103: Use bulkloading for RocksDBSegmentedBytesStore during init (#5276)
    
    This PR uses bulk loading for recovering RocksDBWindowStore, same as RocksDBStore.
    
    Reviewers: Boyang Chen <bchen11@outlook.com>, Shawn Nguyen <shnguyen@pinterest.com>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit f6219c6ad1d338792413c562615bad22f6baca1c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jul 17 13:53:03 2018 -0700

    KAFKA-4041: Update ZooKeeper to 3.4.13 (#5376)
    
    This includes a fix for ZOOKEEPER-2184 (Zookeeper Client
    should re-resolve hosts when connection attempts fail), which
    fixes KAFKA-4041.
    
    Updated a couple of tests as unresolvable addresses are now
    retried until the connection timeout. Cleaned up tests a little.
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 41abfcb642ebb0bcdaf43c7908ba2e4380c7a223
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Tue Jul 17 13:12:13 2018 -0700

    MINOR: update release.py (#5374)
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Dong Lin <dolin@linkedin.com>

commit 8ec8ec542264604cc44ef5a17439573c0de0990a
Author: Attila Sasvari <asasvari@apache.org>
Date:   Tue Jul 17 19:51:05 2018 +0100

    KAFKA-6884; Consumer group command should use new admin client (#5032)
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Vahid Hashemian <vahidhashemian@us.ibm.com>, Jason Gustafson <jason@confluent.io>

commit 07647c2a4cc56fd47a6092c72131aa15b34bf819
Author: hashangayasri <hashan.gayasri@gmail.com>
Date:   Wed Jul 18 00:12:08 2018 +0530

    MINOR: make the constructor of InMemoryKeyValueStore public so that it can be re-used by custom (in-memory) stores (#5310)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit b0b11a2dde4f3a9663f1c941d30350e1273d89e0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jul 17 07:56:11 2018 -0700

    MINOR: Update Jetty to 9.4.11 (#5377)

commit ba8fb6ec7094e1e31da25b39f9e6d872ed9b9fdd
Author: Matthias Wessendorf <matzew@apache.org>
Date:   Tue Jul 17 04:30:10 2018 +0200

    Fixing incorrect JavaDoc for METRICS_RECORDING_LEVEL_CONFIG key
    
    Reviewers: Sriharsha Chintalapani <sriharsha@apache.org>

commit b68766017f11afd7e541fa84378d5e616cf1e81a
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Thu Jul 12 20:44:12 2018 +0200

    MINOR: Additional detail in description for zookeeper.connect (#5358)
    
    This setting allows specifying a chroot so we documented it.
    
    Co-authored-by: Mickael Maison <mickael.maison@gmail.com>
    Co-authored-by: Katherine Farmer <kfarme3@uk.ibm.com>
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 000a2d42cb813768866a52a652176c253babb043
Author: Aviem Zur <aviemzur@gmail.com>
Date:   Thu Jul 12 09:00:55 2018 +0300

    MINOR: Print exception stack traces in ConsumerGroupCommand. (#5286)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 8119683a234543aa7b523a571b8a68a5002c5b56
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jul 11 11:44:54 2018 -0700

    MINOR: Tighten FileRecords size checks to prevent overflow (#5332)
    
    Add some additional size validation to prevent overflows when using `FileRecords`.
    
    Reviewers: Dhruvil Shah <dhruvil@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit 05c5854d1ff8510c867066b65e28ad9414d6c266
Author: Joan Goyeau <joan@goyeau.com>
Date:   Tue Jul 10 01:48:34 2018 +0200

    MINOR: Add Scalafmt to Streams Scala API (#4965)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 9a18f92935844abc3c6926a94f65a0ccb639aeb3
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun Jul 8 21:14:47 2018 -0700

    MINOR: Upgrade rocksdb to 5.14.2 (#5343)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit f54ba7cf8528b5082471a86850ba951244a990e1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jul 6 14:35:25 2018 -0700

    MINOR: Use FetchRequest v8 and ListOffsetRequest v3 in ReplicaFetcherThread (#5342)
    
    If inter.broker.protocol.version is 2.0-IV1 or newer. Also fixed ListOffsetRequest
    so that v2 is used, if applicable.
    
    Added a unit test which verifies that we use the latest version of the various
    requests by default. Included a few minor tweaks to make testing easier.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 1f8527b331f3d4c8e3ea16993d96caae2ea18fc5
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jul 6 18:54:28 2018 +0100

    KAFKA-7136: Avoid deadlocks in synchronized metrics reporters (#5341)
    
    We need to use the same lock for metric update and read to avoid NPE and concurrent modification exceptions. Sensor add/remove/update are synchronized on Sensor since they access lists and maps that are not thread-safe. Reporters are notified of metrics add/remove while holding (Sensor, Metrics) locks and reporters may synchronize on the reporter lock. Metric read may be invoked by metrics reporters while holding a reporter lock. So read/update cannot be synchronized using Sensor since that could lead to deadlock. This PR introduces a new lock in Sensor for update/read.
    Locking order:
    
    - Sensor#add: Sensor -> Metrics -> MetricsReporter
    - Metrics#removeSensor: Sensor -> Metrics -> MetricsReporter
    - KafkaMetric#metricValue: MetricsReporter -> Sensor#metricLock
    - Sensor#record: Sensor -> Sensor#metricLock
    
    
    Reviewers: Jun Rao <junrao@gmail.com>, Guozhang Wang <wangguoz@gmail.com>

commit 1aea0834d346f0afa16f946c47e51fefac37612b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Jul 5 17:07:53 2018 +0100

    MINOR: Avoid conflicting versions of org.apache.mina for MiniKdc deps (#5336)
    
    `mina-core` is a transitive dependency for `apacheds` and `apacheda`. It is safer to use from `apacheds` since that is the implementation.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit c5b00d20d3703b7fc4358b7258d5d6adb890136f
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Jul 4 00:12:44 2018 +0530

    MINOR: Include quota related interfaces to javadocs (#5325)

commit e38e3a66ab099996ecb156ec9105869f3d9b9228
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Tue Jul 3 09:07:50 2018 -0500

    MINOR: Fix standby streamTime (#5288)
    
    #5253 broke standby restoration for windowed stores.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 8250738ae41f6f0a87dc1e21e7623c5d69cae148
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jul 2 22:00:23 2018 -0700

    KAFKA-7101: Consider session store for windowed store default configs (#5298)
    
    1. extend isWindowStore to consider session store as well.
    2. extend the existing unit test accordingly.
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 64fff8bfcc9b92769640bfaa692e19d0db8861a6
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Mon Jul 2 18:07:38 2018 -0500

    KAFKA-7080: replace numSegments with segmentInterval (#5257)
    
    See also KIP-319.
    
    Replace number-of-segments parameters with segment-interval-ms parameters in various places. The latter was always the parameter that several components needed, and we accidentally supplied the former because it was the one available.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 0db8074d492ec96f3e894b484e8f0bb9fdd45544
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jul 2 22:11:05 2018 +0100

    MINOR: Close timing window in SimpleAclAuthorizer startup (#5318)
    
    ZooKeeper listener for change notifications should be created before loading the ACL cache to avoid timing window if acls are modified when broker is starting up.
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@confluent.io>

commit 57320981bb98086a0b9f836a29df248b1c0378c3
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Sun Jul 1 05:27:30 2018 +0800

    Minor: fix javadocs of StreamsConfig and ValueTransformerWithKey (#5157)
    
    Reviewer: Matthias J. Sax <matthias@confluent.io>

commit 18181ca953b672e8856879e1daff530deccc2fec
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jun 29 13:50:28 2018 -0700

    HOTFIX: KAFKA-7097; Set create time default to -1L in VerifiableProducer
    
    Reviewers: Anna Povzner <anna@confluent.io>, Ted Yu <yuzhihong@gmail.com>, Jason Gustafson <jason@confluent.io>

commit d44d5d7520d31f33feb03b0679f8c552254dac4e
Author: Yishun Guan <gyishun@gmail.com>
Date:   Fri Jun 29 13:27:26 2018 -0700

    KAFKA-6986: Export Admin Client metrics through Stream Threads (#5210)
    
    KAFKA-6986:Export Admin Client metrics through Stream Threads
    
    We already exported producer and consumer metrics through KafkaStreams class:
    
    #4998
    
    It makes sense to also export the Admin client metrics.
    
    I didn't add a separate unittest case for this. Let me know if it's needed.
    
    This is my first contribution, feel free to point out any mistakes that I did.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 7947c94140dbcfa1ce78bd35d400bb309470fc81
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jun 29 11:10:21 2018 -0700

    MINOR: Upgrade RocksDB to 5.13.4 (#5309)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 98e546611a88eed4772178090f1498d4f6f6f506
Author: Anna Povzner <anna@confluent.io>
Date:   Fri Jun 29 09:19:22 2018 -0700

    MINOR: Use kill_java_processes when killing ConsoleConsumer in system tests (#5297)
    
    Use `kill_java_processes` to stop the console consumer service since it uses jcmd instead of grep to find pids, which is more reliable.

commit 053d831992e5351deb174f11f0ecd0ebe7c4ba5a
Author: Stanislav Kozlovski <familyguyuser192@windowslive.com>
Date:   Fri Jun 29 15:37:14 2018 +0100

    KAFKA-7111: Log error connecting to node at a higher log level (#5312)
    
    There are cases where the broker would return an unresolve-able address (e.g broker inside a docker network while client is outside) and the client would not log any information as to why it is timing out, since the default log level does not print DEBUG messages.
    
    Changing this log level will enable easier troubleshooting in such circumstances. This change does not change the logs shown on transient failures like a broker failure.

commit b0d2ddb330a24971c53ba96129a3c66312b30c5c
Author: Stanislav Kozlovski <familyguyuser192@windowslive.com>
Date:   Fri Jun 29 14:13:45 2018 +0100

    KAFKA-7028: Properly authorize custom principal objects (#5311)
    
    Use KafkaPrincipal objects for authorization in `SimpleAclAuthorizer` so that comparison with super.users and ACLs instantiated from Strings work. Previously, it would compare two different classes `KafkaPrincipal` and the custom class, which would always return false because of the implementation of `KafkaPrincipal#equals`.

commit 919409bb2331fbd60cd3d425fe7d9384d66967fa
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jun 28 20:45:29 2018 -0700

    MINOR: Ensure heartbeat last poll time always updated (#5308)
    
    We need to ensure that the last poll time is always updated when the user call poll(Duration). This patch fixes a bug in the new KIP-266 timeout behavior which would cause this to be skipped if the coordinator could not be found while the consumer was in an active group.
    
    Note that I've also fixed some type inconsistencies for various timeouts.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 24b3844fe4163dbf7c6fcdffdf3531d052ec8e08
Author: tedyu <yuzhihong@gmail.com>
Date:   Thu Jun 28 14:46:26 2018 -0700

    KAFKA-7097 VerifiableProducer does not work properly with --message-create-time argument (#5292)
    
    Currently create time is interpreted as integer.
    
    This PR makes the tool accept long values.
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>

commit 6bfaf4dc6087062ac9ea8e9c036ef3c5ec95b254
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jun 28 14:32:02 2018 -0700

    MINOR: Store metrics scope, total metrics (#5290)
    
    1. Rename metrics scope of rocksDB window and session stores; also modify the store metrics accordingly with guidance on its correlations to metricsScope.
    
    2. Add the missing total metrics for per-thread, per-task, per-node and per-store sensors.
    
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit be0f10e1902961daa51b543f293f7038dc6e4344
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jun 28 10:19:42 2018 -0700

    MINOR: KAFKA-7112: Only resume restoration if state is still PARTITIONS_ASSIGNED after poll (#5306)
    
    Before KIP-266, consumer.poll(0) would call updateAssignmentMetadataIfNeeded(Long.MAX_VALUE), which makes sure that the rebalance is definitely completed, i.e. both onPartitionRevoked and onPartitionAssigned called within this poll(0). After KIP-266, however, it is possible that only onPartitionRevoked will be called if timeout is elapsed. And hence we need to double check that state is still PARTITIONS_ASSIGNED after the consumer.poll(duration) call.
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Matthias J. Sax <matthias@confluent.io>

commit daa8082d6718d39584ed6d25863af48acec2cea6
Author: Stanislav Kozlovski <familyguyuser192@windowslive.com>
Date:   Thu Jun 28 14:15:15 2018 +0100

    KAFKA-6809: Count inbound connections in the connection-creation metric (#5301)
    
    Previously, the connection-creation metric only accounted for opened connections from the broker. This change extends it to account for received connections.

commit 10b84a3661cde77b25f6408e6f360655ee618a18
Author: Anna Povzner <anna@confluent.io>
Date:   Wed Jun 27 21:15:20 2018 -0700

    KAFKA-7104: More consistent leader's state in fetch response (#5305)
    
    Do not update LogReadResult after it is initially populated when returning fetches immediately (i.e. without hitting the purgatory). This was done in #3954 as an optimization so that the followers get the potentially updated high watermark. However, since many things can happen (like deleting old segments and advancing log start offset) between initial creation of LogReadResult and the update, we can hit issues like log start offset in fetch response being higher than the last offset in fetched records.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit b2ed7d80dea092e4258d04c191d42682a4db950f
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Thu Jun 28 05:29:14 2018 +0530

    MINOR: Update consumer javadoc for position method (#5100)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit a3db23cb76436786ebe0e5f388b4ca97dec51686
Author: Jon Lee <jonlee@linkedin.com>
Date:   Wed Jun 27 16:49:12 2018 -0700

    KAFKA-6944; Add system tests testing the new throttling behavior using older clients/brokers
    
    Added two additional test cases to quota_test.py, which run between brokers and clients with different throttling behaviors. More specifically,
    1. clients with new throttling behavior (i.e., post-KIP-219) and brokers with old throttling behavior (i.e., pre-KIP-219)
    2. clients with old throttling behavior and brokers with new throttling behavior
    
    Author: Jon Lee <jonlee@linkedin.com>
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5294 from jonlee2/kafka-6944

commit 51935ee2e6dc473415b6708b60c9d47410876997
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Thu Jun 28 03:39:44 2018 +0530

    KAFKA-7091; AdminClient should handle FindCoordinatorResponse errors (#5278)
    
    - Update KafkaAdminClient implementation to handle FindCoordinatorResponse errors
    - Remove scala AdminClient usage from core and streams tests
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>

commit 2db7eb7a8c28f4f5d2550b45a9215948652f82ca
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Wed Jun 27 14:48:08 2018 -0700

    KAFKA-7076; Skip rebuilding producer state when using old message format (#5254)
    
    This patch removes the need to build up producer state when the log is using V0 / V1 message format where we did not have idempotent and transactional producers yet.
    
    Also fixes a small issue where we incorrectly reported the offset index corrupt if the last offset in the index is equal to the base offset of the segment.

commit 7ea8a25a4c03c0c5f342d621eacd07ff62489b06
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jun 27 09:35:34 2018 -0700

    HOTFIX: remove old security suggestions

commit 7a74ec62d291bf344b308115bd115a6788074a93
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 27 01:00:05 2018 -0700

    MINOR: Avoid FileInputStream/FileOutputStream (#5281)
    
    They rely on finalizers (before Java 11), which create
    unnecessary GC load. The alternatives are as easy to
    use and don't have this issue.
    
    Also use FileChannel directly instead of retrieving
    it from RandomAccessFile whenever possible
    since the indirection is unnecessary.
    
    Finally, add a few try/finally blocks.
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit a20555102bf1c0a216fe9d3e2fa59edfb6091b1b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jun 26 18:53:06 2018 -0700

    HOTFIX: update Streams security docs

commit b054789d698c2c0a6e050ef5d27804e7764bc801
Author: xinzhg <xinzhg@users.noreply.github.com>
Date:   Tue Jun 26 13:32:24 2018 -0700

    MINOR: Fix comment in quick union (#5244)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 581adb5013ed996705031ca8dd9e175c40675692
Author: Jim Galasyn <jim.galasyn@confluent.io>
Date:   Tue Jun 26 08:24:44 2018 -0700

    MINOR: Add note about num.standby.replicas (#5271)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 9bc9a37e50e403a356a4f10d6df12e9f808d4fba
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Jun 26 07:57:28 2018 -0700

    MINOR: KIP-211 Follow-up (#5272)
    
    Updates the description of `offsets.retention.minutes` config, and fixes an upgrade note.

commit 9ea81baf34113ccb05244ea9fb63199e7f071bb0
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Jun 25 23:39:02 2018 -0700

    KAFKA-6949; alterReplicaLogDirs() should grab partition lock when accessing log of the future replica
    
    NoSuchElementException will be thrown if ReplicaAlterDirThread replaces the current replica with future replica right before the request handler thread executes `futureReplica.log.get.dir.getParent` in the ReplicaManager.alterReplicaLogDirs(). The solution is to grab the partition lock when request handler thread attempts to check the destination log directory of the future replica.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #5081 from lindong28/KAFKA-6949

commit 3cdc78e6bb1f83973a14ce1550fe3874f7348b05
Author: Sönke Liebau <soenke.liebau@opencore.com>
Date:   Tue Jun 26 00:46:09 2018 +0200

    KAFKA-6591; Move super user check before ACL matching  (#4618)
    
    Currently the check whether a user as a super user in `SimpleAclAuthorizer` is performed only after all other ACLs have been evaluated. Since all requests from a super user are granted we don't really need to apply the ACLs. This patch returns true if the user is a super user before checking ACLs, thus bypassing the needless evaluation effort.
    
    Reviewers: Andy Coates <big-andy-coates@users.noreply.github.com>, Manikumar Reddy <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 2f36da1747e62a21108e21edacaf2e5ef12c2d6a
Author: tedyu <yuzhihong@gmail.com>
Date:   Mon Jun 25 08:49:01 2018 -0700

    Minor: add exception to debug log for Sender#maybeSendTransactionalRequest (#5282)
    
    Reviewer: Ismael Juma <ismael@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 6e043af1449264efd6a5b3638011134cc6b85888
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jun 25 10:52:31 2018 +0100

    MINOR: Fix timing issue in advertised listener update test (#5256)
    
    Wait for produce to fail before updating listener to avoid send succeeding after the listener update. Also use different topics in tests with connection failures where one is expected to fail and the other is expected to succeed.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit bd216db4c0ab963412ad27055253f3469cf468ef
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Sat Jun 23 16:33:04 2018 -0700

    MINOR: Avoid coarse lock in Pool#getAndMaybePut (#5258)
    
    Use `ConcurrentHashMap#computeIfAbsent` which relies on
    per key locks.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit c32f7e6ad8155915593f94bfb8bed4acf395d296
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Jun 22 17:18:10 2018 -0700

    MINOR: Fix expected output in Streams quickstart (#5280)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 74502710b383175a760b563fb67dad295d97ec5a
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri Jun 22 19:10:06 2018 -0500

    MINOR: report streams benchmarks separately (#5275)
    
    Specify each benchmark as a separate test so that we can see the results reported independently.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 954be11bf2d3dc9fa11a69830d2ef5ff580ff533
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri Jun 22 19:08:00 2018 -0500

    KAFKA-6978: make window retention time strict (#5218)
    
    Enforce window retention times strictly:
    
    * records for windows that are expired get dropped
    * queries for timestamps old enough to be expired immediately answered with null
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 80553197e9c8fd3e496cfb3108ad774201de0831
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri Jun 22 18:55:39 2018 -0500

    MINOR: temporarily ignore system test until I can fix it (#5283)

commit 624acc63dabd6f46974540ef27a5ca1caa891c1b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jun 22 15:41:52 2018 +0100

    MINOR: Cleanup threads in integration tests (#5269)
    
    Leftover threads doing network I/O can interfere with subsequent tests. Add missing shutdown in tests and include admin client in the check for leftover threads.
    
    Reviewers: Anna Povzner <anna@confluent.io>, Dhruvil Shah <dhruvil@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Manikumar Reddy O <manikumar.reddy@gmail.com>

commit 418a91b5d4e3a0579b91d286f61c2b63c5b4a9b6
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Jun 21 17:19:24 2018 -0700

    KAFKA-4682; Revise expiration semantics of consumer group offsets (KIP-211 - Part 1) (#4896)
    
    This patch contains the improved offset expiration semantics proposed in KIP-211. Committed offsets will not be expired as long as a group is active. Once all members have left the group, then offsets will be expired after the timeout configured by `offsets.retention.minutes`. Note that the optimization for early expiration of unsubscribed topics will be implemented in a separate patch.

commit e33ccb628efd9a039d2ad9f9ca74f001bc682fcd
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 21 16:47:44 2018 -0700

    KAFKA-7082: Concurrent create topics may throw NodeExistsException (#5259)
    
    This is an unexpected exception so `UnknownServerException`
    is thrown back to the client.
    
    This is a minimal change to make the behaviour match `ZkUtils`.
    This is better, but one could argue that it's not perfect. A more
    sophisticated approach can be tackled separately.
    
    Added a concurrent test that fails without this change.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit d3e264e773c4652f34b40c7c3b494c0f7fbabffc
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jun 21 10:02:58 2018 -0700

    MINOR: update web docs and examples of Streams with Java8 syntax (#5249)
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Damian Guy <damian@confluent.io>

commit 456b17fc8e46db7a7d57e1aac3c2af961c93f57a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 21 08:27:04 2018 -0700

    MINOR: Upgrade to Gradle 4.8.1 (#5263)
    
    Maven Central dropped support for all versions
    but TLS 1.2, so dependency resolution fails if
    Gradle builds run with JDK 7. 2.0 and trunk
    requre JDK 8, but every other version is
    affected.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit bb68b9c046b36dc73e5e4d9343e1de962c7699d1
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Jun 21 11:18:31 2018 +0100

    MINOR: Update version for doc to 2.0.0 (#5262)
    
    Reviewers: Damian Guy <damian.guy@gmail.com>

commit 6732593bbad3d1e07f1ec7c2d00a2e1eabf382f2
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Wed Jun 20 20:40:48 2018 -0500

    KAFKA-7072: clean up segments only after they expire (#5253)
    
    Significant refactor of Segments to use stream-time as the basis of segment expiration.
    Previously Segments assumed that the current record time was representative of stream time.
    
    In the event of a "future" event (one whose record time is greater than the stream time), this
    would inappropriately drop live segments. Now, Segments will provision the new segment
    to house the future event and drop old segments only after they expire.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit e5ec3f55c968292ae8fd0cb8ad8b626abed8f503
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jun 20 17:08:58 2018 +0100

    KAFKA-6546: Use LISTENER_NOT_FOUND_ON_LEADER error for missing listener (#5189)
    
    For metadata request version 6 and above, use a different error code to indicate missing listener on leader broker to enable diagnosis of listener configuration issues.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 96bcfdfc7c9aac075635b2034e65e412a725672e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 20 05:05:50 2018 -0700

    MINOR: Use exceptions in o.a.k.common if possible and deprecate ZkUtils (#5255)
    
    Also:
    - Remove exceptions in `kafka.common` that are no longer used.
    - Keep `kafka.common.KafkaException` as it's still used by `ZkUtils`,
    `kafka.admin.AdminClient` and `kafka.security.auth` classes and
    we would like to maintain compatibility for now.
    - Add deprecated annotation to `kafka.admin.AdminClient`. The scaladoc
    stated that the class is deprecated, but the annotation was missing.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>

commit fd969beae7326aed70fd201f299e9ebb0e0b72a9
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Jun 20 01:24:26 2018 -0700

    KAFKA-6697: Broker should not die if getCanonicalPath fails (#4752)
    
    A broker with multiple log dirs will die on startup if dir.getCanonicalPath() throws
    IOException for one of the log dirs. We should mark such log directory as offline
    instead and the broker should start if there is a healthy log dir.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit f8cb3c3e1d16d34e5cc382cf4833330f9cce9aad
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jun 19 14:23:04 2018 -0700

    MINOR: add headers support in new api (#5252)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit 410e00cbcb7dd664dcd1f451eca57e5882985186
Author: Stephane Maarek <simplesteph@users.noreply.github.com>
Date:   Wed Jun 20 05:10:13 2018 +0800

    KAFKA-7066 added better logging in case of Serialisation issue (#5239)
    
    Following the error message of:
    
    https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/SinkNode.java#L93
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit d2b84bd4b03d528ff82c8fb6067f118ca9256792
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Tue Jun 19 21:47:24 2018 +0100

    Kafka_7064 - bug introduced when switching config commands to ConfigResource  (#5245)
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jun Rao <junrao@gmail.com>

commit 3afe2ed8e39da3605274baddc7245be569b4aed7
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jun 19 13:26:29 2018 -0700

    MINOR: Handle segment splitting edge cases and fix recovery bug  (#5169)
    
    This patch fixes the following issues in the log splitting logic added to address KAFKA-6264:
    
    1. We were not handling the case when all messages in the segment overflowed the index. In this case, there is only one resulting segment following the split.
    2. There was an off-by-one error in the recovery logic when completing a swap operation which caused an unintended segment deletion.
    
    Additionally, this patch factors out of `splitOverflowedSegment` a method to write to a segment using from with an instance of `FileRecords`. This allows for future reuse and isolated testing.
    
    Reviewers: Dhruvil Shah <dhruvil@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>

commit cc4dce94af8b19a796eeb7a9be78640739cb1a48
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jun 19 07:32:54 2018 -0700

    KAFKA-2983: Remove Scala consumers and related code (#5230)
    
    - Removed Scala consumers (`SimpleConsumer` and `ZooKeeperConsumerConnector`)
    and their tests.
    - Removed Scala request/response/message classes.
    - Removed any mention of new consumer or new producer in the code
    with the exception of MirrorMaker where the new.consumer option was
    never deprecated so we have to keep it for now. The non-code
    documentation has not been updated either, that will be done
    separately.
    - Removed a number of tools that only made sense in the context
    of the Scala consumers (see upgrade notes).
    - Updated some tools that worked with both Scala and Java consumers
    so that they only support the latter (see upgrade notes).
    - Removed `BaseConsumer` and related classes apart from `BaseRecord`
    which is used in `MirrorMakerMessageHandler`. The latter is a pluggable
    interface so effectively public API.
    - Removed `ZkUtils` methods that were only used by the old consumers.
    - Removed `ZkUtils.registerBroker` and `ZKCheckedEphemeral` since
    the broker now uses the methods in `KafkaZkClient` and no-one else
    should be using that method.
    - Updated system tests so that they don't use the Scala consumers except
    for multi-version tests.
    - Updated LogDirFailureTest so that the consumer offsets topic would
    continue to be available after all the failures. This was necessary for it
    to work with the Java consumer.
    - Some multi-version system tests had not been updated to include
    recently released Kafka versions, fixed it.
    - Updated findBugs and checkstyle configs not to refer to deleted
    classes and packages.
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>

commit e8955f731eff61417ec04253547f125cb921a59a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 19 15:16:16 2018 +0100

    KAFKA-7012: Don't process SSL channels without data to process (#5237)
    
    Avoid unnecessary processing of SSL channels when there are some bytes buffered, but not enough to make progress.
    
    Reviewers: Radai Rosenblatt <radai.rosenblatt@gmail.com>, Jun Rao <junrao@gmail.com>

commit fc81acbfd704404a7599c4b97095a554f9fe69ba
Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
Date:   Mon Jun 18 15:37:26 2018 -0700

    KAFKA-7067; Include new connector configs in system test assertion (#5242)
    
    The new connector configs added in  KIP-297 and KIP-298 need to be updated in the connect_rest_test.py so that the expected results match the actual.

commit 347b37e31945b54fb96fc7dacc2b2deed40e8e5e
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jun 18 13:43:01 2018 -0700

    MINOR: Do not require request timeout be larger than session timeout (#5246)
    
    This check was left over from the old consumer logic in which the join group was bound by the session timeout. Since we use a custom timeout for JoinGroup, this restriction no longer makes sense.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 1354371d4f4dd208458c776e1f27715ec5f77f47
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Mon Jun 18 13:58:26 2018 -0400

    KAFKA-6761: Construct logical Streams Graph in DSL Parsing (#4983)
    
    This version is a WIP and intentionally leaves out some additional required changes to keep the reviewing effort more manageable. This version of the process includes
    
    1. Cleaning up the graph objects to reduce the number of parameters and make the naming conventions more clear.
    2. Intercepting all calls to the InternalToplogyBuilder and capturing all details required for possible optimizations and building the final topology.
    
    This PR does not include writing out the current physical plan, so no tests included. The next PR will include additional changes to building the graph and writing the topology out without optimizations, using the current streams tests.
    
    Reviewers: John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit d504e85011332016447472fb37f1c1edd8acbf1a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jun 18 18:28:08 2018 +0100

    KAFKA-6805: Enable broker configs to be stored in ZK before broker start (#4898)
    
    Support configuration of dynamic broker configs in ZooKeeper before starting brokers using ConfigCommand. This will allow password configs to be encrypted and stored in ZooKeeper, without requiring clear passwords in server.properties to bootstrap the broker first.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 1546bcd87770fba60b9663a2dc202823a873ecb4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun Jun 17 17:31:30 2018 -0700

    MINOR: provide an example for deserialization exception handler (#5231)
    
    Also added a paragraph from data types to link to the example code.
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>

commit 6810617179222ae659343efb02ef7e6cefb15662
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Mon Jun 18 07:49:01 2018 +0800

    KAFKA-7048 NPE when creating connector (#5202)
    
    Reviewers: Robert Yokota <rayokota@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit d06da1b7f424ebad16ea5eca11b58b7c2ca3fa34
Author: Robert Yokota <rayokota@gmail.com>
Date:   Sun Jun 17 12:12:11 2018 -0700

    KAFKA-7068: Handle null config values during transform (KIP-297)
    
    Fix NPE when processing null config values during transform.
    
    Author: Robert Yokota <rayokota@gmail.com>
    
    Reviewers: Magesh Nandakumar <magesh.n.kumar@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5241 from rayokota/KIP-297-null-config-values

commit be846d833caade74f1d0536ecf9d540855cde758
Author: Gunnar Morling <gunnar.morling@googlemail.com>
Date:   Sat Jun 16 23:04:31 2018 -0700

    KAFKA-7058: Comparing schema default values using Objects#deepEquals()
    
    https://issues.apache.org/jira/browse/KAFKA-7058
    * Summary of testing strategy: Added new unit test
    
    Author: Gunnar Morling <gunnar.morling@googlemail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5225 from gunnarmorling/KAFKA-7058

commit f0282cb3de9b60d6eea12803103f8ca4d7f45734
Author: Randall Hauch <rhauch@gmail.com>
Date:   Sat Jun 16 22:23:20 2018 -0700

    KAFKA-7047: Added SimpleHeaderConverter to plugin isolation whitelist
    
    This was originally missed when headers were added as part of KIP-145 in AK 1.1. An additional unit test was added in line with the StringConverter.
    
    This should be backported to the AK `1.1` branch so that it is included in the next bugfix release. The `SimpleHeaderConverter` class that we're referencing was first added in the 1.1.0 release, so there's no reason to backport earlier.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5204 from rhauch/kafka-7047

commit 239dd0fb9b8a72ff0f108fea9a9372ab0858339c
Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
Date:   Sat Jun 16 22:18:20 2018 -0700

    KAFKA-7039: Create an instance of the plugin only it's a Versioned Plugin
    
    Create an instance of the plugin only it's a Versioned Plugin. Prior to KIP-285, this was done for only for Connector and this PR will continue to have the same behavior.
    
    Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5191 from mageshn/KAFKA-7039

commit 2bcc6e82767fb07c7a86c0a4e5da64d75fb15f25
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Sat Jun 16 18:36:51 2018 -0700

    MINOR: fix Vagrant VM setup (#5178)
    
    Reviewers: Max Zheng <max@confluent.io>, Colin P. McCabe <colin@confluent.io>

commit d904058c5fc321ea6d29dee41f74ea44cdbad3ea
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Jun 15 22:43:15 2018 -0700

    HOTFIX: remove sub-module 'kafka' (#5238)
    
    Reviewer: Guozhang Wang <guozhang@confluent.io>

commit fab8b7e676bcaf4faf84d563ab48e3ebee61b4ab
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Jun 15 14:52:28 2018 -0700

    KAFKA-7056: Moved Connect’s new numeric converters to runtime (KIP-305)
    
    KIP-305 added numeric converters to Connect, but these were added in Connect’s API module in the same package as the `StringConverter`. This commit moves them into the Runtime module and into the `converters` package where the `ByteArrayConverter` already lives. These numeric converters have not yet been included in a release, and so they can be moved without concern.
    
    All of Connect’s converters must be referenced in worker / connector configurations and are therefore part of the API, but otherwise do not need to be in the “api” module as they do not need to be instantiated or directly used by extensions. This change makes them more similar to and aligned with the `ByteArrayConverter`.
    
    It also gives us the opportunity to move them into the “api” module in the future (keeping the same package name), should we ever want or need to do so. However, if we were to start out with them in the “api” module, we would never be able to move them out into the “runtime” module, even if we kept the same package name. Therefore, moving them to “runtime” now gives us a bit more flexibility.
    
    This PR moves the unit tests for the numeric converters accordingly, and updates the `PluginsUtil` and `PluginUtilsTest` as well.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5222 from rhauch/kafka-7056

commit dad19ac00f3388040d2d4d04a7c2439f89b65021
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jun 15 08:49:45 2018 -0700

    KAFKA-7021: Update upgrade guide section for reusing source topic (#5195)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit f2cb8523d1d9c74ebf2fd6f58f51e8afc95f01ca
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Fri Jun 15 19:16:04 2018 +0800

    KAFKA-7032 The TimeUnit is neglected by KakfaConsumer#close(long, Tim… (#5182)

commit a8c17e36c3239f33925b061d99a5d1d1074bbc67
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Thu Jun 14 23:00:33 2018 -0700

    MINOR: Fix chunked down-conversion behavior when no valid batch exists after conversion (#5173)
    
    We might decide to drop certain message batches during down-conversion because older clients might not be able to interpret them. One such example is control batches which are typically removed by the broker if down-conversion to V0 or V1 is required. This patch makes sure the chunked down-conversion implementation is able to handle such cases.

commit 339fc2379dd0d01bc039518f70b017b7520dcc9f
Author: nixsticks <nikki.thean@gmail.com>
Date:   Thu Jun 14 23:26:01 2018 -0400

    KAFKA-7055: Update InternalTopologyBuilder to throw TopologyException if a processor or sink is added with no upstream node attached (#5215)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 642a97783d29bb1d43ee20e8564db7b9432dade2
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Thu Jun 14 21:47:59 2018 +0100

    KAFKA-7010: Rename ResourceNameType to PatternType (#5205)
    
    The initial PR for KIP-290 #5117 added a new `ResourceNameType`, which was initially a field on `Resource` and `ResourceFilter`. However, follow on PRs have now moved the name type fields to new `ResourcePattern` and `ResourcePatternFilter` classes. This means the old name is no longer valid and may be confusing. The PR looks to rename the class to a more intuitive `resource.PatternType`.
    
    @cmccabe also requested that the current `ANY` value for this class be renamed to avoid confusion. `PatternType.ANY` currently causes `ResourcePatternFilter` to bring back all ACLs that would affect the supplied resource, i.e. it brings back literal, wildcard ACLs, and also does pattern matching to work out which prefix acls would affect the resource.  This is very different from the behaviour of `ResourceType.ANY`, which just means the filter ignores the type of resources.
    
     `ANY` is to be renamed to `MATCH` to disambiguate it from other `ANY` filter types. A new `ANY` will be added that works in the same way as others, i.e. it will cause the filter to ignore the pattern type, (but won't do any pattern matching).
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jun Rao <junrao@gmail.com>

commit fa993fbaa00e994feb2c02b47fc646953b42d824
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 14 11:38:00 2018 -0700

    MINOR: Use ListOffsets request instead of SimpleConsumer in LogOffsetTest (#5227)
    
    Included a few clean-ups related to unused variables in tests.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit a423b1d07d7e0ec70ff8b380f944368e6ebfb53b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 14 10:37:35 2018 -0700

    MINOR: Use KafkaConsumer in GetOffsetShell (#5220)
    
    This does the minimal amount of work so that the tool
    relies on public non-deprecated APIs (i.e. it no longer
    relies on Scala clients code).
    
    Additional improvements (not included here) have
    been proposed via KIP-308.
    
    There are a few other PRs that touch this class with
    overlapping goals:
    
    - https://github.com/apache/kafka/pull/2891
    - https://github.com/apache/kafka/pull/3051
    - https://github.com/apache/kafka/pull/3320
    
    One of them remains relevant in the context of KIP-308, but
    the others have been superseded. I included the authors of
    the 3 PRs as co-authors.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Vahid Hashemian <vahidhashemian@us.ibm.com>, Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Co-authored-by: Arseniy Tashoyan <tashoyan@gmail.com>
    Co-authored-by: Vahid Hashemian <vahidhashemian@us.ibm.com>
    Co-authored-by: Mohammed Amine GARMES
    Co-authored-by: Ismael Juma <ismael@juma.me.uk>

commit 37a4d5ea46bb5ba1bdf2d7cb03c3678a128b6f9e
Author: Anna Povzner <anna@confluent.io>
Date:   Thu Jun 14 08:26:45 2018 -0700

    KAFKA-6975; Fix replica fetching from non-batch-aligned log start offset (#5133)
    
    It is possible that log start offset may fall in the middle of the batch after AdminClient#deleteRecords(). This will cause a follower starting from log start offset to fail fetching (all records). Use-cases when a follower will start fetching from log start offset includes: 1) new replica due to partition re-assignment; 2) new local replica created as a result of AdminClient#AlterReplicaLogDirs(); 3) broker that was down for some time while AdminClient#deleteRecords() move log start offset beyond its HW.
    
    Added two integration tests:
    1) Produce and then AdminClient#deleteRecords() while one of the followers is down, and then restart of the follower requires fetching from log start offset;
    2)  AdminClient#AlterReplicaLogDirs() after AdminClient#deleteRecords()
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 0dfa53c47a5a6ea0c06dfbd8341507322efe199f
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Jun 14 04:44:09 2018 -0700

    KAFKA-6711: GlobalStateManagerImpl should not write offsets of in-memory stores in checkpoint file (#5219)

commit 9a71bfb9d64dae5d0296d162a01a62d8c13324da
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Wed Jun 13 21:23:23 2018 -0700

    KAFKA-7030; Add configuration to disable message down-conversion (KIP-283) (#5192)
    
    Add support for the topic-level `message.downconversion.enable` config as part of KIP-283.

commit 0b591d703b574165fccf3c3a34f984beea140992
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 13 20:33:38 2018 -0700

    MINOR: Replace test usages of ClientUtils.fetchTopicMetadata with BaseRequestTest (#5216)
    
    For tests that are not testing the old consumers functionality. As part of this,
    consolidate `TopicMetadataTest` into `MetadataRequestTest`. Finally,
    remove `ProducerBounceTest` which has no tests left in it.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 443091b844d4119637d252a5303568e22d4f1d48
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 13 16:21:30 2018 -0700

    KAFKA-7050; Decrease default consumer request timeout to 30s (#5203)
    
    This patch changes the default `request.timeout.ms` of the consumer to 30 seconds. Additionally, it adds logic to `NetworkClient` and related to components to support timeouts at the request level. We use this to handle the special case of the JoinGroup request, which may block for as long as the value configured by `max.poll.interval.ms`.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <guozhang@confluent.io>

commit ff96d574371811c75f4f454847f67508d1de98c0
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jun 13 15:13:55 2018 -0700

    KAFKA-6860: Fix NPE in Kafka Streams with EOS enabled (#5187)
    
    Reviewers: John Roesler <john@confluent.io>, Ko Byoung Kwon, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit ce7fe8fe5f8333e1e6936e2198713211bfb0dfe5
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Wed Jun 13 17:04:53 2018 -0500

    MINOR: Use new consumer API timeout in test (#5217)
    
    The old timeout configs no longer take effect, as of
    53ca52f855e903907378188d29224b3f9cefa6cb. They are replaced
    by the new one.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit ecfe27ebab87a47542fde3ef6f4e02d06ae8cd92
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 13 14:46:05 2018 -0700

    MINOR: Upgrade Jackson to 2.9.6
    
    Upgrade strongly recommended due to security fixes for
    jackson-databind (same as ones in 2.7.9.4 and 2.8.11.2).
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit c903d5767e7432db04ac93c4db8712ff08d9b93b
Author: Jagadesh Adireddi <adireddijagadesh@gmail.com>
Date:   Thu Jun 14 03:01:51 2018 +0530

    KAFKA-6749: Fixed TopologyTestDriver to process stream processing guarantee as exactly once (#4912)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Ted Yu <yuzhihong@gmail.com>

commit 301474f0baff19400db9206c502a9f1e488a5374
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jun 13 11:00:46 2018 -0700

    MINOR: code cleanup follow up for KAFKA-6906 (#5196)
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit de4f4f530a92473edb3665c94ac386d5c53cc893
Author: Filipe Agapito <filipe.agapito@gmail.com>
Date:   Wed Jun 13 18:27:35 2018 +0100

    KAFKA-6474: Rewrite tests to use new public TopologyTestDriver [part 2] (#4986)
    
    * KAFKA-6474: Rewrite tests to use new public TopologyTestDriver [part 2]
    
    * Refactor:
      -KTableFilterTest.java
      -KTableImplTest.java
      -KTableMapValuesTest.java
      -KTableSourceTest.java
    
    * Add access to task, processorTopology, and globalTopology in TopologyTestDriver via TopologyTestDriverWrapper
    * Remove unnecessary constructor in TopologyTestDriver
    
    * Change how TopologyTestDriverWrapper#getProcessorContext sets the current node
    
    Reviewers: John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 5145d6b6b413721948bf89079b13ddbe82143bf1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 13 00:51:11 2018 -0700

    MINOR: Remove unnecessary old consumer usage in tests and other clean-ups (#5199)
    
    - Update some tests to use the Java consumer.
    - Remove ignored `ProducerBounceTest.testBrokerFailure`. This test
    is flaky and it has been superseded by `TransactionBounceTest`.
    - Use non-blocking poll for consumption methods in `TestUtils`.
    
    This is a step on the road to remove the old consumers.

commit 7a1f55567610725c5f9d5b6ddfc945b0153e6acd
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Jun 12 22:56:49 2018 -0700

    KAFKA-7009: Suppress the Reflections log warning messages in system tests
    
    This could be backported to older branches to reduce the extra log warning messages there, too.
    
    Running Connect system tests in this branch builder job: https://jenkins.confluent.io/job/system-test-kafka-branch-builder/1773/
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5151 from rhauch/kafka-7009

commit ee3d3f1b27c4f456c6ccf28d1f4b62cc45beaed8
Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
Date:   Tue Jun 12 22:15:18 2018 -0700

    KAFKA-7031: Connect API shouldn't depend on Jersey (KIP-285)
    
    Connect API currently depends on Jersey API as a side-effect of KIP-285. It should only depend on the JAX RS API.
    
    Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5190 from mageshn/KAFKA-7031
    
    (cherry picked from commit 51ac53d9037e703507c4b6bdf7658a8793c3c7ec)
    Signed-off-by: Ewen Cheslack-Postava <me@ewencp.org>

commit 22356d55ef232871f144be750087f71c5ed1e9a9
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Jun 12 21:35:45 2018 -0700

    KAFKA-7043: Modified plugin isolation whitelist with recently added converters (KIP-305)
    
    Several recently-added converters are included in the plugin isolation whitelist, similarly to the `StringConverter`. This is a change in the implementation, and does not affect the approved KIP. Several unit tests were added to verify they are being loaded in isolation, again similarly to `StringConverter`.
    
    These changes should be applied only to `trunk` and `2.0`, since these converters were added as part of KIP-305 for AK 2.0.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Magesh Nandakumar <magesh.n.kumar@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5198 from rhauch/kafka-7043

commit 70e13f032e6f594d021787583e1982225eea9388
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Tue Jun 12 21:03:19 2018 -0700

    MINOR: Remove the unused field in DelegatingClassLoader
    
    After [3173](https://github.com/apache/kafka/commit/e0150a25e8), the field "activePaths" is not used anymore.
    
    Author: Chia-Ping Tsai <chia7712@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4984 from chia7712/remove_unused_field_from_DelegatingClassLoader

commit 477ae9e860fd2a2e605bb6d9892c6eab12ef7824
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Wed Jun 13 01:35:26 2018 +0100

    MINOR: Test authorization of MetadataRequest with existing and non-existing topics (#5155)
    
    A bug in the original KIP-277 submission was caught during code review,
    but it was not detected by the tests. Fix that gap.
    
    Co-authored-by: Edoardo Comar <ecomar@uk.ibm.com>
    Co-authored-by: Mickael Maison <mickael.maison@gmail.com>

commit 329ee62da93d1a81690dea7786b99e9f1c13a48b
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Wed Jun 13 02:26:08 2018 +0200

    MINOR: Remove duplicate jfreechart definition in dependencies.gradle (#5185)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 53ca52f855e903907378188d29224b3f9cefa6cb
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Tue Jun 12 16:29:50 2018 -0700

    KAFKA-6979; Add `default.api.timeout.ms` to KafkaConsumer (KIP-266) (#5122)
    
    Adds a configuration that specifies the default timeout for KafkaConsumer APIs that could block. This was introduced in KIP-266.
    
    Reviewers: Satish Duggana <satish.duggana@gmail.com>, Jason Gustafson <jason@confluent.io>

commit a5924025126a6ab77fd9fb74cf66a180931ffecf
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Tue Jun 12 23:07:10 2018 +0100

    KAFKA-7007:  Use JSON for /kafka-acl-extended-changes path (#5161)
    
    Keep Literal ACLs on the old paths, using the old formats, to maintain backwards compatibility.
    Have Prefixed, and any latter types, go on new paths, using JSON, (old brokers are not aware of them)
    Add checks to reject any adminClient requests to add prefixed acls before the cluster is fully upgraded.
    
    Colin Patrick McCabe <colin@cmccabe.xyz>, Jun Rao <junrao@gmail.com>

commit 16190e9bfd2db13a886b4122127fbe4f96ed8f65
Author: Robert Yokota <rayokota@gmail.com>
Date:   Tue Jun 12 12:52:51 2018 -0700

    MINOR: Move FileConfigProvider to provider subpackage (#5194)
    
    This moves FileConfigProvider to the org.apache.common.config.provider package to more easily isolate provider implementations going forward.
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Randall Hauch <rhauch@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 40f63eb9c1775bd292a5d028412fb784b7854701
Author: Gitomain <lingxiaowanggo@gmail.com>
Date:   Tue Jun 12 20:54:07 2018 +0200

    KAFKA-6782: solved the bug of restoration of aborted messages for GlobalStateStore and KGlobalTable (#4900)
    
    Reviewer: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 7a590612524bd8e899c8d6bbb73daece7f352d46
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jun 12 11:12:07 2018 -0700

    KAFKA-7023: Add unit test (#5197)
    
    Add a unit test that validates after restoreStart, the options are set with bulk loading configs; and after restoreEnd, it resumes to the customized configs
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit fa1d0383902260576132e09bdf9efcc2784b55b4
Author: Jimin Hsieh <jimin.hsieh.engineer@gmail.com>
Date:   Tue Jun 12 17:08:51 2018 +0800

    MINOR: Clean up imports and unused variables (#5171)
    
    Reviewers: Dhruvil Shah <dhruvil@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit dbca6b9b88e8e2eaa6a9c091ce5d88b8229c0d39
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Jun 12 14:28:58 2018 +0530

    KAFKA-6562: Make jackson-databind an optional clients dependency (#5110)
    
    Use `provided` scope in Maven.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>

commit 2bfb239495c97e57ee51f2f462f5d09160a0d67b
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Jun 12 13:16:24 2018 +0530

    KAFKA-7029: Update ReplicaVerificationTool not to use SimpleConsumer (#5188)
    
    We need to send fetch requests to replicas so we have to use
    NetworkClient instead of KafkaConsumer.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 4580d9f16aabc44f3d97931c6bfa29de1e40bf2d
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Jun 11 23:32:30 2018 -0700

    MINOR: Remove deprecated per-partition lag metrics
    
    It takes O(n^2) time to instantiate a mbean with n attributes which can be very slow if the number of attributes of this mbean is large. This PR removes metrics whose number of attributes can grow with the number of partitions in the cluster to fix the performance issue. These metrics have already been marked for removal in 2.0 by KIP-225.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #5172 from lindong28/remove-deprecated-metrics

commit f0b1b46486ca67a5d44b68ee076af0d6e986764a
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Mon Jun 11 23:02:19 2018 -0700

    MINOR: Use SL4J string interpolation instead of string concatenation (#5113)
    
    Also tweak logging message slightly and use Records.LOG_OVERHEAD definition.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit d98ec33364d4ddb6ee53e0cd6001857207ba2089
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jun 11 16:08:24 2018 -0700

    KAFKA-7021: Reuse source based on config (#5163)
    
    This PR actually contains two changes:
    
    1. leverage on the TOPOLOGY_OPTIMIZATION config to "adjust" the topology internally to reuse the source topic.
    
    2. fixed a long dangling bug that whenever source topic is reused as changelog topic, write the checkpoint file for the consumed offset, this is done by union the ackedOffset from the producer, plus the consumed offset from the consumer, note we will priori ackedOffset since the same topic may show up in both (think about repartition topic), by doing this the consumed offset from source topics can be treated as checkpointed offset when reuse happens.
    
    3. added a few unit and integration tests with / wo the reusing, and make sure the restoration, standby task, and internal topic creation behaviors are all correct.
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit a20c8e87605edc759a452f6eee79df901a9aafa6
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jun 11 15:45:29 2018 -0700

    MINOR: Relax Unsupported Version check on BrokerCompatibilityTest (#5170)
    
    In BrokerCompatibilityTest.java, when older versioned broker is used (0.10.1, 0.10.2), LIST_OFFSET is not supported as well. Hence in the verification phase, there is a possibility that consumer hit the UnsupportedVersionException earlier than Streams actually hits it:
    
    org.apache.kafka.common.errors.UnsupportedVersionException: The broker does not support LIST_OFFSETS with version in range [2,3]. The supported range is [0,1].
    
    While the test is waiting for
    
    org.apache.kafka.common.errors.UnsupportedVersionException: Cannot create a v0 FindCoordinator request because we require features supported only in 1 or later.
    
    Both are valid errors to expect (the former is from consumer while the latter is from producer of the streams app).
    
    Reviewers: John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 3face7fce2489715c040c9756ec05406aaa657d4
Author: Arjun Satish <arjun@confluent.io>
Date:   Mon Jun 11 15:16:46 2018 -0700

    KAFKA-7003: Set error context in message headers (KIP-298)
    
    If the property `errors.deadletterqueue.context.headers.enable` is set to true, add a set of headers to the message describing the context under which the error took place.
    
    A unit test is added to check the correctness of header creation.
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5159 from wicknicks/KAFKA-7003

commit ee5cc974d2ef449444861d82e1793668184ca86f
Author: Jagadesh Adireddi <adireddijagadesh@gmail.com>
Date:   Tue Jun 12 03:10:03 2018 +0530

    KAFKA-6906: Fixed to commit transactions if data is produced via wall clock punctuation (#5105)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit cc4157d8773dc7f8b4fd771211bb24cc645e1341
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Mon Jun 11 13:32:03 2018 -0700

    KAFKA-7023: Move prepareForBulkLoad() call after customized RocksDBConfigSetter (#5166)
    
    *Summary
    options.prepareForBulkLoad() and then use the configs from the customized customized RocksDBConfigSetter. This may overwrite the configs set in prepareBulkLoad call. The fix is to move prepareBulkLoad call after applying configs customized RocksDBConfigSetter.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 49db5a63c043b50c10c2dfd0648f8d74ee917b6a
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Mon Jun 11 21:26:22 2018 +0100

    KAFKA-7005: Remove duplicate resource class. (#5184)
    
    This is a follow-on change requested as part of the initial PR for KIP-290 #5117.  @cmccabe requested that the `resource.Resource` class be factored out in favour of `ConfigResource` to avoid confusion between all the `Resource` implementations.
    
    Colin Patrick McCabe <colin@cmccabe.xyz>, Jun Rao <junrao@gmail.com>

commit 7d85785d3de7640ca0ee61e7110a32286e328343
Author: Jon Lee <jonlee@linkedin.com>
Date:   Mon Jun 11 10:35:30 2018 -0700

    KAFKA-6946; Keep the session id for incremental fetch when fetch responses are throttled
    
    Currently, a throttled fetch response is returned with INVALID_SESSION_ID, which causes dropping the current fetch session if incremental fetch is in progress. This patch fixes this by returning the correct session id.
    
    Author: Jon Lee <jonlee@linkedin.com>
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Dong Lin <lindong28@gmail.com>
    
    Closes #5164 from jonlee2/KAFKA-6946

commit 53c84dbb49ff9ef5a1946dd389e75a4d0eb174f7
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jun 11 11:29:02 2018 +0100

    KAFKA-6800: Update SASL/PLAIN and SCRAM docs to use KIP-86 callbacks (#4890)

commit a4c292173618e22b3f99ab8615c6b585c7688a40
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Jun 9 16:10:31 2018 -0700

    MINOR: Remove APIs deprecated in 0.11.0 for core and clients (#5158)
    
    Not included: old consumers and checksum methods
    
    Reviewers: Dong Lin <lindong28@gmail.com>

commit 74bdafe386ae6080d6f5ead852f9026061a65be4
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri Jun 8 12:54:26 2018 -0500

    KAFKA-5697: Use nonblocking poll in Streams (#5107)
    
    Make use of the new Consumer#poll(Duration) to avoid getting stuck in poll when the broker is unavailable.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit d2b2fbdf94cf48094081650ebc18ee860e67d8d5
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Fri Jun 8 08:39:59 2018 -0700

    KAFKA-6264; Split log segments as needed if offsets overflow the indexes (#4975)
    
    This patch adds logic to detect and fix segments which have overflowed offsets as a result of bugs in older versions of Kafka.
    
    Reviewers: Jun Rao <junrao@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 0b3989fd72acc6e989c495c63cb8ca6aa5850811
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Fri Jun 8 16:13:44 2018 +0100

    KAFKA-7006 - remove duplicate Scala ResourceNameType in preference to… (#5152)
    
    remove duplicate Scala ResourceNameType in preference to in preference to Java ResourceNameType.
    
    This is follow on work for KIP-290 and PR #5117, which saw the Scala ResourceNameType class introduced.
    
    I've added tests to ensure AclBindings can't be created with ResourceNameType.ANY or UNKNOWN.
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jun Rao <junrao@gmail.com>

commit bb260e924f1fada8f6f138b13d809b58dcc85b2c
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Jun 7 18:47:49 2018 -0700

    MINOR: remove duplicate map in StoreChangelogReader (#5143)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>

commit b4fa87cc51f0a7d640dc6ae2cc8f89f006aae652
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Fri Jun 8 00:35:30 2018 +0100

    KAFKA-7011 - Remove ResourceNameType field from Java Resource class. (#5160)
    
    The initial PR for KIP-290 #5117 added a `ResourceNameType` field to the Java and Scala `Resource` classes to introduce the concept of Prefixed ACLS.  This does not make a lot of sense as these classes are meant to represent cluster resources, which would not have a concept of 'name type'. This work has not been released yet, so we have time to change it.
    
    This PR looks to refactor the code to remove the name type field from the Java `Resource` class. (The Scala one will age out once KIP-290 is done, and removing it would involve changes to the `Authorizer` interface, so this class was not touched).
    
    This is achieved by replacing the use of `Resource` with `ResourcePattern` and `ResourceFilter` with `ResourceFilterPattern`.  A `ResourcePattern` is a combination of resource type, name and name type, where each field needs to be defined. A `ResourcePatternFilter` is used to select patterns during describe and delete operations.
    
    The adminClient uses `AclBinding` and `AclBindingFilter`. These types have been switched over to use the new pattern types.
    
    The AclCommands class, used by Kafka-acls.sh, has been converted to use the new pattern types.
    
    The result is that the original `Resource` and `ResourceFilter` classes are not really used anywhere, except deprecated methods. However, the `Resource` class will be used if/when KIP-50 is done.
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jun Rao <junrao@gmail.com>

commit 22612be46dd68255642ca50a1f78fa1790eb4759
Author: Arjun Satish <arjun@confluent.io>
Date:   Thu Jun 7 15:49:57 2018 -0700

    KAFKA-7002: Add a config property for DLQ topic's replication factor (KIP-298)
    
    Currently, the replication factor is hardcoded to a value of 3. This means that we cannot use a DLQ in any cluster setup with less than three brokers. It is better to have the user specify this value if the default value does meet the requirements.
    
    Testing: A unit test is added.
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5145 from wicknicks/KAFKA-7002

commit aa014b27099103549fac7bbbeed5ef9544b01e84
Author: Arjun Satish <arjun@confluent.io>
Date:   Thu Jun 7 15:27:13 2018 -0700

    KAFKA-7001: Rename errors.allowed.max property in Connect to errors.tolerance (KIP-298)
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5146 from wicknicks/KAFKA-7001

commit 287a92f746e898971cac0bdca18a045f2d5e0907
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 7 00:28:07 2018 -0700

    MINOR: Upgrade Gradle to 4.8 and bug fix updates for other deps (#5148)
    
    In addition to Gradle, updated snappy, owasp-dependency-check,
    apache directory service api.
    
    Gradle 4.8 fixes a fatal issue when building with Java 11, but
    full support is coming in 4.9 or later.

commit 642a09168c38e961a2936e5a2fe72f5cd83ae7a6
Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
Date:   Wed Jun 6 21:09:16 2018 -0700

    KAFKA-6991: Fix ServiceLoader issue with PluginClassLoader (KIP-285)
    
    Fix ServiceLoader issue with PluginClassLoader and add basic-auth-extension packaging & classpath
    
    *More detailed description of your change,
    if necessary. The PR title and PR message become
    the squashed commit message, so use a separate
    comment to ping reviewers.*
    
    *Summary of testing strategy (including rationale)
    for the feature or bug fix. Unit and/or integration
    tests are expected for any behaviour change and
    system tests should be considered for larger changes.*
    
    Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5135 from mageshn/KAFKA-6991

commit 150967994a69b2e26f5f68efb2a54a8522ae641d
Author: Jagadesh Adireddi <adireddijagadesh@gmail.com>
Date:   Thu Jun 7 09:12:41 2018 +0530

    KAFKA-6538: Changes to enhance  ByteStore exceptions thrown from RocksDBStore with more human readable info (#5103)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit f54acdbb13a6cf2a7ef9979f5a4e04240b1724c5
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Jun 6 21:11:03 2018 -0400

    KAFKA-6935: Add config for allowing optional optimization (#5071)
    
    Adding configuration to StreamsConfig allowing for making topology optimization optional.
    
    Added unit tests are verifying default values, setting correct value and failure on invalid values.
    
    Reviewers: John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit c140603fa9670840f47774c694a8b2d7eddb5018
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jun 6 15:29:42 2018 -0700

    MINOR: need to update system test version after version bump (#5156)

commit 0eddddb82be563bee9e4b65030e27efd5148ff4b
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jun 6 15:16:21 2018 -0700

    KAFKA-6967: TopologyTestDriver does not allow pre-populating state stores that have change logging (#5096)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, James Cheng <jylcheng@yahoo.com>, Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>

commit 594a0e1a07f57cd99faa0020b727c4af87be8fad
Author: Lee Dongjin <dongjin@apache.org>
Date:   Thu Jun 7 04:54:15 2018 +0900

    KAFKA-6993: Fix defective documentations for KStream/KTable methods (#5136)
    
    * KAFKA-6993: Fix defective documentations for KStream/KTable methods
    
    1. Fix the documentation of following methods, e.g., making more detailed description for the overloaded methods:
    
            - KStream#join
            - KStream#leftJoin
            - KStream#outerJoin
            - KTable#filter
            - KTable#filterNot
            - KTable#mapValues
            - KTable#transformValues
            - KTable#join
            - KTable#leftJoin
            - KTable#outerJoin
    
    2. (trivial) with possible new type -> with possibly new type.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit a1ca07d3163b8be05056347e9403bcd6a36d535a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jun 6 17:24:53 2018 +0100

    MINOR: Bump version to 2.1.0-SNAPSHOT (#5153)

commit 8264492deefa594567573fecd19fba3068bf3d6f
Author: Robert Yokota <rayokota@gmail.com>
Date:   Wed Jun 6 08:55:57 2018 -0700

    MINOR: Use service loader for ConfigProvider impls (KIP-297)
    
    This is a small change to use the Java ServiceLoader to load ConfigProvider plugins.  It uses code added by mageshn for Connect Rest Extensions.
    
    Author: Robert Yokota <rayokota@gmail.com>
    
    Reviewers: Magesh Nandakumar <magesh.n.kumar@gmail.com>, Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5141 from rayokota/service-loader-for-config-plugins

commit b3aa655a70d92fedfebd32cf469a87b45766fc59
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Wed Jun 6 15:22:57 2018 +0100

    KAFKA-6841: Support Prefixed ACLs (KIP-290) (#5117)
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jun Rao <junrao@gmail.com>
    
    Co-authored-by: Piyush Vijay <pvijay@apple.com>
    Co-authored-by: Andy Coates <big-andy-coates@users.noreply.github.com>

commit 0c035c46b47cd4734d0529486e776c6c18d6643d
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Wed Jun 6 11:36:52 2018 +0100

    KAFKA-6726: Fine Grained ACL for CreateTopics (KIP-277) (#4795)
    
    - CreateTopicsRequest now requires Create auth on Topic resource
    or Create on Cluster resource.
    - AclCommand --producer option adjusted
    - Existing unit and Integration tests adjusted accordingly and
    new tests added.
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Co-authored-by: Edoardo Comar <ecomar@uk.ibm.com>
    Co-authored-by: Mickael Maison <mickael.maison@gmail.com>

commit be8808dd4b4c67add4cd3b5adbc54b263a027831
Author: Paolo Patierno <ppatierno@live.com>
Date:   Wed Jun 6 05:28:03 2018 +0200

    KAFKA-5588: Remove deprecated --new-consumer tools option (#5097)
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Vahid Hashemian <vahidhashemian@us.ibm.com>, Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit a23b28726ee04530b54da939a0c371be7f4f95bb
Author: Koen De Groote <kdg.private@gmail.com>
Date:   Wed Jun 6 01:32:06 2018 +0200

    MINOR: Fix for the location of the trogdor.sh executable file in the documentation. (#5040)
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Ismael Juma <ismael@juma.me.uk>

commit e5492d77260afdffbe4d016081de30f74526f831
Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
Date:   Tue Jun 5 16:27:22 2018 -0700

    KAFKA-6997: Exclude test-sources.jar when $INCLUDE_TEST_JARS is FALSE
    
    Exclude test-sources.jar when $INCLUDE_TEST_JARS is FALSE
    
    Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Robert Yokota <rayokota@gmail.com>, Arjun Satish <arjun@confluent.io>, Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5139 from mageshn/KAFKA-6997

commit c238e14ac629b258c914dd4bf06479f7b2faa7ac
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Tue Jun 5 14:21:33 2018 -0700

    MINOR: docs should point to latest version (#5132)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit faa15b8b758ed4e3f93aaa4d49a941562bdc86bb
Author: Arjun Satish <arjun@confluent.io>
Date:   Tue Jun 5 13:59:15 2018 -0700

    KAFKA-6981: Move the error handling configuration properties into the ConnectorConfig and SinkConnectorConfig classes (KIP-298)
    
    Move the error handling configuration properties into the ConnectorConfig and SinkConnectorConfig classes, and refactor the tests and classes to use these new properties.
    
    Testing: Unit tests and running the connect-standalone script with a file sink connector.
    
    Author: Arjun Satish <arjun@confluent.io>
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Magesh Nandakumar <magesh.n.kumar@gmail.com>, Robert Yokota <rayokota@gmail.com>, Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5125 from wicknicks/KAFKA-6981

commit ba0ebca7a516d4179b6327ddc60b0b49b1265347
Author: ConcurrencyPractitioner <yohan.richard.yu@gmail.com>
Date:   Tue Jun 5 13:35:47 2018 -0700

    [KAFKA-6730] Simplify State Store Recovery (#5013)
    
    Reviewer: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 7c69de42df78bbb4a651b293038d4e957e528970
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 5 21:07:30 2018 +0100

    MINOR: Rename package `internal` to `internals` for consistency (#5137)

commit ef413699b658c939fa0a3930ddbface69bedd26e
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue Jun 5 14:49:36 2018 -0400

    KAFKA-6704: InvalidStateStoreException from IQ when StreamThread closes store (#4801)
    
    While using an iterator from IQ, it's possible to get an InvalidStateStoreException if the StreamThread closes the store during a range query.
    
    Added a unit test to SegmentIteratorTest for this condition.
    
    Reviewers: John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 86410e14d7f2947dff7c6e3e91cdb80597ff3b4c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jun 5 11:41:03 2018 -0700

    MINOR: Add missing configs for resilience settings
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>

commit ba5fd3c8a40836dd91389e566253affb0677776f
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Tue Jun 5 13:12:57 2018 -0500

    MINOR: Add regression tests for KTable mapValues and filter (#5134)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 8a166f8c28cf046cba0c596d781f1daeca795ccd
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Tue Jun 5 13:23:10 2018 +0100

    KAFKA-6750: Add listener name to authentication context (KIP-282) (#4829)
    
    PrincipalBuilder implementations can now take the listener into account
    when creating the Principal. This is especially interesting in deployments
    where inter-broker traffic is on a different listener than client traffic or
    when the same protocol is used by multiple listeners.
    
    The change in itself is mostly "plumbing" as the listener name needs to be
    passed from ChannelBuilders all the way down to all classes implementing
    AuthenticationContext.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Co-authored-by: Edoardo Comar <ecomar@uk.ibm.com>
    Co-authored-by: Mickael Maison <mickael.maison@gmail.com>

commit 9df3872fbd1526bf6aecab1fcfdc52a33ab9630e
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 5 12:08:13 2018 +0100

    KAFKA-3665: Enable TLS hostname verification by default (KIP-294) (#4956)
    
    Make HTTPS the default ssl.endpoint.identification.algorithm.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit e8ddb76573d0aba659dd97d42ac02f5ec24516d2
Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
Date:   Tue Jun 5 00:39:20 2018 +0200

    KAFKA-6938: Add documentation for accessing Headers on Kafka Streams Processor API (#5128)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 6f9f3655731ea1d46bd1f0ed0957579d831e2692
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Mon Jun 4 17:33:53 2018 -0500

    KAFKA-6813: return to double-counting for count topology names (#5075)
    
    #4919 unintentionally changed the topology naming scheme. This change returns to the prior scheme.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit c8f38dff71da356604cd357e92e4a9263bacafb4
Author: Paolo Patierno <ppatierno@live.com>
Date:   Mon Jun 4 14:31:33 2018 -0700

    KAFKA-5919; Adding checks on "version" field for tools using it
    
    Adding checks on "version" field for tools using it.
    This is a new version of the closed PR #3887 (to see for more comments and related discussion).
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5126 from ppatierno/kafka-5919-update

commit 718d6f2475d377fd220da9898d25f7c8191f98cd
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jun 4 13:43:20 2018 -0700

    MINOR: Remove deprecated KafkaStreams constructors in docs (#5118)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit d02f02130eb36cdc4375eb40bdbe4a1f9b58fc60
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jun 4 02:23:05 2018 -0700

    MINOR: Fix bug in AdminClient node reassignment following connection failure (#5112)
    
    We added logic to reassign nodes in callToSend after a connection failure, but we do not handle the case when there is no node currently available to reassign the request to. This can happen when using MetadataUpdateNodeIdProvider if all of the known nodes are blacked out awaiting the retry backoff. To fix this, we need to ensure that the call is added to pendingCalls if a new node cannot be found.

commit 202ab22b9837169294a2bcff0a9f00016d859e0d
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sun Jun 3 14:22:12 2018 +0530

    KAFKA-5523: Remove ReplayLogProducer tool (#5092)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 0cacbcf30e0a90ab9fad7bc310e5477cf959f1fd
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Jun 2 23:45:44 2018 -0700

    MINOR: Remove usages of JavaConversions and fix some typos (#5115)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit f6d7377f95b80686e51f8b60de57f2769685945a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Jun 2 18:28:16 2018 -0700

    KAFKA-6912; Add test for authorization with custom principal types
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Dong Lin <lindong28@gmail.com>
    
    Closes #5030 from rajinisivaram/MINOR-group-test

commit 7b0254e00f137c574783341358b654c7a38f6135
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Jun 2 17:01:43 2018 -0700

    HOTFIX: Fix compilation error in ConsumerPerformance (#5127)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 1d5f8649ce3e7c8d3b437e89b2cfbc6fdc18e49f
Author: Alex Dunayevsky <rootex-@users.noreply.github.com>
Date:   Sun Jun 3 02:43:53 2018 +0300

    KAFKA-6743; ConsumerPerformance fails to consume all messages [KIP-281]  (#4818)
    
    This patch implements KIP-281, which adds a configurable timeout to the consumer performance tool with a default value of 10 seconds. The old timeout was hard-coded as 1 second. Additionally, this patch adds a warning message when the tool exits after a timeout rather than returning silently.
    
    Reviewers: Dhruvil Shah <dhruvil@confluent.io>, Jason Gustafson <jason@confluent.io>

commit adec6d6e47e18882ba012ae4f1fa8793c18bd0e1
Author: Robert Yokota <rayokota@gmail.com>
Date:   Sat Jun 2 13:14:55 2018 -0700

    MINOR: Fix JMX serialization by reverting lazy computation of JMX attributes (#5114)
    
    This reverts commit c9ec292135f26d1d70a (#5011). That
    commit introduces an anonymous inner class which retains a
    reference to the non-serializable outer class `KafkaMbean`
    breaking Serialization. This means that reading JMX metrics
    via JConsole or JmxTool no longer works since RMI relies
    on Java Serialization.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Dong Lin <lindong28@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit 341d5db2604f20a8bd2a69e9ad08d14462829068
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Jun 2 12:41:55 2018 -0700

    KAFKA-6955: Use Java AdminClient in DeleteRecordsCommand (#5088)
    
    - Removed internal kafka.admin.AdminClient.deleteRecordsBefore since it's
    no longer used.
    - Removed redundant tests and rewrote non redundant ones to use the Java
    AdminClient.
    
    Reviewers: Viktor Somogyi <viktor.somogyi@cloudera.com>, Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit 73e2cbbd8f56f70bd5ef4594adc3770fa5a402ce
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Sat Jun 2 00:40:16 2018 +0100

    KAFKA-6760: Fix response logging in the Controller (#4834)
    
    - Override toString in LeaderAndIsrResponse and StopReplicaResponse
    - Add unit tests
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit cb2f024f87aa1d4848eb059b15fefd7eca028a73
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Fri Jun 1 17:48:44 2018 -0400

    MINOR: Use thread name and task for sensor name (#5111)
    
    Changes to keep the operation name as is and make the sensor name unique.
    
    Reviewers: John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 0120e88e2cab1c02cac471ab4acc76ce876bf72b
Author: huxi <huxi_2b@hotmail.com>
Date:   Fri Jun 1 22:12:42 2018 +0800

    KAFKA-6973: Validate topic config message.timestamp.type (#5106)
    
    Specifying an invalid config (i.e. something other than `CreateTime` or
    `LogAppendTime`) via `TopicCommand` would previously cause the
    broker to fail on start-up.
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit e24916a68f8259046be677e7f8c1f365960e0dc3
Author: emmanuel Harel <emmanuel.harel@zenika.com>
Date:   Fri Jun 1 13:09:24 2018 +0200

    MINOR:Fix table outer join test (#5099)

commit ad56f04af9d6173628f3ec41b0d9fd9f35855c14
Author: Joan Goyeau <joan@goyeau.com>
Date:   Fri Jun 1 01:19:37 2018 +0100

    KAFKA-6936: Implicit materialized for aggregate, count and reduce (#5066)
    
    In #4919 we propagate the SerDes for each of these aggregation operators.
    
    As @guozhangwang mentioned in that PR:
    
    ```
    reduce: inherit the key and value serdes from the parent XXImpl class.
    count: inherit the key serdes, enforce setting the Serdes.Long() for value serdes.
    aggregate: inherit the key serdes, do not set for value serdes internally.
    ```
    
    Although it's all good for reduce and count, it is quiet unsafe to have aggregate without Materialized given. In fact I don't see why we would not give a Materialized for the aggregate since the result type will always be different (otherwise use reduce) and also the value Serde is simply not propagated.
    
    This has been discussed previously in a broader PR before but I believe for aggregate we could pass implicitly a Materialized the same way we pass a Joined, just to avoid the stupid case. Then if the user wants to specialize, he can give his own Materialized.
    
    Reviewers: Debasish Ghosh <dghosh@acm.org>, Guozhang Wang <guozhang@confluent.io>

commit 837f31dd1850b179918f83338b4b4487486b2c58
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Wed May 30 23:03:51 2018 -0700

    KAFKA-6927; Chunked down-conversion to prevent out of memory errors on broker [KIP-283] (#4871)
    
    Implementation for lazy down-conversion in a chunked manner for efficient memory usage during down-conversion. This pull request is mainly to get initial feedback on the direction of the patch. The patch includes all the main components from KIP-283.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit d166485be15d95192ec1b2818f815fa58726ec54
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed May 30 22:39:42 2018 -0700

    KAFKA-6054: Add 'version probing' to Kafka Streams rebalance (#4636)
    
    implements KIP-268
    
    Reviewers: Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 3683d475edb7dbb4990ba6da7861552a602537bd
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 30 17:28:17 2018 -0700

    MINOR: Follow-up improvements for KIP-266 (#5084)
    
    This patch contains a few follow-up improvements/cleanup for KIP-266:
    
    - Add upgrade notes
    - Add missing `commitSync(Duration)` API
    - Improve timeout messages and fix some naming inconsistencies
    - Various small cleanups
    
    Reviewers: John Roesler <john@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 08e8facdc9fce3a9195f5f646b49f55ffa043c73
Author: Robert Yokota <rayokota@gmail.com>
Date:   Wed May 30 14:43:11 2018 -0700

    KAFKA-6886: Externalize secrets from Connect configs (KIP-297)
    
    This commit allows secrets in Connect configs to be externalized and replaced with variable references of the form `${provider:[path:]key}`, where the "path" is optional.
    
    There are 2 main additions to `org.apache.kafka.common.config`: a `ConfigProvider` and a `ConfigTransformer`.  The `ConfigProvider` is an interface that allows key-value pairs to be provided by an external source for a given "path".  An a TTL can be associated with the key-value pairs returned from the path.  The `ConfigTransformer` will use instances of `ConfigProvider` to replace variable references in a set of configuration values.
    
    In the Connect framework, `ConfigProvider` classes can be specified in the worker config, and then variable references can be used in the connector config.  In addition, the herder can be configured to restart connectors (or not) based on the TTL returned from a `ConfigProvider`.  The main class that performs restarts and transformations is `WorkerConfigTransformer`.
    
    Finally, a `configs()` method has been added to both `SourceTaskContext` and `SinkTaskContext`.  This allows connectors to get configs with variables replaced by the latest values from instances of `ConfigProvider`.
    
    Most of the other changes in the Connect framework are threading various objects through classes to enable the above functionality.
    
    Author: Robert Yokota <rayokota@gmail.com>
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5068 from rayokota/KAFKA-6886-connect-secrets

commit f33e9a346e22e29bb66e0ea0f3442903d136ca67
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 30 11:54:53 2018 -0700

    KAFKA-4936: Add dynamic routing in Streams (#5018)
    
    implements KIP-303
    
    Reviewers: Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit f8dfbb067caa797c19494e12da6b4c6786980f73
Author: Arjun Satish <arjun@confluent.io>
Date:   Wed May 30 11:39:45 2018 -0700

    KAFKA-6738: Implement error handling for source and sink tasks (KIP-298)
    
    This PR implements the features described in this KIP: https://cwiki.apache.org/confluence/display/KAFKA/KIP-298%3A+Error+Handling+in+Connect
    
    This PR changes the Connect framework to allow it to automatically deal with errors encountered while processing records in a Connector. The following behavior changes are introduced here:
    
    **Retry on Failure**: Retry the failed operation a configurable number of times, with backoff between each retry.
    **Task Tolerance Limits**: Tolerate a configurable number of failures in a task.
    
    We also add the following ways to report errors, along with sufficient context to simplify the debugging process:
    
    **Log Error Context**: The error information along with processing context is logged along with standard application logs.
    **Dead Letter Queue**: Produce the original message into a Kafka topic (applicable only to sink connectors).
    
    New **metrics** which will monitor the number of failures, and the behavior of the response handler are added.
    
    The changes proposed here **are backward compatible**. The current behavior in Connect is to kill the task on the first error in any stage. This will remain the default behavior if the connector does not override any of the new configurations which are provided as part of this feature.
    
    Testing: added multiple unit tests to test the retry and tolerance logic.
    
    Author: Arjun Satish <arjun@confluent.io>
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Magesh Nandakumar <magesh.n.kumar@gmail.com>, Randall Hauch <rhauch@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5065 from wicknicks/KAFKA-6378

commit 14171fa8b43e445afd7731463e0b548422602712
Author: Florian Hussonnois <fhussonnois@gmail.com>
Date:   Wed May 30 20:13:24 2018 +0200

    KAFKA-6957 make InternalTopologyBuilder accessible from AbstractStream subclasses (#5085)
    
    Currently, the AbstractStream class defines a copy-constructor that allow to extend KStream and KTable APIs with new methods without impacting the public interface.
    
    However adding new processor or/and store to the topology is made throught the internalTopologyBuilder that is not accessible from AbstractStream subclasses defined outside of the package (package visibility).
    
    Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 2b6630b518c7edb74b2fc225c2bcd39ef5e4aa26
Author: Dark <ekdxhrl0096@gmail.com>
Date:   Thu May 31 03:09:12 2018 +0900

    Remove duplicate code which is invoked twice (#5039)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>

commit 1e0793c4cea44368b0fa07e361a27ad638136448
Author: Joan Goyeau <joan@goyeau.com>
Date:   Wed May 30 19:03:58 2018 +0100

    Update doc of curried joins and aggregates (#5053)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 1facab387f8c2e513c8b7397430251dc44970e35
Author: Jon Lee <jonlee@jonlee-ld1.linkedin.biz>
Date:   Wed Apr 11 17:03:20 2018 -0700

    KAFKA-6028: Improve the quota throttle communication (KIP-219)
    
    This implements KIP-219, where a broker returns a response with throttle time on
    quota violation immediately after processing the corresponding request.  After
    the response is sent out, the broker will keep the channel muted until the
    throttle time is over. Also, on receiving a response with throttle time, client
    will block outgoing communication to the broker for the specified throttle time.
    
    See PR 4830, 5064 and 5094 for all the review history
    
    Author: Jon Lee <jonlee@jonlee-ld1.linkedin.biz>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>,  Dong Lin <lindong28@gmail.com>
    
    Closes #5064 from jonlee2/kip-219

commit f24a62d4acfc48e23dd4bbb854668a727e9445a8
Author: ConcurrencyPractitioner <yohan.richard.yu@gmail.com>
Date:   Wed May 30 08:29:54 2018 -0700

    KAFKA-6608; Add timeout parameter to blocking consumer calls [KIP-266] (#5014)
    
    This patch implements the consumer timeout APIs from KIP-266 (everything except `poll()`, which was done separately).
    
    Reviewers:  John Roesler <john@confluent.io>, Jason Gustafson <jason@confluent.io>

commit d99f4a0ffa65ae3a654b043547f114a16fbe4905
Author: Dong Lin <dolin@linkedin.com>
Date:   Tue May 29 22:09:21 2018 -0700

    KAFKA-6617; Improve controller performance by batching reassignment znode write operation
    
    KafkaController currently writes reassignment znode once for every partition that has been successfully reassigned. This is unnecessary and controller should be able to update reassignment znode once to remove all partitions that have been reassigned from the reassignment znode.
    
    Author: Dong Lin <dolin@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4659 from lindong28/KAFKA-6617

commit 98094954a27849b027831a7401e965c6a949790c
Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
Date:   Tue May 29 21:35:22 2018 -0700

    KAFKA-6776: ConnectRestExtension Interfaces & Rest integration (KIP-285)
    
    This PR provides the implementation for KIP-285 and also a reference implementation for authenticating BasicAuth credentials using JAAS LoginModule
    
    Author: Magesh Nandakumar <magesh.n.kumar@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Arjun Satish <wicknicks@users.noreply.github.com>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4931 from mageshn/KIP-285

commit fffb9c5b5cac1a669f22dd99860774d6c0fdb94b
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue May 29 16:37:33 2018 -0700

    KAFKA-6913: Add Connect converters and header converters for short, integer, long, float, and double (KIP-305)
    
    *[KIP-305](https://cwiki.apache.org/confluence/display/KAFKA/KIP-305%3A+Add+Connect+primitive+number+converters) has been approved.*
    
    Added converters and header converters for the primitive number types for which Kafka already had serializers and deserializers. All extend a common base class, `NumberConverter`, that encapsulates most of the shared functionality. Unit tests were added to check the basic functionality.
    
    These classes are not used by any other Connect code, and must be explicitly used in Connect workers and connectors.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Arjun Satish <wicknicks@users.noreply.github.com>, Magesh Nandakumar <magesh.n.kumar@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5034 from rhauch/kafka-6913

commit 4943c3f2f7976dc9ff7ba143f6debc1b07642c0d
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue May 29 19:33:00 2018 -0400

    MINOR: reduce commit time on test (#5095)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit a64ab91238aa8fc499397374c3589127425fb229
Author: Chris Egerton <chrise@confluent.io>
Date:   Tue May 29 16:22:47 2018 -0700

    KAFKA-5540: Deprecate internal converter configs (KIP-174)
    
    Implementation of [KIP-174](https://cwiki.apache.org/confluence/display/KAFKA/KIP-174+-+Deprecate+and+remove+internal+converter+configs+in+WorkerConfig)
    
    Configuration properties 'internal.key.converter' and 'internal.value.converter'
    are deprecated, and default to org.apache.kafka.connect.json.JsonConverter.
    
    Warnings are logged if values are specified for either, or if properties that
    appear to configure instances of internal converters (i.e., ones prefixed with
    either 'internal.key.converter.' or 'internal.value.converter.') are given.
    
    The property 'schemas.enable' is also defaulted to false for internal
    JsonConverter instances (both for keys and values) if it isn't specified.
    
    Documentation and code have also been updated with deprecation notices and
    annotations, respectively.
    
    Unit tests have been updated in `PluginsTest` to account for the new defaults for `schemas.enable` for internal key/value converters, and to ensure that (for the time being), internal key/value converters are still configurable despite being deprecated.
    
    Author: Chris Egerton <chrise@confluent.io>
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4693 from C0urante/kafka-5540

commit 3a8d3a792755cb2bc2a72d3a64dd84b6c8653035
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue May 29 16:37:17 2018 +0100

    KAFKA-6916; Refresh metadata in admin client if broker connection fails (#5050)
    
    Refresh metadata if broker connection fails so that new calls are sent only to nodes that are alive and requests to controller are sent to the new controller if controller changes due to broker failure. Also reassign calls that could not be sent.
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 24a7b1c6a5b20d29d605446fa7162624d76b2529
Author: Andras Beni <andrasbeni@cloudera.com>
Date:   Mon May 28 21:11:50 2018 +0200

    MINOR: Remove findbugs exclusion matching removed old producer (#5090)
    
    KAFKA-6921 removed deprecated scala producer. This pull request removes the now unnecessary findbugs exclusion that matched one of the affected classes.

commit 8bf20bb58637a59aa816e9d9668741a15fe9b55d
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue May 29 00:38:14 2018 +0530

    MINOR: Update consumer javadoc for invalid operations on unassigned partitions  (#5005)
    
    Document cases where  `IllegalStateException` is raised when attempting an invalid operation on an unassigned partition. Also change `position()` to raise `IllegalStateException` when called on an unassigned partition for consistency.

commit b7513214860008070568eae2f28b7eb581166d72
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun May 27 10:04:58 2018 -0700

    MINOR: Remove MaxPermSize from gradle.properties
    
    No longer needed since we dropped support for Java 7.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5083 from ijuma/remove-max-perm-size

commit c470ff70d3e829c8b12f6eb6cc812c4162071a1f
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Sat May 26 13:50:51 2018 -0500

    KAFKA-5697; Implement new consumer poll API from KIP-266 (#4855)
    
    Add the new stricter-timeout version of `poll` proposed in KIP-266.
    
    The pre-existing variant `poll(long timeout)` would block indefinitely for metadata
    updates if they were needed, then it would issue a fetch and poll for `timeout` ms
    for new records. The initial indefinite metadata block caused applications to become
    stuck when the brokers became unavailable. The existence of the timeout parameter
    made the indefinite block especially unintuitive.
    
    This PR adds `poll(Duration timeout)` with the semantics:
    1. iff a metadata update is needed:
        1. send (asynchronous) metadata requests
        2. poll for metadata responses (counts against timeout)
            - if no response within timeout, **return an empty collection immediately**
    2. if there is fetch data available, **return it immediately**
    3. if there is no fetch request in flight, send fetch requests
    4. poll for fetch responses (counts against timeout)
        - if no response within timeout, **return an empty collection** (leaving async fetch request for the next poll)
        - if we get a response, **return the response**
    
    The old method, `poll(long timeout)` is deprecated, but we do not change its semantics, so it remains:
    1. iff a metadata update is needed:
        1. send (asynchronous) metadata requests
        2. poll for metadata responses *indefinitely until we get it*
    2. if there is fetch data available, **return it immediately**
    3. if there is no fetch request in flight, send fetch requests
    4. poll for fetch responses (counts against timeout)
        - if no response within timeout, **return an empty collection** (leaving async fetch request for the next poll)
        - if we get a response, **return the response**
    
    One notable usage is prohibited by the new `poll`: previously, you could call `poll(0)` to block for metadata updates, for example to initialize the client, supposedly without fetching records. Note, though, that this behavior is not according to any contract, and there is no guarantee that `poll(0)` won't return records the first time it's called. Therefore, it has always been unsafe to ignore the response.

commit 8d1e96181da777800e82b5c34457dc313539eced
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Sat May 26 15:54:41 2018 +0800

    MINOR: Replace unused variables by underscore (#5003)
    
    And remove one unused expression.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 8c5d7e0408a62aa5f414e8b707050bf8e313a57e
Author: Ron Dagostino <rndgstn@gmail.com>
Date:   Sat May 26 03:18:41 2018 -0400

    KAFKA-6562: OAuth Authentication via SASL/OAUTHBEARER (KIP-255) (#4994)
    
    This KIP adds the following functionality related to SASL/OAUTHBEARER:
    
    1) Allow clients (both brokers when SASL/OAUTHBEARER is the inter-broker protocol as well as non-broker clients) to flexibly retrieve an access token from an OAuth 2 authorization server based on the declaration of a custom login CallbackHandler implementation and have that access token transparently and automatically transmitted to a broker for authentication.
    
    2) Allow brokers to flexibly validate provided access tokens when a client establishes a connection based on the declaration of a custom SASL Server CallbackHandler implementation.
    
    3) Provide implementations of the above retrieval and validation features based on an unsecured JSON Web Token that function out-of-the-box with minimal configuration required (i.e. implementations of the two types of callback handlers mentioned above will be used by default with no need to explicitly declare them).
    
    4) Allow clients (both brokers when SASL/OAUTHBEARER is the inter-broker protocol as well as non-broker clients) to transparently retrieve a new access token in the background before the existing access token expires in case the client has to open new connections.

commit d45d7ec781c7ab6d481d8e7495a08459de29d264
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sat May 26 12:19:31 2018 +0530

    KAFKA-2951; Add a test to verify produce, consume with ACLs for topic/group wildcard resources (#5054)

commit 7f19df29ac60ec9aef1dbd14704a2dd045b1cfbf
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri May 25 17:55:21 2018 -0700

    MINOR: AdminClient should respect retry backoff
    
    AdminClient should backoff when retrying a Call. Fixed and added a unit test
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5077 from hachikuji/admin-client-retry-backoff

commit 39fe105dfd1cae724238f5452d91c84cb6820e50
Author: maytals <32610030+maytals@users.noreply.github.com>
Date:   Sat May 26 03:10:59 2018 +0300

    Minor: Fixed ConsumerOffset#path (#5060)
    
    consumer offset path in zookeeper should be /consumers/${group}/offsets/${topic}/${partition} instead of /consumers/${group}/offset/${topic}/${partition}. Added `s` to the word `offset`.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Manikumar Reddy O <manikumar.reddy@gmail.com>, Jun Rao <junrao@gmail.com>

commit ab3ff7101c710f873b192f25697adc8fa6f72c0e
Author: yaphet <darion.yaphet@gmail.com>
Date:   Sat May 26 07:26:44 2018 +0800

    KAFKA-6930: Convert byte array to string in KafkaZkClient debug log (#5061)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 345db596502de59a3119d2f86186143395b74e5b
Author: Jun Rao <junrao@gmail.com>
Date:   Fri May 25 16:19:12 2018 -0700

    KAFKA-6937: In-sync replica delayed during fetch if replica throttle is exceeded (#5074)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Dong Lin <lindong28@gmail.com>, Ben Stopford <benstopford@gmail.com>

commit c9ec292135f26d1d70a40809026a420e4092f1c3
Author: Radai Rosenblatt <radai.rosenblatt@gmail.com>
Date:   Fri May 25 15:38:59 2018 -0700

    Improve kafka client sensor registration performance by lazily calculating JMX attributes
    
    When any metric (e.g. per-partition metric) is created or deleted,
    registerMBean() is called which in turn calls getMBeanInfo().getClassName().
    However, KafkaMbean.getMBeanInfo() instantiates an array of all sensors even
    though we only need the class name. This costs a lot of CPU to register
    sensors when consumer with large partition assignment starts. For example, it
    takes 5 minutes to start a consumer with 35k partitions. This patch reduces the
    consumer startup time seconds.
    
    Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
    
    Reviewers: Satish Duggana <satish.duggana@gmail.com>, Dong Lin <lindong28@gmail.com>
    
    Closes #5011 from radai-rosenblatt/fun-with-jmx

commit 70f0d0bd3f16aa6493271398da34c5960066456c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri May 25 07:00:56 2018 -0700

    MINOR: Use reflection for signal handler and do not enable it for IBM JDK (#5047)
    
    The Signal classes are not available in the compile classpath
    if --release is used so we use reflection as a workaround.
    As part of that moved the code to Java and added a simple
    unit test.
    
    Also disabled the signal handler if the IBM JDK is being used
    due to KAFKA-6918.
    
    Manually tested shutdown via ctrl+c and verified that
    the message is printed.

commit 440445e7c58508413006d37a475d642283ef984b
Author: Sasaki Toru <sasakitoa@users.noreply.github.com>
Date:   Fri May 25 16:47:54 2018 +0900

    KAFKA-2061; Offer a --version flag to print the kafka version [KIP-278] (#639)
    
    Reviewers: Andy Lindeman, Jeremy Donahue, Jason Gustafson <jason@confluent.io>

commit 7132a85fc394bc0627fe1763c17cb523d8a8ff37
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 24 17:32:49 2018 -0700

    KAFKA-6921; Remove old Scala producer and related code
    
    * Removed Scala producers, request classes, kafka.tools.ProducerPerformance, encoders,
    tests.
    * Updated ConsoleProducer to remove Scala producer support (removed `BaseProducer`
    and several options that are not used by the Java producer).
    * Updated a few Scala consumer tests to use the new producer (including a minor
    refactor of `produceMessages` methods in `TestUtils`).
    * Updated `ClientUtils.fetchTopicMetadata` to use `SimpleConsumer` instead of
    `SyncProducer`.
    * Removed `TestKafkaAppender` as it looks useless and it defined an `Encoder`.
    * Minor import clean-ups
    
    No new tests added since behaviour should remain the same after these changes.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Dong Lin <lindong28@gmail.com>
    
    Closes #5045 from ijuma/kafka-6921-remove-old-producer

commit ff9f928c16ddf95311f1c1badc64212b4975e623
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri May 25 00:24:37 2018 +0100

    KAFKA-6911; Fix dynamic keystore/truststore update check (#5029)
    
    Fix the check, add unit test to verify the change, update `DynamicBrokerReconfigurationTest` to avoid dynamic keystore update in tests which are not expected to update keystores.

commit 0f86e6884070ec9c867c9354ae331aceeb90b1e8
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 23 12:13:04 2018 -0700

    MINOR: Remove dependence on __consumer_offsets in AdminClient listConsumerGroups
    
    Avoid dependence on the internal __consumer_offsets topic to handle `listConsumerGroups()` since it unnecessarily requires users to have Describe access on an internal topic. Instead we query each broker independently. For most clusters, this amounts to the same thing since the default number of partitions for __consumer_offsets is 50. This also provides better encapsulation since it avoids exposing the use of __consumer_offsets, which gives us more flexibility in the future.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5007 from hachikuji/remove-admin-use-of-offsets-topic

commit e8847205f93851b544899e08e00e17ec2d66f617
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue May 22 16:24:54 2018 -0700

    MINOR: Fix transiently failing consumer group admin integration test (#5067)
    
    Since the producer is using retries=0, we need to await topic creation before sending any records.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 133108cdacf7ee1cc4569e797f2cdf9ec60f7fdd
Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
Date:   Wed May 23 00:44:37 2018 +0200

    KAFKA-6850: Add Record Header support to Kafka Streams Processor API (KIP-244) (#4955)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 7ecfbab92fa0993a3046ff0c3d4fc69f319f13a3
Author: Jeremy Custenborder <jcustenborder@gmail.com>
Date:   Tue May 22 13:53:15 2018 -0700

    KAFKA-5807 - Check Connector.config() and Transformation.config() returns a valid ConfigDef
    
    Little back story on this. Was helping a user over email. This could be much easier to debug if we assume that the connector developer might not return valid configs. For example Intellij will generate a stub that returns a null. This was the case that inspired this JIRA.
    
    Author: Jeremy Custenborder <jcustenborder@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3762 from jcustenborder/KAFKA-5807

commit 5be47a2f269ad5356a19c353c1e53e20bf9c140c
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue May 22 11:23:47 2018 -0700

    MINOR: AdminClient consumer group domain objects should have public constructors (#5063)
    
    These constructors should be public to allow users to write test cases using them. We follow a similar pattern for the other domain objects that we expose in `AdminClient` (e.g. `TopicDescription`).
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit c1b30a12b1a01ca0d1e39783884e8180f79ed8b1
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue May 22 10:11:48 2018 -0700

    MINOR: AdminClient metadata manager should reset state on failure
    
    If the internal metadata request fails, we must reset the state inside `AdminClientMetadataManager` or we will be stuck indefinitely in the `UPDATE_PENDING` state and have no way to fetch new metadata.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #5057 from hachikuji/fix-admin-client-metadata-update-failure

commit a30ecc67556e46e423a16e725bd712eb72ab338b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 22 09:57:11 2018 -0700

    MINOR: Remove o.a.kafka.common.utils.Base64 and IS_JAVA8_COMPATIBLE
    
    We no longer need them since we now require Java 8.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Andras Beni <andrasbeni@cloudera.com>, Manikumar Reddy O <manikumar.reddy@gmail.com>, Dong Lin <lindong28@gmail.com>
    
    Closes #5049 from ijuma/remove-base64

commit 6281fbcb6ad3c1f7172af0ba590fa1e2605093de
Author: Filipe Agapito <filipe.agapito@gmail.com>
Date:   Tue May 22 16:48:54 2018 +0100

    KAFKA-6474: Rewrite tests to use new public TopologyTestDriver [part 3] (#5052)
    
    * KAFKA-6474: Rewrite tests to use new public TopologyTestDriver [part 3]
    
    * Refactor:
      - KStreamWindowReduceTest
      - KTableMapKeysTest
      - SessionWindowedKStreamImplTest
      - TimeWindowedKStreamImplTest
    
    * Remove unnecessary @SuppressWarnings(unchecked)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 193c77968251a06b2393d1d286425a4f4ec97d10
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 22 00:15:40 2018 -0700

    MINOR: Remove unnecessary conditional in KafkaAdminClient to fix checkstyle (#5058)

commit e70a191d3038e00790aa95fbd1e16e78c32b79a4
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 21 23:17:42 2018 -0700

    KAFKA-4423: Drop support for Java 7 (KIP-118) and update deps (#5046)
    
    * Set --source, --target and --release to 1.8.
    * Build Scala 2.12 by default.
    * Remove some conditionals in the build file now that Java 8
    is the minimum version.
    * Bump the version of Jetty, Jersey and Checkstyle (the newer
    versions require Java 8).
    * Fixed issues uncovered by the new version if Checkstyle.
    * A couple of minor updates to handle an incompatible source
    change in the new version of Jetty.
    * Add dependency to jersey-hk2 to fix failing tests caused
    by Jersey upgrade.
    * Update release script to use Java 8 and to take into account
    that Scala 2.12 is now built by default.
    * While we're at it, bump the version of Gradle, Gradle plugins,
    ScalaLogging, JMH and apache directory api.
    * Minor documentation updates including the readme and upgrade
    notes. A number of Streams Java 7 examples can be removed
    subsequently.

commit 95b46a12e5a74da2699b3472c639cc82b28cea96
Author: Jagadesh Adireddi <adireddijagadesh@gmail.com>
Date:   Mon May 21 21:10:17 2018 -0700

    KAFKA-6685: Added Exception to distinguish message Key from Value during deserializing.
    
    https://issues.apache.org/jira/browse/KAFKA-6685
    
    Added Exception message in `WorkerSinkTask.convertMessages` to distinguish message Key from Value during deserialization to Kafka connect format.
    
    *More detailed description of your change,
    if necessary. The PR title and PR message become
    the squashed commit message, so use a separate
    comment to ping reviewers.*
    
    *Summary of testing strategy (including rationale)
    for the feature or bug fix. Unit and/or integration
    tests are expected for any behaviour change and
    system tests should be considered for larger changes.*
    
    Author: Jagadesh Adireddi <adireddijagadesh@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4765 from jadireddi/KAFKA-6685---log-message-should-distinguish-key-from-value

commit 70a506b9839605304a0a67b70e711a1139b47cbe
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 21 17:28:40 2018 -0700

    MINOR: Ignore test_broker_type_bounce_at_start system test (#5055)
    
    test_broker_type_bounce_at_start tries to validate that when the controller is down, the streams client will always fail trying to create the topic; with the current behavior of admin client it is actually not always true: the actual behavior depends on the admin client internals as well as when the controller becomes unavailable during the leader assign partitions phase. I'd suggest at least ignore this test for now until the admin client has more stable (personally I'd even suggest removing this test as its coverage benefits is smaller than its introduced issues to me).
    
    Also adding a few more log4j entries as a result of investigating this issue.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit cbce95d9a5273a072c6c1e3d489760d5d52e638e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 21 11:50:19 2018 -0700

    MINOR: Reduce required occurrance from 100 to 10 (#5048)
    
    Due to #4644 the consumer connector logs will be much more clean with fewer "broker may not be available" entries. We need to reduce the required frequency from 100 to a smaller number.
    
    I've thought about reducing to just 1, but it may still be transient (i.e. even if broker is starting up you may see a few entries) so I reduced it to 10.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 16ad358d64a138fc4b455379745ae1550a93d57b
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Mon May 21 08:37:35 2018 -0700

    KAFKA-6868; Fix buffer underflow and expose group state in the consumer groups API (#4980)
    
    * The consumer groups API should expose group state and coordinator information.  This information is needed by administrative tools and scripts that access consume groups.
    
    * The partition assignment will be empty when the group is rebalancing. Fix an issue where the adminclient attempted to deserialize this empty buffer.
    
    * Remove nulls from the API and make all collections immutable.
    
    * DescribeConsumerGroupsResult#all should return a result as expected, rather than Void
    
    * Fix exception text for GroupIdNotFoundException, GroupNotEmptyException. It was being filled in as "The group id The group id does not exist was not found" and similar.
    
    Reviewers: Attila Sasvari <asasvari@apache.org>, Andras Beni <andrasbeni@cloudera.com>, Dong Lin <lindong28@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 96cda0e07ac4981a642c6b32fa543bcce78be769
Author: Joan Goyeau <joan@goyeau.com>
Date:   Mon May 21 00:25:16 2018 +0100

    MINOR: Fix type inference on joins and aggregates (#5019)
    
    The type inference doesn't currently work for the join functions in Scala as it doesn't know yet the types of the given KStream[K, V] or KTable[K, V].
    
    The fix here is to curry the joiner function. I personally prefer this notation but this also means it differs more from the Java API.
    I believe the diff with the Java API is worth in this case as it's not only solving the type inference but also fits better the Scala way of coding (ex: fold).
    
    Moreover any Scala dev will bug and spend little time on these functions trying to understand why the type inference is not working and then get frustrated to be obliged to be explicit here where it's not harmful to be inferred.
    
    Reviewers: Debasish Ghosh <dghosh@acm.org>, Guozhang Wang <guozhang@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit 9752ccad552543964c2ba92a152cb67636233e13
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun May 20 10:24:07 2018 -0700

    KAFKA-6729: Follow up; disable logging for source KTable. (#5038)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit f65f3a878fc23c658ba2e62f9a1863a7b3d2bd4f
Author: David Glasser <glasser@meteor.com>
Date:   Sat May 19 18:44:20 2018 -0700

    KAFKA-6905: Document that Transformers may be re-used by Streams (#5026)
    
    This is a follow-up to #5022 which added documentation to the Processor
    interface. This commit adds similar documentation to Transformer and
    ValueTransformer.
    
    Also, s/processor/transformer/ in the close() docs.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 4e1c8ffd0d44ab7d1c0ca9ac9d70a98b46f35181
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Fri May 18 16:06:50 2018 -0700

    KAFKA-6849: add transformValues methods to KTable. (#4959)
    
    See the KIP: https://cwiki.apache.org/confluence/display/KAFKA/KIP-292%3A+Add+transformValues%28%29+method+to+KTable
    
    This PR adds the transformValues method to the KTable interface. The semantics of the call are the same as the methods of the same name on the KStream interface.
    
    Fixes KAFKA-6849
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit c53e274d3128bc92f0e8b6a79c407cf764f16f7b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri May 18 21:30:12 2018 +0100

    KAFKA-6917; Process txn completion asynchronously to avoid deadlock (#5036)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 05ea580091a230a7843e0a7312e7980fc54f302e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri May 18 10:58:10 2018 -0700

    MINOR: Remove unused class (#5037)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit ee8abb2f7053575bd2abec8152907e0642b1d713
Author: Robert Yokota <rayokota@gmail.com>
Date:   Fri May 18 10:39:34 2018 -0700

    KAFKA-6566: Improve Connect Resource Cleanup
    
    This is a change to improve resource cleanup for sink tasks and source tasks.  Now `Task.stop()` is called from both `WorkerSinkTask.close()` and `WorkerSourceTask.close()`.
    
    It is called from `WorkerXXXTask.close()` since this method is called in the `finally` block of `WorkerTask.run()`, and Connect developers use `stop()` to clean up resources.
    
    Author: Robert Yokota <rayokota@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #5020 from rayokota/K6566-improve-connect-resource-cleanup

commit 58a910f0a7e6e2da4af9f1fcebdabeb22d909fcb
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Fri May 18 10:05:09 2018 -0500

    KAFKA-5697: revert wakeup-based impl (#5035)
    
    The wakeup-based strategy caused more problems than it
    solved, so we'll instead focus on KIP-266.
    
    Revert commit 2d8049b.
    
    Keep the metrics addition and the new test util.
    
    Also keep the tests for shutdown, although they must be ignored until
    poll(Duration) is done in the scope of KIP-266.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit ba237c5d21abb8b63c5edf53517654a214157582
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu May 17 17:20:12 2018 -0700

    HOTFIX: use ConsumedInternal in StreamsBuilder

commit 6b8e79b13780d4e91d79325e0bf9f1c8df191176
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu May 17 11:56:07 2018 -0700

    HOTFIX: move Conusmed to o.a.k.streams.kstream (#5033)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 1a324d784cfc53288730b7c1b5c1bde0685e4686
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu May 17 11:28:45 2018 -0700

    KAFKA-6729: Reuse source topics for source KTable's materialized store's changelog (#5017)
    
    1. In InternalTopologyBuilder#topicGroups, which is used in StreamsPartitionAssignor, look for book-kept storeToChangelogTopic map before creating a new internal changelog topics. In this way if the source KTable is created, its source topic stored in storeToChangelogTopic will be used.
    
    2. Added unit test (confirmed that without 1) it will fail).
    
    3. MINOR: removed TODOs that are related to removed KStreamBuilder.
    
    4. MINOR: removed TODOs in StreamsBuilderTest util functions and replaced with TopologyWrapper.
    
    5. MINOR: removed StreamsBuilderTest#testFrom as it is already covered by TopologyTest#shouldNotAllowToAddSourcesWithSameName, plus it requires KStreamImpl.SOURCE_NAME which should be a package private field of the KStreamImpl.
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias
     J. Sax <matthias@confluent.io>

commit ac9de822b2164426a6ebfce62ab0ad10766c2cad
Author: Joan Goyeau <joan@goyeau.com>
Date:   Thu May 17 16:44:50 2018 +0100

    MINOR: Use Set instead of List for multiple topics (#5024)
    
    Debasish Ghosh <dghosh@acm.org>, Guozhang Wang <guozhang@confluent.io>

commit 0b3712d8a5fceacffb388eb9ee9ca583723a096d
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed May 16 13:58:25 2018 -0700

    MINOR: add missing parameter `processing.guaratees` to Streams docs (#5023)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit d4204e8b1456c46d4a343e219855cbe1ea20aa4a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 16 13:23:20 2018 -0700

    MINOR: fix broken links in streams doc (#5025)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit e9154b7960fd9fe9bf05811e4e9972698eeec355
Author: David Glasser <glasser@meteor.com>
Date:   Wed May 16 13:10:21 2018 -0700

    KAFKA-6905: Document that Processors may be re-used by Streams (#5022)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit c9161afda998e42d8ee9ebbfe5e647ff337bd19b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue May 15 20:26:19 2018 -0700

    MINOR: doc change for deprecate removal (#5006)
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 1e207b2ef83db4296fb944ade4c301794f9e8460
Author: Boyang Chen <bchen11@outlook.com>
Date:   Tue May 15 14:29:07 2018 -0700

    KAFKA-6896: Add producer metrics exporting in KafkaStreams (#4998)
    
    We would like to also export the producer metrics from StreamThread just like consumer metrics, so that we could gain more visibility of stream application. The approach is to pass in the threadProducer into the StreamThread so that we could export its metrics in dynamic.
    
    Note that this is a pure internal change that doesn't require a KIP, and in the future we also want to export admin client metrics. A followup KIP for admin client will be created once this is merged.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 0bb48a1669d7fdc30d3768f087fd6e592530dde2
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon May 14 23:04:56 2018 -0700

    KAFKA-3473; More Controller Health Metrics (KIP-237)
    
    This patch adds a few metrics that are useful for monitoring controller health. See KIP-237 for more detail.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4392 from lindong28/KAFKA-3473

commit 9947cd40c617d4e12690b81a2d28624355580e34
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri May 11 17:19:11 2018 -0700

    MINOR: Ensure sensor names are unique in Kafka Streams (#5009)
    
    Reviewer: Guozhang Wang <guozhang@confluent.io>

commit adeced299785bbeab53241e0013a1f22cdeae76f
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri May 11 13:53:27 2018 -0700

    HOTFIX: RegexSourceIntegrationTest needs to cleanup shared output topic (#5008)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit caca1fdc90b6ef877385b044b2a3230f8e6e9874
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri May 11 11:38:02 2018 -0700

    KAFKA-6813: Remove deprecated APIs in KIP-182, Part III (#4991)
    
    1. Remove TopologyBuilder, TopologyBuilderException, KStreamBuilder,
    
    2. Completed the leftover work of https://issues.apache.org/jira/browse/KAFKA-5660, when we remove TopologyBuilderException.
    
    3. Added MockStoreBuilder to replace MockStateStoreSupplier, remove all XXStoreSupplier except StateStoreSupplier as it is still referenced in the logical streams graph.
    
    4. Minor: rename KStreamsFineGrainedAutoResetIntegrationTest.java to FineGrainedAutoResetIntegrationTest.java.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit c14b0ad9eeffa3fadb2d04a23f5673fc6bb94ac9
Author: Joel Hamill <11722533+joel-hamill@users.noreply.github.com>
Date:   Fri May 11 10:27:07 2018 -0700

    MINOR - Fix typo in Streams Dev Guide (#4972)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 40d191b563cb8e94b28b15a217a759a1df9b6759
Author: Joan Goyeau <joan@goyeau.com>
Date:   Fri May 11 18:15:48 2018 +0100

    MINOR: Count fix and Type alias refactor in Streams Scala API (#4966)
    
    Reviewers: Debasish Ghosh <dghosh@acm.org>, Guozhang Wang <guozhang@confluent.io>

commit ec7ba32af6542c6dbbf264a79804d25a98707971
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Fri May 11 21:19:49 2018 +0530

    KAFKA-6394; Add a check to prevent misconfiguration of advertised listeners (#4897)
    
    Do not allow server startup if one of its configured advertised listeners has already been registered by another broker.

commit 6eb7cf1300fc0c411ffab93de041654bc10918bf
Author: fedosov-alexander <alexander.s.fedosov@yandex.ru>
Date:   Fri May 11 18:44:27 2018 +0300

    KAFKA-5965: Remove Deprecated AdminClient from Streams Resetter Tool (#4968)
    
    Removed usage of deprecated AdminClient from StreamsResetter
    No additional tests are required.
    
    Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit c3921d489f4da80aad6f387158c33ec2e4bca52d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 10 22:06:18 2018 -0700

    MINOR: Rename RecordFormat to RecordVersion (#4809)
    
    Also include a few clean-ups:
    
    * Method/variable/parameter renames to make them consistent with
    the class name
    * Return `ApiVersion` from `minSupportedFor`
    * Use `values` to remove some code duplication
    * Reduce duplication in `ApiVersion` by introducing the `shortVersion`
    method and building the versions map programatically
    * Avoid unnecessary `regex` in `ApiVersion.apply`
    * Added scaladoc to a few methods
    
    Some of these were originally discussed in:
    
    https://github.com/apache/kafka/pull/4583#pullrequestreview-98089400
    
    Added a test for `ApiVersion.shortVersion`. Relying on existing tests
    for the rest since there is no change in behaviour.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit a5ea6d10a8152df8f1dcb3d7c3fe3635325d82e4
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu May 10 17:31:12 2018 -0700

    MINOR: A few small cleanups in AdminClient from KAFKA-6299 (#4989)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit f69900cd1e6b17196e88321062e865d6585c6423
Author: Robert Yokota <rayokota@gmail.com>
Date:   Thu May 10 15:49:39 2018 -0700

    KAFKA-6894: Improve err msg when connecting processor with global store (#5000)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 7ed7cca4c9ee854432132a4fbf9be9d655dabbf2
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu May 10 22:17:59 2018 +0100

    KAFKA-6893; Create processors before starting acceptor in SocketServer (#4999)

commit c90bbc2749d80d8fed7484dcf34aeae0593dde59
Author: Gunju Ko <gunjuko92@gmail.com>
Date:   Fri May 11 01:53:49 2018 +0900

    MINOR: Fix typo in ConsumerRebalanceListener JavaDoc (#4996)

commit fa1702fece04c5fc50149fc9b05d77a459b7180b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu May 10 09:50:59 2018 -0700

    MINOR: Remove deprecated valueTransformer.punctuate (#4993)
    
    Also removed the InternalValueTransformerWithKey / Supplier which is used to mock away the deprecated punctuate function.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit 830ee16d0d043bad281ba25ed7287f7d45ac9c09
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu May 10 16:55:15 2018 +0100

    MINOR: Update dynamic broker configuration doc for truststore update (#4954)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 4f7c11a1df26836c7a15f062a5431adb3d371a86
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Thu May 10 19:27:45 2018 +0800

    KAFKA-6870 Concurrency conflicts in SampledStat (#4985)
    
    Make `KafkaMetric.measurableValue` thread-safe
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 9679c44d2b521b5c627e7bde375c0883f5857e0c
Author: Anna Povzner <anna@confluent.io>
Date:   Wed May 9 18:49:51 2018 -0700

     KAFKA-6361: Fix log divergence between leader and follower after fast leader fail over (#4882)
    
    Implementation of KIP-279 as described here: https://cwiki.apache.org/confluence/display/KAFKA/KIP-279%3A+Fix+log+divergence+between+leader+and+follower+after+fast+leader+fail+over
    
    In summary:
    - Added leader_epoch to OFFSET_FOR_LEADER_EPOCH_RESPONSE
    - Leader replies with the pair( largest epoch less than or equal to the requested epoch, the end offset of this epoch)
    - If Follower does not know about the leader epoch that leader replies with, it truncates to the end offset of largest leader epoch less than leader epoch that leader replied with, and sends another OffsetForLeaderEpoch request. That request contains the largest leader epoch less than leader epoch that leader replied with.
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Jun Rao <junrao@gmail.com>

commit 0b1a118f45418aba6af03e71e7169e38cb3ec9af
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 9 17:13:05 2018 -0700

    KAFKA-6813: Remove deprecated APIs in KIP-182, Part II (#4976)
    
    1. Remove the deprecated StateStoreSuppliers, and the corresponding Stores.create() functions and factories: only the base StateStoreSupplier and MockStoreSupplier were still preserved as they are needed by the deprecated TopologyBuilder and KStreamBuilder. Will remove them in a follow-up PR.
    
    2. Add TopologyWrapper.java as the original InternalTopologyBuilderAccessor was removed, but I realized it is still needed as of now.
    
    3. Minor: removed StateStoreTestUtils.java and inline its logic in its callers since now with StoreBuilder it is just a one-liner.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 8fb5b3701307f7ce597083f41b3c812680f7195d
Author: tedyu <yuzhihong@gmail.com>
Date:   Wed May 9 17:06:47 2018 -0700

    KAFKA-6878 Switch the order of underlying.init and initInternal (#4988)
    
    This is continuation of #4978.
    From Guozhang:
    
    I think to fix this issue, in init we could consider switching the steps of 1 and 2:
    
    initInternal(context);
    underlying.init(context, root);
    
    since
    
    volatile boolean open = false;
    
    it should be sufficient. In this case the check on step 3) will fail if underlying.init is not completed and we will throw InvalidStateStoreException.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit abbd53da4ad98c3a95118c9770a9d247e54b0eef
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Wed May 9 14:27:28 2018 -0700

    KAFKA-6299; Fix AdminClient error handling when metadata changes (#4295)
    
    When AdminClient gets a NOT_CONTROLLER error, it should refresh its metadata and retry the request, rather than making the end-user deal with NotControllerException.
    
    Move AdminClient's metadata management outside of NetworkClient and into AdminMetadataManager. This will make it easier to do more sophisticated metadata management in the future, such as implementing a NodeProvider which fetches the leaders for topics.
    
    Rather than manipulating newCalls directly, the AdminClient service thread now drains it directly into pendingCalls. This minimizes the amount of locking we have to do, since pendingCalls is only accessed from the service thread.

commit e32dcb9a669bc354cc97cb45f14f0dbad9657693
Author: tedyu <yuzhihong@gmail.com>
Date:   Wed May 9 10:42:10 2018 -0700

    KAFKA-6878: NPE when querying global state store not in READY state (#4978)
    
    Check whether cache is null before retrieving from cache.
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 5ca9ed5ede4f03cdef54cdbce70be3fdf052157d
Author: asutosh936 <asutosh.pandya@hotmail.com>
Date:   Wed May 9 12:34:44 2018 -0500

    KAFKA 6673: Implemented missing override equals method (#4745)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 0ecb72f59da6491edc96b99b147b4983be794acf
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed May 9 11:46:36 2018 +0100

    KAFKA-6834: Handle compaction with batches bigger than max.message.bytes (#4953)
    
    Grow buffers in log cleaner to hold one message set after sanity check even if message set is bigger than max.message.bytes.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>

commit b27e098a7dbcc07c6abb758de570596c74722025
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Tue May 8 23:02:33 2018 -0700

    MINOR: Fix trace logging in ReplicaManager (#4916)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 7afcb3a64c53831f05f99037dfa07aba1d396c48
Author: Adem Efe Gencer <agencer@linkedin.com>
Date:   Tue May 8 18:57:34 2018 -0700

    KAFKA-6877; Remove completedFetch upon a failed parse if it contains no records.
    
    This patch removed a completedFetch from the completedFetches queue upon a failed parse if it contains no records. The following scenario explains why this is needed for an instance of this case – i.e. in TopicAuthorizationException.
    
    0. Let's assume a scenario, in which the consumer is attempting to read from a topic without the necessary read permission.
    1. In Fetcher#fetchedRecords(), after peeking the completedFetches, the Fetcher#parseCompletedFetch(CompletedFetch) throws a TopicAuthorizationException (as expected).
    2. Fetcher#fetchedRecords() passes the TopicAuthorizationException up without having a chance to poll completedFetches. So, the same completedFetch remains at the completedFetches queue.
    3. Upon following calls to Fetcher#fetchedRecords(), peeking the completedFetches will always return the same completedFetch independent of any updates to the ACL that the topic is trying to read from.
    4. Hence, despite the creation of an ACL with correct permissions, once the consumer sees the TopicAuthorizationException, it will be unable to recover without a bounce.
    
    Author: Adem Efe Gencer <agencer@linkedin.com>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>
    
    Closes #4974 from efeg/fix/parseCompletedFetchRemainsInQueue

commit fcb15e357c1b818d2d543dc9db3e011ddc1fbf5e
Author: Roman Khlebnov <suppie.rk@gmail.com>
Date:   Wed May 9 03:07:50 2018 +0300

    KAFKA-6292; Improve FileLogInputStream batch position checks to avoid type overflow (#4928)
    
    Switch from sum operations to subtraction to avoid type casting in checks and type overflow during `FlieLogInputStream` work, especially in cases where property `log.segment.bytes` was set close to the `Integer.MAX_VALUE` and used as a `position` inside `nextBatch()` function.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit b328fc729b79fee6a9d210cf25890068d92943ee
Author: dan norwood <dan.norwood@gmail.com>
Date:   Tue May 8 16:07:33 2018 -0700

    MINOR: add equals()/hashCode() for Produced/Consumed (#4979)
    
    Reviewer: Matthias J. Sax <matthias@confluent.io>

commit bce10794a016f86cda63ceb437d8db7dfc65063b
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue May 8 15:52:43 2018 -0700

    KAFKA-6879; Invoke session init callbacks outside lock to avoid Controller deadlock (#4977)
    
    Fixes a deadlock between the controller's beforeInitializingSession callback which holds the zookeeper client initialization lock while awaiting completion of an asynchronous event which itself depends on the same lock.
    
    Also catch and log callback exceptions to ensure the ZooKeeper reconnection takes place.
    Finally, configure KafkaScheduler in ZooKeeperClient to have at least 1 thread.
    
    Added tests that fail or hang without the changes in this PR.
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit b88d70b53290af715034a1f772a271f7e44505fd
Author: Joan Goyeau <joan@goyeau.com>
Date:   Tue May 8 17:15:31 2018 +0100

    MINOR: Make Serdes less confusing in Scala (#4963)
    
    Serdes are confusing in the Scala wrapper:
    
    * We have wrappers around Serializer, Deserializer and Serde which are not very useful.
    * We have Serdes in 2 places org.apache.kafka.common.serialization.Serde and in DefaultSerdes, instead we should be having only one place where to find all the Serdes.
    
    I wanted to do this PR before the release as this is a breaking change.
    This shouldn't add more so the current tests should be enough.
    
    Reviewers: Debasish Ghosh <dghosh@acm.org>, Guozhang Wang <guozhang@confluent.io>

commit 2b5a59406622affa1e333e073546f075f59b4ac9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 7 17:34:34 2018 -0700

    KAFKA-6813: Remove deprecated APIs in KIP-182, Part I (#4919)
    
    I'm breaking KAFKA-6813 into a couple of "smaller" PRs and this is the first one. It focused on:
    
    Remove deprecated APIs in KStream, KTable, KGroupedStream, KGroupedTable, SessionWindowedKStream, TimeWindowedKStream.
    
    Also found a couple of overlooked bugs while working on them:
    
    2.a) In KTable.filter / mapValues without the additional parameter indicating the materialized stores, originally we will not materialize the store. After KIP-182 we mistakenly diverge the semantics: for KTable.mapValues it is still the case, for KTable.filter we will always materialize.
    
    2.b) In XXStream/Table.reduce/count, we used to try to reuse the serdes since their types are pre-known (for reduce it is the same types for both key / value, for count it is the same types for key, and Long for value). This was somehow lost in the past refactoring.
    
    2.c) We are enforcing to cast a Serde<V> to Serde<VR> for XXStream / Table.aggregate, for which the returned value type is NOT known, such the enforced casting should not be applied and we should require users to provide us the value serde if they believe the default ones are not applicable.
    
    2.d) Whenever we are creating a new MaterializedInternal we are effectively incrementing the suffix index for the store / processor-node names. However in some places this MaterializedInternal is only used for validation, so the resulted processor-node / store suffix is not monotonic.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 55dd97097f51e9e9a687c35afa0cfd38d60a6b45
Author: Liju John <lijubjohn@users.noreply.github.com>
Date:   Mon May 7 23:27:35 2018 +0530

    KAFKA-6628: RocksDBSegmentedBytesStoreTest does not cover time window serdes (#4836)
    
    Updated RocksDBSegmentedBytesStoreTest class to include time window serdes.
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 42771eb37d6abd0a34220d30773e559680bdf9b0
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 7 09:44:45 2018 -0700

    MINOR: Remove deprecated KTable#writeAs, print, foreach, to, through (#4910)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 00d1137570e3b877253288ad730842551b998d3b
Author: Michael G. Noll <miguno@users.noreply.github.com>
Date:   Mon May 7 18:27:45 2018 +0200

    KAFKA-6871: KStreams Scala API: incorrect Javadocs and misleading parameter name (#4971)
    
    Reviewer: Matthias J. Sax <matthias@confluent.io>, Debasish Ghosh <dghosh@acm.org>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 32e97b1d9db46cab526d1882eaf9633934ed21bd
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 7 09:22:26 2018 -0700

    MINOR: Remove deprecated parameter in ProcessorContext#register (#4911)
    
    Updated the upgrade doc as well since we do not have an overloaded function without the deprecated parameter before. Also renamed the 1.2 release version to 2.0.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 6f641fef6a88036ab4dacb59ab21bc8b21ef9bcf
Author: Filipe Agapito <filipe.agapito@gmail.com>
Date:   Mon May 7 17:21:20 2018 +0100

    KAFKA-6474: Rewrite tests to use new public TopologyTestDriver [cleanup] (#4939)
    
    * Add method to create test properties to StreamsTestUtils
    * Make TopologyTestDriver protected constructor package-private
    * Add comment suggesting the use of TopologyTestDriver to KStreamTestDriver
    * Cleanup:
        - GlobalKTableJoinsTest
        - KGroupedStreamImplTest
        - KGroupedTableImplTest
        - KStreamBranchTest
        - KStreamFilterTest
        - KStreamFlatMapTest
        - KStreamFlatMapValuesTest
        - KStreamForeachTest
        - KStreamGlobalKTableJoinTest
        - KStreamGlobalKTableLeftJoinTest
        - KStreamImplTest
        - KStreamKStreamJoinTest
        - KStreamKStreamLeftJoinTest
        - KStreamGlobalKTableLeftJoinTest
        - KStreamKTableJoinTest
        - KStreamKTableLeftJoinTest
        - KStreamMapTest
        - KStreamMapValuesTest
        - KStreamPeekTest
        - StreamsBuilderTest
        - KStreamSelectKeyTest
        - KStreamTransformTest
        - KStreamTransformValuesTest
        - KStreamWindowAggregateTest
        - KTableForeachTest
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 893e0445150614d3538654af0e25f78d87a717ba
Author: Sean Glover <seglo@randonom.com>
Date:   Sun May 6 23:55:12 2018 -0400

    MINOR: Build and code sample updates for Kafka Streams DSL for Scala (#4949)
    
    Several build and documentation updates were required after the merge of KAFKA-6670: Implement a Scala wrapper library for Kafka Streams.
    
    Encode Scala major version into streams-scala artifacts.
    To differentiate versions of the kafka-streams-scala artifact across Scala major versions it's required to encode the version into the artifact name before its published to a maven repository. This is accomplished by following a similar release process as kafka core, which encodes the Scala major version and then runs the build for each major version of Scala supported. This is considered standard practice when releasing Scala libraries, but is not handled for us automatically with the basic Scala for Gradle support.
    
    After this change you can generate and install the kafka-streams-scala artifact into the local maven repository:
    
    $ ./gradlew -PscalaVersion=2.11 install
    $ ./gradlew -PscalaVersion=2.12 install
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>

commit 564311f5cdedd63fa03052368c321db5ce15dc4f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri May 4 16:35:17 2018 -0700

    MINOR: Remove KafkaStreams#toString (#4909)
    
    Remove the deprecated KafkaStreams#toString function. Also override toString() for internal classes for debugging purposes.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 03a2d8243d820c359d35a5feaa25bef3fdb7ca0a
Author: Surabhi Dixit <Surabhi.Dixit@student.csulb.edu>
Date:   Fri May 4 15:42:44 2018 -0700

    KAFKA-6867; Corrected the typos in upgrade.html (#4970)
    
    Reviewers: Jakob Homan <jghoman@gmail.com>, Jason Gustafson <jason@confluent.io>

commit f448e49fbe8c3c609f9beffa2f421fc0b875aa3d
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Fri May 4 18:18:44 2018 -0400

    KAFKA-6844: Call shutdown on GlobalStreamThread after all StreamThreads have stopped (#4950)
    
    Moved the shutdown of GlobalStreamThread to after all StreamThread instances have stopped.
    
    There can be a race condition where shut down is called on a StreamThread then shut down is called on a GlobalStreamThread, but if StreamThread is delayed in shutting down, the GlobalStreamThread can shutdown first.
    If the StreamThread tries to access a GlobalStateStore before closing the user can get an exception stating "..Store xxx is currently closed "
    
    Tested by running all current streams tests.
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit de8a67b56534e37ae149423aac43097645029ce0
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri May 4 09:59:36 2018 -0700

    HOTFIX: fix streams tutorial code example

commit 2d8049b713f2b9982bd43e7340a0e0f302f30d6b
Author: John Roesler <john@confluent.io>
Date:   Fri May 4 09:02:50 2018 -0700

    KAFKA-5697: issue Consumer#wakeup during Streams shutdown
    
    Wakeup consumers during shutdown to break them out of any internally blocking calls.
    
    Semantically, it should be fine to treat a WakeupException as "no work to do", which will then continue the threads' polling loops, leading them to discover that they are supposed to shut down, which they will do gracefully.
    
    The existing tests should be sufficient to verify no regressions.
    
    Author: John Roesler <john@confluent.io>
    
    Reviewers: Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4930 from vvcephei/streams-client-wakeup-on-shutdown
    
    minor javadoc updates

commit af983267be7a2d0f81527f5a348af377f30caee4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri May 4 08:42:01 2018 -0700

    MINOR: Removed deprecated schedule function (#4908)
    
    While working on this, I also refactored the MockProcessor out of the MockProcessorSupplier to cleanup the unit test paths.
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 515ce21c74743171df6cb069b4754f68fe7f2233
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Fri May 4 11:39:56 2018 -0400

    KAFKA-6761: Part 1 of 3; Graph nodes (#4923)
    
    This PR supersedes PR #4654 as it was growing too large. All comments in that PR should be addressed here.
    I will attempt to break the PRs for the topology optimization effort into 3 PRs total and will follow this general plan:
    
    1. This PR only adds the graph nodes and graph. The graph nodes will hold the information used to make calls to the InternalTopologyBuilder when using the DSL. Graph nodes are stored in the StreamsTopologyGraph until the final topology needs building then the graph is traversed and optimizations are made at that point. There are no tests in this PR relying on the follow-up PR to use all current streams tests, which should suffice.
    
    2. PR 2 will intercept all DSL calls and build the graph. The InternalStreamsBuilder uses the graph to provide the required info to the InternalTopologyBuilder and build a topology. The condition of satisfaction for this PR is that all current unit, integration and system tests pass using the graph.
    
    3. PR 3 adds some optimizations mainly automatically repartitioning for operations that may modify a key and have child operations that would normally create a separate repartition topic, saving possible unnecessary repartition topics. For example the following topology:
    
    ```
    KStream<String, String> mappedStreamOther = inputStream.map(new KeyValueMapper<String, String, KeyValue<? extends String, ? extends String>>() {
                @Override
                public KeyValue<? extends String, ? extends String> apply(String key, String value) {
    
                    return KeyValue.pair(key.substring(0, 3), value);
                }
            });
    
    
            mappedStreamOther.groupByKey().windowedBy(TimeWindows.of(5000)).count().toStream().to("count-one-out");
            mappedStreamOther.groupByKey().windowedBy(TimeWindows.of(10000)).count().toStream().to("count-two-out");
            mappedStreamOther.groupByKey().windowedBy(TimeWindows.of(15000)).count().toStream().to("count-three-out");
    ```
    
    would create 3 repartion topics, but after applying an optimization strategy, only one is created.
    
    Reviewers: John Roesler <john@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit a5318722c74ec0279a2e831e93e4164d9adcb8a1
Author: Anna Povzner <anna@confluent.io>
Date:   Thu May 3 23:06:34 2018 -0700

    KAFKA-6857; Leader should reply with undefined offset if undefined leader epoch requested (#4967)
    
    The leader must explicitly check if requested leader epoch is undefined, and return undefined offset so that the follower can fall back to truncating to high watermark. Otherwise, if the leader also is not tracking leader epochs, it may return its LEO, which will the follower to truncate to the incorrect offset.

commit 6dbd9b59e60eff821fe677af1c6ed33b96243153
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu May 3 21:05:36 2018 +0100

    KAFKA-6854; Handle batches deleted during log cleaning of logs with txns (#4962)
    
    Log cleaner grows buffers when result.messagesRead is zero. This contains the number of filtered messages read from source which can be zero when transactions are used because batches may be discarded. Log cleaner incorrectly assumes that messages were not read because the buffer was too small and attempts to double the buffer size unnecessarily, failing with an exception if the buffer is already max.message.bytes. Additional check for discarded batches has been added to avoid growing buffers when batches are discarded.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit de147837dda5865565d718d32465ec41f8f44d25
Author: Fedor Bobin <fuudtorrentsru@gmail.com>
Date:   Thu May 3 19:46:30 2018 +0300

    KAFKA-6853: ZooKeeperRequestLatencyMs is incorrect (#4961)
    
    ResponseMetadata.responseTimeMs is always 0 or negative.
    
    Reviewers: Rajini Sivaram <rajinisivaram@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit 55cdc934fb0e3bb184dc3fe3072acc918a0b1174
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 3 09:25:33 2018 -0700

    Upgrade ZooKeeper to 3.4.12 and Scala to 2.12.6 (#4940)
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 04a70bd3fe40628462f63955c8522cae625feee3
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed May 2 20:01:28 2018 -0400

    KAFKA-6829: retry commits on unknown topic or partition (#4948)
    
    For the UNKNOWN_TOPIC_OR_PARTITION error, we could change the consumer's behavior to retry after this error. While this is a rare case since the user would not commit offsets for topics unless they had been able to fetch from them, but this doesn't really handle the situation where the broker hasn't received any metadata updates.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, John Roesler <john@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit a7746dd5b4d1eb529433b33be65aa2decd99a737
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 2 13:32:05 2018 -0700

    HOTFIX: Simplify ConsoleConsumer stripWithPrefix function

commit 1b170df31c7304f6d4c938b5e0c2a09ae1e9189d
Author: Boyang Chen <bchen11@outlook.com>
Date:   Wed May 2 13:24:15 2018 -0700

    KAFKA-6657: Add StreamsConfig prefix for different consumers (#4805)
    
    This pull request is for JIRA 6657, for KIP-276.
    
    Added unit tests for new getGlobalConsumerConfigs API and make sure existing restore consumer tests are passing.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 31ce3a27050443276f8a634443ade5c251766614
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 2 11:58:43 2018 -0700

    KAFKA-6825: Make StreamsConfig#DEFAULT_PRODUCTION_EXCEPTION_HANDLER_CLASS_CONFIG public (#4929)
    
    Reviewers: Matthias J Sax <matthias@confluentio>

commit b82252b1e03c2cff9ca4059157dc850afbe047bf
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Tue May 1 23:27:20 2018 +0100

    MINOR: Removed unused imports in a few tests (#4938)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit b4d8552218c9ab41bc1e0221c4e79417a2662d19
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue May 1 15:27:02 2018 +0100

    KAFKA-6526: Enable unclean leader election without controller change (#4920)
    
    Enable dynamic update of default unclean leader election config of brokers. A new controller event has been added to process unclean leader election when the config is enabled dynamically.
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>

commit 9d2efd83a6a8e5576886dd146eebdb072f4c8d47
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Apr 30 21:08:34 2018 +0100

    KAFKA-6810; Enable dynamic update of SSL truststores (#4904)
    
    Enable broker's SSL truststores to be dynamically updated using ConfigCommand in the same way as keystores are updated.

commit f467c9c2438a8b182083879927ff171a6a2c6f2f
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Apr 30 08:59:04 2018 -0700

    MINOR: Ensure exception messages include partition/segment info when possible (#4907)
    
    Reviewers: Anna Povzner <anna@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit be5b0fd2a9513fa13f2abd5b39782e714b0c9956
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Mon Apr 30 19:59:50 2018 +0530

    MINOR: Fix sasl.jaas.config doc string (#4921)

commit 902009ea981075bdad178c96eb9e9a835d9cc52f
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Mon Apr 30 12:34:02 2018 +0100

    KAFKA-3417: Wrap metric reporter calls in try/catch blocks (#3635)
    
    Prevent exception thrown by metric reporters to impact request processing and other reporters.
    
    Co-authored-by: Mickael Maison <mickael.maison@gmail.com>
    Co-authored-by: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 6655a4d75f8d839c9f87e68fbda77ed0637825d2
Author: khairy <khaireddine120@gmail.com>
Date:   Mon Apr 30 11:18:40 2018 +0100

    KAFKA-6535: Set default retention ms for Streams repartition topics to Long.MAX_VALUE (#4730)
    
    Implements KIP-284
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit aa3c38f5950470be66dcd29aba355af9779edaaa
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Sun Apr 29 07:57:25 2018 -0700

    KAFKA-6785: Add Trogdor documentation (#4862)

commit 8577632b3a7dd3dd5ce9cf2562627983bbabba20
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Sun Apr 29 07:54:38 2018 -0700

    MINOR: Fix Trogdor tests, partition assignments (#4892)

commit c6fd3d488e8dba904f6abb2324a89466fc354387
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Sat Apr 28 01:12:57 2018 -0400

    MINOR: update VerifiableProducer to send keys if configured and removed StreamsRepeatingKeyProducerService (#4841)
    
    This PR does the following:
    
    * Remove the StreamsRepeatingIntegerKeyProducerService and the associated Java class
    * Add a parameter to VerifiableProducer.java to enable sending keys when specified
    * Update the corresponding Python file verifiable_producer.py to support the new parameter.
    
    Reviewers: Matthias J Sax <matthias@confluentio>, Guozhang Wang <wangguoz@gmail.com>

commit 0143a650911729c290a8a0b41597af375ef7c901
Author: manjuapu <manjula@confluent.io>
Date:   Fri Apr 27 16:15:55 2018 -0700

    Fix streams web doc configs tables (#4943)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 3ce14a84a8c2009198e81a077cabe4b3031f6698
Author: manjuapu <manjula@confluent.io>
Date:   Fri Apr 27 14:20:29 2018 -0700

    MINOR: Streams web doc table fix (#4942)

commit b2e0812f6946f88cef2cdffb0be603b4b769033a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Apr 27 13:40:24 2018 -0700

    HOTFIX: rename run_test to execute in streams simple benchmark (#4941)

commit e128f7f3bb6f7761225b2c0f3dfe1bf1d5d1aff8
Author: Max Zheng <maxzheng.os@gmail.com>
Date:   Thu Apr 26 21:01:27 2018 -0700

    MINOR: Pin pip to 9.0.3 as 10 is not compatible with with system pip (#4937)
    
    If not pinned, the following error will happen:
    Traceback (most recent call last):
      File "/usr/bin/pip", line 9, in <module>
        from pip import main
    ImportError: cannot import name main
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit ff1875fce0a82737069e195060b6a93881954a23
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Fri Apr 27 02:31:04 2018 +0530

    KAFKA-6778; AdminClient.describeConfigs() should return error for non-existent topics (#4866)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 8725e3604b31d0bf822959fc6d870512411c7a05
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Apr 26 13:16:51 2018 -0700

    MINOR: Remove deprecated streams config (#4906)
    
    Removed the following: "zookeeper.connect", "key.serde", "value.serde", "timestamp.extractor"
    
    Reviewers: Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>, Jason Gustafson <jason@confluent.io>

commit 885abbfcd40aab57acec278d976956f07be15090
Author: Filipe Agapito <filipe.agapito@gmail.com>
Date:   Thu Apr 26 19:30:42 2018 +0100

    KAFKA-6474: Rewrite tests to use new public TopologyTestDriver [partial] (#4832)
    
    * Remove ProcessorTopologyTestDriver from TopologyTest
    * Fix ProcessorTopologyTest
    * Remove ProcessorTopologyTestDriver and InternalTopologyAccessor
    * Partially refactored StreamsBuilderTest but missing one test
    * Refactor KStreamBuilderTest
    * Refactor AbstractStreamTest
    * Further cleanup of AbstractStreamTest
    * Refactor GlobalKTableJoinsTest
    * Refactor InternalStreamsBuilderTest
    * Fix circular dependency in build.gradle
    * Refactor KGroupedStreamImplTest
    * Partial modifications to KGroupedTableImplTest
    * Refactor KGroupedTableImplTest
    * Refactor KStreamBranchTest
    * Refactor KStreamFilterTest
    * Refactor KStreamFlatMapTest KStreamFlatMapValuesTest
    * Refactor KStreamForeachTest
    * Refactor KStreamGlobalKTableJoinTest
    * Refactor KStreamGlobalKTableLeftJoinTest
    * Refactor KStreamImplTest
    * Refactor KStreamImplTest
    * Refactor KStreamKStreamJoinTest
    * Refactor KStreamKStreamLeftJoinTest
    * Refactor KStreamKTableJoinTest
    * Refactor KStreamKTableLeftJoinTest
    * Refactor KStreamMapTest and KStreamMapValuesTest
    * Refactor KStreamPeekTest and KStreamTransformTest
    * Refactor KStreamSelectKeyTest
    * Refactor KStreamTransformValuesTest
    * Refactor KStreamWindowAggregateTest
    * Add Depercation anotation to KStreamTestDriver and rollback failing tests in StreamsBuilderTest and KTableAggregateTest
    * Refactor KTableFilterTest
    * Refactor KTableForeachTest
    * Add getter for ProcessorTopology, and simplify tests in StreamsBuilderTest
    * Refactor KTableImplTest
    * Remove unused imports
    * Refactor KTableAggregateTest
    * Fix style errors
    * Fix gradle build
    * Address reviewer comments:
      - Remove properties new instance
      - Remove extraneous line
      - Remove unnecessary TopologyTestDriver instances from StreamsBuilderTest
      - Move props.clear() to @After
      - Clarify use of timestamp in KStreamFlatMapValuesTest
      - Keep test using old Punctuator in KStreamTransformTest
      - Add comment to clarify clock advances in KStreamTransformTest
      - Add TopologyTestDriverWrapper class to access the protected constructor of TopologyTestDriver
      - Revert KTableImplTest.testRepartition to KStreamTestDriver to avoid exposing the TopologyTestDriver processor topology
      - Revert partially migrated classes: KTableAggregateTest, KTableFilterTest, and KTableImplTest
    * Rebase on current trunk an fix conflicts
    
    Reviewers: Matthias J Sax <matthias@confluentio>, Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>

commit f38bc0c33992ed4879ec37e0d425beadc088bbff
Author: Jarek Rudzinski <jarekr@users.noreply.github.com>
Date:   Fri Apr 27 02:50:22 2018 +0900

    MINOR: use jdk8 to build/run system tests (#4925)
    
    Debian installer packages are no longer available for Java 7.
    
    Also upgrade AMI to latest ubuntu/trusty 14 amd64 as the older
    one is no longer available.
    
    Note that this only changes the JDK used to build and run
    the system tests. We still have Jenkins jobs that compile
    and run the JUnit tests with Java 7 so that we don't use
    features that are only available in newer Java versions.

commit e7f019690a10306a717b9757a21d5bf01964532e
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu Apr 26 13:04:59 2018 -0400

    MINOR: Fixes for streams system tests (#4935)
    
    This PR fixes some regressions introduced into streams system tests and sets the upgrade tests to ignore until PR #4636 is merged as it has the fixes for the upgrade tests.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit fc6e92260c3ff3b5ef72ac05e7a518a8cb2e7090
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Thu Apr 26 12:01:17 2018 -0500

    MINOR: fix NamedCache metrics in Streams (#4917)
    
    * Fixes a bug in which all NamedCache instances in a process shared
    one parent metric.
    
    * Also fixes a bug which incorrectly computed the per-cache metric tag
    (which was undetected due to the former bug).
    
    * Drop the StreamsMetricsConventions#xLevelSensorName convention
    in favor of StreamsMetricsImpl#xLevelSensor to allow StreamsMetricsImpl
    to track thread- and cache-level metrics, so that they may be cleanly declared
    from anywhere but still unloaded at the appropriate time. This was necessary
    right now so that the NamedCache could register a thread-level parent sensor
    to be unloaded when the thread, not the cache, is closed.
    
    * The above changes made it mostly unnecessary for the StreamsMetricsImpl to
    expose a reference to the underlying Metrics registry, so I did a little extra work
    to remove that reference, including removing inconsistently-used and unnecessary
    calls to Metrics#close() in the tests.
    
    The existing tests should be sufficient to verify this change.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 459efb02ad243e87f42caffcf4f3a0004c41ccd6
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Apr 26 06:58:36 2018 -0700

    HOTFIX: ListConsumerGroupsResult should use KafkaFuture (#4933)

commit 6be908a8296456adee254b405605acff55fd47a5
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Wed Apr 25 17:49:02 2018 -0700

    MINOR: Refactor AdminClient ListConsumerGroups API (#4884)
    
    The current Iterator-based ListConsumerGroups API is synchronous.  The API should be asynchronous to fit in with the other AdminClient APIs.  Also fix some error handling corner cases.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>

commit cbb5b51475368613c7972297ea6055a4f75285e1
Author: Anna Povzner <anna@confluent.io>
Date:   Wed Apr 25 14:24:29 2018 -0700

    KAFKA-6795; Added unit tests for ReplicaAlterLogDirsThread
    
    Added unit tests for ReplicaAlterLogDirsThread. Mostly focused on unit tests for truncating logic.
    
    Fixed  ReplicaAlterLogDirsThread.buildLeaderEpochRequest() to use future replica's latest epoch (not the latest epoch of replica it is fetching from). This follows the logic that offset for leader epoch request should be based on leader epoch of the follower (in this case it's the future local replica).
    
    Also fixed PartitionFetchState constructor that takes offset and delay. The code ignored the delay parameter and used 0 for the delay. This constructor is used only by another constructor which passes delay = 0, which luckily works.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #4918 from apovzner/kafka-6795

commit 34a1f7099b65f43037602eb13cbffd7df276e290
Author: Xavier Léauté <xvrl@users.noreply.github.com>
Date:   Wed Apr 25 08:36:14 2018 -0700

    KAFKA-6826 avoid range scans when forwarding values during aggregation (#4927)
    
    Reviewers: Matthias J Sax <matthias@confluentio>, Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit c853ef75a11663cbee3160e64e45f46f5a8ac78c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Apr 25 03:19:31 2018 -0700

    MINOR: Bump version to 2.0.0-SNAPSHOT (#4804)

commit acd669e4248c605ac54c38862a8678f521f6f574
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Apr 24 21:49:44 2018 -0700

    KAFKA-6796; Fix surprising UNKNOWN_TOPIC error from requests to non-replicas (#4883)
    
    Currently if the client sends a produce request or a fetch request to a broker which isn't a replica,
    we return UNKNOWN_TOPIC_OR_PARTITION. This is a bit surprising to see when the topic actually
    exists. It would be better to return NOT_LEADER to avoid confusion. Clients typically handle both errors by refreshing metadata and retrying, so changing this should not cause any change in behavior on the client. This case can be hit following a partition reassignment after the leader is moved and the local replica is deleted.
    
    To validate the current behavior and the fix, I've added integration tests for the fetch and produce APIs.

commit 12a0f46895e730f6a3a4c5fc311c206f6d8219e5
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Tue Apr 24 17:40:16 2018 -0500

    KAFKA-6376: Document skipped records metrics changes (#4922)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 3bc2575dfcfbf856b75c510d986f270f7f9411ca
Author: Anna Povzner <anna@confluent.io>
Date:   Tue Apr 24 15:24:07 2018 -0700

    MINOR: Disabled flaky DynamicBrokerReconfigurationTest.testAddRemoveSslListener until fixed (#4924)
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jason Gustafson <jason@confluent.io>

commit a05e33693b66ac38ccb21f2238c194ca59fcb6ec
Author: Jagadesh Adireddi <adireddijagadesh@gmail.com>
Date:   Tue Apr 24 23:43:12 2018 +0530

    KAFKA-6677: Fixed StreamsConfig producer's max-in-flight allowed when EOS enabled. (#4868)
    
    Reviewers: Matthias J Sax <matthias@confluentio>, Bill Bejeck <bill@confluent.io>

commit b2e4db01b679e0759bdd340310a864cc83f48deb
Author: Debasish Ghosh <ghosh.debasish@gmail.com>
Date:   Mon Apr 23 13:33:35 2018 -0700

    KAFKA-6670: Implement a Scala wrapper library for Kafka Streams
    
    This PR implements a Scala wrapper library for Kafka Streams. The library is implemented as a project under streams, namely `:streams:streams-scala`. The PR contains the following:
    
    * the library implementation of the wrapper abstractions
    * the test suite
    * the changes in `build.gradle` to build the library jar
    
    The library has been tested running the tests as follows:
    
    ```
    $ ./gradlew -Dtest.single=StreamToTableJoinScalaIntegrationTestImplicitSerdes streams:streams-scala:test
    $ ./gradlew -Dtest.single=StreamToTableJoinScalaIntegrationTestImplicitSerdesWithAvro streams:streams-scala:test
    $ ./gradlew -Dtest.single=WordCountTest streams:streams-scala:test
    ```
    
    Author: Debasish Ghosh <ghosh.debasish@gmail.com>
    Author: Sean Glover <seglo@randonom.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Ismael Juma <ismael@juma.me.uk>, John Roesler <john@confluent.io>, Damian Guy <damian@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4756 from debasishg/scala-streams

commit 35c75ea5036fbffe6ac74fe4f76a633bda061fec
Author: Patrik Erdes <patrik@erdes.se>
Date:   Mon Apr 23 20:42:17 2018 +0200

    MINOR: Fix formatting in --new-consumer deprecation warning (#4903)

commit ed51b2cdf5bdac210a6904bead1a2ca6e8411406
Author: John Roesler <john@confluent.io>
Date:   Mon Apr 23 11:41:03 2018 -0700

    KAFKA-6376; refactor skip metrics in Kafka Streams
    
    * unify skipped records metering
    * log warnings when things get skipped
    * tighten up metrics usage a bit
    
    ### Testing strategy:
    Unit testing of the metrics and the logs should be sufficient.
    
    Author: John Roesler <john@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4812 from vvcephei/kip-274-streams-skip-metrics

commit 51db468bf329794b586390abf5b3069abb281ffe
Author: taekyung <dev.bistros@gmail.com>
Date:   Tue Apr 24 01:49:53 2018 +0900

    MINOR: Fixed deserialization.exception.handler default value of config-streams (#4914)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit d9e804b88952160630eb305ff05978b66cbbf49f
Author: Arjun Satish <wicknicks@users.noreply.github.com>
Date:   Fri Apr 20 13:00:11 2018 -0700

    MINOR: Clarify meaning of end offset in consumer javadocs (#4885)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 9e062b3e651bd41ad3275fb78ef577b49a108f7a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Apr 20 17:46:57 2018 +0100

    MINOR: Use distinct consumer groups in dynamic listener tests (#4870)

commit b510737e761e21e63e6ed15e5111358d7515fdd2
Author: Jagadesh Adireddi <adireddijagadesh@gmail.com>
Date:   Fri Apr 20 18:52:28 2018 +0530

    KAFKA-5253: Fixed TopologyTestDriver to handle streams created with patterns (#4793)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 1f523d9d72ad3008664146e1d2a5b40861b06072
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Apr 19 16:14:32 2018 -0700

    MINOR: add window store range query in simple benchmark (#4894)
    
    There are a couple minor additions in this PR:
    
    1. Add a new test for window store, to range query upon receiving each record.
    2. In the non-windowed state store case, add a get call before the put call.
    3. Enable caching by default to be consistent with other Join / Aggregate cases, where caching is enabled by default.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit f2514e67e01ac015c021e15274c83a8dee7db9aa
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Apr 19 15:34:13 2018 -0700

    MINOR: Fix kafka-run-class for Java 10 (#4895)
    
    We need to match to the end of the line to make it work with Java 10 as explained in the expanded comment.
    
    Tested manually for all supported versions:
    
    ```shell
    echo $(.../jdk1.8.0_152.jdk/Contents/Home/bin/java -version 2>&1 | sed -E -n 's/.* version "([0-9]*).*$/\1/p')
    1
    
    echo $(.../jdk-9.0.4.jdk/Contents/Home/bin/java -version 2>&1 | sed -E -n 's/.* version "([0-9]*).*$/\1/p')
    9
    
    echo $(.../jdk-10.jdk/Contents/Home/bin/java -version 2>&1 | sed -E -n 's/.* version "([0-9]*).*$/\1/p')
    10
    
    echo $(.../jdk-10.0.1.jdk/Contents/Home/bin/java -version 2>&1 | sed -E -n 's/.* version "([0-9]*).*$/\1/p')
    10
    ```

commit 93fd5707fab218abb2c9d13b034608f0a606bfc7
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu Apr 19 14:51:24 2018 -0400

    MINOR: Retry setting aligned time until set (#4893)
    
    In the AbstractResetIntegrationTest we can have a transient error when setting the time for the test where the new time is less than the original time, for those cases we should catch the exception and re-try setting the time once versus letting the test fail.
    
    For testing, ran the entire streams test suite.
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>

commit 2162d0713f9fa20c6b5c7fd151c7f66acd15e7ce
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Apr 18 18:35:10 2018 -0400

    KAFKA-6802: Improved logging for missing topics during task assignment (#4891)
    
    If users don't create all topics before starting a streams application, they could get unexpected results. For example, sharing a state store between sub-topologies where one input topic is not created ahead time results in log message that that "Partition X is not assigned to any tasks" does not give any clues as to how this could have occurred.
    
    Also, this PR changes the log level from INFO to WARN when metadata does not have partitions for a given topic.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 6b2be2693c60fd222bf8c80b3c9ee783feb00d40
Author: Jimin Hsieh <jimin.hsieh.engineer@gmail.com>
Date:   Thu Apr 19 06:07:09 2018 +0800

    KAFKA-6775: Fix the issue of without init super class's (#4859)
    
    Some anonymous classes of AbstractProcessor didn't initialize their superclass. This will not set up ProcessorContext context at AbstractProcessor.
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>

commit 462342210fd5d6f571d26b8af838fe77d5c5ca48
Author: Andras Beni <andrasbeni@cloudera.com>
Date:   Wed Apr 18 18:18:45 2018 +0200

    KAFKA-3365; Add documentation method for protocol types and update doc generation (#4735)
    
    Reviewers: Sandor Murakozi <smurakozi@gmail.com>, Magnus Edenhill <magnus@edenhill.se>, Jason Gustafson <jason@confluent.io>

commit 98bb75a58fc241b400ed7535d9e9723f678b4803
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Apr 18 10:20:28 2018 +0100

    KAFKA-6772: Load credentials from ZK before accepting connections (#4867)
    
    Start processing client connections only after completing KafkaServer initialization to ensure that credentials are loaded from ZK into cache before authentications are processed. Acceptors are started earlier so that bound port is known for registering in ZK.
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit cae42215b7597cc39afc682cb0399782cf42fe23
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Apr 18 09:38:27 2018 +0200

     KAFKA-6054: Update Kafka Streams metadata to version 3 (#4880)
    
     - adds Streams upgrade tests for 1.1 release
     - introduces metadata version 3
    
    Reviewers: John Roesler <john@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 0e0fd4fe8d8b3701b38dfdcd875fb4f4f98d23c2
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Apr 17 17:53:39 2018 -0700

    HOTFIX: use the new prop object (#4888)

commit 52e9ba66a5cc46abbe49c872a244e3e8cc77514e
Author: Andras Beni <andrasbeni@cloudera.com>
Date:   Wed Apr 18 01:37:34 2018 +0200

    MINOR: Add line break so example command is readable without scrolling (#4879)

commit ac9c3ed0b43ee848e6e555a01c55ea2eee78540a
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Tue Apr 17 15:13:15 2018 -0500

    KAFKA-6376: preliminary cleanup (#4872)
    
    General cleanup of Streams code, mostly resolving compiler warnings and re-formatting.
    
    The regular testing suite should be sufficient.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 83503404e4ea18a576967c71b26b91da70642ed4
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Tue Apr 17 21:07:08 2018 +0100

    KAFKA-6770; Add New Protocol Versions to 1.1.0 documentation (#4847)
    
    Update 1.1 docs to include 2 new versions to existing APIs:
    - DescribeConfigs v1
    - Fetch v7
    
    Also fix a typo in1 FetchRequest.

commit 01eddce01f94887d5f15d32d8050e8a526599fcc
Author: Valentino Proietti <valentino.proietti@kydea.com>
Date:   Tue Apr 17 09:39:33 2018 -0700

    KAFKA-6742: TopologyTestDriver error when dealing with stores from GlobalKTable
    
    guozhangwang
    
    While TopologyTestDriver works well with stores created from KTable it does not with stores from GlobalKTable.
    Moreover, for my testing purposes but I think it can be useful to others, I need to get access to the MockProducer inside TopologyTestDriver.
    
    I have added 4 new tests to TopologyTestDriverTest, two for stores from KTable and two for stores from GlobalKTable.
    
    While I was changing the TopologyTestDriver I've also make it implement java.io.Closeable.
    
    Author: Valentino Proietti <valentino.proietti@kydea.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, John Roesler <john@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4823 from Vale68/KAFKA-6742
    
    minor renaming

commit e5de679d62f734eb1cdfc91c863107b64cd630b6
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Apr 17 14:46:28 2018 +0100

    KAFKA-6765: Handle exception while reading throttle metric value in test (#4869)
    
    Quota tests wait for throttle metric to be updated without waiting for requests to complete to avoid waiting for potentially large throttle times. This requires the test to read metric values while a broker may be updating the value, resulting in exception in the test. Since this issue can also occur with JMX metrics reporter, change synchronization on metrics with sensors to use the sensor as lock.

commit 341db990dc4e2acb207622c7fa254f07650742bc
Author: gitlw <lucasatucla@gmail.com>
Date:   Mon Apr 16 17:16:08 2018 -0700

    KAFKA-6650: Allowing transition to OfflineReplica state for replicas without leadership info (#4825)
    
    A partially deleted topic can end up with some partitions having no leadership info.
    For the partially deleted topic, a new controller should be able to finish the topic deletion
    by transitioning the rogue partition's replicas to OfflineReplica state.
    This patch adds logic to transition replicas to OfflineReplica state whose partitions have
    no leadership info.
    
    Added a new test method to cover the partially deleted topic case.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 4013767d864a23c1a3eeb91806375525eb706649
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Tue Apr 17 04:43:54 2018 +0800

    MINOR: Log the exception thrown by Selector.poll (#4873)

commit 432c82d3bf6bbe679df1c2ac7cc11683e8f9c611
Author: Andy Coates <8012398+big-andy-coates@users.noreply.github.com>
Date:   Mon Apr 16 20:32:07 2018 +0100

    KAFKA-6727; Fix broken Config hashCode() and equals() (#4796)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit b6f04203501bddd355b5663861b559b4bbc90d8f
Author: ro7m <robin.mundra@gmail.com>
Date:   Mon Apr 16 23:19:41 2018 +0530

    Kafka-6792: Fix wrong pointer in the link for stream dsl (#4876)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 19418fc86aefde2acdc62f6790b2ff0bb4d15699
Author: Allen Wang <awang@netflix.com>
Date:   Mon Apr 16 10:16:26 2018 -0700

    KAFKA-6514; Add API version as a tag for the RequestsPerSec metric (#4506)
    
    Updated `RequestChannel` to include `version` as a tag for all RequestsPerSec metrics (KIP-272). Updated tests to verify that the extra tag exists.

commit f3ed56b21f6ac1e47337983b46aca1af88337e9e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Apr 16 09:53:08 2018 -0700

    MINOR: Mention that -1 disables retention by time (#4881)
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jason Gustafson <jason@confluent.io>

commit 93e03414f72c24854abaa6925149196580cfc691
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Mon Apr 16 00:55:13 2018 -0700

    KAFKA-6771. Make specifying partitions more flexible (#4850)

commit 832b096f4fcfde9e90d796470eb0ce2a26283e81
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Mon Apr 16 00:51:33 2018 -0700

    KAFKA-6696 Trogdor should support destroying tasks (#4759)
    
    Implement destroying tasks and workers.  This means erasing all record of them on the Coordinator and the Agent.
    
    Workers should be identified by unique 64-bit worker IDs, rather than by the names of the tasks they are implementing.  This ensures that when a task is destroyed and re-created with the same task ID, the old workers will be not be treated as part of the new task instance.
    
    Fix some return results from RPCs.  In some cases RPCs were returning values that were never used.  Attempting to re-create the same task ID with different arguments should fail.  Add RequestConflictException to represent HTTP error code 409 (CONFLICT) for this scenario.
    
    If only one worker in a task stops, don't stop all the other workers for that task, unless the worker that stopped had an error.
    
    Reviewers: Anna Povzner <anna@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 98713570867619de7de8e885a82d5fb0bfdb3b4e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun Apr 15 20:51:53 2018 -0700

    KAFKA-6592: Follow-up (#4864)
    
    Do not require ConsoleConsumer to specify inner serde as s special property, but just a normal property of the message formatter.

commit 0dc7f0e66f849346049f6f90cee05a2796735d14
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun Apr 15 10:15:31 2018 -0700

    KAFKA-6611, PART II: Improve Streams SimpleBenchmark (#4854)
    
    SimpleBenchmark:
    
    1.a Do not rely on manual num.records / bytes collection on atomic integers.
    1.b Rely on config files for num.threads, bootstrap.servers, etc.
    1.c Add parameters for key skewness and value size.
    1.d Refactor the tests for loading phase, adding tumbling-windowed count.
    1.e For consumer / consumeproduce, collect metrics on consumer instead.
    1.f Force stop the test after 3 minutes, this is based on empirical numbers of 10M records.
    
    Other tests: use config for kafka bootstrap servers.
    
    streams_simple_benchmark.py: only use scale 1 for system test, remove yahoo from benchmark tests.
    
    Note that the JMX based metrics is more accurate than the manually collected metrics.
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit b599b395f3d421b3fdb1d25b294778478c2467cf
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun Apr 15 10:13:22 2018 -0700

    KAFKA-6058: Refactor consumer API result return types (#4856)
    
    Refactored the return types in consumer group APIs the following way:
    
    ```
    Map<TopicPartition, KafkaFuture<Void>> DeleteConsumerGroupsResult#deletedGroups()
    
    Map<TopicPartition, KafkaFuture<ConsumerGroupDescription>> DescribeConsumerGroupsResult#describedGroups()
    
    KafkaFuture<Collection<ConsumerGroupListing>> ListConsumerGroupsResult#listings()
    
    KafkaFuture<Map<TopicPartition, OffsetAndMetadata>> ListConsumerGroupOffsetsResult#partitionsToOffsetAndMetadata()
    ```
    
    * For DeleteConsumerGroupsResult and DescribeConsumerGroupsResult, for each group id we have two round-trips to get the coordinator, and then send the delete / describe request; I leave the potential optimization of batching requests for future work.
    
    * For ListConsumerGroupOffsetsResult, it is a simple single round-trip and hence the whole map is wrapped as a Future.
    
    * ListConsumerGroupsResult, it is the most tricky one: we would only know how many futures we should wait for after the first listNode returns, and hence I constructed the flattened future in the middle wrapped with the underlying map of futures; also added an iterator API to compensate the "fail the whole future if any broker returns error" behavior. The iterator future will throw exception on the failing brokers, while return the consumer for other succeeded brokers.
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jason Gustafson <jason@confluent.io>

commit 8434d494e68be65b9f29ded26af71b0c40be530c
Author: ro7m <robin.mundra@gmail.com>
Date:   Sun Apr 15 22:26:12 2018 +0530

    KAFKA-6790: Fix Streams processor node broken link (#4874)
    
    The page here https://kafka.apache.org/11/documentation/streams/developer-guide/memory-mgmt.html talks about processor nodes and refers to non existing links.
    
    Broken link (appears twice in the same document):
    
    https://kafka.apache.org/11/documentation/streams/concepts.html#streams-concepts-processor
    
    To find this search for the word "processor node" on the page memory-management , the ones which are links are broken.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 886daf5fca70846ad0ce5b85f2522cf08b08ee44
Author: Sönke Liebau <soenke.liebau@opencore.com>
Date:   Fri Apr 13 00:45:38 2018 +0200

    KAFKA-6234; Increased timeout value for lowWatermark response to fix transient failures (#4238)
    
    Removed timeout from get call that caused the test to fail occasionally, this will instead fall back to the wrapping waitUntilTrue timeout. Also added unnesting of exceptions from ExecutionException that was originally missing and put the retrieved value for lowWatermark in the fail message for better readability in case of test failure.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit fb3a9485a8f830336e2cd07d959cf6aa0a5356a5
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Apr 12 11:36:59 2018 -0700

    MINOR: Disable failing testDescribeConsumerGroupOffsets test case (#4863)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 4e35a2bfb7f3b0437a27bb58b8cb39339f750064
Author: huxi <huxi_2b@hotmail.com>
Date:   Fri Apr 13 00:35:37 2018 +0800

    KAFKA-6592: ConsoleConsumer should support WindowedSerdes (#4797)
    
    Have Console consumer support TimeWindowedDeserializer/SessionWindowedDeserializer.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit cc43e77bbbfad71883011186de55603c936cbcd1
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Wed Apr 11 22:50:10 2018 -0500

    MINOR: make Sensor#add idempotent (#4853)
    
    This change makes adding a metric to a sensor idempotent.
    That is, if the metric is already added to the sensor, the method
    returns with success.
    
    The current behavior is that any attempt to register a second metric
    with the same name is an error.
    
    Testing strategy: There is a new unit test covering this behavior
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 7421f9dce2d2e763f70602b13df1efcd32f691b9
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Apr 11 16:47:11 2018 -0700

    KAFKA-6773; Allow offset commit/fetch/describe/delete with empty groupId (#4851)
    
    We had a regression in #4788 which caused the offset commit/fetch/describe APIs to fail if the groupId was empty. This should be allowed for backwards compatibility. Additionally, I have modified DeleteGroups to allow removal of the empty group, which was missed in the initial implementation. I've added a test case to ensure that we do not miss this again in the future.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit e4d652befe3a4ac126dced9144c1b694e7334a94
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Wed Apr 11 14:50:11 2018 -0700

    MINOR: Fix AsyncProducerTest bug that hits when logging is turned up (#4450)
    
    AsyncProducerTest gets an error about an incorrect mock when the logging
    level is turned up.  Instead of usIng a mock, just create a real
    SyncProducerConfig object, since the object is simple to create.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 83a9e04c1975f9e0fcfe41f5084a43353592b340
Author: Jimin Hsieh <jimin.hsieh.engineer@gmail.com>
Date:   Thu Apr 12 05:27:04 2018 +0800

    MINOR: Fix doc - `FileMessageSet` was replaced by `FileRecords` (#4852)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 6a99da87abff26a749cee4e765d125bec8b6c424
Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
Date:   Wed Apr 11 14:17:46 2018 -0700

    KAFKA-6058: KIP-222; Add Consumer Group operations to Admin API
    
    KIP: https://cwiki.apache.org/confluence/display/KAFKA/KIP-222+-+Add+Consumer+Group+operations+to+Admin+API
    
    Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
    Author: Jorge Esteban Quilcate Otoya <quilcate.jorge@gmail.com>
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4454 from jeqo/feature/admin-client-describe-consumer-group

commit 47918f2d79e907f6a6da599ab82a97c169722229
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Apr 11 23:18:04 2018 +0530

    KAFKA-6447: Add Delegation Token Operations to KafkaAdminClient (KIP-249) (#4427)
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit e29fa9a4ca72e6eae0a4b75ef30f2df4ffec943d
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Apr 11 23:00:30 2018 +0530

    KAFKA-6752: Enable unclean leader election metric (#4838)
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 4223ef61060673e95077abfe6aca27bc0f71fffa
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Tue Apr 10 12:48:38 2018 -0700

    MINOR: Add NullPayloadGenerator to Trogdor (#4844)

commit 5e277e5579f4a989ecef6473fbc3619178b33a35
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Apr 11 01:16:32 2018 +0530

    KAFKA-4883: handle NullPointerException while parsing login modue control flag (#4849)

commit 79c6f7cd9af462807a9f6b6313fd6c6c7908951f
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Apr 10 20:42:07 2018 +0100

    MINOR: Move creation of quota callback to ensure single instance (#4848)
    
    Move creation of quota callback instance out of KafkaConfig constructor to QuotaFactory.instantiate to avoid creating a callback instance for every KafkaConfig since we create temporary KafkaConfigs during dynamic config updates.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit e490a90625730564f712837b19f7a08b4d576764
Author: Magnus Edenhill <magnus@edenhill.se>
Date:   Tue Apr 10 13:40:42 2018 +0200

    Make [Config]Resource.toString() consistent with existing code (#4845)
    
    The toString() for ConfigResource was using { } instead of ( ) which is inconsistent with the existing toStrings in the code, while toString for Resource was using a mix of ( and }.

commit 989fe0497ec72ea3470a30a9ef47389b48ee5421
Author: Anna Povzner <anna@confluent.io>
Date:   Tue Apr 10 01:45:08 2018 -0700

     Kafka-6693: Added consumer workload to Trogdor (#4775)
    
    Added consumer only workload to Trogdor. The topics must already be pre-populated. The spec lets the user request topic pattern and range of partitions to assign to [startPartition, endPartition].
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 0a8f35b68415bb3f79b0ec61df6cb0ab0db937c4
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Apr 9 15:39:07 2018 -0700

    KAFKA-6768; Transactional producer may hang in close with pending requests (#4842)
    
    This patch fixes an edge case in producer shutdown which prevents `close()` from completing due to a pending request which will never be sent due to shutdown initiation. I have added a test case which reproduces the scenario.
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit e6b4d17c593d764875db6681f20c51828780bf75
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Apr 9 03:34:36 2018 -0700

    MINOR: Java 10 fixes so that the build passes (#4839)
    
    * Upgrade EasyMock to 3.6 which adds support for Java 10
    by upgrading to ASM 6.1.1.
    
    * Ensure that Jacoco is truly disabled for the `core` project.
    This was the original intent, since it's in Scala, but it had not
    been achieved. This is important because the Jacoco agent
    fails when it tries to instrument the classes compiled by
    scalac with Java 10.

commit 37efc79eb82e0f290d0d2a17f24001f2cbc922cc
Author: Benedict Jin <1571805553@qq.com>
Date:   Mon Apr 9 02:54:22 2018 +0800

    MINOR: Remove magic number and extract Pattern instance from method as class field (#4799)
    
    * Remove magic number
    * Extract Pattern instance from method as class field
    * Add @Override declare
    
    Reviewers: Randall Hauch <rhauch@gmail.com>

commit 40183e31567795d4d0f2b836294bc5d5fac2a56b
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Sun Apr 8 01:35:33 2018 -0700

    KAFKA-6688. The Trogdor coordinator should track task statuses (#4737)
    
    Reviewers: Anna Povzner <anna@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit fedac0cea74feeeece529ee1c0cefd6af53ecbdd
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Apr 7 20:20:21 2018 -0700

    MINOR: Mention leader in a few follower/controller log messages (#4835)

commit 0c0d8363e5787e97cce5e0b9b86486d737a6890c
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Apr 6 17:00:52 2018 -0700

    KAFKA-6054: Fix upgrade path from Kafka Streams v0.10.0 (#4779)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>, Damian Guy <damian@confluent.io>

commit 77ebd32016d13c64ee5a3c7db63ca71bf4b79aad
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Apr 6 22:49:34 2018 +0100

    KAFKA-6576: Configurable Quota Management (KIP-257) (#4699)
    
    Enable quota calculation to be customized using a configurable callback. See KIP-257 for details.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit da32db9f3462242082f23973dc154f6f5e69f069
Author: Anna Povzner <anna@confluent.io>
Date:   Fri Apr 6 11:21:41 2018 -0700

    Trogdor: Added commonClientConf and adminClientConf to workload specs (#4757)
    
    Currently, WorkerUtils will be able to create topics when there is no security. To be able to work with secure kafka, WorkerUtils.createTopic() needs to be able to take security configs. This PR adds commonClientConf field to both producer bench and roundtrip workload specs so that users can specify security and other common configs once for producer/consumer and adminClient. Also added adminClientConf field to workload specs so that users can specify adminClient specific configs if they want to. For completeness, added consumerConf and producerConf to roundtrip workload spec.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Colin P. Mccabe <cmccabe@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit ac542c9a835d3a2dd46f37712c6b5438f56747c0
Author: tedyu <yuzhihong@gmail.com>
Date:   Thu Apr 5 15:29:04 2018 -0700

    KAFKA-6747 Check whether there is in-flight transaction before aborting transaction (#4826)
    
    As Frederic reported on mailing list under the subject "kafka-streams Invalid transition attempted from state READY to state ABORTING_TRANSACTION", producer#abortTransaction should only be called when transactionInFlight is true.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <matthias@confluent.io>

commit 3abd4107082ff69619d434d456c664c21cf77f82
Author: fredfp <fredericarno@gmail.com>
Date:   Thu Apr 5 20:17:40 2018 +0200

    KAFKA-6748: double check before scheduling a new task after the punctuate call (#4827)
    
    After the punctuate() call, we would like to double check on the scheduled flag since the call itself may cancel it.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, John Roesler <john@confluent.io>

commit ed2f10e0500e48e42cf5c5b9c9358c36be332413
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Thu Apr 5 21:29:35 2018 +0530

    MINOR: Update max.connections.per.ip.overrides config docs (#4819)
    
    Add a validation check to make sure max.connections.per.ip.overrides is configured when max.connections.per.ip is set zero. Also clean up the config description.

commit 77c79df396ec232981829f2ed61c5484cc8f1722
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Thu Apr 5 19:26:27 2018 +0530

    KAFKA-6741:  Disable Selector's idle connection timeout in testNetworkThreadTimeRecorded() test (#4824)
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 63642d6051015d84aa8c084380bcab174a5f3303
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Thu Apr 5 05:35:20 2018 -0700

    KAFKA-6694: The Trogdor Coordinator should support filtering task responses (#4741)

commit 9f8c3167eb2fcab158147eb4fefdabc933b8a3a1
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Apr 5 09:41:42 2018 +0100

    KAFKA-4292: Configurable SASL callback handlers (KIP-86) (#2022)
    
    Implementation of KIP-86. Client, server and login callback handlers have been made configurable for both brokers and clients.
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ron Dagostino <rndgstn@gmail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>

commit 53d4267c59177cd826e1b0645168b1e9330bdbcd
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Thu Apr 5 15:06:14 2018 +0800

    MINOR: Don’t send the DeleteTopicsRequest for invalid topic names (#4763)
    
    The invalid topic name is already handled locally so it is unnecessary to send the DeleteTopicsRequest. This PR adds a count to MockClient for testing.
    
    Reviewers: Colin Patrick McCabe <colin@cmccabe.xyz>, Jason Gustafson <jason@confluent.io>

commit d5db4e9b8055536bdbb3b2d2308e36efa4abafcc
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Wed Apr 4 20:54:40 2018 -0500

    MINOR: fix streams test-utils dependencies (#4821)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 9313e18fbbd974a17bfd132fe8b9ea594b26a97a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Apr 3 19:23:06 2018 -0700

    KAFKA-6560: Use single query for getters as well (#4814)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, John Roesler <john@confluent.io>

commit 719a21f7c9fefc6ebe16089b2a5e4c155fde8b16
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Tue Apr 3 10:39:20 2018 -0700

    KAFKA-6739; Ignore headers when down-converting from V2 to V0/V1 (#4813)
    
    Ignore headers when down-converting to V0/V1 since they are not supported. Added a test-case to verify down-conversion sanity in presence of headers.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 1815e01188e1f1f7c71acc9fb6466dbae8e47c9e
Author: khairy <khaireddine120@gmail.com>
Date:   Tue Apr 3 16:58:13 2018 +0100

    MINOR: Refactor return value (#4810)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit d9369de8f2c6435843fb7577d313bb24e3b09cba
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Apr 3 08:48:05 2018 -0700

    KAFKA-6728: Corrected the worker’s instantiation of the HeaderConverter
    
    ## Summary of the problem
    When the `header.converter` is not specified in the worker config or the connector config, a bug in the `Plugins` test causes it to never instantiate the `HeaderConverter` instance, even though there is a default value.
    
    This is a problem as soon as the connector deals with headers, either in records created by a source connector or in messages on the Kafka topics consumed by a sink connector. As soon as that happens, a NPE occurs.
    
    A workaround is to explicitly set the `header.converter` configuration property, but this was added in AK 1.1 and thus means that upgrading to AK 1.1 will not be backward compatible and will require this configuration change.
    
    ## The Changes
    
    The `Plugins.newHeaderConverter` methods were always returning null if the `header.converter` configuration value was not specified in the supplied connector or worker configuration. Thus, even though the `header.converter` property has a default, it was never being used.
    
    The fix was to only check whether a `header.converter` property was specified when the connector configuration was being used, and if no such property exists in the connector configuration to return null. Then, when the worker configuration is being used, the method simply gets the `header.converter` value (or the default if no value was explicitly set).
    
    Also, the ConnectorConfig had the same default value for the `header.converter` property as the WorkerConfig, but this resulted in very confusing log messages that implied the default header converter should be used even when the worker config specified the `header.converter` value. By removing the default, the log messages now make sense, and the Worker still properly instantiates the correct header converter.
    
    Finally, updated comments and added log messages to make it more clear which converters are being used and how they are being converted.
    
    ## Testing
    
    Several new unit tests for `Plugins.newHeaderConverter` were added to check the various behavior. Additionally, the runtime JAR with these changes was built and inserted into an AK 1.1 installation, and a source connector was manually tested with 8 different combinations of settings for the `header.converter` configuration:
    
    1. default value
    1. worker configuration has `header.converter` explicitly set to the default
    1. worker configuration has `header.converter` set to a custom `HeaderConverter` implementation in the same plugin
    1. worker configuration has `header.converter` set to a custom `HeaderConverter` implementation in a _different_ plugin
    1. connector configuration has `header.converter` explicitly set to the default
    1. connector configuration has `header.converter` set to a custom `HeaderConverter` implementation in the same plugin
    1. connector configuration has `header.converter` set to a custom `HeaderConverter` implementation in a _different_ plugin
    1. worker configuration has `header.converter` explicitly set to the default, and the connector configuration has `header.converter` set to a custom `HeaderConverter` implementation in a _different_ plugin
    
    The worker created the correct `HeaderConverter` implementation with the correct configuration in all of these tests.
    
    Finally, the default configuration was used with the aforementioned custom source connector that generated records with headers, and an S3 connector that consumes the records with headers (but didn't do anything with them). This test also passed.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4815 from rhauch/kafka-6728

commit 67077ebbcf24448e48d6223dc7090d5d94ea7780
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Apr 3 08:36:57 2018 -0700

    MINOR: Make kafka-streams-test-utils dependencies work with releases tarballs
    
    https://github.com/apache/kafka/pull/4760 unintentionally included extra raw class files in the release tarballs by making the .class file output (instead of the jar) for a streams a dependency of the streams-test-utils. This fixes that issue by instead breaking the circular dependency by using a `compileOnly`/`provided` dependency on those sources and also including the dependency as a test dependency.
    
    I verified by using `gradlew clean installAll releaseTarGzAll`, then checking that the release tarball doesn't have the extraneous files and the installed pom file has the expected dependencies. The dependency on kafka-streams is now in the `test` scope, but that should be fine since a streams application would only use this dependency if it already had a dependency on streams in `compile` (or in weird edge cases the user could handle specifying the right dependencies). This actually seems to even be an improvement over the previous situation where the actual dependency was not expressed in the pom at all (since the dependency was on the sourceSet output rather than the actual project).
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>, John Roesler <vvcephei@users.noreply.github.com>
    
    Closes #4816 from ewencp/fix-streams-dependencies

commit e4c8e3e758cbc0b5826885644da69bb7fc3c35ef
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Apr 3 20:10:12 2018 +0530

    MINOR: Add Timed wait to SslTransportLayerTest.testNetworkThreadTimeRecorded (#4811)
    
    Avoid test hanging when there is a failure by limiting wait time.

commit 1dc30272e1e684764563e3091a19a8ff8892f8eb
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Mon Apr 2 08:45:15 2018 -0700

    KAFKA-5674; Reduce max.connections.per.ip minimum to 0 (#3610)
    
    By allowing `max.connections.per.ip` to be 0, Kafka can support IP-based filtering using `max.connections.per.ip.overrides`.

commit 8662a022c42b7a6245e8ec54c544fccd8b79b6f8
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Apr 2 08:35:17 2018 -0700

    MINOR: Fix partition loading checks in GroupCoordinator (#4788)
    
    In the group coordinator, we currently check whether the partition is owned before checking whether it is loading. Since loading is a prerequisite for partition ownership, it means that it is not actually possible to see the COORDINATOR_LOAD_IN_PROGRESS error. The impact is mostly harmless: while loading the group, the client may send unnecessary FindCoordinator requests to rediscover the coordinator. I've fixed the bug and restructured the code to enable testing.
    
    In the process of fixing this bug, the following improvements have been made:
    
    1. We now verify valid groupId in all request handlers.
    2. Currently if the coordinator is loading when a SyncGroup is received, we'll return NOT_COORDINATOR. I've changed this to return REBALANCE_IN_PROGRESS since the rebalance state will have been lost on coordinator failover. This effectively forces the consumer to rejoin the group, which seems preferable over unnecessarily rediscovering the coordinator.
    3. I added a check for the COORDINATOR_LOAD_IN_PROGRESS handler in SyncGroup. Although we do not currently return this error, it seems reasonable that we might want to some day, so it seems better to get the check in now.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit b8f8ce4146af4fbc7ae40380f1ff251b05bd8773
Author: huxi <huxi_2b@hotmail.com>
Date:   Mon Apr 2 11:36:25 2018 +0800

    KAFKA-6731: waitOnState should check the state to be the target start. (#4808)
    
    KafkaStreams.waitOnState() should check the state to be the given one instead of the hard-coded `NOT_RUNNING`.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit ac4374dc245d428f80a26ef95c59250c9f6aa975
Author: ro7m <robin.mundra@gmail.com>
Date:   Mon Apr 2 06:35:15 2018 +0530

    KAFKA-6732: Fix Streams doc ref link (#4806)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 2e5d4af83f6b9f87fc84c0ff10462a5414ff8cb4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun Apr 1 17:37:00 2018 -0700

    MINOR: refactor error message of task migration (#4803)
    
    In the stream thread capture of the TaskMigration exception, print the task full information in WARN. In other places only log as INFO, plus additional context information.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 4106cb1db18cc45cbbeb54546a7468a4727bd88f
Author: Nick Travers <n.e.travers@gmail.com>
Date:   Sat Mar 31 07:57:19 2018 -0700

    KAFKA-4914: Partition reassignment tool should check types before persisting state in ZooKeeper (#2708)
    
    Prior to this, there have been instances where invalid data was allowed to be persisted in
    ZooKeeper, which causes ClassCastExceptions when a broker is restarted and reads this
    type-unsafe data.
    
    Adds basic structural and type validation for the reassignment JSON via
    introduction of Scala case classes that map to the expected JSON
    structure. Also use the Scala case classes to deserialize the JSON
    to avoid duplication.
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Viktor Somogyi <viktor.somogyi@cloudera.com>, Ismael Juma <ismael@juma.me.uk>

commit 2ef6ee2338178c7501f5bd4c7cce5f4cea9d3e17
Author: gitlw <lucasatucla@gmail.com>
Date:   Thu Mar 29 22:08:28 2018 -0700

    KAFKA-6630: Speed up the processing of TopicDeletionStopReplicaResponseReceived events on the controller (#4668)
    
    Reviewed by Jun Rao <junrao@gmail.com>

commit fc0d0021cc74bf957b3ebf7e5d98e40f718fe1c4
Author: JieFang.He <he.jiefang@zte.com.cn>
Date:   Fri Mar 30 07:24:34 2018 +0800

    KAFKA-6707: The default value for config of Type.LONG should be *L (#4762)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit cb7cf7c5a78ef2d0beadac023fb0b2250a313160
Author: JieFang.He <he.jiefang@zte.com.cn>
Date:   Fri Mar 30 06:50:46 2018 +0800

    KAFKA-6702: Wrong className in LoggerFactory.getLogger method (#4772)
    
    Reviewers: Manikumar Reddy, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 29838c104249572cebac69c7d156dff4e1cc41f1
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Mar 28 20:41:08 2018 -0400

    HOTFIX: ignoring tests using old versions of Streams until KIP-268 is merged (#4766)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 77b840b7c40dab29d1c05c70b3fd1e3ac981da6c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 28 16:10:26 2018 -0700

    MINOR: Downgrade to Gradle 4.5.1 (#4791)
    
    There is a regression in 4.6 that causes
    `testAll` to fail:
    
    https://github.com/gradle/gradle/pull/4680
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 28f1fc2f55269f43f0b2bb769b78f80b8cc9cf51
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Mar 28 14:40:21 2018 -0700

    MINOR: Change getMessage to toString (#4790)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 659fbb0b06a79fa7e94ac0d68925b1718ed3f214
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Wed Mar 28 13:00:35 2018 -0500

    MINOR: Depend on streams:test-utils for streams and examples tests (#4760)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit dd7011783f7e013a0a40a0d4d0e38ac2612b36e1
Author: Alex D <rootex-@users.noreply.github.com>
Date:   Wed Mar 28 20:33:23 2018 +0300

    KAFKA-6724; ConsumerPerformance should not always reset to earliest offsets (#4787)
    
    Remove the explicit `seekToBeginning` on startup and instead rely on the consumer's auto offset reset strategy to set the initial position.

commit 5d5a2ce4bba4b42b3652d0126d1d2dab979a3e07
Author: huxi <huxi_2b@hotmail.com>
Date:   Wed Mar 28 22:03:39 2018 +0800

    KAFKA-6716: Should close the `discardChannel` in MockSelector#completeSend (#4783)

commit 9baa9bddba0dc1b3bda167ea509bd90226615e1f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Mar 27 23:08:07 2018 -0700

    MINOR: Update Jackson to 2.9.5 (#4776)

commit 281dbfd9813603d913a2a0b948547dea7b863be2
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Mar 27 21:03:35 2018 -0700

    MINOR: LogCleaner.validateReconfiguration fixes (#4770)
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 964693e40d9303d5d754010f03731d2134bae749
Author: Boyang Chen <bchen11@outlook.com>
Date:   Tue Mar 27 16:07:49 2018 -0700

    KAFKA-6386: Use Properties instead of StreamsConfig in KafkaStreams constructor
    
    This pull request targets https://issues.apache.org/jira/browse/KAFKA-6386
    The minor fix to deprecate usage of `StreamsConfig` in favor of `java.util.Properties`.
    I created separate public constructors using `Properties` in order to replace the old ones,
    and prioritize new functions in the `KafkaStreams.java` file.
    
    Since this is my first time doing open source contribution, I'm very happy to get
    any comment or pointer to be more professional and get better next time, thank you Guozhang guozhangwang and Liquan Ishiihara!
    
    testing strategy: existing unit test should be suffice to cover this change.
    
    Author: cs427fa16staff <bchen11@outlook.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>
    
    Closes #4354 from abbccdda/starter
    
    github comments

commit adbf31ab1d27cda0b62d611e6141d830736a8e2e
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Tue Mar 27 16:03:24 2018 -0500

    KAFKA-6473: Add MockProcessorContext to public test-utils (#4736)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 395c7e0f0985b424ea2bc2bd40c0237eada24dcf
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Mar 28 01:48:53 2018 +0530

    MINOR: Fix ReassignPartitionsClusterTest.testHwAfterPartitionReassignment test (#4781)
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 9eb32eaad5fa3863d60b84ef095fa041e83b7b47
Author: huxi <huxi_2b@hotmail.com>
Date:   Wed Mar 28 00:21:18 2018 +0800

    KAFKA-6446; KafkaProducer initTransactions() should timeout after max.block.ms (#4563)
    
    Currently the `initTransactions()` API blocks indefinitely if the broker cannot be reached. This patch changes the behavior to raise a `TimeoutException` after waiting for `max.block.ms`.
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>

commit f4a39f9b8314847ffc7250f8cee3e87795b0aaeb
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Mon Mar 26 19:22:20 2018 -0400

    MINOR: Fix flaky standby task test (#4767)
    
    The standby-task test failed due to standby task distribution not be exactly equal. I think this will be the case from time to time, so I've updated test to make sure the standby task assignment count is not zero.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 3f611044cc55c6633cb64fd86a3ac6274952fa72
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Mar 24 14:04:08 2018 -0700

    KAFKA-6052; Fix WriteTxnMarkers request retry issue in InterBrokerSendThread (#4705)
    
    This resolves the issue found when running the brokers on Windows which prevents the coordinator from sending WriteTxnMarkers requests to complete a transaction.

commit f66aebff363c768afb50b10f31458c2f447b0abc
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Mar 24 20:54:09 2018 +0000

    KAFKA-6710: Remove Thread.sleep from LogManager.deleteLogs (#4771)
    
    `Thread.sleep` in `LogManager.deleteLogs` potentially blocks a scheduler thread for up to `log.segment.delete.delay.ms` with a default value of a minute. To avoid this, `deleteLogs` now deletes the logs for which `currentDefaultConfig.fileDeleteDelayMs` has elapsed after the delete was scheduled. Logs for which this interval has not yet elapsed are considered for deletion in the next iteration of `deleteLogs`, which is scheduled sooner if required.
    
    Reviewers: Jun Rao <junrao@gmail.com>, Dong Lin <lindong28@gmail.com>, Ted Yu <yuzhihong@gmail.com>

commit 514936af6f04e00ad908d3835040db5b0d5698c2
Author: cburroughs <chris.burroughs@gmail.com>
Date:   Sat Mar 24 15:39:10 2018 -0400

    MINOR: Remove redundant initialization of `Stats.index` (#4751)

commit 549a5cec1ee82eb86e5b8bcb3886bf2d2dde2b39
Author: Attila Sasvari <asasvari@apache.org>
Date:   Sat Mar 24 20:20:11 2018 +0100

    MINOR: Fix potential resource leak in FileOffsetBackingStore (#4739)
    
    Reviewers: Sandor Murakozi <smurakozi@gmail.com>, Jason Gustafson <jason@confluent.io>

commit dd78b9fa268ad1708b6e6da583e8b7e2a6bd690a
Author: huxi <huxi_2b@hotmail.com>
Date:   Sun Mar 25 03:14:53 2018 +0800

    KAFKA-6637; Avoid divide by zero error with segment.ms set to zero (#4698)
    
    Require a minimum value of 1 for `segment.ms` to avoid division by zero when computing random jitter.
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 685fd03dda02957a91a50fa16409400b1ea08f81
Author: Lucas Wang <luwang@linkedin.com>
Date:   Fri Mar 23 18:18:16 2018 -0700

    KAFKA-6612: Added logic to prevent increasing partition counts during topic deletion
    
    This patch adds logic in handling the PartitionModifications event, so that if the partition count is increased when a topic deletion is still in progress, the controller will restore the data of the path /brokers/topics/"topic" to remove the added partitions.
    
    Testing done:
    Added a new test method to cover the bug
    
    Author: Lucas Wang <luwang@linkedin.com>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>
    
    Closes #4666 from gitlw/prevent_increasing_partition_count_during_topic_deletion

commit 2307314432c871cf045787b44295d8dc4943e77d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Mar 23 17:01:32 2018 +0000

    MINOR: Fix encoder config to make DynamicBrokerReconfigurationTest stable (#4764)
    
    DynamicBrokerReconfigurationTest currently assumes that passwords encoded with one secret will fail with an exception if decoded with another secret and configures an old.secret in setUp. This could potentially cause test failures if a password was incorrectly decoded with the wrong secret, since the test writes passwords encoded with the new secret directly to ZooKeeper. Since old.secret is only used in one test for verifying secret rotation, this config can be moved to that test to avoid transient failures.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 395dcad7d9208aad5399222e1d19a13fecf035c9
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Mar 22 22:01:51 2018 -0700

    MINOR: Java 9/10 fixes, gradle and minor deps update (#4725)
    
    * Added dependencies so that Trogdor and Connect work with Java 9 and 10
    * Updated Jacoco to 0.8.1 so that it works with Java 10
    * Updated Gradle to 4.6
    * A few minor version bumps (not related to Java9/10 fixes)
    
    I tested manually that we can run ./gradlew test with Java 10
    after these changes. There are test failures as EasyMock
    and PowerMock will have to be updated to use a newer
    ASM version. But compiling successfully and most tests
    passing is progress. :)
    
    I also tested manually that Trogdor can be started with Java 10.
    It previously failed with a ClassNotFoundError.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit fcf87816028830d168fd2142cf5277adcbade91b
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Mar 22 21:42:49 2018 -0700

    KAFKA-6683; Ensure producer state not mutated prior to append (#4755)
    
    We were unintentionally mutating the cached queue of batches prior to appending to the log. This could have several bad consequences if the append ultimately failed or was truncated. In the reporter's case, it caused the snapshot to be invalid after a segment roll. The snapshot contained producer state at offsets higher than the snapshot offset. If we ever had to load from that snapshot, the state was left inconsistent, which led to an error that ultimately crashed the replica fetcher.
    
    The fix required some refactoring to avoid sharing the same underlying queue inside ProducerAppendInfo. I have added test cases which reproduce the invalid snapshot state. I have also made an effort to clean up logging since it was not easy to track this problem down.
    
    One final note: I have removed the duplicate check inside ProducerStateManager since it was both redundant and incorrect. The redundancy was in the checking of the cached batches: we already check these in Log.analyzeAndValidateProducerState. The incorrectness was the handling of sequence number overflow: we were only handling one very specific case of overflow, but others would have resulted in an invalid assertion. Instead, we now throw OutOfOrderSequenceException.
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jun Rao <junrao@gmail.com>

commit f2fbfaaccc99f889ae0796005a46d6c62c8e5be9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 22 16:46:56 2018 -0700

    KAFKA-6611: PART I, Use JMXTool in SimpleBenchmark (#4650)
    
    1. Use JmxMixin for SimpleBenchmark (will remove the self reporting in #4744), only when loading phase is false (i.e. we are in fact starting the streams app).
    
    2. Reported the full jmx reported metrics in log files, and in the returned data only return the max values: this is because we want to skip the warming up and cooling down periods that will have lower rate numbers, while max represents the actual rate at full speed.
    
    3. Incorporates two other improves to JMXTool: #1241 and #2950
    
    Reviewers: John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Rohan Desai <desai.p.rohan@gmail.com>

commit 286216b56e27d8db18f7268b63cbd8d7f8bd8830
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu Mar 22 19:02:16 2018 -0400

    MINOR: Rolling bounce upgrade fixed broker system test (#4690)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, John Roesler <john@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 9ee00c4b6661a590afcd5fb390bd0abaa3dcce1b
Author: Stuart Perks <stuart.m.perks@gmail.com>
Date:   Thu Mar 22 22:37:28 2018 +0000

    KAFKA-6659: Improve error message if state store is not found (#4732)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 57b1c28d60e05f2cf7394ef727a86df92b1bb02b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Mar 22 20:05:45 2018 +0000

    MINOR: Fix AdminClient.describeConfigs() of listener configs (#4747)
    
    Don't return config values from `describeConfigs` if the config type cannot be determined. Obtain config types correctly for listener configs for `describeConfigs` and password encryption.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit f0a29a693548efe539cba04807e21862c8dfc1bf
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Mar 21 16:24:59 2018 -0700

    MINOR: remove obsolete warning in StreamsResetter (#4749)
    
    Reviewer: Guozhang Wang <guozhang@confluent.io>

commit 2f90cb86c18e854fd687ea7bbeb8692178bbb02d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Mar 21 05:40:16 2018 +0000

    MINOR: Remove acceptor creation in network thread update code (#4742)
    
    Fix dynamic addition of network threads to only create new Processor threads and not the Acceptor.

commit f5287ccad2de7de586788ed4ee08a065a007a42e
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Tue Mar 20 22:36:41 2018 -0700

    MINOR: Fix flaky TestUtils functions (#4743)
    
    TestUtils#produceMessages should always close the KafkaProducer, even
    when there is an exception.  Otherwise, the test will leak threads when
    there is an error.
    
    TestUtils#createNewProducer should create a producer with a
    requestTimeoutMs of 30 seconds by default, not around 10 seconds.
    This should avoid tests that flake when the load on Jenkins climbs.
    
    Fix two cases where a very short timeout of 2 seconds was getting set.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 36d4b91573028a687236ab27154ce4a04d9d8cb3
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Tue Mar 20 13:56:40 2018 +0000

    MINOR: Updated SASL Authentication Sequence Docs (#4724)
    
    Reworded the SASL Authentication sequence to update it to >= 1.0.0
    
    Co-authored-by: Edoardo Comar <ecomar@uk.ibm.com>, Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 5c24295d44b4f015a620914992542c4d2083c611
Author: Anna Povzner <anna@confluent.io>
Date:   Tue Mar 20 06:51:45 2018 -0700

    Trogdor's ProducerBench does not fail if topics exists (#4673)
    
    Added configs to ProducerBenchSpec:
    topicPrefix: name of topics will be of format topicPrefix + topic index. If not provided, default is "produceBenchTopic".
    partitionsPerTopic: number of partitions per topic. If not provided, default is 1.
    replicationFactor: replication factor per topic. If not provided, default is 3.
    
    The behavior of producer bench is changed such that if some or all topics already exist (with topic names = topicPrefix + topic index), and they have the same number of partitions as requested, the worker uses those topics and does not fail. The producer bench fails if one or more existing topics has number of partitions that is different from expected number of partitions.
    
    Added unit test for WorkerUtils -- for existing methods and new methods.
    
    Fixed bug in MockAdminClient, where createTopics() would over-write existing topic's replication factor and number of partitions while correctly completing the appropriate futures exceptionally with TopicExistsException.
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit aefe35e493758e439d7dd5cb5aa50762132a5e5d
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Mar 20 03:52:53 2018 +0530

     KAFKA-6680: Fix issues related to Dynamic Broker configs (#4731)
    
    - Fix kafkaConfig initialization if there are no dynamic configs defined in ZK.
    - Update DynamicListenerConfig.validateReconfiguration() to check new Listeners must be subset of listener map
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 0f364cd53a7a56e4ddea1db44fd044860ba2c0b4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Mar 19 14:17:00 2018 -0700

    MINOR: Pass a streams config to replace the single state dir (#4714)
    
    This is a general change and is re-requisite to allow streams benchmark test with different streams tests. For the streams benchmark itself I will have a separate PR for switching configs. Details:
    
    1. Create a "streams.properties" file under PERSISTENT_ROOT before all the streams test. For now it will only contain a single config of state.dir pointing to PERSISTENT_ROOT.
    
    2. For all the system test related code, replace the main function parameter of state.dir with propsFilename, then inside the function load the props from the file and apply overrides if necessary.
    
    3. Minor fixes.
    
    Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 27bb3ccaceae52c730b2c02d72c63a84060966f1
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Mon Mar 19 13:30:13 2018 -0700

    MINOR: KafkaFutureImpl#addWaiter should be protected (#4734)
    
    KafkaFutureImpl#addWaiter should be protected, just like KafkaFuture#addWaiter.  As described in KIP-218, whenComplete is the public API, not addWaiter.

commit 6fab286da2735517f6d0c945328abcb77fa0a7a4
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Mar 19 08:03:58 2018 -0700

    MINOR: Fix some compiler warnings (#4726)

commit 0560193706bf7c7dbe39d8baa65129d765ca9868
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Mon Mar 19 04:55:29 2018 -0700

    MINOR: improve trogdor commandline (#4721)
    
    Allow -c as a synonym for --agent.config and --coordinator.config.
    
    Allow -n as a synonym for --node-name.
    
    Add an example trogdor.conf file.

commit 7041e76bd6ef0c28ec8de2d07f2208171745f936
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Mar 19 04:08:12 2018 -0700

    MINOR: Some logging improvements for debugging delayed produce status (#4691)
    
    A few small logging improvements which help debugging replication issues.

commit f264bfa2967f4b431f09d8b99d5f468fca310805
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Mar 19 03:37:02 2018 -0700

    KAFKA-6676: Ensure Kafka chroot exists in system tests and use chroot on one test with security parameterizations (#4729)
    
    Ensures Kafka chroot exists in ZK when starting KafkaService so commands that use ZK and are executed before the first Kafka broker starts do not fail due to the missing chroot.
    
    Also uses chroot with one test that also has security parameterizations so Kafka's test suite exercises these combinations. Previously no tests were exercising chroots.
    
    Changes were validated using sanity_checks which include the chroot-ed test as well as some non-chroot-ed tests.

commit 02a8ef859539349151e9d1dd0c69ac83a24ee7a2
Author: asutosh936 <asutosh.pandya@hotmail.com>
Date:   Sun Mar 18 22:44:11 2018 -0500

    KAFKA-6486: Implemented LinkedHashMap in TimeWindows (#4628)
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 4391a4214de7594e64de4b0b0d5a1196813b04b8
Author: Dong Lin <lindong28@users.noreply.github.com>
Date:   Sun Mar 18 11:21:44 2018 -0700

    MINOR: Use log start offset as high watermark if current value is out of range (#4722)
    
    Reviewers: Jun Rao <junrao@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 7fe06a86665e513f73caff824a36a723ab21c917
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Sat Mar 17 18:02:20 2018 -0700

    MINOR: fix flaky Streams EOS system test (#4728)
    
    Reviewer: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit ae31ee63dc3bdb9068543791bea44a12a97aa928
Author: Dhruvil Shah <dhruvil@confluent.io>
Date:   Sat Mar 17 10:29:42 2018 -0700

    KAFKA-6530: Use actual first offset of message set when rolling log segment (#4660)
    
    Use the exact first offset of message set when rolling log segment. This is possible to do for message format V2 and beyond without any performance penalty, because we have the first offset stored in the header. This augments the fix made in KAFKA-4451 to avoid using the heuristic for V2 and beyond messages.
    
    Added unit tests to simulate cases where segment needs to roll because of overflow in index offsets. Verified that the new segment created in these cases uses the first offset, instead of the heuristic in use previously.

commit 2afac715666347a30ac54cef1485db369288b478
Author: Sandor Murakozi <smurakozi@gmail.com>
Date:   Sat Mar 17 07:34:16 2018 +0100

    MINOR: Remove unnecessary null checks (#4708)
    
    Remove unnecessary null check in StringDeserializer, MockProducerInterceptor and KStreamImpl.
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Jason Gustafson <jason@confluent.io>

commit 9782465d6f28dda7fd7f156743f4278e6b62364b
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Mar 16 22:29:22 2018 -0700

    KAFKA-6672; ConfigCommand should create config change parent path if needed (#4727)
    
    Change `KafkaZkClient.createConfigChangeNotification` to ensure creation of the change directory. This fixes failing system tests which depend on setting SCRAM credentials prior to broker startup. Existing test case has been modified for new expected usage.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit a70e4f95d713dd34757b3807171a2e520dd9c04d
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Fri Mar 16 16:15:49 2018 -0700

    KAFKA-6658; Fix RoundTripWorkload and make k/v generation configurable (#4710)
    
    Make PayloadGenerator an interface which can have multiple implementations: constant, uniform random, sequential.
    
    Allow different payload generators to be used for keys and values.
    
    This change fixes RoundTripWorkload.  Previously RoundTripWorkload was unable to get the sequence number of the keys that it produced.

commit 394aa7426117d0d04666c1c2a63d5f98229b7894
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Mar 16 16:02:11 2018 -0700

    KAFKA-6454: Allow timestamp manipulation in Processor API (#4519)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit b6ae51b108d48a1ac5e5721cd4c3b54ed845e040
Author: Chris Egerton <cegerton@oberlin.edu>
Date:   Fri Mar 16 15:30:38 2018 -0700

    Allow users to specify 'if-not-exists' when creating topics while testing (#4715)
    
    Author: Chris Egerton <chrise@confluent.io>

commit a9c16a8110f9a3c9ef2ec4c595c8802dbcd63635
Author: huxi <huxi_2b@hotmail.com>
Date:   Sat Mar 17 04:24:14 2018 +0800

    KAFKA-6663: Doc for `GlobalKTable` should be corrected. (#4723)
    
    Reviewers: John Roesler <john@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Damian Guy <damian@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 9e0e6e43a787092ff908cb17da37ab5dea03978b
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Fri Mar 16 10:57:38 2018 -0700

    MINOR: Trogdor should not assume an agent co-located with the controller (#4712)

commit e7ef719a5bc0d1276f0e9482d59b25406fda276b
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Mar 15 15:52:53 2018 -0700

    KAFKA-6661: Ensure sink connectors don’t resume consumer when task is paused
    
    Changed WorkerSinkTaskContext to only resume the consumer topic partitions when the connector/task is not in the paused state.
    
    The context tracks the set of topic partitions that are explicitly paused/resumed by the connector, and when the WorkerSinkTask resumes the tasks it currently resumes all topic partitions *except* those that are still explicitly paused in the context. Therefore, the change above should result in the desired behavior.
    
    Several debug statements were added to record when the context is called by the connector.
    
    This can be backported to older releases, since this bug goes back to 0.10 or 0.9.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4716 from rhauch/kafka-6661

commit 7006d0f58b9a72f181b13bab6f1f64b0e7b4117e
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Thu Mar 15 14:42:43 2018 -0700

    MINOR: Streams system tests fixes/updates (#4689)
    
    Some changes required to get the Streams system tests working via Docker
    
    To test:
    
    TC_PATHS="tests/kafkatest/tests/streams" bash tests/docker/run_tests.sh
    
    That command will take about 3.5 hours, and should pass. Note there are a couple of ignored tests.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Bill Bejeck <bill@confluent.io>

commit a6fad27372f9a931540c2e4345e428b643535d46
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Fri Mar 16 01:32:28 2018 +0530

    KAFKA-6106: Postpone normal processing of tasks within a thread until restoration of all tasks have completed. (#4651)
    
    Author:  Kamal Chandraprakash <kamal.chandraprakash@gmail.com>
    
    Reviewer: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>

commit d2aca95aeb7e15bebb7726987586b7f5cadbe0ef
Author: huxi <huxi_2b@hotmail.com>
Date:   Fri Mar 16 02:34:33 2018 +0800

    MINOR: Fix incorrect expression for KTable in stream doc. (#4718)
    
    In dsi-api.html, when reading from Kafka to a KTable, the doc says "In the case of a KStream.." where `Kstream` here is not correct. They should be `KTable`.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 372b4c6a775461c6ca54d4c58078718f5f046216
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Mar 15 10:33:29 2018 -0700

    KAFKA-6656; Config tool should return non-zero status code on failure (#4711)
    
    Prior to this patch, we caught some exceptions when executing the command, which meant that it would return with status code zero. This patch fixes this and makes the expected exit behavior explicit. Test cases have been added to verify the change.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 8c10e0600736e8620f868ae15516d1fc06f775a2
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Thu Mar 15 04:44:27 2018 -0700

    MINOR: Avoid nulls when deserializing Trogodor JSON (#4688)

commit 5cdb951091129b530326140aa711f0b61c446f06
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Mar 15 07:09:48 2018 +0000

    KAFKA-6653; Complete delayed operations even when there is lock contention (#4704)
    
    If there is lock contention while multiple threads check if a delayed operation may be completed (e.g. a produce request with acks=-1), the threads perform completion only if the lock is free, to avoid deadlocks. This leaves a timing window when an operation becomes ready to complete after another thread has acquired the lock and performed the check for completion, but not yet released the lock. The PR adds an additional flag to ensure that the operation is completed in this case.

commit 925acc9f47bb4265f4b033e75467643dbc9ccab9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Mar 14 17:33:54 2018 -0700

    KAFKA-4831: add documentation for KIP-265 (#4686)
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>

commit 35c08189cb862090676898e7568cd6d30091424b
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Wed Mar 14 22:19:51 2018 +0000

    MINOR: fixing streams test-util compilation errors in Eclipse (#4631)
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewer: Matthias J. Sax <matthias@confluent.io>

commit d93569948657a1fd58dad9fd2541b75b2b330a4a
Author: Dong Lin <lindong28@users.noreply.github.com>
Date:   Wed Mar 14 14:58:24 2018 -0700

    KAFKA-6640; Improve efficiency of KafkaAdminClient.describeTopics() (#4694)
    
    Currently in KafkaAdminClient.describeTopics(), for each topic in the request, a complete map of cluster and errors will be constructed for every topic and partition. This unnecessarily increases the complexity of describeTopics() to O(n^2). This patch improves the complexity to O(n).
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Colin Patrick McCabe <colin@cmccabe.xyz>, Jason Gustafson <jason@confluent.io>

commit d2bbcbed442d3c3c6e5351b93c93f860c144ef47
Author: Chia-Ping Tsai <chia7712@gmail.com>
Date:   Wed Mar 14 23:46:07 2018 +0800

    MINOR: Correct "exeption" to "exception" in connect docs (#4709)

commit bf8a4c2ce7291e2f92fca297e970f668b4b85066
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Wed Mar 14 03:12:15 2018 -0700

    MINOR: Improve Trogdor client logging. (#4675)
    
    AgentClient and CoordinatorClient should have the option of logging failures to custom log4j objects.  There should also be builders for these objects, to make them easier to extend in the future.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 6b08905dfb40923317745b5e2237b2310b713333
Author: Dong Lin <lindong28@users.noreply.github.com>
Date:   Tue Mar 13 22:52:59 2018 -0700

    KAFKA-3978; Ensure high watermark is always positive (#4695)
    
    Partition high watermark may become -1 if the initial value is out of range. This situation can occur during partition reassignment, for example. The bug was fixed and validated with unit test in this patch.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit aa14ec08b76a1d9e85e39c4aa48e0554b7e17301
Author: hmcl <hmclouro@apache.org>
Date:   Tue Mar 13 16:41:54 2018 -0700

    MINOR: Remove kafka-consumer-offset-checker.bat for KAFKA-3356 (#4703)

commit ad355298c65c2c00131480ab2ed59d79539ea80f
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Mar 14 02:29:13 2018 +0530

    MINOR: Remove unused server exceptions (#4701)

commit 95ad03540f0d15ae47fd73bae935ab1cb3e8f4b9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Mar 13 08:43:58 2018 -0700

    KAFKA-6634: Delay starting new transaction in task.initializeTopology (#4684)
    
    As titled, not starting new transaction since during restoration producer would have not activity and hence may cause txn expiration. Also delay starting new txn in resuming until initializing topology.
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Bill Bejeck <bill@confluent.io>

commit ec9e8110e3967c3ef38ed475a0cb40fc951a2aef
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Tue Mar 13 06:15:44 2018 -0700

    MINOR: add DEFAULT_PORT for Trogdor Agent and Coordinator (#4674)
    
    Add a DEFAULT_PORT constant for the Trogdor Agent and Coordinator.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 0c00aa0983f963dae18232ca539cc0731f228c70
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Tue Mar 13 00:42:40 2018 -0700

    MINOR: Streams doc example should not close store (#4667)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 2bf06890b9af62b0aa0ed0debc1b36232afe463a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Mar 13 06:23:00 2018 +0000

    MINOR: Use large batches in metrics test for conversion time >= 1ms (#4681)

commit 0bb8e66184931e2f7830cb713d9260cc0f3383a9
Author: Siva Santhalingam <siva.santhalingam@gmail.com>
Date:   Mon Mar 12 23:03:32 2018 -0700

    KAFKA-6024; Move arg validation in KafkaConsumer ahead of `acquireAndEnsureOpen`  (#4617)

commit 1ea07b993d75ed68f4c04282eb177bf84156e0b2
Author: Dong Lin <lindong28@users.noreply.github.com>
Date:   Mon Mar 12 22:20:44 2018 -0700

    KAFKA-6624; Prevent concurrent log flush and log deletion (#4663)
    
    KAFKA-6624; Prevent concurrent log flush and log deletion
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Jun Rao <junrao@gmail.com>

commit 724032bd06ae6928595ad3d5d21ead7f9e834d34
Author: Detharon <detharon@gmail.com>
Date:   Tue Mar 13 00:32:19 2018 +0100

    MINOR: Fix incorrect JavaDoc (type mismatch) (#4632)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 29d2e8cf17815fd738323006dd20e57a8d85be84
Author: Andras Beni <andrasbeni@cloudera.com>
Date:   Mon Mar 12 23:13:34 2018 +0100

    KAFKA-3368; Add documentation for old message format (#3425)

commit 596b6048623c7c001dbe5299bc373729d28d83e8
Author: Jimin Hsieh <jimin.hsieh.engineer@gmail.com>
Date:   Tue Mar 13 05:34:59 2018 +0800

    MINOR: Fix wrong message in `bin/kafka-run-class.sh` (#4682)
    
    To build jar you need to specify `scalaVersion` instead of `scala_version`.
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 8e84961661e4d033a68dfff8498436d14b396bb3
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Mar 12 13:11:29 2018 -0700

    KAFKA-6560: Add docs for KIP-261 (#4685)
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Bill Bejeck <bill@confluent.io>

commit 825bfe5adefe4b5f967068b332cb0feedd7dc4fc
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Mar 12 04:40:59 2018 -0700

    MINOR: Revert to ZooKeeper 3.4.10 due to ZOOKEEPER-2960 (#4678)
    
    It's a critical bug that only affects the server, but we
    don't have an easy way to use 3.4.11 for the client
    only.
    
    Reviewers: Jun Rao <junrao@gmail.com>, Damian Guy <damian.guy@gmail.com>

commit c28c556e9295b9d499f7b1b0ec65bbb4d1ad4b67
Author: Jacek Laskowski <jacek@japila.pl>
Date:   Sun Mar 11 19:38:03 2018 +0100

    MINOR: Remove code duplication + excessive space (#4683)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 8df96a4119a5d46372eecdceb916f80dd073338a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Mar 10 15:57:05 2018 +0000

    MINOR: Reduce ZK reads and ensure ZK watch is set for listener update (#4670)
    
    Ensures that ZK watch is set for each live broker for listener update notifications in the controller. Also avoids reading all brokers from ZooKeeper when a broker metadata is modified by passing in brokerId to BrokerModifications and reading only the updated broker.
    
    The existing listener update test verifies both these changes. Earlier, the test did not detect missing watch for the last broker since metadata of all brokers were read from ZK (adding a watch for all) when any broker was updated.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 8d4d5f8c9ffeba45022014bdcf98eddbd3a3afc8
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Mar 9 23:18:23 2018 +0000

    MINOR: Fix deadlock in ZooKeeperClient.close() on session expiry (#4672)
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit fd015b401dcc977b51396f80fab5acdd792ba694
Author: Max Zheng <maxzheng.os@gmail.com>
Date:   Fri Mar 9 14:54:43 2018 -0800

    MINOR: Tag AWS instances with Jenkins build url (#4657)
    
    This will allow us to trace leaked instances back to the job,
    so that we can figure out what happened and fix the leak.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 5760da7d0be8d9326e82f187015d5c0169bfb40b
Author: Radai Rosenblatt <radai.rosenblatt@gmail.com>
Date:   Fri Mar 9 14:21:06 2018 -0800

    KAFKA-6622; Fix performance issue loading consumer offsets (#4661)
    
    `batch.baseOffset` is an expensive operation (even says so in its javadoc), and yet was called for every single record in a batch when loading offsets. This means that for N records in a gzipped batch, the entire batch will be unzipped N times. The fix is to compute and cache the base offset once as we decompress and process the batch.
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit f1c112c63d8223e62cf9e2f31cc42321f1e6dada
Author: Anna Povzner <anna@confluent.io>
Date:   Fri Mar 9 13:57:04 2018 -0800

    MINOR: Add PayloadGenerator to Trogdor (#4640)
    
    It generates the producer payload (key and value) and makes sure that the values are
    populated to target a realistic compression rate (0.3 - 0.4) if compression is used.
    The generated payload is deterministic and can be replayed from a given position.
    For now, all generated values are constant size, and key types can be configured
    to be either null or 8 bytes.
    
    Added messageSize parameter to producer spec, that specifies produced
    key + message size.

commit b1aa1912f08765d9914e3d036deee6b71ea009dd
Author: Vitaly Pushkar <vitaly.pushkar@gmail.com>
Date:   Fri Mar 9 20:08:08 2018 +0100

    KAFKA-4831: Extract WindowedSerde to public APIs (#3307)
    
    Now that we have augmented WindowSerde with non-arg parameters, extract it out as part of the public APIs so that users who want to I/O windowed streams can use it. This is originally introduced by @vitaly-pushkar
    
    This PR grows out to be a much larger one, as I found a few tech debts and bugs while working on it. Here is a summary of the PR:
    
    Public API changes (I will propose a KIP after a first round of reviews):
    Add TimeWindowedSerializer, TimeWindowedDeserializer, SessionWindowedSerializer, SessionWindowedDeserializer into o.a.k.streams.kstream. The serializers would implemented an internal WindowedSerializer interface for the serializeBaseKey function used in 3) below.
    
    Add WindowedSerdes into o.a.k.streams.kstream. The reason to now add them into o.a.k.clients's Serdes is that it then needs dependency of streams.
    
    Add "default.windowed.key.serde.inner" and "default.windowed.value.serde.inner" into StreamsConfig, used when "default.key.serde" is specified to use time or session windowed serde. Note this requires the serde class, not the type class.
    
    Consolidated serde format from multiple classes, including SessionKeySerde.java for session, and WindowStoreUtils for time window, into SessionKeySchema and WindowKeySchema.
    
    Bug fix: WindowedStreamPartitioner needs to consider both time window and session window serdes.
    
    Removed RocksDBWindowBytesStore etc optimization since after KIP-182 all the serde know happens on metered store, hence this optimization is not worth.
    
    Bug fix: for time window, the serdes used for store and the serdes used for piping (source and sink node) are different: the former needs to append sequence number but not for the later.
    
    Other minor cleanups: remove unnecessary throws, etc.
    
    Authors: Guozhang Wang <wangguoz@gmail.com>, Vitaly Pushkar <vitaly.pushkar@gmail.com>
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Bill Bejeck <bill@confluent.io>, Xi Hu

commit 3ef2fb843e873a4597b1d1d068144102271d3002
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Mar 9 16:50:34 2018 +0000

    MINOR: Fix record conversion time in metrics (#4671)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit db619c6da2b1f02a4ca321d7a3b91ef47c09a46c
Author: Jimin Hsieh <jimin.hsieh.engineer@gmail.com>
Date:   Fri Mar 9 23:44:57 2018 +0800

    MINOR: Remove unused local variable in SocketServer (#4669)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 6a383d8bc4555665fad502bb9b6e6c97657d996a
Author: John Roesler <vvcephei@users.noreply.github.com>
Date:   Thu Mar 8 15:43:45 2018 -0800

    MINOR: clean stateDirectory in TopologyTestDriver (#4655)
    
    Author: John Roeler <john@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 989088f697a221bc2b7b1d0d0ae6e9d03b2bf8ac
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Mar 8 21:24:22 2018 +0000

    KAFKA-6560: [FOLLOW-UP] don't deserialize null byte array in window store fetch (#4665)
    
    If the result of a fetch from a Window Store results in a null byte array we should return null rather than passing it to the serde to deserialize.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit c5ba0da99301c9ffc1216e23541cbe7d2cc9a102
Author: wushujames <jylcheng@yahoo.com>
Date:   Thu Mar 8 10:28:20 2018 -0800

    MINOR: Fix incorrect references to the max transaction timeout config (#4664)

commit 925d6a2ef363ee540e65f7ec3b699dce05aa591c
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Mar 8 03:00:20 2018 -0800

    MINOR: Skip sending fetches/offset lookups when awaiting the reconnect backoff (#4644)
    
    Logging can get spammy during the reconnect blackout period because any requests we send to ConsumerNetworkClient will immediately be failed when poll() returns. This patch checks for connection failures prior to sending fetches and offset lookups and skips sending to any failed nodes. Test cases added for both.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit cf092aeecc473b70d81c00b604e29de8c9f6d84b
Author: nafshartous <nick@afshartous.com>
Date:   Tue Mar 6 20:49:33 2018 -0500

    KAFKA-5660 Don't throw TopologyBuilderException during runtime (#4645)
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 23c1c52c85eaca9d51046f5235721a3239c2a229
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Mar 6 15:37:50 2018 -0800

    KAFKA-6615; Add scripts for DumpLogSegments (#4653)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit e5d6c9a79a4ca9b82502b8e7f503d86ddaddb7fb
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Mar 6 11:19:38 2018 -0800

    MINOR: Do not start processor for bounce-at-start (#4639)
    
    Only start it after the broker has been shutdown.

commit d13cbd0cae26d13c36c25d04a489ee309187ebeb
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Mar 5 22:21:53 2018 -0800

    KAFKA-3806: Increase offsets retention default to 7 days (KIP-186) (#4648)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit a1b01f48e9ef06291f3e052a37bde887b891e708
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue Mar 6 00:24:22 2018 -0500

    KAFKA-6309: Improve task assignor load balance (#4624)
    
    Sorts TaskIds on first assignment evenly distributing tasks by topicGroupId should help with evening the load of work across topologies. This PR is an initial "strawman" approach which will be followed up (at a later date YTBD) by scoring or assigning weight to processing nodes to ensure even processing distribution.
    
    Added a new test to existing unit test.

commit 8f2c08716630eba7e3badacc79be4c8c413a00da
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Mar 5 16:48:05 2018 -0800

    MINOR: Complete inflight requests in order on disconnect (#4642)
    
    NetworkClient should use FIFO order when completing inflight requests following a disconnect.
    
    I've added new unit tests for `InFlightRequests` and `NetworkClient` which verify completion order.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 8a7d7e7955889125b1196caeded6fa57d93a0b46
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Mon Mar 5 14:06:32 2018 -0500

    MINOR: Add System test for standby task-rebalancing (#4554)
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Damian Guy <damian@confluent.io>, Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 2a4ba75e1338eaa97da87077330b43d7448a18bc
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Mon Mar 5 10:56:42 2018 -0800

    KAFKA-6054: Code cleanup to prepare the actual fix for an upgrade path (#4630)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, John Roesler <john@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 604b93cfdee7a8c5c879ef2217d50be88e39ac89
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Mar 3 13:27:29 2018 -0800

    KAFKA-6606; Ensure consumer awaits auto-commit interval after sending… (#4641)
    
    We need to reset the auto-commit deadline after sending the offset commit request so that we do not resend it while the request is still inflight.
    
    Added unit tests ensuring this behavior and proper backoff in the case of a failure.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 9868976747fb4a7a4a9b18e1f4050633c226be7d
Author: Sandor Murakozi <smurakozi@gmail.com>
Date:   Thu Mar 1 18:12:52 2018 -0800

    KAFKA-6111: Improve test coverage of KafkaZkClient, fix bugs found by new tests;

commit 6cfcc9d553622e7d511a849935e9b504f947399d
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Mar 1 11:04:11 2018 -0800

    KAFKA-6593; Fix livelock with consumer heartbeat thread in commitSync (#4625)
    
    Contention for the lock in ConsumerNetworkClient can lead to a livelock situation in which an active commitSync is unable to make progress because its completion is blocked in the heartbeat thread. The fix is twofold:
    
    1) We change ConsumerNetworkClient to use a fair lock to reduce the chance of each thread getting starved.
    2) We eliminate the dependence on the lock in ConsumerNetworkClient for callback completion so that callbacks will not be blocked by an active poll().
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit eb449fe7c55a0816328a851fc1102dfeac6d8616
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 1 09:27:11 2018 -0800

    KAFKA-6560: Replace range query with newly added single point query in Windowed Aggregation (#4578)
    
    * Add a new fetch(K key, long window-start-timestamp) API into ReadOnlyWindowStore.
    * Use the new API to replace the range fetch API in KStreamWindowedAggregate and KStreamWindowedReduce.
    * Added corresponding unit tests.
    * Also removed some redundant byte serdes in byte stores.

commit f582a7515c9303589a7cf964e53bd12992c66254
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Feb 28 10:28:55 2018 -0800

    MINOR: Extend release.py with a subcommand for staging docs into the kafka-site repo
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3917 from ewencp/stage-docs

commit 9166ae4ec45ae7dccaa90d8950b3583d7efd0a34
Author: Viktor Somogyi <viktorsomogyi@gmail.com>
Date:   Wed Feb 28 04:06:07 2018 +0100

    MINOR: Remove unnecessary semicolon in ResourceType (#4626)

commit 031f522a2d45c22540fb1e15ae0d0d3bf6061a98
Author: Thomas Leplus <thomasleplus@users.noreply.github.com>
Date:   Tue Feb 27 19:04:29 2018 -0800

    MINOR: Fix javadoc typo in Headers (#4627)

commit 97ad549d56d3432b0c70e72d402ebec1d07f8273
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Feb 27 00:29:25 2018 -0800

    KAFKA-6534: Enforce a rebalance in the next poll call when encounter task migration (#4544)
    
    The fix is in two folds:
    
    For tasks that's closed in closeZombieTask, their corresponding partitions are still in runningByPartition so those closed tasks may still be returned in activeTasks and standbyTasks. Adding guards on the returned tasks and if they are closed notify the thread to trigger rebalance immediately.
    
    When triggering a rebalance, un-subscribe and re-subscribe immediately to make sure we are not dependent on the background heartbeat thread timing.
    
    Some minor changes on log4j. More specifically, I moved the log entry of closeZombieTask to its callers with more context information and the action going to take.
    
    I can re-produce the issue with EosIntegrationTest may hand-code the heartbeat thread to GC, and confirmed this patch fixed the issue. Unfortunately this test cannot be added to AK since currently we do not have ways to manipulate the heartbeat thread in unit tests.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit f26fbb9adcd66a31740da5c99f14a108bbc24304
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 26 14:39:47 2018 -0800

    MINOR: Rename stream partition assignor to streams partition assignor (#4621)
    
    This is a straight-forward change that make the name of the partition assignor to be aligned with Streams.
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>

commit 7c5d0c459f1d4a8796e3b5af925f40fd4f8a69fa
Author: Blake Miller <blak3mill3r@gmail.com>
Date:   Mon Feb 26 20:25:53 2018 +0000

    MINOR:Fix typo in the impl source (#4587)
    
    The static method KStreamImpl.createReparitionedSource() is missing a t.
    
    This PR globally fixes the typo and keeps the code indentation consistent.

commit 2591a469305532ba79497dd435f58a9051b689db
Author: huxi <huxi_2b@hotmail.com>
Date:   Tue Feb 27 03:26:34 2018 +0800

    KAFKA-5327; Console Consumer should not commit messages not printed (#4546)
    
    Ensure that the consumer's offsets are reset prior to closing so that any buffered messages which haven't been printed are not committed.

commit 3600316a1490e81e4efafc15dd0ac31025b76e1c
Author: Gilles Degols <gilles-degols@users.noreply.github.com>
Date:   Mon Feb 26 18:00:39 2018 +0100

    KAFKA-6057: Users forget `--execute` in the offset reset tool (#4069)
    
    Add a small warning note when the user does not use the --execute flag.

commit 5df535e8a349771942050f1e3fd58851f413fa3a
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Sun Feb 25 12:26:18 2018 -0800

    MINOR: fixes lgtm.com warnings (#4582)
    
    fixes lgmt.com warnings
    cleanup PrintForeachAction and Printed
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Sebastian Bauersfeld <sebastianbauersfeld@gmx.de>, Damian Guy <damian@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 99d650c2c882cc1f359a1dbb5fc6bea2d5b303b6
Author: Igor Kostiakov <igorkos@kth.se>
Date:   Sun Feb 25 03:43:10 2018 +0100

    KAFKA-6590; Fix bug in aggregation of consumer fetch bytes and counts metrics (#4278)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 4a027a0af10bc10bb223856100fdc19c6186a405
Author: Daniel Shuy <daniel_shuy@hotmail.com>
Date:   Sun Feb 25 04:07:42 2018 +0800

    Fix typo in MockProducer JavaDoc (#4606)

commit 0cd83e997dd8ca3ac0cc6458eee75fdf7b66ae57
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Feb 23 16:13:57 2018 -0800

    MINOR: wait for broker startup for system tests (#4363)
    
    ensure that brokers are registered at ZK before start() returns
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Damian Guy <damian@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit e26d0d760466c3da6189637a7de69eb5509e7b51
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Feb 23 15:31:50 2018 -0800

    MINOR: Revert incompatible behavior change to consumer reset tool (#4611)
    
    This patch reverts the removal of the --execute option in the offset reset tool and the change to the default behavior when no options were present. For consistency, this patch adds the --execute flag to the streams reset tool, but keeps its current default behavior. A note has been added to both of these commands to warn the user that future default behavior will be to prompt before acting.
    
    Test cases were not actually validating that offsets were committed when the --execute option was present, so I have fixed that and added basic assertions for the dry-run behavior. I also removed some duplicated test boilerplate.
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>

commit 0e22fd6f8d49e7884b7126d963af12ab305d5629
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Feb 23 00:29:49 2018 -0600

    KAFKA-6578: Changed the Connect distributed and standalone main method to log all exceptions (#4609)
    
    Any exception thrown by calls within a `main()` method are not logged unless explicitly done so. This change simply adds a try-catch block around most of the content of the distributed and standalone `main()` methods.

commit 66039b1312be6356a3cb12efa8e562d2264498d1
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Thu Feb 22 22:23:14 2018 -0800

    MINOR: Fix ConcurrentModificationException in TransactionManager (#4608)

commit 1d8ed875db6ec624cdb8bc15ec677729a42fc13a
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 22 09:47:13 2018 -0800

    MINOR: Fix javadoc for consumer offsets lookup APIs which do not block indefinitely (#4613)
    
    The blocking time for these APIs is bounded by the request timeout.

commit 1cabef0d3dc7a3c245f260b8d34a60d7d044bb9c
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Feb 22 08:19:13 2018 -0800

    MINOR: Refactor GroupMetadataManager cleanupGroupMetadata (#4504)
    
    Refactoring avoids the need to call this method with a infinity as current time to remove all group offsets (when manually deleting the group).

commit fc19c3e6f243a8d1b3e27cdc912dc092bbd342e0
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Feb 22 09:39:59 2018 +0000

    KAFKA-6577: Fix Connect system tests and add debug messages
    
    **NOTE: This should be backported to the `1.1` branch, and is currently a blocker for 1.1.**
    
    The `connect_test.py::ConnectStandaloneFileTest.test_file_source_and_sink` system test is failing with the SASL configuration without a sufficient explanation. During the test, the Connect worker fails to start, but the Connect log contains no useful information. There are actual several things compounding to cause the failure and make it difficult to understand the problem.
    
    First, the `tests/kafkatest/tests/connect/templates/connect_standalone.properties` is only adding in the broker's security configuration with the `producer.` and `consumer.` prefixes, but is not adding them with no prefix. The worker uses the AdminClient to connect to the broker to get the Kafka cluster ID and to manage the three internal topics, and the AdminClient is configured via top-level properties. Because the SASL test requires the clients all connect using SASL, the lack of broker security configs means the AdminClient was attempting and failing to connect to the broker. This is corrected by adding the broker's security configuration to the Connect worker configuration file at the top-level. (This was already being done in the `connect_distributed.properties` file.)
    
    Second, the default `request.timeout.ms` for the AdminClient (and the other clients) is 120 seconds, so the AdminClient was retrying for 120 seconds before it would give up and thrown an error. However, the test was only waiting for 60 seconds before determining that the service failed to start. This can be corrected by setting `request.timeout.ms=10000` in the Connect distributed and standalone worker configurations.
    
    Third, the Connect workers were recently changed to lookup the Kafka cluster ID before it started the herder. This is unlike the older uses of the AdminClient to find and manage the internal topics, where failure to connect was not necessarily logged correctly but nevertheless still skipped over, relying upon broker auto-topic creation to create the internal topics. (This may be why the test did not fail prior to the recent change to always require a successful AdminClient connection.) Although the worker never got this far in its startup process, the fact that we missed such an error since the prior releases means that failure to connect with the AdminClient was not being properly reported.
    
    The `ConnectStandaloneFileTest.test_file_source_and_sink` system tests were run locally prior to this fix, and they failed as with the nightlies. Once these fixes were made, the locally run system tests passed.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #4610 from rhauch/kafka-6577-trunk

commit 1715e6eac03e26f745b3a6f97a8b61b335207e9d
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Feb 21 15:53:46 2018 -0800

    MINOR: Fix Streams-Broker-Compatibility system test (#4594)
    
    fixes error message handling for test consumer client and KafkaStreams instance
    updates expected error message
    fixes race condition in system test code and avoids starting Streams processor twice
    
    Author: Matthias J. Sax <matthias@confluent.io.>
    
    Reviewer: Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit da379c95e4e3fe4dbe4d810a27a2d0b821cb2fb1
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Feb 21 10:52:27 2018 -0800

    MINOR: Cancel port forwarding for HttpMetricsCollector during cleanup
    
    Currently port forwarding is setup for HttpMetricsCollector when the Service's start_node method is called, but not canceled during stop. This hasn't presented a problem so far because we don't have tests that use this *and* restart the service. However, if a test/service does that, it will throw an exception since the port is already bound.
    
    This just does the cleanup when stopping so a subsequent attempt to start again will succeed.
    
    https://jenkins.confluent.io/job/system-test-kafka-branch-builder/1320 is a test run for a Test that uses ProducerPerformanceService, which in turn uses HttpMetricsCollector to validate the change.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva@confluent.io>
    
    Closes #4604 from ewencp/cleanup-reverse-port-forward

commit 1667c16be1747ae2ffaab410a5903ad284209456
Author: UVN <naidu1111@gmail.com>
Date:   Wed Feb 21 10:58:35 2018 -0600

    MINOR: Read configuration fields from ProducerConfig in example (#4601)
    
    Reading the configuration field names from ProducerConfig class and taking the key and value serializer names from class name directly instead of hardcoding.

commit 90e0bbec94dd85e1c5b1af0b6426df0a02e5da3f
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Feb 21 16:43:25 2018 +0000

    KAFKA-6573: Update brokerInfo in KafkaController on listener update (#4603)
    
    Update `KafkaController.brokerInfo` when listeners are updated since this value is used to register the broker in ZooKeeper if there ZK session expires. Also added test to verify values in ZK after session expiry.

commit 660c0c0aa33ced5307ee70bfdb78ebde4b978d73
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Feb 21 09:38:39 2018 +0000

    KAFKA-6238; Fix inter-broker protocol message format compatibility check
    
    This patch fixes a bug in the validation of the inter-broker protocol and the message format version. We should allow the configured message format api version to be greater than the inter-broker protocol api version as long as the actual message format versions are equal. For example, if the message format version is set to 1.0, it is fine for the inter-broker protocol version to be 0.11.0 because they both use message format v2.
    
    I have added a unit test which checks compatibility for all combinations of the message format version and the inter-broker protocol version.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4583 from hachikuji/KAFKA-6328-REOPENED

commit 75df8cc77adc61746b3abd0e48d2c7a343e805f6
Author: wushujames <jylcheng@yahoo.com>
Date:   Tue Feb 20 13:53:49 2018 -0800

    MINOR: Add docs for ReplicationBytesInPerSec and ReplicationBytesOutPerSec (#4595)
    
    Add docs for the ReplicationBytesInPerSec and ReplicationBytesOutPerSec metrics. These metrics were introduced in KIP-153 (KAFKA-5194) but the docs were not updated.
    
    Built site-docs, and viewed them in a web browser to confirm.
    
    Reviewers: Mickael Maison <mickael.maison@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit f3c4240e6cd4237b1160328fb037708de138a05b
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Feb 20 13:39:45 2018 -0800

    MINOR: Restore scanning for super types of Connect plugins (#4584)
    
    Enabling scans for super types in reflections is required in order to discover Connect plugins.
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit a050eb56f759954498a0a58993d754cebde144d5
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Tue Feb 20 13:07:50 2018 -0800

    MINOR: follow up on Streams EOS system tests (#4593)

commit 256708dbbb7204e4025f2ca74eceea1170236255
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue Feb 20 15:46:36 2018 -0500

    KAFKA-4651: improve test coverage of stores (#4555)
    
    Working on increasing the coverage of stores in unit tests.
    Started with `InMemoryKeyValueLoggedStore`
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit eaafbdecb56d11f66d833b63fbc2aced65990e69
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Feb 20 12:42:05 2018 -0800

    MINOR: Fix logger name override (#4600)
    
    This regressed during the log4j -> scalalogging change.
    Added unit tests, one of which failed before the fix.

commit 57059d40223d6284d1b2c9f3034b30f6bd61c44f
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Feb 20 17:46:05 2018 +0000

    MINOR: Fix streams broker compatibility test.
    
    Change the string in the test condition to the one that is logged
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4599 from dguy/broker-compatibility

commit b79e11bb511e259c8187d865761c3b448391603f
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Feb 20 17:15:31 2018 +0000

    MINOR: Redirect response code in Connect's RestClient to logs instead of stdout
    
    Sending the response code of an http request issued via `RestClient` in Connect to stdout seems like a unconventional choice.
    
    This PR redirects the responds code with a message in the logs at DEBUG level (usually the same level as the one that the caller of `RestClient.httpRequest` uses.
    
    This fix will also fix system tests that broke by outputting this response code to stdout.
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4591 from kkonstantine/MINOR-Redirect-response-code-in-Connect-RestClient-to-logs-instead-of-stdout

commit ac2536e77e43510cde6009146487a5f867bf9b3f
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Feb 20 22:27:21 2018 +0530

    KAFKA-5624; Add expiry check to sensor.add() methods (#4404)

commit a41373309497da449a1f757e2c24399794d77072
Author: Jiangjie (Becket) Qin <becket.qin@gmail.com>
Date:   Tue Feb 20 07:19:30 2018 -0800

    KAFKA-6568: Minor clean-ups follow-up (#4592)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit f10c0d38634822ab4c9abc4744268c9fd5b50a2c
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Feb 20 10:45:50 2018 +0000

    MINOR: Fix file source task configs in system tests.
    
    Another fall-through of `headers.converter` and `batch.size` properties. Here in `FileStreamSourceConnector` tests
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4590 from kkonstantine/MINOR-Fix-file-source-task-config-in-system-tests

commit 1547cf6de86bbb8f7bacc26ab9ab89d4c9ec5566
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Feb 20 01:32:09 2018 -0800

    KAFKA-6554; Missing lastOffsetDelta validation before log append (#4585)
    
    Add validation checks that the offset range is valid and aligned with the batch count prior to appending to the log. Several unit tests have been added to verify the various invalid cases.

commit ee352be9c88663b95b1096b7a294e61857857380
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Fri Feb 16 18:30:12 2018 -0800

    MINOR: Fix bug introduced by adding batch.size without default in FileStreamSourceConnector (#4579)
    
    https://github.com/apache/kafka/pull/4356 added `batch.size` config property to `FileStreamSourceConnector` but the property was added as required without a default in config definition (`ConfigDef`). This results in validation error during connector startup.
    
    Unit tests were added for both `FileStreamSourceConnector` and `FileStreamSinkConnector` to avoid such issues in the future.
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 7c09b9410a63a1dda118b872afcbd2fcdcd56b65
Author: Jiangjie (Becket) Qin <becket.qin@gmail.com>
Date:   Fri Feb 16 18:04:21 2018 -0800

    KAFKA-6568; Log cleaner should check partition state before removal from inProgress map  (#4580)
    
    The log cleaner should not naively remove the partition from in progress map without checking the partition state. This may cause the other thread calling `LogCleanerManager.abortAndPauseCleaning()` to hang indefinitely.

commit b20639db4489a264d25ca5ad6f5b78489cc3fb0f
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Feb 16 23:20:16 2018 +0000

    MINOR: Enable deep-iteration to print data in DumpLogSegments (#4396)
    
    Enable deep-iteration option when print-data-log is enabled in DumpLogSegments. Otherwise data is not printed.
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit 13caded15e21bff450f6f042e86f856046e0f40a
Author: ying-zheng <zheng.ying@rocketmail.com>
Date:   Fri Feb 16 15:03:32 2018 -0800

    KAFKA-6430: Add buffer for gzip streams (#4537)
    
    As described in the JIRA ticket, this can double throughput.

commit a2b6f66fd37a436ebdd5bee1b74ca157c5ddf9c9
Author: Yaswanth Kumar <yash27422@gmail.com>
Date:   Sat Feb 17 02:54:18 2018 +0530

    KAFKA-6536: Adding versions for japicmp-maven-plugin and maven-shade-plugin in quickstart (#4569)
    
    Author: Yaswanth Kumar <yash27422@gmail.com>
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 0b3b6049f002acf040a5312cef35c87f199bbfd2
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Feb 16 13:13:13 2018 -0800

    MINOR: Fix Streams EOS system tests (#4572)
    
    Avoid loosing log/stdout/stderr files on restart
    Reenables tests
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>

commit 7303f41dc171e3a8f57c40abc467582602d1cde4
Author: Filipe Agapito <filipe.agapito@gmail.com>
Date:   Fri Feb 16 20:36:21 2018 +0000

    KAFKA-6424: QueryableStateIntegrationTest#queryOnRebalance should accept raw text (#4549)
    
    Allows input data to be read from a file and removes .toLowerCase in word count stream
    
    Author: Filipe Agapito <filipe.agapito@gmail.com>
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Matthias J. Sax <matthias@confluent.io>

commit 4837d44673490f6adf1e62466702f49c7f411250
Author: Attila Sasvari <asasvari@apache.org>
Date:   Fri Feb 16 17:30:14 2018 +0100

    MINOR: Fix typos in kafka.py (#4581)

commit 55aa7de62adf6a99e6d6268c832b61de6b37d416
Author: dan norwood <dan.norwood@gmail.com>
Date:   Fri Feb 16 08:24:04 2018 -0800

    MINOR: Make it explicit in consumer docs that poll() is needed for callback to run (#4480)
    
    Make it clear in the docs that the rebalance listener is only invoked during an active call to `poll()`. Plus a few additional doc cleanups.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit f12d237fdd47302d1c6c77553db986dd6dda568a
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Feb 16 07:58:49 2018 -0800

    MINOR: Free sends in MultiSend as they complete (#4574)
    
    Currently we hold onto all Records references in a multi-partition fetch response until the full response has completed. This can be a problem when the records have been down-converted since they will be occupying a (potentially large) chunk of memory. This patch changes the behavior in MultiSend so that once a Send is completed, we no longer keep a reference to it, which will allow the Records objects to be freed sooner.
    
    I have added a simple unit test to verify that sends are removed as the MultiSend progresses.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 004ef6b04bbc0ce0ebfc1cad42656559b043bcb2
Author: Eugene Sevastyanov <sevastyanov.eugene@gmail.com>
Date:   Fri Feb 16 01:11:00 2018 +0300

    MINOR: Cache Node's hashCode to improve the producer's performance  (#4350)
    
    `Node` is immutable so this is safe.
    
    With 100 brokers, 150 topics and 350 partitions, `HashSet.contains` in `RecordAccumulator.ready` took about 40% of the application time. It
    is caused by re-calculating a hash code of a leader (Node instance) for
    every batch entry. Caching the hashCode reduced the time of
    `HashSet.contains` in `RecordAccumulator.ready` to ~2%. The
    measurements were taken with Flight Recorder.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ted Yu <yuzhihong@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit c72062ddc089c338a3017aff6db702ca74e56847
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Feb 15 20:21:12 2018 +0000

    KAFKA-6517: Avoid deadlock in ZooKeeperClient during session expiry (#4551)
    
    ZooKeeperClient acquires initializationLock#writeLock to establish a new connection while processing session expiry WatchEvent. ZooKeeperClient#handleRequests acquires initializationLock#readLock, allowing multiple batches of requests to be processed concurrently, but preventing reconnections while processing requests. At the moment, handleRequests holds onto the readLock throughout the method, even while waiting for responses and inflight requests to complete. But responses cannot be delivered if event thread is blocked on the writeLock to process session expiry event. This results in a deadlock. During broker shutdown, the shutdown thread is also blocked since it needs the readLock to perform ZooKeeperClient#unregisterStateChangeHandler, which cannot be acquired if a session expiry had occurred earlier since this thread gets queued behind the event handler thread waiting for writeLock.
    
    This commit reduces locking in ZooKeeperClient#handleRequests to just the non-blocking send, so that session expiry handling doesn't get blocked when a send is blocked waiting for responses. Also moves session expiry handling to a separate thread so that Kafka controller doesn't block the event handler thread when processing session expiry.

commit bce8125dcf5a87ed29bbe795cd7591d45bdf3d9a
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Feb 15 10:52:58 2018 -0800

    MINOR: Resuming Tasks should not be initialized twice (#4562)
    
    Avoids double initialization of resuming tasks
    Removes race condition in StreamThreadTest plus code cleanup
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit 1067cc3422e6f2731ae57df9f01e84f2242a60be
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Feb 15 17:36:44 2018 +0000

    KAFKA-6512: Discard references to buffers used for compression (#4570)
    
    ProducerBatch retains references to MemoryRecordsBuilder and cannot be freed until acks are received. Removing references to buffers used for compression after records are built will enable these to be garbage collected sooner, reducing the risk of OOM.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>, Lothsahn <Lothsahn@gmail.com>

commit d9d0d79287eeec0a1c3dcc2203288421284b5ca1
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Thu Feb 15 22:11:38 2018 +0530

    MINOR: Update test classes to use KafkaZkClient methods (#4367)
    
    Remove ZkUtils reference form ZooKeeperTestHarness plus some minor cleanups.

commit 015e224b3d3c8e7bc412686ff22d5e99324b1019
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Feb 15 09:26:34 2018 +0000

    MINOR: Support dynamic JAAS config for broker's LoginManager cache (#4568)
    
    Fix LoginManager caching when sasl.jaas.config is defined for broker and add unit tests.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 88307657dff0202804447d06eef6ecdc808590d8
Author: Lucas Wang <luwang@linkedin.com>
Date:   Wed Feb 14 17:30:09 2018 -0800

    KAFKA-6481; Improving performance of the function ControllerChannelManager.addUpd…
    
    …ateMetadataRequestForBrokers
    
    *More detailed description of your change,
    if necessary. The PR title and PR message become
    the squashed commit message, so use a separate
    comment to ping reviewers.*
    
    *Summary of testing strategy (including rationale)
    for the feature or bug fix. Unit and/or integration
    tests are expected for any behaviour change and
    system tests should be considered for larger changes.*
    
    Author: Lucas Wang <luwang@linkedin.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4472 from gitlw/improving_addUpdateMetadataRequestForBrokers

commit 50cd85538580c9c9833ad957d64d39953c124374
Author: Sebastian Bauersfeld <sebastian@semmle.com>
Date:   Thu Feb 15 01:02:47 2018 +0000

    HOTFIX: Fix lgtm.com alerts (dead code and out-of-bounds error) (#4388)
    
    This fixes two alerts flagged on lgtm.com for Apache Kafka.
    
    This dead code alert where InvalidTypeIdException indirectly extends JsonMappingException. The flagged condition with the type test appears after the type test for the latter and thus makes its body dead. I opted to change the order of the tests. Please let me know if this is the intended behavior.
    
    The second commit addresses this out-of-bounds alert.
    
    More alerts can be found here. Note that my colleague Aditya Sharad addressed some of those in the now outdated #2939.
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit 3af13967db089b9a8320b539f5d5d218488ce467
Author: Robert Yokota <rayokota@gmail.com>
Date:   Wed Feb 14 16:24:05 2018 -0800

    KAFKA-6503: Parallelize plugin scanning
    
    This is a small change to parallelize plugin scanning.  This may help in some environments where otherwise plugin scanning is slow.
    
    Author: Robert Yokota <rayokota@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4561 from rayokota/K6503-improve-plugin-scanning

commit 38e9958d6e5d2224fbb9a54d04b1505ad561e8a3
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Feb 14 22:09:45 2018 +0000

    KAFKA-6476: Documentation for dynamic broker configuration (#4558)
    
    Docs for dynamic broker configuration (KIP-226)

commit 27b56b1458d0af0a397e9f47ecd008c10c088c6d
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Feb 14 15:43:57 2018 -0500

    KAFKA-6364: Second check for ensuring changelog topic not changed during restore (#4511)
    
    Added a second check for race condition where store changelog topic updated during restore, but not if a KTable changelog topic. This will be tricky to test, but I wanted to push the PR to get feedback on the approach.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <matthias@confluent.io>

commit 6d18d882b850a8d757c32bb124b1e42e60587c69
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Feb 14 10:52:46 2018 -0800

    KAFKA-6397: Consumer should not block setting positions of unavailable partitions (#4557)
    
    Prior to this patch, the consumer always blocks in poll() if there are any partitions which are awaiting their initial positions. This behavior was inconsistent with normal fetch behavior since we allow fetching on available partitions even if one or more of the assigned partitions becomes unavailable _after_ initial offset lookup. With this patch, the consumer will do offset resets asynchronously, which allows other partitions to make progress even if the initial positions for some partitions cannot be found.
    
    I have added several new unit tests in `FetcherTest` and `KafkaConsumerTest` to verify the new behavior. One minor compatibility implication worth mentioning is apparent from the change I made in `DynamicBrokerReconfigurationTest`. Previously it was possible to assume that all partitions had a fetch position after `poll()` completed with a non-empty assignment. This assumption is no longer generally true, but you can force the positions to be updated using the `position()` API which still blocks indefinitely until a position is available.
    
    Note that this this patch also removes the logic to cache committed offsets in `SubscriptionState` since it was no longer needed (the consumer's `committed()` API always does an offset lookup anyway). In addition to avoiding the complexity of maintaining the cache, this avoids wasteful offset lookups to refresh the cache when `commitAsync()` is used.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 36b00300f5a9117abb4e8570c1714b3023a0ab01
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Feb 14 23:23:49 2018 +0530

    MINOR: Update log condition in JassContext.loadServerContext (#4566)

commit f3a3253e24d63cbfcbd42c8a550a3f898c734044
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Feb 14 08:49:23 2018 -0800

    HOTFIX: Fix reset integration test hangs on busy wait (#4491)
    
    * do not use static properties
    * use new object to take appID
    * capture timeout exception inside condition
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit d902b6b4b6bcf1cc1c488f6a975db8beed5689a6
Author: ConcurrencyPractitioner <yohan.richard.yu@gmail.com>
Date:   Wed Feb 14 08:46:22 2018 -0800

    KAFKA-5996; JsonConverter generates Mismatching schema DataException (#4523)
    
    JsonConverter should use object equality rather than reference equality in `convertToJson`.
    
    Reviewers: Bartlomiej Tartanus <bartektartanus@gmail.com>, Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 234b54c2c46fb7e7e60b3cedd5be642925f1da19
Author: Magnus Reftel <magnus.reftel@gmail.com>
Date:   Wed Feb 14 03:36:35 2018 +0100

    MINOR: more details in error message descriptions (#3267)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit c0d579ca12f43c41536dbc7911d2d9485604c52c
Author: lisa2lisa <lisa2lisa@users.noreply.github.com>
Date:   Wed Feb 14 03:24:08 2018 +0100

    MINOR: fix inconsistance in LogCleaner javadoc (#4027)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 2693e9be7412ec03173c8942e9ccfcc24cfbbce1
Author: Benedict Jin <1571805553@qq.com>
Date:   Wed Feb 14 08:39:21 2018 +0800

    MINOR: Misc improvements on runtime / storage / metrics / config parts (#4525)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit a68a8b6b6cc47d488ada99e4bfe87cc7467621bb
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Feb 13 13:44:12 2018 -0600

    KAFKA-6511; Corrected connect list/map parsing logic (#4516)
    
    Corrected the parsing of invalid list values. A list can only be parsed if it contains elements that have a common type, and a map can only be parsed if it contains keys with a common type and values with a common type.
    
    Reviewers: Arjun Satish <arjun@confluent.io>, Magesh Nandakumar <magesh.n.kumar@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>

commit d030caf9561e306556f5e0ab323bb382e967138d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Feb 13 10:19:33 2018 -0800

    MINOR: Use enum for close mode in Selector instead of two booleans (#4559)

commit 83b058a0d13955ade43440963f480c7fe3d94c6a
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Tue Feb 13 10:24:30 2018 +0530

    MINOR: Code cleanup (#4229)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian@confluent.io>, Paolo Patierno <ppatierno@live.com>, Ismael Juma <ismael@juma.me.uk>

commit a42c4edfa79dfe66424fbfc356d126a3a689a3c1
Author: Michael Arndt <arndt@menedev.de>
Date:   Tue Feb 13 03:33:59 2018 +0100

    MINOR: Fix typos in KStream javadoc (#4550)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 962bc638f9c2ab249e5008a587ee78e3ba35fcb9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 12 18:28:18 2018 -0800

    MINOR: Add a new system test for resilience (#4560)
    
    * Rolling kill-restart Streams instances with brokers unavailable temporarily, and validate that the streams can still complete the restart process
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 65aa1a0c3eebe17e0fbe16be3d51d2ab8c692c59
Author: Joel Hamill <11722533+joel-hamill@users.noreply.github.com>
Date:   Mon Feb 12 16:54:52 2018 -0800

    KAFKA-6472 - Fix WordCount example code error (#4538)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <mjsax@apache.org>

commit f324de45b88a08357061c55ff69610d7b9ceb116
Author: Dmitry Minkovsky <dminkovsky@gmail.com>
Date:   Mon Feb 12 19:52:32 2018 -0500

    MINOR: Fixed typos in KGroupedTable Javadoc (#4552)
    
    * Fix typo: substractor -> subtractor
    * Fix typo: javadoc references deprecated overload
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 596d3d0ec4ee1ba719ce87e464a095bd63ab72be
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Feb 12 14:29:44 2018 -0800

    KAFKA-5944: Unit tests for handling SASL authentication failures in clients (#3965)

commit 98959a126601e718a6bda459389d2f0e67dc481b
Author: xin <xin.lihua1@zte.com.cn>
Date:   Tue Feb 13 01:46:49 2018 +0800

    KAFKA-6552: Use “entity_type” in description of kafka-configs.sh (#4556)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 9f4fe7679e96f0ca38a9f0bc0b43797ec0bf23e0
Author: Jeremy Custenborder <jcustenborder@gmail.com>
Date:   Mon Feb 12 11:16:25 2018 -0600

    KAFKA-5550; Connect Struct.put() should include the field name if validation fails (#3507)
    
    Changed call to use the overload of ConnectSchema.validateValue() method with the field name passed in. Ensure that field in put call is not null.
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 976a3b0cc858d4a13cf8b34b325aefc8d706be9e
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Feb 9 15:44:55 2018 -0800

    KAFKA-6513: Corrected how Converters and HeaderConverters are instantiated and configured
    
    The commits for KIP-145 (KAFKA-5142) changed how the Connect workers instantiate and configure the Converters, and also added the ability to do the same for the new HeaderConverters. However, the last few commits removed the default value for the `converter.type` property for Converters and HeaderConverters, and this broke how the internal converters were being created.
    
    This change corrects the behavior so that the `converter.type` property is always set by the worker (or by the Plugins class), which means the existing Converter implementations will not have to do this. The built-in JsonConverter, ByteArrayConverter, and StringConverter also implement HeaderConverter which implements Configurable, but the Worker and Plugins methods do not yet use the `Configurable.configure(Map)` method and instead still use the `Converter.configure(Map,boolean)`.
    
    Several tests were modified, and a new PluginsTest was added to verify the new behavior in Plugins for instantiating and configuring the Converter and HeaderConverter instances.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4512 from rhauch/kafka-6513

commit dc54c0e24b3f7ca27990b1d576b8b8fd6d740ca1
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Feb 9 15:29:21 2018 -0800

    KAFKA-3625: TopologyTestDriver must process output for wall-clock-time punctuations and on close() (#4502)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewer: Damian Guy <damian@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit fc56a90e05a922722859ebc594736d6e7d3514ba
Author: parafiend <darthfrogger13@hotmail.com>
Date:   Fri Feb 9 04:59:18 2018 -0800

    KAFKA-6529: Stop file descriptor leak when client disconnects with staged receives (#4517)
    
    If an exception is encountered while sending data to a client connection, that connection is disconnected. If there are staged receives for that connection, they are tracked to process those records. However, if the exception was encountered during processing a `RequestChannel.Request`, the `KafkaChannel` for that connection is muted and won't be processed.
    
    Disable processing of outstanding staged receives if a send fails. This stops the leak of the memory for pending requests and the file descriptor of the TCP socket.
    
    Test that a channel is closed when an exception is raised while writing to a socket that has been closed by the client. Since sending a response requires acks != 0, allow specifying the required acks for test requests in SocketServerTest.scala.
    
    Author: Graham Campbell <graham.campbell@salesforce.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>, Ted Yu <yuzhihong@gmail.com>

commit 15bc40507b06cccd1777e94b83ef8e5a9bdc9bc1
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Feb 8 16:22:51 2018 -0800

    KAFKA-6501; Dynamic broker config tests updates and metrics fix (#4539)
    
    1. Handle listener-not-found in MetadataCache since this can occur when listeners are being updated. To avoid breaking clients, this is handled in the same way as broker-not-available so that clients may retry.
    2. Set retries=1000 for listener reconfiguration tests to avoid transient failures when metadata cache has not been updated
    3. Remove IdlePercent metric when Processor is deleted, add test
    4. Reduce log segment size used during reconfiguration to avoid timeout while waiting for log rolling
    5.Test markPartitionsForTruncation after fetcher thread resize
    6. Move per-processor ResponseQueueSize metric back to RequestChannel.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 77a6104f548a42851cd44ca0ce73145784f924d3
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Feb 8 13:35:57 2018 -0800

    KAFKA-3625: add docs for Kafka Streams test-utils (follow up) (#4493)
    
    Adds web page docs for KIP-247
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Bill Bejeck <bill@confluent.io>, Joel Hamill <joel@confluent.io>, Damian Guy <damian@confluent.io>

commit a1352f8c5a96c8e861c17c8105557428a47f4334
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Feb 8 13:21:56 2018 -0800

    MINOR: Add missing generics and surpress warning annotations (#4518)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit a0fb4db40a5b4af915600d3a20081bb9e865a551
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Thu Feb 8 11:49:09 2018 -0800

    MINOR: improve security docs for Kafka Streams (#4532)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Joel Hamill <joel@confluent.io>, Guozhang Wang <guozhang@confluent.io>

commit dd51d19306b73f9ff15a9d96c9c4904ce6e801ec
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 8 10:14:07 2018 -0800

    MINOR: Move processor response queue into Processor (#4542)
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit d8eddc6e16012e43ab832d9f522d04429fc56227
Author: Daniel Wojda <wojdadan@gmail.com>
Date:   Thu Feb 8 17:53:57 2018 +0000

    MINOR: Add missing imports to 'Hello Kafka Streams' examples (#4535)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit ac267dc5cec605f3981c9db7d889cabd59f09a61
Author: huxi <huxi_2b@hotmail.com>
Date:   Fri Feb 9 01:49:12 2018 +0800

    KAFKA-6362; Async auto-commit should discover coordinator if it is unknown (#4326)
    
    Currently `maybeAutoCommitOffsetsAsync` does not try to find the coordinator if it is unknown. As a result, asynchronous auto-commits will fail indefinitely. This patch changes the behavior to add coordinator discovery to the async auto-commit path.

commit 077fd9ced3f5c7101c0d4e91c0ae3aeb05f9318f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Feb 8 09:31:58 2018 -0800

    HOTFIX: Fix broken javadoc links on web docs(#4543)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>

commit 79f22805a75cf2eb49560bd8387cb6ec14769bd7
Author: Ismael Juma <github@juma.me.uk>
Date:   Thu Feb 8 09:30:25 2018 -0800

    MINOR: Update jetty, jackson, gradle and jacoco (#4547)
    
    * MINOR: Update gradle, jackson and jacoco
    
    - Gradle update adds support for Java 10
    - Jacoco update adds support for Java 9
    - Jackson bug fix update adds more serialization
    robustness checks
    
    * Update Jetty
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit 8a2d00fc44eb48bf80fd2383178665986a73cdd8
Author: Guangxian <liaoguangxian@cmss.chinamobile.com>
Date:   Thu Feb 8 09:44:40 2018 +0800

    KAFKA-6405: Fix incorrect comment in MetadataUpdater (#4361)
    
    * Fix incorrect comment in MetadataUpdater
    
    * Fix comment for handleCompletedMetadataResponse

commit e7905fc7c3398490e02cddb3bcf30590b2f6d7b7
Author: Dmitry Minkovsky <dminkovsky@gmail.com>
Date:   Wed Feb 7 20:41:39 2018 -0500

    MINOR: Update TupleForwarder comment (#4414)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 67803384d9b7959661bb2a32129b03a374507c8a
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Feb 7 20:21:35 2018 -0500

    MINOR: adding system tests for how streams functions with broker faiures (#4513)
    
    System test for two cases:
    
    * Starting a multi-node streams application with the broker down initially, broker starts and confirm rebalance completes and streams application still able to process records.
    
    * Multi-node streams app running, broker goes down, stop stream instance(s) confirm after broker comes back remaining streams instance(s) still function.
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 68ec1a3cce22706faf762de7d2d97b490c47fd90
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Feb 7 16:20:18 2018 -0800

    KAFKA-6519; Reduce log level for normal replica fetch errors (#4501)
    
    Out of range and not leader errors are common in replica fetchers and not necessarily an indication of a problem. This patch therefore reduces the log level for log messages corresponding to these errors from `ERROR` to `INFO`. Additionally, this patch removes some redundant information in the log message which is already present in the log context.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 5d69a79948bce0fab4705c7d7d0f3b02f2548c0d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Feb 7 14:08:53 2018 -0800

    KAFKA-4641: Add more unit test for stream thread (#4531)
    
    Before the patch, jacoco coverage test:
    
    Element Missed Instructions     Cov.    Missed Branches Cov.    Missed  Cxty    Missed  Lines   Missed  Methods Missed  Classes
    Total   3,386 of 22,177 84%     336 of 1,639    79%     350     1,589   526     4,451   103     768     1       102
    StreamThread            77%             76%     27      102     48      299     1       31      0       1
    After the patch:
    
    Element Missed Instructions     Cov.    Missed Branches Cov.    Missed  Cxty    Missed  Lines   Missed  Methods Missed  Classes
    Total   3,329 of 22,180 84%     329 of 1,639    79%     345     1,590   516     4,452   102     769     1       102
    StreamThread            81%             80%     23      103     39      300     1       32      0       1
    
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian@confluent.io>

commit 4ee5182f35d612daa223f890b9eaad08655b761b
Author: Mats Julian Olsen <mats@plysjbyen.net>
Date:   Wed Feb 7 20:53:07 2018 +0100

    MINOR: Add attributes `processedKeys` and `processedValues` to MockProcessorSupplier (#3999)
    
    Author: Mats Julian Olsen
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 164fea30ea6b43d65074957f1f7b8342721b2a31
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Feb 7 11:43:57 2018 -0800

    MINOR: update upgrade notes for Streams API; message format 0.10 requiered (#4500)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <guozhang@confluent.io.>

commit 263a510676ee0173cbaa11b5de1de4c19d2f5202
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Feb 7 14:07:32 2018 -0500

    KAFKA-6367: StateRestoreListener use actual last restored offset for restored batch (#4507)
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 65b5ccf6413369aa4f21c72abcdf31ca72a79b00
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Feb 7 03:29:08 2018 -0800

    KAFKA-6532: Reduce impact of delegation tokens on public interfaces (#4524)
    
    Keep delegation token implementation internal without exposing implementation details to pluggable classes:
      1. KafkaPrincipal#tokenAuthenticated must always be set by SaslServerAuthenticator so that custom PrincipalBuilders cannot override.
      2. Replace o.a.k.c.security.scram.DelegationTokenAuthenticationCallback with a more generic ScramExtensionsCallback that can be used to add more extensions in future.
      3. Separate out ScramCredentialCallback (KIP-86 makes this a public interface) from delegation token credential callback (which is internal).
    
    Reviewers: Jun Rao <junrao@gmail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>

commit caf03d642b6992bf95b922f0cb5f724d265d4029
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Feb 6 14:04:46 2018 -0800

    Minor: fix compilation error in KAFKA-6254

commit a88db9595910a1a7f249f7c9f3effb14636955c7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Feb 6 13:14:33 2018 -0800

    KAFKA-4750: Bypass null value and treat it as deletes (#4508)
    
    Here is the new rule for handling nulls:
    * in the interface store, put(key, null) are handled normally and value serde will still be applied to null, hence needs to handle null values
    * in the inner bytes store, null bytes after serialization will be treated as deletes.
    * in the interface store, if null bytes get returned in get(key), it indicate the key is not available; and hence serde will be avoided and null object will be returned.
    
    More changes:
    * Update javadocs, add unit tests accordingly; augment MockContext to set serdes for the newly added tests.
    * Fixed a discovered bug which is exposed by the newly added tests.
    * Use the new API to remove all old APIs in the existing state store tests.
    * Remove SerializedKeyValueIterator since it is not used any more.
    
    This is originally contributed by @evis.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian@confluent.io>

commit c32860b22427ca32a9e83e4f741b85062bb22140
Author: Wladimir Schmidt <wlsc@users.noreply.github.com>
Date:   Tue Feb 6 20:33:49 2018 +0100

    MINOR:  exchange redundant Collections.addAll with parameterized constructor (#4521)
    
    * Exchange manual copy to collection with Collections.addAll call
    * Exchange redundant Collections.addAll with parameterized constructor call
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 7c97b239a5261cf030984f71427287196e657d95
Author: huxihx <huxi_2b@hotmail.com>
Date:   Tue Feb 6 10:40:51 2018 -0800

    KAFKA-6184; report a metric of the lag between the consumer offset ...
    
    Add `records-lead` and partition-level `{topic}-{partition}.records-lead-min|avg` for fetcher metrics.
    
    junrao  Please kindly review. Thanks.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4191 from huxihx/KAFKA-6184

commit 6541ab199395bfb06a7a020f7ab76d70855006c2
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Feb 6 09:38:35 2018 -0800

    MINOR: Update release script with new remote, better error handling, correct mvn deploy profile
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <github@juma.me.uk>
    
    Closes #4528 from ewencp/update-release-script

commit 7d70a427b2689c0a1de4345db4b04ea557b4c27b
Author: Robert Yokota <rayokota@gmail.com>
Date:   Tue Feb 6 09:18:37 2018 -0800

    KAFKA-6504: Ensure uniqueness of connect task metric sensor creation (#4514)
    
    This change ensures that when sensors are created, they are unique to the metric group associated with the task that created them. Previously the sensors were being shared between task metric groups, causing incorrect metrics.
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 65d262cc30315ed47bd17e94c0db672de93d908a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Feb 6 01:50:51 2018 -0800

    KAFKA-6528: Fix transient test failure in testThreadPoolResize (#4526)
    
    Add locking to access AbstractFetcherThread#partitionStates during dynamic thread update. Also make testing of thread updates that trigger retries more resilient.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 332e698ac9c74ce29317021b03a54512c92ac8b3
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 5 16:35:12 2018 -0800

    MINOR: improve log4j messaging (#4530)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, James Cheng <jylcheng@yahoo.com>

commit 2d4fb785409056b7abfdfe6082f2862a138acf74
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Feb 5 13:42:04 2018 -0800

    MINOR: Update copyright year in NOTICE
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4529 from ewencp/update-NOTICE-year

commit 447c64fffb72fdb82e2f3c670e891ae1d00a8ec8
Author: Randall Hauch <rhauch@gmail.com>
Date:   Mon Feb 5 12:13:26 2018 -0800

    KAFKA-5987: Maintain order of metric tags in generated documentation
    
    The `MetricNameTemplate` is changed to used a `LinkedHashSet` to maintain the same order of the tags that are passed in. This tag order is then maintained when `Metrics.toHtmlTable` generates the MBean names for each of the metrics.
    
    The `SenderMetricsRegistry` and `FetcherMetricsRegistry` both contain templates used in the producer and consumer, respectively, and these were changed to use a `LinkedHashSet` to maintain the order of the tags.
    
    Before this change, the generated HTML documentation might use MBean names like the following and order them:
    
    ```
    kafka.connect:type=sink-task-metrics,connector={connector},partition={partition},task={task},topic={topic}
    kafka.connect:type=sink-task-metrics,connector={connector},task={task}
    ```
    However, after this change, the documentation would use the following order:
    ```
    kafka.connect:type=sink-task-metrics,connector={connector},task={task}
    kafka.connect:type=sink-task-metrics,connector={connector},task={task},topic={topic},partition={partition}
    ```
    
    This is more readable as the code that is creating the templates has control over the order of the tags.
    
    Note that JMX MBean names use ObjectName that does not maintain order of the properties (tags), so this change should have no impact on the actual JMX MBean names used in the metrics.
    
    cc wushujames
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: James Cheng <jylcheng@yahoo.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3985 from rhauch/kafka-5987

commit ed971fd4341f1643cba38684a0be3f9362e9394c
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Feb 5 11:07:18 2018 -0800

    KAFKA-6452; Add documentation for delegation token authentication
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4490 from omkreddy/KAFKA-6452-TOKEN-DOCS

commit 7fe1c2b3d3a78ea3ffb9e269563653626861fbd2
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Mon Feb 5 10:09:17 2018 -0800

    KAFKA-6254; Incremental fetch requests
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #4418 from cmccabe/KAFKA-6254

commit eb3fef760e1c876b936f175e0eb9a1446cf5bdcf
Author: Jeff Klukas <jeff@klukas.net>
Date:   Mon Feb 5 09:46:07 2018 -0800

    KAFKA-6253: Improve sink connector topic regex validation
    
    KAFKA-3073 added topic regex support for sink connectors. The addition requires that you only specify one of topics or topics.regex settings. This is being validated in one place, but not during submission of connectors. This PR adds validation at `AbstractHerder.validateConnectorConfig` and `WorkerConnector.initialize`.
    
    This adds a test of the new behavior to `AbstractHerderTest`.
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4251 from jklukas/connect-topics-validation

commit 822cd7d608ca70ead1fe17fc9e69ad0c82a447be
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Mon Feb 5 14:54:09 2018 +0000

    MINOR: Removed explicit class checks for PolicyViolationException (#4515)
    
    PolicyViolationException is a subclass of ApiException, and the handling was identical, hence explicit checking not required.

commit 17aaff3606393b42d4e8ef5299141b5bb21300b0
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Sun Feb 4 14:57:25 2018 -0800

    KAFKA-6288: Broken symlink interrupts scanning of the plugin path
    
    Submitting a fail safe fix for rare IOExceptions on symbolic links.
    
    The fix is submitted without a test case since it does seem easy to reproduce such type of failures (just having a broken symbolic link does not reproduce the issue) and it's considered pretty low risk.
    
    If accepted, needs to be ported at least to 1.0, if not 0.11
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4481 from kkonstantine/KAFKA-6288-Broken-symlink-interrupts-scanning-the-plugin-path

commit 4019b21d602c0912d9dc0286f10701e7e724f750
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sun Feb 4 09:19:17 2018 -0800

    KAFKA-6246; Dynamic update of listeners and security configs (#4488)
    
    Dynamic update of listeners as described in KIP-226. This includes:
      - Addition of new listeners with listener-prefixed security configs
      - Removal of existing listeners
      - Password encryption
      - sasl.jaas.config property for broker's JAAS config prefixed with listener and mechanism name

commit f9b56d680bab86fad276d01c8421d3679a788f2b
Author: Gunnar Morling <gunnar.morling@googlemail.com>
Date:   Sat Feb 3 22:27:02 2018 +0100

    KAFKA-6515; Adding toString() method to o.a.k.connect.data.Field (#4509)

commit 505adefcecc6e7282b73f934aa8c7a59adcb675e
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Feb 2 16:31:58 2018 -0800

    KAFKA-6494; ConfigCommand update to use AdminClient for broker configs (#4503)
    
    Use new AdminClient for describing and altering broker configs using ConfigCommand. Broker quota configs as well as other configs will continue to be processed directly using ZooKeeper until KIP-248 is implemented.
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit f6bbec4af2f1842ea7be35899e3c7d60179ab2fb
Author: Yu <yu.liu003@gmail.com>
Date:   Fri Feb 2 20:24:20 2018 +0100

    KAFKA-6354: Update KStream JavaDoc using new State Store API (#4456)
    
    Updates KStream JavaDoc and web page documentations using new State Store API
    
    Author: Yu Liu <yu.liu003@gmail.com>
    
    Reviewers: Guozhang Wang <guozhang@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 8b60c8b1417c4a20c17026a7f326c4a502a8797f
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Feb 1 22:04:14 2018 -0800

    MINOR: Update docs for KIP-229 (#4499)
    
    This PR includes:
    * Minor fix to command line output message
    * Relevant documentation update

commit b0132c31e91bb090ff012c726ac4ed92566ce7fb
Author: bartdevylder <bartdevylder@gmail.com>
Date:   Fri Feb 2 01:14:22 2018 +0100

    KAFKA-6487: ChangeLoggingKeyValueBytesStore does not propagate delete (#4495)
    
    The ChangeLoggingKeyValueBytesStore used to write null to its underlying store instead of propagating the delete, which has two drawbacks:
    
    * an iterator will see null values
    * unbounded memory growth of the underlying in-memory keyvalue store
    
    The fix will just propagate the delete instead of performing put(key, null).
    
    The changes to the tests:
    
    *extra test whether the key is really gone after delete by calling the approximateEntries on the underlying store. This number is exact because we know the underlying store in the test is of type InMemoryKeyValueStore
    * extra test to check a delete is logged as <key, null> (the existing test would also succeed if the key is just absent)
    
    While also updating the corresponding tests of the ChangeLoggingKeyValueStore I noticed the class is nowhere used anymore so I removed it from the source code for clarity.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit afdf9a85101539e2afb2b0355d7a2008b3055780
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 1 11:57:52 2018 -0800

    KAFKA-6492; Fix log truncation to empty segment
    
    This patch ensures that truncation to an empty segment forces resizing of the index file in order to prevent premature rolling.
    
    I have added unit tests which verify that appends are permitted following truncation to an empty segment. Without the fix, this test case reproduces the failure in which the rolled segment matches the current active segment.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jiangjie (Becket) Qin <becket.qin@gmail.com>
    
    Closes #4498 from hachikuji/KAFKA-6492

commit 86de4a86b87c1b45732303c07d263e317ffd0ebf
Author: Andy Bryant <andybryant@gmail.com>
Date:   Fri Feb 2 05:27:59 2018 +1100

    KAFKA-6378: For KStream-GlobalKTable joins let null KeyValueMapper results indicate no match (#4494)
    
    Reviewers: Damian Guy <damian@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 498cf73f54c202417ce0e12d8ef7f552da850f7d
Author: Dmitry Minkovsky <dminkovsky@gmail.com>
Date:   Thu Feb 1 10:14:38 2018 -0800

    MINOR: Fix typo in KTable javadoc
    
    *More detailed description of your change,
    if necessary. The PR title and PR message become
    the squashed commit message, so use a separate
    comment to ping reviewers.*
    
    *Summary of testing strategy (including rationale)
    for the feature or bug fix. Unit and/or integration
    tests are expected for any behaviour change and
    system tests should be considered for larger changes.*
    
    Author: Dmitry Minkovsky <dminkovsky@gmail.com>
    
    Reviewers: Joel Hamill <joel-hamill@users.noreply.github.com>, Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4483 from dminkovsky/fix-javadoc-typo
    
    github comments

commit 4a2aa4bb6700c02b573c3ae71a40bdb8df5ab3a7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Feb 1 10:11:29 2018 -0800

    KAFKA-6499: Do not write offset checkpoint file with empty offset map (#4492)
    
    * In Checkpoint.write(), if the offset map passed in is empty, skip the writing of the file which would only contain version number and the empty size. From the reading pov, it is the same as no file existed.
    * Add related unit tests.
    * Minor fixes on log4j messages.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 7804ea173bdbb0f401ad0135442c563fb52f895c
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu Feb 1 08:58:29 2018 -0800

    KAFKA-6489; Fetcher.retrieveOffsetsByTimes() should batch the metadata fetch.
    
    Currently if users call KafkaConsumer.offsetsForTimes() with a large set of partitions. The consumer will add one topic at a time for the metadata refresh. We should add all the topics to the metadata topics and just do one metadata refresh instead.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4478 from becketqin/KAFKA-6849

commit ca01711c0ec0b616840cc696419e5bbf500f6651
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Feb 1 11:35:43 2018 +0000

    Bump trunk versions to 1.2-SNAPSHOT (#4505)

commit c38a34559fd078be3ed30162619078f129802353
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jan 31 17:59:49 2018 -0800

    MINOR: Fix brokerId passed to metrics reporters (#4497)
    
    Remove caching of brokerId in DynamicBrokerConfig constructor and delay initialization until brokerId is set in KafkaConfig.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit b8222065e0cc09f455dc5b2aa43c1d68cf0d4a1f
Author: Panuwat Anawatmongkhon <benzbicykle@gmail.com>
Date:   Thu Feb 1 04:53:15 2018 +0700

    KAFKA-6138 Simplify StreamsBuilder#addGlobalStore (#4430)
    
    - implements KIP-233
    
    Author: Panuwat Anawatmongkhon <panuwat.anawatmongkhon@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 1ed6da7cc8eb2231f73509c907c2e67af2f249d2
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Jan 31 13:23:12 2018 -0800

    KAFKA-6275: Add DeleteGroups API (KIP-229) (#4479)
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 4c48942f9d9e1428e21f934746cb7ce22b3df746
Author: Randall Hauch <rhauch@gmail.com>
Date:   Wed Jan 31 10:40:24 2018 -0800

    KAFKA-5142: Add Connect support for message headers (KIP-145)
    
    **[KIP-145](https://cwiki.apache.org/confluence/display/KAFKA/KIP-145+-+Expose+Record+Headers+in+Kafka+Connect) has been accepted, and this PR implements KIP-145 except without the SMTs.**
    
    Changed the Connect API and runtime to support message headers as described in [KIP-145](https://cwiki.apache.org/confluence/display/KAFKA/KIP-145+-+Expose+Record+Headers+in+Kafka+Connect).
    
    The new `Header` interface defines an immutable representation of a Kafka header (key-value pair) with support for the Connect value types and schemas. This interface provides methods for easily converting between many of the built-in primitive, structured, and logical data types.
    
    The new `Headers` interface defines an ordered collection of headers and is used to track all headers associated with a `ConnectRecord` (and thus `SourceRecord` and `SinkRecord`). This does allow multiple headers with the same key. The `Headers` contains methods for adding, removing, finding, and modifying headers. Convenience methods allow connectors and transforms to easily use and modify the headers for a record.
    
    A new `HeaderConverter` interface is also defined to enable the Connect runtime framework to be able to serialize and deserialize headers between the in-memory representation and Kafka’s byte[] representation. A new `SimpleHeaderConverter` implementation has been added, and this serializes to strings and deserializes by inferring the schemas (`Struct` header values are serialized without the schemas, so they can only be deserialized as `Map` instances without a schema.) The `StringConverter`, `JsonConverter`, and `ByteArrayConverter` have all been extended to also be `HeaderConverter` implementations. Each connector can be configured with a different header converter, although by default the `SimpleHeaderConverter` is used to serialize header values as strings without schemas.
    
    Unit and integration tests are added for `ConnectHeader` and `ConnectHeaders`, the two implementation classes for headers. Additional test methods are added for the methods added to the `Converter` implementations. Finally, the `ConnectRecord` object is already used heavily, so only limited tests need to be added while quite a few of the existing tests already cover the changes.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Arjun Satish <arjun@confluent.io>, Ted Yu <yuzhihong@gmail.com>, Magesh Nandakumar <magesh.n.kumar@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4319 from rhauch/kafka-5142-b

commit 530bc59de2732ba71e82c0110c59e9f6162531c6
Author: Soenke Liebau <soenke.liebau@opencore.com>
Date:   Wed Jan 31 08:49:23 2018 -0800

    KAFKA-4930: Enforce set of legal characters for connector names (KIP-212)
    
    …to check for empty connector name and illegal characters in connector name. This also fixes  KAFKA-4938 by removing the check for slashes in connector name from ConnectorsResource.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    Author: Soenke Liebau <soenke.liebau@opencore.com>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>, Viktor Somogyi <viktor.somogyi@cloudera.com>, Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2755 from soenkeliebau/KAFKA-4930

commit 15568fdbe753ea1c2e5fef571daf45e435999c07
Author: fredfp <fredericarno@gmail.com>
Date:   Wed Jan 31 10:18:55 2018 +0800

    KAFKA-6323: punctuate with WALL_CLOCK_TIME triggered immediately (#4301)
    
    This PR avoids unnecessary punctuation calls if punctuations are missed due to large time advances. It also aligns punctuation schedules to the epoch.
    
    Author: Frederic Arno
    
    Reviewers: Michal Borowiecki <michal.borowiecki@openbet.com>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>

commit 3e4176fdd653f002ce878d99ba5c05389c8b6cb4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jan 30 17:16:59 2018 -0800

    HOTFIX: ignore reset integration tests
    
    ignore reset integraion test

commit ae42cc803023c795eae00d138ea22a6a7951db31
Author: Steven Aerts <steven.aerts@gmail.com>
Date:   Tue Jan 30 15:55:49 2018 -0800

    KAFKA-6018: Make KafkaFuture.Future an interface (KIP-218)
    
    Changing KafkaFuture.Future and KafkaFuture.BiConsumer into an interface makes
    them a functional interface.  This makes them Java 8 lambda compatible.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    Author: Steven Aerts <steven.aerts@gmail.com>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Xavier Léauté <xl+github@xvrl.net>, Tom Bentley <tbentley@redhat.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4033 from steven-aerts/KAFKA-6018

commit c6635e8d12fa5fed32ac75a727e62332fffa210b
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue Jan 30 18:30:58 2018 -0500

    KAFKA-4969: Attempt to evenly distribute load of tasks (#4410)
    
    * removed round-robin approach, try to assign tasks to consumers in a more even manner, added unit test.
    * better interleaved task approach, updated tests
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <mjsax@apache.org>

commit 3431be2aeb4f16599c419f89360856b72d0d335d
Author: Jakub Scholz <www@scholzj.com>
Date:   Tue Jan 30 15:09:40 2018 -0800

    KAFKA-4029: SSL support for Connect REST API (KIP-208)
    
    This PR implements the JIRA issue [KAFKA-4029: SSL support for Connect REST API](https://issues.apache.org/jira/browse/KAFKA-4029) / [KIP-208](https://cwiki.apache.org/confluence/display/KAFKA/KIP-208%3A+Add+SSL+support+to+Kafka+Connect+REST+interface).
    
    Summary of the main changes:
    - Jetty `HttpClient` is used as HTTP client instead of the one shipped with Java. That allows to keep the SSL configuration for Server and Client be in single place (both use the Jetty `SslContextFactory`). It also has much richer configuration than the JDK client (it is easier to configure things such as supported cipher suites etc.).
    - The `RestServer` class has been broker into 3 parts. `RestServer` contains the server it self. `RestClient` contains the HTTP client used for forwarding requests etc. and `SSLUtils` contain some helper classes for configuring SSL. One of the reasons for this was Findbugs complaining about the class complexity.
    - A new method `valuesWithPrefixAllOrNothing` has been added to `AbstractConfig` to make it easier to handle the situation that we want to use either only the prefixed SSL options or only the non-prefixed. But not mixed them.
    
    Author: Jakub Scholz <www@scholzj.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4429 from scholzj/kip-208

commit ef93998fa7e31f6222d6f0b12b9a01fa785faf48
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Tue Jan 30 14:47:28 2018 -0800

    KAFKA-6418; AdminClient should handle empty or null topic names better (#4470)

commit 2264613c4e2f51f1332671db50b6af6284baa6fc
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jan 30 14:14:50 2018 -0800

    KAFKA-6166: Update javadoc for streams config (#4489)
    
    This PR piggy-back a few different javadoc changes:
    
    * KIP-220: add admin client prefix.
    * Clarify on user customized configs.

commit 70d3b19b1126ae64c214615adef590275f218ee7
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jan 30 12:55:32 2018 -0800

    KAFKA-6243: Enable dynamic updates of broker metrics reporters (#4464)
    
    Dynamic metrics reporter updates described in KIP-226. This includes:
      - Addition and removal of metrics reporters
      - Reconfiguration of custom metrics reporter configs
      - Tests for metrics reporter updates at default cluster-level and as per-broker config for testing
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit d97e63b26063c8fe629005ff61c8150317c88503
Author: Sean McCauliff <smccauliff@linkedin.com>
Date:   Tue Jan 30 10:20:08 2018 -0800

    KAFKA-6345; Keep a separate count of in-flight requests to avoid ConcurrentModificationException.
    
    This keeps a separate count of the number of in flight requests so that sensor threads will not need to deal with ConcurrentModfiicationException.
    
    This would probably still be correct with volatile rather than AtomicInteger, but FindBugs flags the use of volatile as the count is incremented and decremented.
    
    Author: Sean McCauliff <smccauliff@linkedin.com>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>
    
    Closes #4460 from smccauliff/KAFKA-6345

commit cb93d764613d801a1185989f09ce2d6b76009020
Author: Filipe Agapito <filipe.agapito@gmail.com>
Date:   Tue Jan 30 18:18:51 2018 +0000

    KAFKA-6166: Streams configuration requires consumer. and producer. in order to be read (#4434)
    
    * Implement method to get custom properties
    * Add custom properties to getConsumerConfigs and getProducerConfigs
    * Add tests
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 710aa678b7a6409296fb3c852a47c1876d8fa8e9
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jan 30 09:29:27 2018 -0800

    KAFKA-6242: Dynamic resize of various broker thread pools (#4471)
    
    Dynamic resize of broker thread pools as described in KIP-226:
      - num.network.threads
      - num.io.threads
      - num.replica.fetchers
      - num.recovery.threads.per.data.dir
      - background.threads
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit b4165522b3c244b67c0f88e4df9f0cd581a75bb0
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Jan 30 08:45:07 2018 -0800

    KAFKA-6148; ClassCastException in connectors that include kafka-clients packages (#4457)
    
    Exclusion for packages that need not be loaded in isolation needs to be extended to all the `org.apache.kafka` packages (that do not belong to transforms and the other whitelisted packages). Most notably, this refers to any classes in `kafka-clients` package.
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit b7a0c327cc24adf38e91c05af6f96a7271f2ab61
Author: Ron Dagostino <rndgstn@gmail.com>
Date:   Tue Jan 30 06:09:06 2018 -0500

    KAFKA-6464: Fix Base64URL encode padding issue under JRE 1.7 (#4455)
    
    The org.apache.kafka.common.utils.Base64 class defers Base64 encoding/decoding to the java.util.Base64 class beginning with JRE 1.8 but leverages javax.xml.bind.DatatypeConverter under JRE 1.7.  The implementation of the encodeToString(bytes[]) method returned under JRE 1.7 by Base64.urlEncoderNoPadding() blindly removed the last two trailing characters of the Base64 encoding under the assumption that they would always be the string "==" but that is incorrect; padding can be "=", "==", or non-existent. This commit fixes that problem.
    
    The commit also adds a Base64.urlDecoder() method that defers to java.util.Base64 under JRE 1.8+ but leverages javax.xml.bind.DatatypeConverter under JRE 1.7.
    
    Finally, there is a unit test to confirm that encode/decode are inverses in both the Base64 and Base64URL cases.

commit fdc14dacedc3d3497dcc222b44f539e6355b45a9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jan 29 17:48:53 2018 -0800

    MINOR: Code refacotring in KTable-KTable Join (#4486)
    
    1. Rename KTableKTableJoin to KTableKTableInnerJoin. Also removed abstract from other joins.
    2. Merge KTableKTableJoinValueGetter.java into KTableKTableInnerJoin.
    3. Use set instead of arrays in the stores function, to avoid duplicate stores to be connected to processors.
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>

commit 05e42e1df12d87a29c8127dec23d7a9c290901d6
Author: Tanvi Jaywant <tanvijaywant@Tanvis-Air.home>
Date:   Mon Jan 29 17:28:49 2018 -0800

    KAFKA-6451: Simplifying KStreamReduce and KStreamAggregate
    
    [KAFKA-6451](https://issues.apache.org/jira/browse/KAFKA-6451)
    
    Simplified KStreamReduce and KStreamAggregate.
    Updated comments in KStreamAggregate.
    
    Author: Tanvi Jaywant <tanvijaywant@Tanvis-Air.home>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <mjsax@apache.org>
    
    Closes #4477 from tanvijaywant31/KAFKA-6451

commit a78f66a5ae7865418ee482c535e883598e1ec51f
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Mon Jan 29 17:21:48 2018 -0800

    KAFKA-3625: Add public test utils for Kafka Streams (#4402)
    
    * KAFKA-3625: Add public test utils for Kafka Streams
     - add new artifact test-utils
     - add TopologyTestDriver
     - add MockTime, TestRecord, add TestRecordFactory
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>

commit 6ea53d22e25e948b26c8f2c436f242edb0748df2
Author: Joel Hamill <11722533+joel-hamill@users.noreply.github.com>
Date:   Mon Jan 29 10:08:48 2018 -0800

    MINOR: Fix some streams web doc nits (#4411)
    
    Reviewers: Derrick Or <derrickor@gmail.com>, Guozhang Wang <wangguoz@gmail.com>

commit b5da5f8bec2b87c13f82d57be8e38a397c61366e
Author: Kamil Szymański <kamil.szymanski.dev@gmail.com>
Date:   Mon Jan 29 05:17:48 2018 +0100

    MINOR: Optimize KTable-KTable join value getter supplier (#4458)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <mjsax@apache.org>

commit 2f267871eac86623950e8e3a67a98687e42a0b3e
Author: RichardYuSTUG <yohan.richard.yu2@gmail.com>
Date:   Sun Jan 28 13:20:58 2018 +0000

    HOTFIX: ambiguity issue calling putAll() in scala compilation against JAVA 9
    
    The cause for compilation error in JDK 9.0 was an ambiguity issue in scalac:
    ```
    both method putAll in class Properties of type (x$1: java.util.Map[_, _])Unit
    and  method putAll in class Hashtable of type (x$1: java.util.Map[_ <: Object, _ <: Object])Unit
    match argument types (java.util.Properties)
          newProps.putAll(props)
    ```
    
    Author: RichardYuSTUG <yohan.richard.yu2@gmail.com>
    
    Reviewers: Manikumar Reddy O <manikumar.reddy@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4482 from ConcurrencyPractitioner/trunk

commit 1e04f5d2348d91fc18d4e0f330c231919663be1a
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Jan 27 18:08:51 2018 -0800

    MINOR: Fix Javadoc Issues (#4190)
    
    This PR mainly fixes some broken links and invalid references in the clients Javadoc

commit 9b3722cea1845784853073d2a22764ec9fd5a8e5
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Jan 27 12:22:05 2018 -0800

    KAFKA-6245: Dynamic update of topic config defaults (#4466)
    
    Dynamic update of default topic configs as described in KIP-226.

commit e8b30e4d255dce455632d809f7bd54b04e6bc6fd
Author: Colin Patrick McCabe <colin@cmccabe.xyz>
Date:   Fri Jan 26 16:44:49 2018 -0800

    MINOR: MetadataResponse#toStruct should serialize null leaders correctly. (#4449)
    
    In MetadataResponse deserialization, if the partition leader key is set
    to -1, the leader is set to null.  The MetadataResponse#toStruct code
    should handle this correctly as well.
    
    Also fix a case in KafkaApis where we were not taking into account the
    possibility of the leader being null.
    
    RequestResponseTest should test this as well.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 70cecb6881f8b4f45cfd4780ef27f9fb9a8ce0b6
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jan 26 14:38:46 2018 -0800

    KAFKA-6244; Dynamic update of log cleaner configuration (#4465)

commit 1fef10d47f8b7481b4fed8f5366c6780d9c7d733
Author: Koen De Groote <kdg.private@gmail.com>
Date:   Fri Jan 26 20:43:48 2018 +0100

    MINOR: Replace empty string concattenation with String.valueOf() where possible. (#4369)
    
    This is something I did after my working hours, I would ask people reviewing this do the same, don't take time for this during your work hours.
    
    I try to keep such a PR as limited as possible, for clarity of reading.
    
    ==========
    
    Using an empty string concat in order to achieve the String representation of the value you want is bad for 2 reasons, as explained here: (https://stackoverflow.com/questions/1572708/is-conversion-to-string-using-int-value-bad-practice
    
    Readability: it shows what you're trying to do.
    
    Depending on your compiler, it might attempt to create your String by first creating a StringBuffer, appending your value to it and then doing .toString() on that. Which is inefficient.
    
    Also, the Metrics.java file had an empty string being added for the sole reason that the page width forced a string to continue on a new line. Removed that.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 93ab94d7edcbf577747d306c19fc5378dd092d76
Author: Jakub Scholz <www@scholzj.com>
Date:   Fri Jan 26 20:40:35 2018 +0100

    MINOR: Add authorizer.class.name to the security section in documentation (#4310)

commit 4a274bc9fd2ac3714788af0429fde8945a48636f
Author: Antony Stubbs <antony.stubbs@gmail.com>
Date:   Sat Jan 27 06:35:54 2018 +1100

    MINOR: JavaDoc improvements for RangeAssignor (#4079)

commit a9af5c79638cb6ac4e729cdd995facc6153e45db
Author: ekenny <eric.kenny@gmail.com>
Date:   Fri Jan 26 14:31:37 2018 -0500

    MINOR: Changed javadoc on KafkaConsumer#endOffsets (#3470)

commit 739256bea95856b4ae0a6b9fb7b0f4b1e6d8c0fd
Author: Elyahou <ittah.elyahou@gmail.com>
Date:   Fri Jan 26 21:29:46 2018 +0200

    MINOR: Fix comment on how to consume __consumer_offsets (#3710)

commit a693e86181637ad21927cf3e2c70277daadd6469
Author: Travis Wellman <tw@traviswellman.com>
Date:   Fri Jan 26 11:17:52 2018 -0800

    MINOR: fix command help description on zookeeper host strings URLs (#2940)

commit d706c87cb2a7e060ae22ccb7809b5d588bb3d6b5
Author: Scott <smferguson@users.noreply.github.com>
Date:   Fri Jan 26 14:14:57 2018 -0500

    MINOR: a single doc typo (#2969)

commit c8d80073c9d68c4e7fce695118fb52093fa39d45
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Fri Jan 26 19:49:17 2018 +0100

    MINOR: update javadocs for serde (#3047)
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>

commit 115c3055266dd83ef3ae1d95128dc4afbf2bac0b
Author: Mickael Maison <mimaison@users.noreply.github.com>
Date:   Fri Jan 26 18:40:32 2018 +0000

    MINOR: Fixed a few typos in configs and streams docs (#4452)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit decfb834fbbc8ae1a718e083edc70f5f226ea43e
Author: Yu-Jhe <liyujhe@gmail.com>
Date:   Sat Jan 27 02:14:10 2018 +0800

    Add missing backslash (#4474)
    
    There're missing backslash when running the quick start tutorial.
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit c615c597aa24cc5a4552102f1b6d27fcf4e24d12
Author: Bill Bejeck <bill@confluent.io>
Date:   Fri Jan 26 09:24:40 2018 -0800

    KAFKA-6205: initialize topology after state stores restoration completed
    
    Initialize topology after state store restoration.
    Although IMHO updating some of the existing tests demonstrates the correct order of operations, I'll probably add an integration test, but I wanted to get this PR in for feedback on the approach.
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <mjsax@apache.org>
    
    Closes #4415 from bbejeck/KAFKA-6205_restore_state_stores_before_initializing_topology
    
    minor log4j edits

commit d673c8cf94b5fdf773c768eded746ae4d8febc86
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Jan 26 09:18:22 2018 -0800

    MINOR: update upgrade notes with regard to KIP-149 (#4439)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>

commit 993d3c727e6f21931bf66c671358dfe7b0e1fae3
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Fri Jan 26 08:39:57 2018 -0800

    KAFKA-6467; Enforce layout of dependencies within a connect plugin to be deterministic (#4459)
    
    Adds alphanumeric ordering of dependencies as they added to a Connect plugin's class loader path.
    
    This makes the layout of the dependencies consistent across systems and deployments. Dependencies should still, in principle, not include conflicts and ideally order should not matter.
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 97e458342252749d591f4037747668856c63e3a3
Author: Dmitry Minkovsky <dminkovsky@gmail.com>
Date:   Fri Jan 26 11:30:47 2018 -0500

    MINOR: Fix typo in leader epoch change log message (#4476)

commit 6d266907cd93bc9e5b5341b9c6e9d026c4b60eee
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Fri Jan 26 21:55:12 2018 +0530

    KAFKA-4991; Resolve findbugs warnings in KerberosLogin (#4394)

commit 138f57f16068b49a08a2f58155b71e72ff7ed273
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Jan 25 20:40:11 2018 -0800

    KAFKA-6321; Consolidate calls to KafkaConsumer's `beginningOffsets()` and `endOffsets()` in ConsumerGroupCommand
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Jiangjie (Becket) Qin <becket.qin@gmail.com>
    
    Closes #4344 from vahidhashemian/KAFKA-6321

commit 7a246eea7b68851c3de5345d43f70853b4a15f21
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Fri Jan 26 02:09:20 2018 +0530

    KAFKA-4897; Add pause method to ShutdownableThread (#4393)
    
     - Use newly added pause method in LogCleaner and ControllerChannelManager classes
     - Remove LogCleaner, Cleaner exclusions from findbugs-exclude.xml
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>

commit 41e4e93b5ae8a7d221fce1733e050cb98ac9713c
Author: huxi <huxi_2b@hotmail.com>
Date:   Fri Jan 26 01:49:50 2018 +0800

    KAFKA-6429; LogCleanerManager.cleanableOffsets should create objects … (#4399)
    
    …for dirty non-active segments only when `log.cleaner.min.compaction.lag.ms` is greater than 0
    
    With `log.cleaner.min.compaction.lag.ms`'s default value of 0, there is no need to hold heap objects for those dirty non-active segments. This could reduce the heap size and also avoid the unnecessary monitor lock retrieval.

commit 82020629c54636fb9b0dded7f7262e45abea5e2e
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Jan 25 09:25:29 2018 -0800

    MINOR: Update consumer group command documentation with additionally supported options (#4462)
    
    With KIP-175 there are a number of consumer group command options that can be used to describe a consumer group.
    This PR updates the documentation on consumer group command to mention those options.

commit 3cb6a00c5a6b8f9c79f154cd391f729c4f5b5a0b
Author: Logan Buckley <logan@hustle.com>
Date:   Thu Jan 25 12:16:15 2018 -0500

    MINOR: Fix typo in consumer group command error (#4463)
    
    The error message lists '--reset-offset' as one of the possible
    options, but the option is in fact called '--reset-offsets'.

commit aa42a11dfd99ee9ab24d2e9a7521ef1c97ae1ff4
Author: Charly Molter <charly.molter@gmail.com>
Date:   Thu Jan 25 05:06:44 2018 +0000

    KAFKA-6180; Add a Validator for NonNull configurations and remove redundant null checks on lists (#4188)

commit 52191c34986431673580575264c5c0414ae20243
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jan 24 13:24:23 2018 -0800

    KAFKA-6462: fix unstable ResetIntegrationTest (#4446)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>

commit 5e04fb8d8e55a5281bd40da9e1c99e9eb5e3c5f5
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jan 23 18:58:49 2018 -0800

    KAFKA-6287; Consumer group command should list simple consumer groups (#4407)
    
    With this patch, simple consumer groups which only use Kafka for offset storage will be viewable using the `--list` option in consumer-groups.sh. In addition, this patch fixes a bug in the offset loading logic which caused us to lose the protocol type of empty groups on coordinator failover. I also did some cleanup of the various consumer group command test cases.
    
    For testing, I have added new integration tests which cover listing and describing simple consumer groups. I also added unit tests to cover loading empty groups with assertions on the protocol type.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit faafdbe014ca6ac7e253be6934f78885642666ed
Author: tedyu <yuzhihong@gmail.com>
Date:   Tue Jan 23 15:21:40 2018 -0800

    KAFKA-6461 TableTableJoinIntegrationTest is unstable if caching is enabled (#4451)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <mjsax@apache.org>

commit b814a16b968d144802d08523b5c359d6706f5632
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jan 23 08:44:31 2018 -0800

    KAFKA-6241; Enable dynamic updates of broker SSL keystore (#4263)
    
    Enable dynamic broker configuration (see KIP-226 for details). Includes
     - Base implementation to allow specific broker configs and custom configs to be dynamically updated
     - Extend DescribeConfigsRequest/Response to return all synonym configs and their sources in the order of precedence
     - Extend AdminClient to alter dynamic broker configs
     - Dynamic update of SSL keystores
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 83cc138e0c04a2f30f4536c27314890d06818190
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Mon Jan 22 15:00:31 2018 -0800

    MINOR: Add async and different sync startup modes in connect service test class
    
    Allow Connect Service in system tests to start asynchronously.
    
    Specifically, allow for three startup conditions:
    1. No condition - start async and return immediately.
    2. Semi-async - start immediately after plugins have been discovered successfully.
    3. Sync - start returns after the worker has completed startup. This is the current mode, but its condition is improved by checking that the port of Connect's REST interface is open, rather than that a log line has appeared in the logs.
    
    An associated system test run has been started here:
    https://jenkins.confluent.io/job/system-test-confluent-platform-branch-builder/586/
    
    ewencp rhauch, I'd appreciate your review.
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4423 from kkonstantine/MINOR-Add-async-and-different-sync-startup-modes-in-ConnectService-test-class

commit 2c08d7e39e3c7e0a65b0255db3c86d3e259cedbf
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Mon Jan 22 14:38:31 2018 -0800

    MINOR: increase timeout for unstable KTableSourceTopicRestartIntegrationTest (#4445)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 9ef883e62fc10e04105278d3cb8d7076e3ebc941
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Mon Jan 22 14:37:19 2018 -0800

    MINOR: update docs with regard to improved resilience of Kafka Streams (#4380)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Joel Hamill, Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>

commit 0fa52644debfbc20cda0a93678140537fa2cb24c
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Sun Jan 21 19:41:20 2018 -0800

    KAFKA-6277: Ensure loadClass for plugin class loaders is thread-safe.
    
    `loadClass` needs to be synchronized to protect subsequent calls to `defineClass`.
    
    Details in the javadoc of this PR as well as here too: https://docs.oracle.com/javase/7/docs/technotes/guides/lang/cl-mt.html
    
    /cc ewencp rhauch
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4428 from kkonstantine/KAFKA-6277-Make-loadClass-thread-safe-for-class-loaders-of-Connect-plugins

commit ca30c2d55b4f882fda34a13aff6f9ea510a959f6
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Jan 20 13:28:24 2018 -0800

    KAFKA-6366: Fix stack overflow in consumer due to many offset commits during coordinator disconnect (#4349)
    
    When the coordinator is marked unknown, we explicitly disconnect its connection and cancel pending requests. Currently the disconnect happens before the coordinator state is set to null, which means that callbacks which inspect the coordinator state will see it still as active. If there are offset commit requests which need to be cancelled, each request callback will inspect the coordinator state and attempt to mark the coordinator dead again. In the worst case, if there are many pending offset commit requests that need to be cancelled, this can cause a stack overflow. To fix the problem, we need to set the coordinator to null prior to cancelling pending requests.
    
    I have added a test case which reproduced the stack overflow with many pending offset commits. I have also added a basic test case to verify that callbacks for in-flight or unsent requests see the coordinator as unknown which prevents them from attempting to resend.
    
    This patch also includes some minor cleanups which were noticed along the way.
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>

commit ae6cb15f5f8947f8e0e87035b212a1e6ddf36193
Author: Jeff Widman <jeff@jeffwidman.com>
Date:   Thu Jan 18 14:36:20 2018 -0800

    MINOR: Fix typo in Log.scala: "actually recovery" > "actually recover" (#4440)

commit 70f25b95192bb7d56c62c8b8bc80b478b8e08ef9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jan 18 13:54:59 2018 -0800

    MINOR: Improve on reset integration test (#4436)
    
    * Parameterize abstract reset integration test
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <mjsax@apache.org>

commit 75e37d7e2063b726aa0185f4b695f32cde69d95c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jan 18 13:12:44 2018 -0800

    KAFKA-6398: Return value getter based on KTable materialization status
    
    This is a bug fix that is composed of two parts:
    
    1. The major part is, for all operators that is generating a KTable, we should construct its value getter based on whether the KTable itself is materialized.
    1.a If yes, then query the materialized store directly for value getter.
    1.b If not, then hand over to its parents value getter (recursively) and apply the computation to return.
    
    2. The minor part is, in KStreamImpl, when joining with a table, we should connect with table's `valueGetterSupplier().storeNames()`, not the `internalStoreName()` as the latter always assume that the KTable is materialized, but that is not always true.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #4421 from guozhangwang/K6398-KTableValueGetter

commit b2146a1cba060d6e3baa67d26a5c06ab316e3f92
Author: mulvenna <mulvenna@users.noreply.github.com>
Date:   Thu Jan 18 11:32:44 2018 -0800

    MINOR: Fix a typo in a comment in config/server.properties (#4373)

commit 51f0f3ee792cf9352ce61afeca098c765cdad664
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Thu Jan 18 19:14:49 2018 +0000

    MINOR: additional check to follower fetch handling  (#4433)
    
    add check to KafkaApis, add unit test specific to follower fetch
    developed with @mimaison
    
    Reviewers: Mickael Maison <mickael.maison@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit b543bfc18e424c58897bb973206ea9a1d120d21a
Author: manjuapu <manjula@confluent.io>
Date:   Thu Jan 18 09:59:32 2018 -0800

    Streams Use case anchor (#4420)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 8cd563d4785f719c4876d9d4626713994c3a3a6f
Author: Gunnar Morling <gunnar.morling@googlemail.com>
Date:   Thu Jan 18 18:56:22 2018 +0100

    KAFKA-6456; JavaDoc clarification for Connect SourceTask#poll() (#4432)
    
    Making clear that implementations of poll() shouldn't block indefinitely in order to allow the task instance to transition to PAUSED state.
    
    Reviewers:  Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit e2e36d34edfbb0f75ef70bf1e3bd13df2a5dc7ea
Author: Andras Beni <andrasbeni@cloudera.com>
Date:   Thu Jan 18 18:23:23 2018 +0100

    MINOR: Fix error message in KafkaConfig validation (#4417)

commit 40759595e2e4d3751da8787c62ffd659cde257aa
Author: Magnus Reftel <magnus.reftel@gmail.com>
Date:   Thu Jan 18 18:11:20 2018 +0100

    MINOR: Fix typo in KafkaConsumer javadoc (#4422)

commit e98162792684b0874c60003c6a596ec739c934a3
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jan 18 08:57:42 2018 -0800

    improve internal topic integration test (#4437)
    
    Reviewers: Damian Guy <damian.guy@gmail.com>

commit 5701ba88f895ac9211f25c15204d6281aed00ffc
Author: dan norwood <dan.norwood@gmail.com>
Date:   Thu Jan 18 08:45:22 2018 -0800

    MINOR: Need to get a new transformer for each get() call. can't share'em (#4435)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <mjsax@apache.org>

commit f6f65a78684e41bcd6115438a76cd6c552afc043
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jan 17 14:01:43 2018 -0800

    KAFKA-6302: Improve AdmintClient JavaDocs
    
    Reviewers: Colin P. McCabe <cmccabe@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4332

commit 11f3db0b731739017174e488670e529af4dc22ae
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Wed Jan 17 11:25:50 2018 -0800

    KAFKA-6382: Make ProducerConfig and ConsumerConfig constructors public (#4341)
    
    * KIP-234
    * update constructors to accept Properties and Map<String,Object>
    * use ProducerConfig to access BATCH_SIZE default value in Streams

commit 2771f52ea7070a3147058e0d6661e0a7e4158161
Author: RichardYuSTUG <yohan.richard.yu2@gmail.com>
Date:   Tue Jan 16 16:44:44 2018 -0800

    KAFKA-6328: Sort node groups considering global stores in InternalTopologyBuilder#makeNodeGroups
    
    Author: RichardYuSTUG <yohan.richard.yu2@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4339 from ConcurrencyPractitioner/kafka-6238
    
    Minor edits on description

commit 8ded496c9be619fe29d00b406b3c1e094abc202c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jan 16 15:13:30 2018 -0800

    MINOR: Improve Join integration test coverage, PART II
    
    1. Replaced KStreamKTableJoinIntegrationTest with the abstract based StreamTableJoinIntegrationTest. Added details on per-step verifications.
    2. Minor renaming on GlobalKTableIntegrationTest.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>
    
    Closes #4419 from guozhangwang/KMinor-join-integration-tests-II

commit bcc712b45820da74b44209857ebbf7b9d59e0ed7
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Tue Jan 16 10:47:29 2018 -0800

    KAFKA-4218: Enable access to key in ValueTransformer and ValueMapper
    
    This PR is the partial implementation for KIP-149. As the discussion for this KIP is still ongoing, I made a PR on the "safe" portions of the KIP (so that it can be included in the next release) which are 1) `ValueMapperWithKey`, 2) `ValueTransformerWithKeySupplier`, and 3) `ValueTransformerWithKey`.
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4309 from jeyhunkarimov/KIP-149_hope_last

commit c7e7cc1a5ad6540ab58b7cda5eba82090cc8aa86
Author: Joel Hamill <11722533+joel-hamill@users.noreply.github.com>
Date:   Tue Jan 16 10:30:11 2018 -0800

    MINOR: Fix typo (#4426)
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit 27a8d0f9e7f3b05f331d1449b17cf7e085a4b45c
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Jan 16 09:50:31 2018 -0800

    KAFKA-4541; Support for delegation token mechanism
    
    - Add capability to create delegation token
    - Add authentication based on delegation token.
    - Add capability to renew/expire delegation tokens.
    - Add units tests and integration tests
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3616 from omkreddy/KAFKA-4541

commit 5d81639907869ce7355c40d2bac176a655e52074
Author: cmolter <cmolter@apple.com>
Date:   Sun Jan 14 16:18:39 2018 -0800

    KAFKA-5890; records.lag should use tags for topic and partition rather than using metric name.
    
    This is the implementation of KIP-225.
    It marks the previous metrics as deprecated in the documentation and adds new metrics using tags.
    
    Testing verifies that both the new and the old metric report the same value.
    
    Author: cmolter <cmolter@apple.com>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>
    
    Closes #4362 from lahabana/kafka-5890

commit 1d1c8575961bf6bce7decb049be7f10ca76bd0c5
Author: RichardYuSTUG <yohan.richard.yu2@gmail.com>
Date:   Fri Jan 12 17:27:52 2018 -0800

    4385
    
    Author: RichardYuSTUG <yohan.richard.yu2@gmail.com>
    Author: Prasanna Gautam <prasannagautam@gmail.com>
    Author: Dong Lin <lindong28@gmail.com>
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4385 from ConcurrencyPractitioner/doc-kafka-4499

commit 3e21e17a7d3613bfab8c34555c0f598a07cf0675
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jan 12 15:40:59 2018 -0800

    MINOR: Improve Join integration test coverage, PART I
    
    0. Rename `JoinIntegrationTest` to `StreamStreamJoinIntegrationTest`, which is only for KStream-KStream joins.
    1. Extract the `AbstractJoinIntegrationTest` which is going to be used for all the join integration test classes, parameterized with and without caching.
    2. Merge `KStreamRepartitionJoinTest.java` into `StreamStreamJoinIntegrationTest.java` with augmented stream-stream join.
    3. Add `TableTableJoinIntegrationTest` with detailed per-step expected results and removed `KTableKTableJoinIntegrationTest`.
    
    Findings of the integration test:
    
    1. Confirmed KAFKA-4309 with caching turned on.
    2. Found bug KAFKA-6398.
    3. Found bug KAFKA-6443.
    4. Found a bug that in CachingKeyValueStore, we would flush before putting the record into the underlying store, when the store is going to be used in the downstream processors with flushing it would result in incorrect results, fixed the issue along with this PR.
    5. Consider a new optimization described in KAFKA-6286.
    
    Future works including stream-table joins will be in other PRs.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>
    
    Closes #4331 from guozhangwang/KMinor-join-integration-tests

commit 936e81afcb0488e65a3dbca688c768b0100fe04a
Author: Gavrie Philipson <gavrie@philipson.co.il>
Date:   Fri Jan 12 01:52:50 2018 +0200

    KAFKA-6250: Use existing Kafka Connect internal topics without requiring ACL (#4247)
    
    When using Kafka Connect with a cluster that doesn't allow the user to
    create topics (due to ACL configuration), Connect fails when trying to
    create its internal topics even if these topics already exist. This is
    incorrect behavior according to the documentation, which mentions that
    R/W access should be enough.
    
    This happens specifically when using Aiven Kafka, which does not permit
    creation of topics via the Kafka Admin Client API.
    
    The patch ignores the returned error, similar to the behavior for older
    brokers that don't support the API.

commit b8aa1761c39bd320950104fa2ddf4fbd7163fc85
Author: Richard Yu <yohan.richard.yu2@gmail.com>
Date:   Thu Jan 11 09:54:02 2018 -0800

    KAFKA-6265: Add #queryableStoreName() to GlobalKTable
    
    A spinoff of original pull request #4340 for resolving conflicts.
    
    Author: RichardYuSTUG <yohan.richard.yu2@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4413 from ConcurrencyPractitioner/kafka-6265-2

commit 4d544d4f08b027ce318b088b112f03dccc566098
Author: Rohan Desai <desai.p.rohan@gmail.com>
Date:   Wed Jan 10 16:24:43 2018 -0800

    KAFKA-6383: Complete shut down for streams threads that have not started
    
    *More detailed description of your change,
    if necessary. The PR title and PR message become
    the squashed commit message, so use a separate
    comment to ping reviewers.*
    
    *Summary of testing strategy (including rationale)
    for the feature or bug fix. Unit and/or integration
    tests are expected for any behaviour change and
    system tests should be considered for larger changes.*
    
    Author: Rohan Desai <desai.p.rohan@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4382 from rodesai/KAFKA-6383

commit 92529ac6d8c117f1704d84f94f18b9497707a1b5
Merge: fa5ebc8a0 b887eeb72
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Jan 10 13:32:16 2018 -0800

    Merge pull request #3567 from bobrik/unclean-docs-clarification
    
    KAFKA-4711: fix docs onunclean.leader.election.enable default

commit fa5ebc8a019f8cb24823dd29ef84d422d93624dc
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jan 10 11:14:20 2018 -0800

    KAFKA-6398: fix KTable.filter that does not include its parent's queryable storename
    
    1. Include the parent's queryable store name in KTable.filter if this operator is not materialized.
    2. Augment InternalTopologyBuilder checking on null processor / store names from the enum.
    3. Unit test.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #4384 from guozhangwang/K6398-topology-builder-exception

commit 874eeb88d9dc5e8fbcd681672fb90a4cd7597fec
Author: tedyu <yuzhihong@gmail.com>
Date:   Wed Jan 10 10:21:51 2018 +0000

    KAFKA-6412 Improve synchronization in CachingKeyValueStore methods
    
    Currently CachingKeyValueStore methods are synchronized at method level.
    
    It seems we can use read lock for getter and write lock for put / delete methods.
    
    For getInternal(), if the underlying thread is streamThread, the getInternal() may trigger eviction. This can be handled by obtaining write lock at the beginning of the method for streamThread.
    
    The jmh patch is attached to JIRA:
    https://issues.apache.org/jira/secure/attachment/12905140/6412-jmh.v1.txt
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>
    
    Closes #4372 from tedyu/6412

commit 06597ba26b85e1efa02078753d67855b82b79a4d
Author: Joel Hamill <11722533+joel-hamill@users.noreply.github.com>
Date:   Tue Jan 9 16:28:49 2018 -0800

    MINOR: Menu updates and navigation (#4405)
    
    * Menu updates and navigation
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>

commit abf4c547017304c9b1e743723bdcb0b8a4df1ad0
Author: Chris Egerton <chrise@confluent.io>
Date:   Tue Jan 9 14:49:18 2018 -0800

    KAFKA-4247; Prevent CLASSPATH from beginning with a single colon
    
    Different fix for problem addressed by https://github.com/apache/kafka/pull/1953. Should prevent the CLASSPATH environment variable from being prefixed by a single colon before the JVM is invoked in the run-class script, which will then prevent the current working directory from being unintentionally included in the classpath when using the Reflections library.
    
    If the current working directory should still be included in the classpath, it just needs to be explicitly specified either with its fully-qualified pathname or as a single dot (".").
    
    Author: Chris Egerton <chrise@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #4406 from C0urante/fix-colon-prefixed-classpath

commit 6396d01957ea355c21d658c3614190458229fa5b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jan 9 00:15:35 2018 +0000

    KAFKA-6096: Add multi-threaded tests for group coordinator, txn manager (#4122)
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit f2e9725ec9d88f37e0048dbd50e23f96c1e51e0e
Author: lisa2lisa <lisa2lisa@users.noreply.github.com>
Date:   Mon Jan 8 23:59:16 2018 +0100

    KAFKA-6422 Mirror maker will throw null pointer exception when the message value is null (#4387)
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, James Cheng <jylcheng@yahoo.com>, Jason Gustafson <jason@confluent.io>

commit 2900af6b33c8d6a12459dcdd0e1fb4b49676c2ff
Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
Date:   Mon Jan 8 21:02:29 2018 +0100

    Updating docs for streams app reset tool (#4401)
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 697a4af35a3672dd339c3a6a34d5ab27e31e0fbd
Author: Filipe Agapito <filipe.agapito@gmail.com>
Date:   Mon Jan 8 19:58:56 2018 +0000

    KAFKA-6363: Use MockAdminClient for any unit tests that depend on AdminClient (#4371)
    
    * Implement MockAdminClient.deleteTopics
    * Use MockAdminClient instead of MockKafkaAdminClientEnv in StreamsResetterTest
    * Rename MockKafkaAdminClientEnv to AdminClientUnitTestEnv
    * Use MockAdminClient instead of MockKafkaAdminClientEnv in TopicAdminTest
    * Rename KafkaAdminClient to AdminClientUnitTestEnv in KafkaAdminClientTest.java
    * Migrate StreamThreadTest to MockAdminClient
    * Fix style errors
    * Address review comments
    * Fix MockAdminClient call
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Konstantine Karantasis <konstantine@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 26270983cd2318b00a6e20ff1d354008307fe082
Author: Joel Hamill <joel-hamill@users.noreply.github.com>
Date:   Mon Jan 8 11:43:38 2018 -0800

    MINOR: Fix menu ordering in streams docs
    
    https://issues.apache.org/jira/browse/KAFKA-6419
    
    Related: https://github.com/apache/kafka-site/pull/115
    
    Author: Joel Hamill <joel-hamill@users.noreply.github.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4390 from joel-hamill/fix-streams-menu-order

commit e1c407973f5c4a7af6b80c1a9be92ab1635de665
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Jan 8 11:14:54 2018 -0800

    MINOR: Improve exception messages when state stores cannot be accessed. (#4383)

commit d63f94797cd3a283b2d374d24a23ac54f92c7b27
Author: Joel Hamill <joel-hamill@users.noreply.github.com>
Date:   Mon Jan 8 09:38:58 2018 -0800

    MINOR: fix image 404s in streams doc
    
    Fixes image 404s in streams docs (e.g. https://kafka.apache.org/documentation/streams/developer-guide/interactive-queries.html).
    
    Related https://github.com/apache/kafka-site/pull/114
    
    Author: Joel Hamill <joel-hamill@users.noreply.github.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4389 from joel-hamill/fix-404-streams

commit a7e49027b2b95bc8656ee9f419306c559ad1cb5c
Author: Romain Hardouin <romain_hardouin@yahoo.fr>
Date:   Sat Sep 9 00:21:00 2017 +0200

    MINOR: Catch JsonMappingException subclass (#3821)
    
    Handle InvalidTypeIdException as NOT_IMPLEMENTED and add unit tests for all exceptions.
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>

commit e1c5d0c119b38a9ddb2b09b6309a3817d86d8e14
Author: Matt Farmer <matt@frmr.me>
Date:   Mon Jan 8 06:33:23 2018 -0500

    MINOR: Add documentation for KAFKA-6086 (ProductionExceptionHandler) (#4395)
    
    * Update streams documentation to describe production exception handler
    
    * Add a mention of the ProductionExceptionHandler in the upgrade guide

commit 3b03c9d3484f59c7a5fccb282ff77ad45734c10c
Author: Arjun Satish <arjun@confluent.io>
Date:   Fri Jan 5 21:23:39 2018 -0800

    KAFKA-6252; Close the metric group to clean up any existing metrics
    
    We are closing the metricGroups created in a Worker, Source task and Sink task before populating them with new metrics. This helps in cases where an Exception is thrown when previously created groups were not cleaned up correctly.
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4397 from wicknicks/KAFKA-6252

commit ecf0ab42c1591be2a3784b6e107567ad883e0330
Author: Study <ph.study@gmail.com>
Date:   Fri Jan 5 18:31:53 2018 -0800

    KAFKA-4335: Add batch.size to FileStreamSource connector to prevent OOM
    
    When the source file of `FileStreamSource` is a large file, `FileStreamSourceTask.poll()` will result in OOM. This pull request added `batch.size` parameter which can restrict the poll size.
    
    *More detailed description of your change,
    if necessary. The PR title and PR message become
    the squashed commit message, so use a separate
    comment to ping reviewers.*
    
    *Summary of testing strategy (including rationale)
    for the feature or bug fix. Unit and/or integration
    tests are expected for any behaviour change and
    system tests should be considered for larger changes.*
    
    Author: Study <ph.study@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4356 from phstudy/KAFKA-4335

commit bfb272c5cdb227040d862f0ab7337df68f787764
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Jan 5 07:52:50 2018 -0800

    KAFKA-6311: Expose Kafka cluster ID in Connect REST API (KIP-238) (#4314)
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 3ea2d912c82a021bf43ba7a26b9b714c2fc0e817
Author: Ismael Juma <github@juma.me.uk>
Date:   Thu Jan 4 18:16:04 2018 +0000

    MINOR: Fix concurrency bug in MetadataCache and Metadata request when listeners inconsistent (#4374)
    
    - Add missing locking/volatile in MetadataCache.aliveEndPoint
    - Fix topic metadata not to throw BrokerNotAvailableException
    when listeners are inconsistent. Add test verifying the fix. As
    part of this fix, renamed Broker methods to follow Map
    convention where the `get` version returns `Option`.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit f459a31ccb1271291e148a412463aacbc1b18cc6
Author: Narendra kumar <nknkchoudhary@gmail.com>
Date:   Thu Jan 4 17:59:53 2018 +0100

    KAFKA-6298; Added support for location aware logger which fixes log line numbers (#4311)
    
    LogContext to have two different implementations of Logger. One will be picked based on availability of LocationAwareLogger API.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 98296f852f334067553e541d6ecdfa624f0eb689
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jan 3 14:02:14 2018 -0800

    MINOR: Fix zk client session state metric names and various async zk clean-ups
    
    - Fix zk session state and session change rate metric names: type
    should be SessionExpireListener instead of KafkaHealthCheck. Test
    verifying the fix was included.
    - Handle missing controller in controlled shutdown in the same way as if
    the broker is not registered (i.e. retry after backoff).
    - Restructure BrokerInfo to reduce duplication. It now contains a
    Broker instance and the JSON serde is done in BrokerIdZNode
    since `Broker` does not contain all the fields.
    - Remove dead code from `ZooKeeperClient.initialize` and remove
    redundant `close` calls.
    - Move ACL handling and persistent paths definition from ZkUtils to
    ZkData (and call ZkData from ZkUtils).
    - Remove ZooKeeperClientWrapper and ZooKeeperClientMetrics from
    ZkUtils (avoids metrics clash if third party users create a ZkUtils
    instance in the same process as the broker).
    - Introduce factory method in KafkaZkClient that creates
    ZooKeeperClient and remove metric name defaults from
    ZooKeeperClient.
    - Fix a few instances where ZooKeeperClient was not closed in tests.
    - Update a few TestUtils methods to use KafkaZkClient instead of
    ZkUtils.
    - Add test verifying SessionState metric.
    - Various clean-ups.
    
    Testing: mostly relying on existing tests, but added a couple
    of new tests as mentioned above.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #4359 from ijuma/kafka-6320-kafka-health-zk-metrics-follow-up

commit 3de910319e56d81c50597f05459d35752345907c
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jan 3 19:17:53 2018 +0000

    KAFKA-6415; Use WARN log level for Metadata in system test
    
    When a log entry is appended to a Kafka topic using `KafkaLog4jAppender`, the producer.send operation may block waiting for metadata. This can result in deadlocks in a couple of scenarios if a log entry from the producer network thread is also at a log level that results in the entry being appended to a Kafka topic.
    1. Producer's network thread will attempt to send data to a Kafka topic and this is unsafe since producer.send may block waiting for metadata, causing a deadlock since the thread will not process the metadata request/response.
    2. `KafkaLog4jAppender#append` is invoked while holding the lock of the logger. So the thread waiting for metadata in the initial send will be holding the logger lock. If the producer network thread has.a log entry that needs to be appended, it will attempt to acquire the logger lock and deadlock.
    
    This is a temporary workaround to avoid deadlocks in system tests by setting log level to WARN for `Metadata` in `VerifiableLog4jAppender`. The fix has been verified using the system tests log4j_appender_test.py which started failing when the info-level log entry was introduced.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Satish Duggana <satish.duggana@gmail.com>, tedyu <yuzhihong@gmail.com>
    
    Closes #4375 from rajinisivaram/KAFKA-6415-log4jappender

commit 6869f952326f72f108250dbbdd8253cf95410633
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jan 3 11:08:43 2018 -0800

    KAFKA-6256: fix flaky test KStreamKTableJoinIntegrationTest.shouldCountClicksPerRegionWithNonZeroByteCache
    
    Increase commit interval to make it less likely that we flush the cache in-between.
    To make it fool-proof, only compare the "final" result records if cache is enabled.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4364 from mjsax/kafka-6256-flaky-kstream-ktable-join-with-caching-test

commit 2119e9f26ed988746ee22d139d1eb1aca2bbb950
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jan 2 14:21:42 2018 -0800

    Revert "KAFKA-6383: complete shutdown for CREATED StreamThreads (#4343)"
    
    This reverts commit 47db063c310cf47e4c544196acab2abfe62977b0.

commit d61a592c8a5ee2279760c2c7c72550160032bf8a
Author: Wladimir Schmidt <wlsc@users.noreply.github.com>
Date:   Tue Jan 2 19:54:20 2018 +0100

    MINOR: refactored code duplicates in several files (Streams project) (#4357)
    
    * Removed code duplicate from GlobalProcessorContextImpl and ProcessorContextImpl to parent class AbstractProcessorContext
    
    * Exchanged concrete implementations with interfaces to make code more maintainable
    
    * Refactored major code duplicates in InternalTopologyBuilder
    
    * Formatted function parameters as per code review
    Added final to code introduced in this PR
    
    * Added missing finals to putNodeGroupName function
    Rearranged parameters for resetTopicsPattern function
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>, Bill Bejeck <bbejeck@gmail.com>

commit fd2bdbfd700273699725f281a7abab4ff8e55a04
Author: Siva Santhalingam <siva.santhalingam@gmail.com>
Date:   Tue Jan 2 10:45:57 2018 -0800

    KAFKA-6318: StreamsResetter should return non-zero return code on error (#4305)
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>, Ted Yu <yuzhihong@gmail.com>, Bill Bejeck <bbejeck@gmail.com>

commit 5ca1226c22976050fd929c7bf66f3af8a5cd0493
Author: Clemens Valiente <clemens.valiente@gmail.com>
Date:   Tue Jan 2 19:22:28 2018 +0100

    KAFKA-6391 ensure topics are created with correct partitions BEFORE building the… (#4347)
    
    * ensure topics are created with correct partitions BEFORE building the metadata for our stream tasks
    
    * Added a test case. The test should fail with the old logic, because:
    While stream-partition-assignor-test-KSTREAM-MAP-0000000001-repartition is created correctly with four partitions, the StreamPartitionAssignor will only assign three tasks to the topic. Test passes with the new logic.
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>, Ted Yu <yuzhihong@gmail.com>

commit f8593b0958c594e07426136cc05c87ec496e1714
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jan 2 10:07:54 2018 -0800

    Fix wrong property mentioned in doc; Author: Praveen K Palaniswamy <yourspraveen@gmail.com>

commit 0ecc3596b450b3cf638b5d830c6fea4577038d40
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue Jan 2 12:42:40 2018 -0500

    KAFKA-6269: KTable restore fails after rebalance (#4300)
    
    * Return offset of next record of records left after restore completed
    * Changed check for restoring partition to remove the "+1" in the guard condition
    
    Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>

commit 39f2d4588fb1bf82748fa4c1025b7452ca1ff5ba
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Tue Jan 2 09:34:31 2018 -0800

    KAFKA-5368: Add test for skipped-records metric (#4365)
    
    * KAFKA-5368: Add test for skipped-records metric
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>

commit 47db063c310cf47e4c544196acab2abfe62977b0
Author: Rohan <desai.p.rohan@gmail.com>
Date:   Tue Jan 2 09:32:17 2018 -0800

    KAFKA-6383: complete shutdown for CREATED StreamThreads (#4343)
    
    * KAFKA-6383: complete shutdown for CREATED StreamThreads
    
    When transitioning StreamThread from CREATED to PENDING_SHUTDOWN
    free up resources from the caller, rather than the stream thread,
    since in this case the stream thread was never actually started.
    
    Have StreamThread.setState return the old state. If the old state is
    CREATED in StreamThread.shutdown() then start the thread so that it
    can free the resources owned by the StreamThread.
    
    Add a KafkaStreams test to verify that the producer gets closed even
    if KafkaStreams was not started
    
    Reviewers: Matthias J. Sax <mjsax@apache.org>, Guozhang Wang <wangguoz@gmail.com>

commit 96df93522f84173ff47f47ec78ec408991140b65
Author: Koen De Groote <kdg.private@gmail.com>
Date:   Mon Jan 1 14:07:32 2018 +0100

    Replace Arrays.asList with Collections.singletonList where possible (#4368)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 5d4965bad4ea4a64d798f1cc0271de8d4e3d4289
Author: tedyu <yuzhihong@gmail.com>
Date:   Mon Jan 1 02:16:07 2018 -0800

    KAFKA-6307: Fix KafkaMbean leak in JmxReporter (#4307)
    
    We should remove the map entry from mbeans if it becomes
    empty during metric removal.
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Satish Duggana <satish.duggana@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit 2cefe3f0d0f5567b54f3ca5883726fec4f5756eb
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Fri Dec 29 04:44:08 2017 -0800

    MINOR: Temporarily disable flaky Streams EOS system tests (#4355)
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Ismael Juma <ismael@juma.me.uk>

commit 2bc780b959cad59b51d26562bd2f801432e05e2a
Author: Koen De Groote <kdg.private@gmail.com>
Date:   Fri Dec 29 13:39:18 2017 +0100

    MINOR: Use EnumMap/EnumSet if possible (#3919)
    
    They are more efficient than HashMap/HashSet.
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit a3aea3cf4dbedb293f2d7859e0298bebc8e2185f
Author: Satish Duggana <satish.duggana@gmail.com>
Date:   Thu Dec 28 23:51:43 2017 +0530

    MINOR: Fixed clusterId reference in Metadata.update (#4360)
    
    Also fixed log message with respective error in KerberosLogin.login.
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 89b245baa7963e908d5f22d6f53c34f14690af67
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Dec 27 22:00:02 2017 +0530

    MINOR: Update test classes to use KafkaZkClient/AdminZkClient methods (#4353)

commit 5fc3fd48b0f43056e524b4c0f35aea3e3f9653e8
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Dec 22 18:37:36 2017 -0800

    MINOR: Use TopicPartition in ConsumerGroupCommand instead of TopicAndPartition where possible (#4333)
    
    Reviewers: Jason Gustafson <jason@confluent.io>

commit 5995453f4cd69036f0bed77afb19ff505c903dc9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Dec 22 11:53:04 2017 -0800

    MINOR: Web docs for KIP-220
    
    1. added functions for KafkaStreams and KafkaClientSupplier.
    2. added prefix for admin client in StreamsConfig.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #4338 from guozhangwang/K6150-doc-changes

commit 0538f15ac36358937eb7a3167ea99f7a668797e0
Author: Matthias Wessendorf <matzew@apache.org>
Date:   Fri Dec 22 20:41:21 2017 +0100

    KAFKA-5772 Improve Util classes (#3370)
    
    Utils with static methods should not be instantiated, hence marking the classes `final` and adding a `private` constructor.
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>

commit 2652565d429138c5841f254afef3cfd689315dbb
Author: Ismael Juma <github@juma.me.uk>
Date:   Fri Dec 22 18:41:22 2017 +0000

    KAFKA-6390: Update ZooKeeper to 3.4.11, Gradle and other minor updates (#4345)
    
    Updates:
    - Gradle, gradle plugins and maven artifact updated
    - Bug fix updates for ZooKeeper, Jackson, EasyMock and Snappy
    
    Not updated:
    - RocksDB as it often causes issues, so better done separately
    - args4j as our test coverage is weak and the update was a
    feature release
    
    Also fixed scala-reflect version to match scala-library.
    
    Release notes for ZooKeeper 3.4.11:
    https://zookeeper.apache.org/doc/r3.4.11/releasenotes.html
    
    A notable fix is improved handling of UnknownHostException:
    https://issues.apache.org/jira/browse/ZOOKEEPER-2614
    
    Manually tested that IntelliJ import and build still works.
    Relying on existing test suite otherwise.
    
    Reviewers: Jun Rao <junrao@gmail.com>

commit 27c2c81663d6518a3da5cfde88109f90ded8a6db
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Dec 22 02:28:57 2017 -0800

    KAFKA-6320: Move ZK metrics in KafkaHealthCheck to ZookeeperClient (#4351)
    
    * Moved metrics in KafkaHealthCheck to ZookeeperClient.
    * Converted remaining ZkUtils usage in KafkaServer to ZookeeperClient and removed ZkUtils from KafkaServer.
    * Made the re-creation of ZooKeeper during ZK session expiration with infinite retries.
    * Added unit tests for all new methods in KafkaZkClient.
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>

commit 43aaa7c3631ed7240f0e0dbd1eda90cf85811605
Author: Matthias Wessendorf <matzew@apache.org>
Date:   Fri Dec 22 02:52:12 2017 +0100

    KAFKA-5895: Gradle 3.0+ is needed on the build (#3861)
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>

commit 9fcb0017d7b8d0a2d31a615235e82f9c0ebdc38f
Author: Ismael Juma <github@juma.me.uk>
Date:   Fri Dec 22 01:19:13 2017 +0000

    MINOR: Use GitHub git repo for push by default (#4352)

commit 3e2fe17c084370d81ffd35a03a5ed463945ee263
Author: Joel Hamill <joel-hamill@users.noreply.github.com>
Date:   Thu Dec 21 11:15:54 2017 -0800

    MINOR: Improve Streams Dev Guide content on web docs
    
    This PR migrates content from CP Streams Dev Guide.
    
    Here is the top-level page:
    ![image](https://user-images.githubusercontent.com/11722533/33904945-df9cf804-df31-11e7-93aa-52385961522c.png)
    
    Here is a child page:
    ![image](https://user-images.githubusercontent.com/11722533/33904976-f2eafabe-df31-11e7-918c-fbf95db0f76b.png)
    
    See related: https://github.com/apache/kafka-site/pull/112
    
    Author: Joel Hamill <joel-hamill@users.noreply.github.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4252 from joel-hamill/20171122-migrate-cp-dev-guide

commit 7d6f6f7320f2058d1108224eefe615e333955721
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Dec 20 18:44:36 2017 -0800

    MINOR: Fix race condition in Streams EOS system test
    
    We should start the process only within the `with` block, otherwise the bytes parameter would cause a race condition that result in false alarms of system test failures.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #4348 from guozhangwang/KMinor-fix-eos-test

commit dca1474b4b33b85dba461c61568b86b17d6be18f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Dec 20 18:02:33 2017 -0800

    KAFKA-6126: Remove unnecessary topics created check
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4322 from mjsax/kafka-6126-remove-topic-check-on-rebalance-2

commit 9cacb92d13468803d219f8331c6e4402444abc1a
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Dec 20 15:22:06 2017 -0800

    KAFKA-4263: Fix flaky test QueryableStateIntegrationTest.concurrentAccess
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4342 from mjsax/kafka-4263-concurrentAccess

commit 760d86a970d20643f1b8f71e78c60a7ad2be7003
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Dec 20 21:35:33 2017 +0000

    KAFKA-5849; Add process stop, round trip workload, partitioned test
    
    * Implement process stop faults via SIGSTOP / SIGCONT
    
    * Implement RoundTripWorkload, which both sends messages, and confirms that they are received at least once.
    
    * Allow Trogdor tasks to block until other Trogdor tasks are complete.
    
    * Add CreateTopicsWorker, which can be a building block for a lot of tests.
    
    * Simplify how TaskSpec subclasses in ducktape serialize themselves to JSON.
    
    * Implement some fault injection tests in round_trip_workload_test.py
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4323 from cmccabe/KAFKA-5849

commit 488ea4b9fd797b5edd58c6f9685d70acd15e3e74
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Dec 20 12:19:36 2017 -0800

    KAFKA-5647; Use KafkaZkClient in ReassignPartitionsCommand and PreferredReplicaLeaderElectionCommand
    
    *  Use KafkaZkClient in ReassignPartitionsCommand
    *  Use KafkaZkClient in PreferredReplicaLeaderElectionCommand
    *  Updated test classes to use new methods
    *  All existing tests should pass
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4260 from omkreddy/KAFKA-5647-ADMINCOMMANDS

commit 35c1be74694745a4e5ee861b6340eb832a3ada34
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Dec 20 13:37:42 2017 +0000

    KAFKA-5746; Document new broker metrics added for health checks
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4026 from rajinisivaram/MINOR-KIP-188-metrics-docs

commit cdb39554527a59d436d5b6b26967f14adfae072f
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Dec 20 12:01:22 2017 +0000

    KAFKA-6331; Fix transient failure in AdminClientIntegrationTest.testAlterReplicaLogDirs
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4306 from lindong28/KAFKA-6331

commit 82c6d429e70f1c782103953072dc6dbec650dd6e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Dec 19 16:05:42 2017 -0800

    KAFKA-6150: KIP-204 part III; Change repartition topic segment size and ms
    
    1. Create default internal topic configs in StreamsConfig, especially for repartition topics change the segment size and time to smaller value.
    2. Consolidate the default internal topic settings to InternalTopicManager and simplify InternalTopicConfig correspondingly.
    3. Add an integration test for purging data.
    4. MINOR: change TopologyBuilderException to IllegalStateException in StreamPartitionAssignor (part of https://issues.apache.org/jira/browse/KAFKA-5660).
    
    Here are a few public facing APIs that get added:
    
    1. AbstractConfig#originalsWithPrefix(String prefix, boolean strip): this for simplify the logic of passing admin and topic prefixed configs to consumer properties.
    2. KafkaStreams constructor with Time object for convienent mocking in tests.
    
    Will update KIP-204 accordingly if people re-votes these changes.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4315 from guozhangwang/K6150-segment-size

commit f3b9afe62265d7559ef65f5aa692feecc5fa8f25
Author: Bill Bejeck <bill@confluent.io>
Date:   Tue Dec 19 15:37:21 2017 -0800

    MINOR: Broker down for significant amt of time system test
    
    System test where a broker is offline more than the configured timeouts.  In this case:
    - Max poll interval set to 45 secs
    - Retries set to 2
    - Request timeout set to 15 seconds
    - Max block ms set to 30 seconds
    
    The broker was taken off-line for 70 seconds or more than double request timeout * num retries
    
    [passing system test results](http://confluent-kafka-branch-builder-system-test-results.s3-us-west-2.amazonaws.com/2017-12-11--001.1513034559--bbejeck--KSTREAMS_1179_broker_down_for_significant_amt_of_time--6ab4802/report.html)
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4313 from bbejeck/KSTREAMS_1179_broker_down_for_significant_amt_of_time

commit 88c2b6849a5af2af74972c8b2e8431473542ca83
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 19 15:15:27 2017 +0000

    KAFKA-6317; Maven artifact for kafka should not depend on log4j
    
    It should only depend on slf4j-api (like kafka-clients). The
    release tarball still includes log4j and slf4j-log4j12.
    
    Manually verified that there are no duplicate dependencies
    in the release tarball and `./gradlew core:dependencies`
    looks good.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4297 from ijuma/kafka-6317-kafka-slf4j-api-only

commit 9aad649fd0defa4b55f305e3e025883ebb567b34
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Dec 18 17:39:25 2017 -0800

    MINOR: Fix race condition in KafkaStreamsTest.shouldReturnThreadMetadata
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4337 from mjsax/minor-fix-kafakstreamstest

commit 22f742cdd2899b76c1b4222863ee02ad3bc749a1
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Dec 18 17:34:50 2017 -0800

    MINOR: Stabilize flaky smoke system tests before KIP-91
    
    This is a workaround until KIP-91 is merged. We tried increasing the timeout multiple times already but tests are still flaky.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4329 from mjsax/hotfix-system-tests

commit 066bfc314c912aa90283a1c1c53a958237d1adff
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Dec 18 11:15:09 2017 -0800

    KAFKA-6258; SSLTransportLayer should keep reading from socket until either the buffer is full or the socket has no more data
    
    When consumer uses plaintext and there is remaining data in consumer's buffer, consumer.poll() will read all data available from the socket buffer to consumer buffer. However, if consumer uses ssl and there is remaining data, consumer.poll() may only read 16 KB (the size of SslTransportLayer.appReadBuffer) from socket buffer. This will reduce efficient of consumer.poll() by asking user to call more poll() to get the same amount of data.
    
    Furthermore, we observe that for users who naively sleep a constant time after each consumer.poll(), some partition will lag behind after they switch from plaintext to ssl. Here is the explanation why this can happen.
    
    Say there are 1 partition of 1MB/sec and 9 partition of 32KB/sec. Leaders of these partitions are all different and consumer is consuming these 10 partitions. Let's also assume that socket read buffer size is large enough and consume sleeps 1 sec between consumer.poll(). 1 sec is long enough for consumer to receive the FetchResponse back from broker.
    
    When consumer uses plaintext, each consumer.poll() will read all data from the socket buffer and it means 1 MB data is read from each partition.
    
    When consumer uses ssl, each consumer.poll() is likely to find that there is some data available in the memory. In this case consumer only reads 16 KB data from other sockets, particularly the socket for the broker with the large partition. Then the throughput of the large partition will be limited to 16KB/sec.
    
    Arguably user should not sleep 1 sec if its consumer is lagging behind. But on Kafka dev side it is nice to keep the previous behavior and optimize consumer.poll() to read as much data from socket as possible.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #4248 from lindong28/KAFKA-6258

commit e86f70ed20b2d2415f3f01497fd85a7f6c2ac2e8
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Dec 18 11:10:03 2017 -0800

    MINOR: improve JavaDocs for KafkaStreams, KafkaProducer, KafkaConsumer
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4335 from mjsax/minor-improve-KafkaStreams-javadocs

commit e5daa40e316261e8e6cb8866ad9a4eedcf17f919
Author: Prasanna Gautam <prasannagautam@gmail.com>
Date:   Fri Dec 15 14:48:30 2017 -0800

    KAFKA-5473; handle ZK session expiration properly when a new session can't be established
    
    (WIP: this commit isn't ready to be reviewed yet. I was checking the travis-ci build with the configuration changes in my account and opened the PR prematurely against trunk. I will make it consistent with Contribution guidelines once it's well tested.)
    
    https://issues.apache.org/jira/browse/KAFKA-5473
    
    Design:
    `zookeeper.connection.retry.timeout.ms` => this determines how long to wait before triggering the shutdown. The default is 60000ms.
    
    Currently the implementation only handles the `handleSessionEstablishmentError` by waiting for the sessionTimeout.
    
    Author: Prasanna Gautam <prasannagautam@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3990 from prasincs/KAFKA-5473

commit 529786638baeb4335065df4e2b240aad42caca9a
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Dec 15 10:26:00 2017 -0800

    KAFKA-5526; Additional `--describe` views for ConsumerGroupCommand (KIP-175)
    
    The `--describe` option of ConsumerGroupCommand is expanded, as proposed in [KIP-175](https://cwiki.apache.org/confluence/display/KAFKA/KIP-175%3A+Additional+%27--describe%27+views+for+ConsumerGroupCommand), to support:
    * `--describe` or `--describe --offsets`: listing of current group offsets
    * `--describe --members` or `--describe --members --verbose`: listing of group members
    * `--describe --state`: group status
    
    Example: With a single partition topic `test1` and a double partition topic `test2`, consumers `consumer1` and `consumer11` subscribed to `test`, consumers `consumer2` and `consumer22` and `consumer222` subscribed to `test2`, and all consumers belonging to group `test-group`, this is an output example of the new options above for `test-group`:
    
    ```
    --describe, or --describe --offsets:
    
    TOPIC           PARTITION  CURRENT-OFFSET  LOG-END-OFFSET  LAG             CONSUMER-ID                                     HOST            CLIENT-ID
    test2           0          0               0               0               consumer2-bad9496d-0889-47ab-98ff-af17d9460382  /127.0.0.1      consumer2
    test2           1          0               0               0               consumer22-c45e6ee2-0c7d-44a3-94a8-9627f63fb411 /127.0.0.1      consumer22
    test1           0          0               0               0               consumer1-d51b0345-3194-4305-80db-81a68fa6c5bf  /127.0.0.1      consumer1
    ```
    
    ```
    --describe --members
    
    CONSUMER-ID                                      HOST            CLIENT-ID       #PARTITIONS
    consumer2-bad9496d-0889-47ab-98ff-af17d9460382   /127.0.0.1      consumer2       1
    consumer222-ed2108cd-d368-41f1-8514-5b72aa835bcc /127.0.0.1      consumer222     0
    consumer11-dc8295d7-8f3f-4438-9b11-7270bab46760  /127.0.0.1      consumer11      0
    consumer22-c45e6ee2-0c7d-44a3-94a8-9627f63fb411  /127.0.0.1      consumer22      1
    consumer1-d51b0345-3194-4305-80db-81a68fa6c5bf   /127.0.0.1      consumer1       1
    ```
    
    ```
    --describe --members --verbose
    
    CONSUMER-ID                                      HOST            CLIENT-ID       #PARTITIONS     ASSIGNMENT
    consumer2-bad9496d-0889-47ab-98ff-af17d9460382   /127.0.0.1      consumer2       1               test2(0)
    consumer222-ed2108cd-d368-41f1-8514-5b72aa835bcc /127.0.0.1      consumer222     0               -
    consumer11-dc8295d7-8f3f-4438-9b11-7270bab46760  /127.0.0.1      consumer11      0               -
    consumer22-c45e6ee2-0c7d-44a3-94a8-9627f63fb411  /127.0.0.1      consumer22      1               test2(1)
    consumer1-d51b0345-3194-4305-80db-81a68fa6c5bf   /127.0.0.1      consumer1       1               test1(0)
    ```
    
    ```
    --describe --state
    
    COORDINATOR (ID)         ASSIGNMENT-STRATEGY       STATE                #MEMBERS
    localhost:9092 (0)       range                     Stable               5
    ```
    
    Note that this PR also addresses the issue reported in [KAFKA-6158](https://issues.apache.org/jira/browse/KAFKA-6158) by dynamically setting the width of columns `TOPIC`, `CONSUMER-ID`, `HOST`, `CLIENT-ID` and `COORDINATOR (ID)`. This avoid truncation of column values when they go over the current fixed width of these columns.
    
    The code has been restructured to better support testing of individual values and also the console output. Unit tests have been updated and extended to take advantage of this restructuring.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4271 from vahidhashemian/KAFKA-5526

commit 69777260e05ab12ee8480c23cd2e6acc6e218a12
Author: Matt Farmer <mfarmer@rsglab.com>
Date:   Fri Dec 15 12:53:17 2017 +0000

    KAFKA-6086: Provide for custom error handling when Kafka Streams fails to produce
    
    This PR creates and implements the `ProductionExceptionHandler` as described in [KIP-210](https://cwiki.apache.org/confluence/display/KAFKA/KIP-210+-+Provide+for+custom+error+handling++when+Kafka+Streams+fails+to+produce).
    
    I've additionally provided a default implementation preserving the existing behavior. I fixed various compile errors in the tests that resulted from my changing of method signatures, and added tests to cover the new behavior.
    
    Author: Matt Farmer <mfarmer@rsglab.com>
    Author: Matt Farmer <matt@frmr.me>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4165 from farmdawgnation/msf/kafka-6086

commit 68712dcdec6e15f24f720f094ccc504ae7829b30
Author: Tobias Gies <tobias.gies@trivago.com>
Date:   Thu Dec 14 15:26:20 2017 -0800

    KAFKA-6308; Connect Struct should use deepEquals/deepHashCode
    
    This changes the Struct's equals and hashCode method to use Arrays#deepEquals and Arrays#deepHashCode, respectively. This resolves a problem where two structs with values of type byte[] would not be considered equal even though the byte arrays' contents are equal. By using deepEquals, the byte arrays' contents are compared instead of ther identity.
    
    Since this changes the behavior of the equals method for byte array values, the behavior of hashCode must change alongside it to ensure the methods still fulfill the general contract of "equal objects must have equal hashCodes".
    
    Test rationale:
    All existing unit tests for equals were untouched and continue to work. A new test method was added to verify the behavior of equals and hashCode for Struct instances that contain a byte array value. I verify the reflixivity and transitivity of equals as well as the fact that equal Structs have equal hashCodes
    and not-equal structs do not have equal hashCodes.
    
    Author: Tobias Gies <tobias.gies@trivago.com>
    Author: Tobias Gies <tobias@tobiasgies.de>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #4293 from tobiasgies/feature/kafka-6308-deepequals

commit 616321bcb618b57d063273df7764058dbd2b7a9c
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Dec 14 14:47:15 2017 -0800

    KAFKA-6102; Consolidate MockTime implementations between connect and clients
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #4105 from cmccabe/KAFKA-6102

commit 1cf7ec87d3afeaab7b4f40d387d34e91e9616e64
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Dec 14 09:51:56 2017 -0800

    KAFKA-6360: Clear RocksDB Segments when store is closed
    
    Now that we support re-initializing state stores, we need to clear the segments when the store is closed so that they can be re-opened.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ted Yu <yuzhihong@gmail.com>
    
    Closes #4324 from dguy/kafka-6360

commit d1a9252ca1808711882ae4c3043b0576620f8177
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Dec 12 19:25:01 2017 -0800

    KAFKA-6349: Fix concurrent modification exception in AbstractStateManager during restore
    
    Fixes a `ConcurrentModificationException` in`AbstractStateManager` that is triggered when a `StateStore` is re-initialized and there are multiple stores in the context.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, GuozhangWang <wangguoz@gmail.com>
    
    Closes #4317 from dguy/kafka-6349

commit fe3699ce3362c8942f96e52281a2bd0fc1bda032
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Dec 12 19:13:39 2017 -0800

    MINOR: Fix warn logging in RecordCollectorImpl
    
    Fix warn log message in RecordCollectorImpl so it prints the exception message rather than `{}`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, GuozhangWang <wangguoz@gmail.com>
    
    Closes #4318 from dguy/minor-logging-record-collector

commit b08882213489706c663785f2c94d76584ba6e856
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Dec 12 15:47:49 2017 -0800

    KAFKA-5764; Add toLowerCase support to sasl.kerberos.principal.to.local rule (KIP-203)
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3800 from omkreddy/KAFKA-5764-REGEX

commit 0a508a436c928c0440e8b90dda98c22dc0ec244c
Author: umesh chaudhary <umesh9794@gmail.com>
Date:   Tue Dec 12 16:00:04 2017 +0200

    KAFKA-5631; Use Jackson for serialising to JSON
    
    - Rename `encode` to `legacyEncodeAsString`, we
    can remove this when we remove `ZkUtils`.
    - Introduce `encodeAsString` that uses Jackson.
    - Change `encodeAsBytes` to use Jackson.
    - Avoid intermediate string when converting
    Broker to json bytes.
    
    The methods that use Jackson only support
    Java collections unlike `legacyEncodeAsString`.
    
    Tests were added `encodeAsString` and
    `encodeAsBytes`.
    
    Author: umesh chaudhary <umesh9794@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4259 from umesh9794/KAFKA-5631

commit 651c6e480a233ce374bc0a9128f0398d18de7898
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Dec 12 11:05:29 2017 +0200

    KAFKA-6319: Quote strings stored in JSON configs
    
    This is required for ACLs where SSL principals contain
    special characters (e.g. comma) that are escaped using
    backslash. The strings need to be quoted for JSON to
    ensure that the JSON stored in ZK is valid.
    
    Also converted `SslEndToEndAuthorizationTest` to use a
    principal with special characters to ensure that this
    path is tested.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4303 from rajinisivaram/KAFKA-6319

commit a5cd34d7962ff5da9b99d0229ef5a9a5fcb3f318
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 12 10:00:05 2017 +0200

    KAFKA-6324; Change LogSegment.delete to deleteIfExists and harden log recovery
    
    - Rename `delete()` to `deleteIfExists()` in `LogSegment`, `AbstractIndex`
    and `TxnIndex`. Throw exception in case of IO errors for more informative
    errors and to make it less likely that errors are ignored, `boolean` is used
    for the case where the file does not exist (like `Files.deleteIfExists()`).
    - Fix an instance of delete while open (should fix KAFKA-6322 and
    KAFKA-6075).
    - `LogSegment.deleteIfExists` no longer throws an exception if any of
    the files it tries to delete does not exist (fixes KAFKA-6194).
    - Remove unnecessary `FileChannel.force(true)` when deleting file.
    - Introduce `LogSegment.open()` and use it to improve encapsulation
    and reduce duplication.
    - Expand functionality of `LogSegment.onBecomeInactiveSegment()`
    to reduce duplication and improve encapsulation.
    - Use `AbstractIndex.deleteIfExists()` instead of deleting files manually.
    - Improve logging when deleting swap files.
    - Use CorruptIndexException instead of IllegalArgumentException.
    - Simplify `LogCleaner.cleanSegments()` to reduce duplication and
    improve encapsulation.
    - A few other clean-ups in Log, LogSegment, etc.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ted Yu <yuzhihong@gmail.com>
    
    Closes #4040 from ijuma/kafka-5829-follow-up

commit 72eec0a04c782d8dbe93314cd4c2e62fbd3a73c3
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Dec 11 18:55:13 2017 -0800

    KAFKA-6334: minor typo fix in web docs

commit e5741b90cde98052c6f9172e12b8f06facb6e977
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Dec 11 11:12:55 2017 -0800

    MINOR: Increase number of messages in replica verification tool test
    
    Increase the number of messages produced to make the test more reliable. The test failed in a recent build and also fails intermittently when run locally. Since the producer uses acks=0 and the test stops as soon as a lag is observed, the change shouldn't have a big impact on the time taken to run when lag is observed sooner.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4312 from rajinisivaram/MINOR-replicaverification-test

commit 043951753b6fb6c8bae6d25d7a6a97e74b614cac
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Dec 11 14:20:10 2017 +0000

    KAFKA-6121: Restore and global consumer should not use auto.offset.reset
    
    - set auto.offset.reste to "none" for restore and global consumer
    - handle InvalidOffsetException for restore and global consumer
    - add corresponding tests
    - some minor cleanup
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com, Bill Bejeck <bill@confluent.io>, GuozhangWang <wangguoz@gmail.com>
    
    Closes #4215 from mjsax/kafka-6121-restore-global-consumer-handle-reset

commit 2bf2348b5fc9f9f62bee5b91a431b8703a20cdbb
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Dec 8 10:54:31 2017 +0000

    KAFKA-6289; NetworkClient should not expose failed internal ApiVersions requests
    
    The NetworkClient internally ApiVersion requests to each broker following connection establishment. If this request happens to fail (perhaps due to an incompatible broker), the NetworkClient includes the response in the result of poll(). Applications will generally not be expecting this response which may lead to failed assertions (or in the case of AdminClient, an obscure log message).
    
    I've added test cases which await the ApiVersion request sent by NetworkClient to be in-flight, and then disconnect the connection and verify that the response is not included from poll().
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4280 from hachikuji/KAFKA-6289

commit 234ec8a8af76bfb7874dd99714a65089d6048953
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Dec 7 16:16:54 2017 -0800

    KAFKA-4857: Replace StreamsKafkaClient with AdminClient in Kafka Streams
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4242 from mjsax/kafka-4857-admit-client

commit 86e2bc937ae012c726f8e99daf02a1a2a5cc4a3f
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Dec 7 10:36:47 2017 +0200

    KAFKA-6313; Add SLF4J as direct dependency to Kafka core
    
    Recent changes are now directly using the SLF4J API, so we should have a direct dependency.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4296 from rhauch/kafka-6313

commit b73c765d7e172de4742a3aa023d5a0a4b7387247
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Dec 7 02:38:34 2017 +0200

    MINOR: Avoid intermediate strings when parsing/decoding ZK JSON
    
    Also:
    - Fix bug in result type of `createSequentialPersistentPath`
    - Remove duplicated code from `ReplicationUtils`
    - Move `propagateIsrChanges` from `ReplicationUtils` to `KafkaZkClient`
    - Add tests
    - Minor clean-ups
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ted Yu <yuzhihong@gmail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Closes #4261 from ijuma/zk-data-improvements

commit b00a9fc7c3b62506262cbd759c35d58ad99eb17a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Dec 7 01:13:40 2017 +0200

    KAFKA-6065; Latency metric for KafkaZkClient
    
    Measures the latency of each request.
    
    Updated existing `ZkUtils` test to use `KafkaZkClient`
    instead.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4265 from ijuma/kafka-6065-async-zk-metrics

commit d543e19a09ed34ccb6fa435d430c2c715c3c7098
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Dec 6 22:18:41 2017 +0200

    KAFKA-6193; Only delete reassign_partitions znode after reassignment is complete
    
    - Ensure that `partitionsBeingReassigned` is fully populated before
    `removePartitionFromReassignedPartitions` is invoked. This is
    necessary to avoid premature deletion of the `reassign_partitions`
    znode.
    - Modify and add tests to verify the fixes.
    - Add documentation.
    - Use `info` log message if assignedReplicas == newReplicas and
    remove control flow based on exceptions.
    - General logging improvements.
    - Simplify `initializePartitionAssignment` by relying on logic already
    present in `maybeTriggerPartitionReassignment`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4283 from ijuma/kafka-6193-flaky-shouldPerformMultipleReassignmentOperationsOverVariousTopics

commit b6909339876ca1cbcce28043c4b42f2c7e48307b
Author: tedyu <yuzhihong@gmail.com>
Date:   Wed Dec 6 19:43:29 2017 +0000

    KAFKA-6300; SelectorTest may fail with ConcurrentModificationException
    
    Synchronization is added w.r.t. sockets ArrayList to avoid ConcurrentModificationException
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4299 from tedyu/trunk

commit 30f08d158a97e0d83b59e5910fbb0a84c5c6d14f
Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
Date:   Wed Dec 6 11:38:38 2017 -0800

    KAFKA-5520: KIP-171; Extend Consumer Group Reset Offset for Stream Application
    
    KIP: https://cwiki.apache.org/confluence/display/KAFKA/KIP-171+-+Extend+Consumer+Group+Reset+Offset+for+Stream+Application
    
    Merge changes from KIP-198
    
    Ref: https://github.com/apache/kafka/pull/3831
    
    Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    Author: Matthias J. Sax <matthias@confluent.io>
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: Apurva Mehta <apurva@confluent.io>
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    Author: Jason Gustafson <jason@confluent.io>
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    Author: Bill Bejeck <bill@confluent.io>
    Author: Dong Lin <lindong28@gmail.com>
    Author: Soenke Liebau <soenke.liebau@opencore.com>
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    Author: Damian Guy <damian.guy@gmail.com>
    Author: Xavier Léauté <xl+github@xvrl.net>
    Author: Maytee Chinavanichkit <maytee.chinavanichkit@linecorp.com>
    Author: Joel Hamill <git config --global user.email>
    Author: Paolo Patierno <ppatierno@live.com>
    Author: siva santhalingam <siva.santhalingam@gmail.com>
    Author: Tommy Becker <tobecker@tivo.com>
    Author: Mickael Maison <mickael.maison@gmail.com>
    Author: Onur Karaman <okaraman@linkedin.com>
    Author: tedyu <yuzhihong@gmail.com>
    Author: Xin Li <Xin.Li@trivago.com>
    Author: Magnus Edenhill <magnus@edenhill.se>
    Author: Manjula K <manjula@kafka-summit.org>
    Author: Hugo Louro <hmclouro@gmail.com>
    Author: Jeff Widman <jeff@jeffwidman.com>
    Author: bartdevylder <bartdevylder@gmail.com>
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    Author: Jacek Laskowski <jacek@japila.pl>
    Author: Tom Bentley <tbentley@redhat.com>
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4159 from jeqo/feature/kip-171

commit fd8f182cc4ea80c6d394ca68a47c0ee26b114ebe
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Dec 6 16:25:25 2017 +0200

    MINOR: Add maybeThrow method to ZooKeeperClient AsyncResponse
    
    * Add maybeThrow method to AsyncResponse
    * Update KafkaZkClient to use newly introduced maybeThrow
    * Change AsyncResponse from trait to abstract class for
    more readable stacktraces (there's no benefit in using a
    trait here)
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4266 from omkreddy/KAFKAZKCLEINT_EXCEPTION_CLEANUP

commit 078fd2136524409711e535544ac8960135064df3
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Dec 6 15:47:27 2017 +0200

    KAFKA-6174; Add methods in AdminClient Options classes to restore binary compatibility with 0.11
    
    From 0.11 to 1.0, we moved `DescribeClusterOptions timeoutMs(Integer timeoutMs)` from
    DescribeClusterOptions to AbstractOptions (similarly for other Options classes). This can
    cause code compiled against 0.11.0.x to fail when it is executed with 1.0 kafka-clients jar.
    This patch adds back these methods to restore binary compatibility with 0.11.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4257 from lindong28/KAFKA-6174

commit 4b8a29f12a142d02be0b64eac71975b6a129d04a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Dec 4 10:21:42 2017 -0800

    KAFKA-6150: KIP-204 part III; Purge repartition topics with the admin client
    
    1. Add the repartition topics information into ProcessorTopology: personally I do not like leaking this information into the topology but it seems not other simple way around.
    2. StreamTask: added one more function to expose the consumed offsets from repartition topics only.
    3. TaskManager: use the AdminClient to send the gathered offsets to delete only if a) previous call has completed and client intentionally ignore-and-log any errors, or b) no requests have ever called before.
    
    NOTE that this code depends on the assumption that purge is only called right after the commit has succeeded, hence we presume all consumed offsets are committed.
    
    4. MINOR: Added a few more constructor for ProcessorTopology for cleaner unit tests.
    5. MINOR: Extracted MockStateStore out of the deprecated class.
    6. MINOR: Made a pass over some unit test classes for clean ups.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4270 from guozhangwang/K6150-purge-repartition-topics

commit 39c438ec1f0830e8a651315cb24059ae290645ea
Author: Bill Bejeck <bill@confluent.io>
Date:   Mon Dec 4 09:56:34 2017 -0800

    MINOR: increase request timeout for streams bounce test
    
    Increase `REQUEST_TIMOUT_MS` to improve a flaky system test until KIP-91 merged
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4291 from bbejeck/MINOR_increase_request_timeout_for_streams_bounce_test

commit 9204197abf2e13d345ad6ee6a7f827268a49ebca
Author: Bill Bejeck <bill@confluent.io>
Date:   Sun Dec 3 09:05:18 2017 -0800

    MINOR: Fix broker compatibility tests
    
    Updated the System test `stream_broker_compatibility_test.py` to address system test failures as we have removed explicit broker version checking
    
    - Ignore the `0.8.2.2` and `0.9.0.0` tests because the `NetworkClient` only logs `UnsupportedVersionException`s that occur and will continue to retry connecting.  Once issue https://issues.apache.org/jira/browse/KAFKA-6297 is addressed, we may re-enable these tests.
    - Updated existing tests expected error messages
    - Updated Streams code in test for to make sure we fail fast for incompatible brokers
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4286 from bbejeck/MINOR_fix_broker_compatibility_tests

commit 2d8918b1aec2601a66e9321da4460a8826b88139
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Dec 1 23:52:25 2017 -0800

    KAFKA-6118: Fix transient failure testTwoConsumersWithDifferentSaslCredentials
    
    It's rare, but it can happen that the initial FindCoordinator request returns before the first Metadata request. Both authorization errors are fine for this test case.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4287 from hachikuji/KAFKA-6118

commit d1e0443bac769c10598bbdeddf6d7e06f2fdf7e4
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Dec 1 14:39:46 2017 -0800

    MINOR: Improve EOS related config docs
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4284 from mjsax/minor-improve-eos-docs

commit 8c1e1cf27a58d7433c0230ff2b8ecefb30f73fd0
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Dec 1 13:01:18 2017 -0800

    KAFKA-6296; Increase jitter to fix transient failure in NetworkClientTest.testConnectionDelayDisconnected
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4285 from hachikuji/KAFKA-6296

commit d01f01ec63f61bd4742f02abff2ab6cf339e2897
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Dec 1 11:32:44 2017 -0800

    KAFKA-6260; Ensure selection keys are removed from all collections on socket close
    
    When a socket is closed, we must remove corresponding selection keys from internal collections. This fixes an NPE which is caused by attempting to access the selection key's attached channel after it had been cleared after disconnecting.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4276 from hachikuji/KAFKA-6260

commit 18e34482e685098ebef90233d78ae803f906633a
Author: Mikkin <mikkin@confluent.io>
Date:   Thu Nov 30 13:51:19 2017 -0800

    KAFKA-6284: Fixed system test for Connect REST API
    
    `topics.regex` was added in KAFKA-3073. This change fixes the test that invokes `/validate` to ensure that all the configdefs are returned as expected.
    
    Author: Mikkin <mikkin@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4279 from mikkin/KAFKA-6284

commit bc2c17a9b85c8cba546ec41129de8055d46f740d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 30 12:17:34 2017 +0200

    MINOR: Shutdown ControllerEventThread via event instead of interruption
    
    If the ControllerEventThread is interrupted when a request is
    being sent, it may lead to an IllegalStateException being thrown.
    This, in turn, can lead to a NullPointerException in
    unregisterPartitionReassignmentIsrChangeHandlers,
    
    To avoid these issues, we make the ControllerEventThread
    uninterruptable and we shut it down by clearing the queue
    and enqueuing a special event.
    
    To make the code more robust, we also set
    ReassignedPartitionsContext.reassignIsrChangeHandler
    during construction instead of setting it to null first.
    
    Finally, misleading log messages in ephemeral node
    creation have been clarified.
    
    For reference, the relevant log lines from the relevant
    flaky test:
    
    ```text
    [2017-11-15 10:30:13,869] ERROR Error while creating ephemeral at /controller with return code: OK (kafka.zk.KafkaZkClient$CheckedEphemeral:101)
    [2017-11-15 10:30:14,155] ERROR Haven't been able to send leader and isr requests, current state of the map is Map(101 -> Map(topic1-0 -> PartitionState(controllerEpoch=2, leader=101, leaderEpoch=3, isr=101, zkVersion=3, replicas=100,102,101, isNew=false)), 100 -> Map(topic1-0 -> PartitionState(controllerEpoch=2, leader=101, leaderEpoch=3, isr=101, zkVersion=3, replicas=100,102,101, isNew=false)), 102 -> Map(topic1-0 -> PartitionState(controllerEpoch=2, leader=101, leaderEpoch=3, isr=101, zkVersion=3, replicas=100,102,101, isNew=false))). Exception message: java.lang.InterruptedException (kafka.controller.ControllerBrokerRequestBatch:101)
    [2017-11-15 10:30:14,156] ERROR Haven't been able to send metadata update requests to brokers Set(102, 103, 104, 101, 105), current state of the partition info is Map(topic1-0 -> PartitionState(controllerEpoch=1, leader=101, leaderEpoch=2, isr=[101], zkVersion=2, replicas=[100, 102, 101], offlineReplicas=[100])). Exception message: java.lang.InterruptedException (kafka.controller.ControllerBrokerRequestBatch:101)
    [2017-11-15 10:30:14,158] ERROR [Controller id=101] Forcing the controller to resign (kafka.controller.KafkaController:101)
    [2017-11-15 10:30:14,158] ERROR [Controller id=101] Error completing reassignment of partition topic1-0 (kafka.controller.KafkaController:107)
    java.lang.NullPointerException
            at kafka.controller.KafkaController$$anonfun$unregisterPartitionReassignmentIsrChangeHandlers$1.apply(KafkaController.scala:784)
            at kafka.controller.KafkaController$$anonfun$unregisterPartitionReassignmentIsrChangeHandlers$1.apply(KafkaController.scala:783)
    ```
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4219 from ijuma/fix-npe-unregister-zk-listener

commit 38c5d7fba7387b797a10c9c6ed71bf99c6d417bc
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Nov 29 16:22:07 2017 -0800

    KAFKA-5936; KafkaProducer.close should throw InterruptException
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3912 from mjsax/kafka-5936-producer-close

commit b512cd474c6ebfbbbe0192764cec3413a94baba0
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Nov 29 11:18:31 2017 -0800

    KAFKA-6259: Make KafkaStreams.cleanup() clean global state directory
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4255 from mjsax/kafka-6259-clean-global-state-dir
    
    add log4j entry

commit 0cc32abc17d26c5faf6fdc3b63a01016e05a65b9
Author: Richard Yu <yohan.richard.yu2@gmail.com>
Date:   Wed Nov 29 10:45:14 2017 -0800

    KAFKA-4499: Add all() and fetchAll() API for querying window store
    
    A rebased version of the code.
    
    Author: RichardYuSTUG <yohan.richard.yu2@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4258 from ConcurrencyPractitioner/trunk
    
    Add EmptyWindowStoreIterator to NoOpWindowStore

commit 58877a0deacd6c13436af83ef5be1a6f75a3ac4a
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Nov 28 22:09:55 2017 +0000

    KAFKA-6255; Add ProduceBench to Trogdor
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4245 from cmccabe/KAFKA-6255

commit 1a1d923f252e9b1576dad6f7285f237feb064f64
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Nov 28 11:08:42 2017 -0800

    KAFKA-6274: Use topic plus dash as prefix of auto-generated state store names
    
    Use `topic-` as the prefix of the auto-generated state store name.
    
    Also add a unit test for this functionality.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Ted Yu <yuzhihong@gmail.com>
    
    Closes #4268 from guozhangwang/K6274-table-source-store-name

commit 5df1eee7d689e18ac2f7b74410e7a30159d3afdc
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Nov 28 09:37:27 2017 -0800

    KAFKA-6170; KIP-220 Part 2: Break dependency of Assignor on StreamThread
    
    This refactoring is discussed in https://github.com/apache/kafka/pull/3624#discussion_r132614639. More specifically:
    
    1. Moved the access of `StreamThread` in `StreamPartitionAssignor` to `TaskManager`, removed any fields stored in `StreamThread` such as `processId` and `clientId` that are only to be used in `StreamPartitionAssignor`, and pass them to `TaskManager` if necessary.
    2. Moved any in-memory states, `metadataWithInternalTopics`, `partitionsByHostState`, `standbyTasks`, `activeTasks` to `TaskManager` so that `StreamPartitionAssignor` becomes a stateless thin layer that access TaskManager directly.
    3. Remove the reference of `StreamPartitionAssignor` in `StreamThread`, instead consolidate all related functionalities such as `cachedTasksIds ` in `TaskManager` which could be retrieved by the `StreamThread` and the `StreamPartitionAssignor` directly.
    4. Finally, removed the two interfaces used for `StreamThread` and `StreamPartitionAssignor`.
    
    5. Some minor fixes on logPrefixes, etc.
    
    Future work: when replacing the StreamsKafkaClient, we would let `StreamPartitionAssignor` to retrieve it from `TaskManager` directly, and also its closing call do not need to be called (`KafkaStreams` will be responsible for closing it).
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #4224 from guozhangwang/K6170-refactor-assignor

commit 8f6a372eed3655b3823ac6372821d138879e9d9f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun Nov 26 11:33:49 2017 -0800

    MINOR: improve error message for Streams test
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4253 from mjsax/minor-imporve-error-message

commit 5a2960f811c27f59d78dfdb99c7c3c6eeed16c4b
Author: Soenke Liebau <soenke.liebau@opencore.com>
Date:   Sat Nov 25 17:50:17 2017 -0800

    KAFKA-5563: Standardize validation and substitution of connector names in REST API connector configs
    
    …from config to own function and added check to create connector call.
    
    Author: Soenke Liebau <soenke.liebau@opencore.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4230 from soenkeliebau/KAFKA-5563

commit be2918b3a04f669a1264f5d1b0be3cdb6915b2fa
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 24 20:00:00 2017 +0000

    KAFKA-6261; Fix exception thrown by request logging if acks=0
    
    Only expect responseAsString to be set if request logging is
    enabled _and_ responseSend is defined.
    
    Also fixed a couple of issues that would manifest themselves
    if trace logging is enabled:
    
    - `MemoryRecords.toString` should not throw exception if data is corrupted
    - Generate `responseString` correctly if unsupported api versions request is
    received.
    
    Unit tests were added for every issue fixed. Also changed
    SocketServerTest to run with trace logging enabled as
    request logging breakage has been a common issue.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4250 from ijuma/fix-issues-when-trace-logging-is-enabled

commit 49b773bfc814ac9606419c0e8dfdc877dc4ba99b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 24 18:02:52 2017 +0000

    MINOR: Temporarily disable testLogStartOffsetCheckpoint
    
    It's failing often and it seems like there are multiple
    reasons. PR #4238 will re-enable it.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4262 from ijuma/temporarily-disable-test-log-start-offset-checkpoint

commit 0bc2d0e02aaea5b2517c40f7a76654460467177c
Author: tedyu <yuzhihong@gmail.com>
Date:   Fri Nov 24 11:08:39 2017 +0000

    KAFKA-6074; Use ZookeeperClient in ReplicaManager and Partition
    
    Replaced ZkUtils with KafkaZkClient in ReplicaManager and Partition.
    
    Relying on existing tests.
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4254 from tedyu/trunk

commit ac17ab4f09082579d0a239b3b7aac6e2ce342d84
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Thu Nov 23 16:34:07 2017 +0000

    MINOR: Small cleanups/refactoring in kafka.controller
    
    - Updated logging to use string interpolation
    - Minor refactors
    - Fixed a few typos
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4231 from mimaison/controller_refactor

commit 062c5568e13ecde4585dae8aeb38ff103632111e
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Nov 23 14:46:09 2017 +0000

    KAFKA-6238; Fix 1.0.0 upgrade instructions relating to the message format version
    
    The upgrade instructions concerning the message format versions did not account
    for upgrades from versions prior to 0.11.0.x.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4256 from hachikuji/KAFKA-6328

commit 90da94c3848531e638f31231ea3068fabf4cc8dd
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 23 14:37:07 2017 +0000

    MINOR: Remove unnecessary batch iteration in FileRecords.downConvert
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4192 from ijuma/avoid-unnecessary-batch-iteration-in-down-convert

commit 67ba4c4eaed830df3132aea2b50bca076be4edd2
Author: Nick Chiu <nicolas.chiu@jobcloud.ch>
Date:   Thu Nov 23 14:23:43 2017 +0000

    MINOR: fix typo in ProducerConfig doc
    
    Author: Nick Chiu <nicolas.chiu@jobcloud.ch>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4249 from nick-zh/trunk

commit bc852baffbf602ead9cb719a01747de414940d53
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Nov 22 13:25:52 2017 -0800

    KAFKA-5646; Use KafkaZkClient in DynamicConfigManager and AdminManager
    
    * Add AdminZkClient class
    * Use KafkaZkClient, AdminZkClient  in ConfigCommand, TopicCommand
    * All the existing tests should work
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #4194 from omkreddy/KAFKA-5646-ZK-ADMIN-UTILS-DYNAMIC-MANAGER

commit c5f31fe3840e87fbdda63444ef285ede840744cf
Author: Arjun Satish <arjun@confluent.io>
Date:   Wed Nov 22 09:54:06 2017 -0800

    KAFKA-4827: Correctly encode special chars while creating URI objects
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4205 from wicknicks/KAFKA-4827

commit ed8b0315a6c3705b2a163ce3ab4723234779264f
Author: Viktor Somogyi <viktor.somogyi@cloudera.com>
Date:   Wed Nov 22 12:44:15 2017 +0000

    KAFKA-1044; Eliminate direct and non-optional log4j references from `core`
    
    Use slf4j (via scala-logging) instead. Also:
    
    - Log4jController is only initialised if log4j if in the classpath
    - Use FATAL marker to support log4j's FATAL level (as the log4j-slf4j bridge does)
    - Removed `Logging.swallow` in favour of CoreUtils.swallow, which logs to the
    correct logger
    
    Author: Viktor Somogyi <viktor.somogyi@cloudera.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3477 from viktorsomogyi/KAFKA-1044

commit 80038e6d205a037ee969f1c5839ec03925cd8ba4
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Nov 22 10:53:32 2017 +0000

    MINOR: improve flaky Streams system test
    
    Handle TimeoutException in Producer callback and retry sending input data
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #4244 from mjsax/improve-flaky-system-test

commit 225b0b9c712deb3c29f8bca300ba9f73d1084e81
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Nov 21 17:55:30 2017 -0800

    KAFKA-6214: enable use of in-memory store for standby tasks
    
    Remove the flag in `ProcessorStateManager` that checks if a store is persistent when registering it as a standby task.
    Updated the smoke test to use an in-memory store.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #4239 from dguy/kafka-6214

commit cfa6a78c7c2529839d2f3cb1129098f2e552fd72
Author: Arjun Satish <arjun@confluent.io>
Date:   Tue Nov 21 16:07:06 2017 -0800

    KAFKA-4115: Increasing the heap settings for Connect scripts
    
    Signed-off-by: Arjun Satish <arjunconfluent.io>
    
    Author: Arjun Satish <arjun@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4213 from wicknicks/KAFKA-4115

commit 049342e440a5ca045771f3eb5b4c72d3e52ffac6
Author: Jeff Klukas <jeff@klukas.net>
Date:   Tue Nov 21 16:01:16 2017 -0800

    KAFKA-3073: Add topic regex support for Connect sinks
    
    There are more methods that had to be touched than I anticipated when writing [the KIP](https://cwiki.apache.org/confluence/display/KAFKA/KIP-215%3A+Add+topic+regex+support+for+Connect+sinks).
    
    The implementation here is now complete and includes a test that verifies that there's a call to `consumer.subscribe(Pattern, RebalanceHandler)` when `topics.regex` is provided.
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4151 from jklukas/connect-topics.regex

commit fd8eb268d655e00fd1f5e41452a2a30e81daa244
Author: tedyu <yuzhihong@gmail.com>
Date:   Tue Nov 21 14:26:32 2017 -0800

    KAFKA-6168: Connect Schema comparison is slow for large schemas
    
    Re-arrange order of comparisons in equals() to evaluate non-composite fields first
    Cache hash code
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4176 from tedyu/trunk

commit a133e69b458cae25f997680e577a930c06961ecb
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Nov 21 14:39:11 2017 +0000

    KAFKA-6247; Install Kibosh on Vagrant and fix release downloads in Docker
    
    Fix an omission where Kibosh was not getting installed on Vagrant
    instances running in AWS.
    
    Fix an issue where the Dockerfile was unable to download old Apache
    Kafka releases.  See the discussion on KAFKA-6233.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4240 from cmccabe/KAFKA-6247

commit f0276f5ca2ebed2848055ccec875181f5db7ba51
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 20 20:29:33 2017 -0800

    MINOR: Log unexpected exceptions in Connect REST calls that generate 500s at a higher log level
    
    The ConnectExceptionMapper was originally intended to handle ConnectException errors for some expected cases where we just want to always convert them to a certain response and the ExceptionMapper was the easiest way to do that uniformly across the API. However, in the case that it's not an expected subclass, we should log the information at the error level so the user can track down the cause of the error.
    
    This is only an initial improvement. We should probably also add a more general ExceptionMapper to handle other exceptions we may not have caught and converted to ConnectException.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #4227 from ewencp/better-connect-error-logging

commit e3c32391f95d82a217295c7e4c1519981124bc3f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Nov 20 11:25:22 2017 -0800

    KAFKA-6170; KIP-220 Part 1: Add AdminClient to Streams
    
    1. Add The AdminClient into Kafka Streams, which is shared among all the threads.
    2. Add ADMIN_PREFIX to StreamsConfig.
    3. Also made a few tweaks on the metrics of the AdminClient, which is slightly different from the StreamsKafkaClient (note these changes will not be reflected in this PR but only take place when we eventually replace StreamsKafkaClient):
    3.1. "clientId" tag will be set as "clientId-admin": in StreamsKafkaClient it is whatever user sets, and hence could even be null.
    3.2. "groupPrefix" will be set as "admin-client": in StreamsKafkaClient it will be "kafka-client".
    
    So the metrics from `StreamsKafkaClient` to `AdminClient` would be changed from
    
    `kafka.admin.client:type=kafka-client-metrics,client-id=`
    
    to
    
    `kafka.admin.client:type=admin-client-metrics,client-id=myApp-UUID-admin`
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Ted Yu <yuzhihong@gmail.com>
    
    Closes #4211 from guozhangwang/K6170-admin-client

commit 83b8cf96f92242d61db9e87aafce1e8dc457c1a1
Author: Sagar Chavan <sagar.chavan3172@gmail.com>
Date:   Sun Nov 19 10:54:50 2017 -0800

    KAFKA-6233: Removed unnecessary null check in StringSerializer
    
    Removed unnecessary null check
    if (encodingValue != null && encodingValue instanceof String)
    null instanceof String returns false hence replaced the check with
    if (encodingValue instanceof String)
    
    Author: Sagar Chavan <sagar.chavan3172@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4232 from sagarchavan3172/trunk

commit 40fd9fa98105111bca373e76f8f39914cade709b
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sat Nov 18 14:54:01 2017 -0800

    KAFKA-6122: Global Consumer should handle TimeoutException
    
    Implements KIP-224:
    - adding new StreamsConfig `retires`
    - uses `retires` and `retry.backoff.ms` to handle TimeoutException in GlobalStateManager
    - adds two new tests to trigger TimeoutException in global consumer
    - some minor code cleanup to reduce number of parameters we need to pass around
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4206 from mjsax/kafka-6122-global-consumer-timeout-exception

commit b604540fbde818025afac85c3e96be76f212503e
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Nov 17 11:49:09 2017 -0800

    MINOR: improve StateStore JavaDocs
    
    Clarify that state directory must use `storeName`
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4228 from mjsax/minor-state-store-javadoc

commit 406071c2b5c06b25f9167ffd566325fdb65b268d
Author: tedyu <yuzhihong@gmail.com>
Date:   Fri Nov 17 15:16:25 2017 +0000

    KAFKA-6046; DeleteRecordsRequest to a follower should return NOT_LEADER
    
    Tested with DeleteRecordsRequestTest by Tom Bentley, which is part of
    a separate pull request.
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Tom Bentley <tbentley@redhat.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4052 from tedyu/trunk

commit ad71b9d068f63b2e64bcce72c557115efd2cc1ca
Author: ppatierno <ppatierno@live.com>
Date:   Fri Nov 17 12:20:33 2017 +0000

    MINOR: Avoiding attempt to connect to Zookeeper on closing consumer for deleting random group.id with the new one
    
    With the new consumer the "/consumers" path on Zookeeper isn't filled by consumer info. On closing the new consumer, there is some code that is useless to execute for trying to connect to Zookeeper (but the URL is null).
    
    Author: ppatierno <ppatierno@live.com>
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3301 from ppatierno/old-consumer-delete-groupid

commit 00261215436e50fa894f765c1b123f9a780380b1
Author: sachinbhalekar <sachinbansibhalekar@gmail.com>
Date:   Thu Nov 16 15:04:27 2017 -0800

    KAFKA-6218: Optimize condition in if statement to reduce the number of comparisons
    
    Changed the condition in **if** statement
    **(schema.name() == null || !(schema.name().equals(LOGICAL_NAME)))** which
    requires two comparisons in worst case with
    **(!LOGICAL_NAME.equals(schema.name()))**  which requires single comparison
    in all cases and _avoids null pointer exception.
    ![kafka_optimize_if](https://user-images.githubusercontent.com/32234013/32872271-afe0b954-ca3a-11e7-838d-6a3bc416b807.JPG)
    _
    
    Author: sachinbhalekar <sachinbansibhalekar@gmail.com>
    Author: sachinbhalekar <32234013+sachinbhalekar@users.noreply.github.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4225 from sachinbhalekar/trunk

commit d9cbc6b1a28e2fb3f88137429e08c12201998bc7
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Nov 16 17:59:24 2017 +0000

    KAFKA-5811; Add Kibosh integration for Trogdor and Ducktape
    
    For ducktape: add Kibosh to the testing Dockerfile.
    Create files_unreadable_fault_spec.py.
    
    For trogdor: create FilesUnreadableFaultSpec.java.
    Add a unit test of using the Kibosh service.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4195 from cmccabe/KAFKA-5811

commit 53c5ccb33401b772678e9d1ef3bebd5784e22814
Author: Paolo Patierno <ppatierno@live.com>
Date:   Thu Nov 16 09:52:33 2017 -0800

    KAFKA-5925: Adding records deletion operation to the new Admin Client API
    
    This is the PR related to the [KIP-204](https://cwiki.apache.org/confluence/display/KAFKA/KIP-204+%3A+Adding+records+deletion+operation+to+the+new+Admin+Client+API) in order to add the `deleteRecords` operation to the new Admin Client (it's already available in the "legacy" one).
    Other than that, unit test and integration tests are added as well (such integration tests come from the "legacy" integration tests in order to test the new addition in the same way as the "legacy" one).
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4132 from ppatierno/kafka-5925

commit 539c4d53f8fac65063e4e519c6a51911550a151f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Nov 15 17:43:35 2017 -0800

    KAFKA-6167: Timestamp on streams directory contains a colon, which is an illegal character
    
     - change segment delimiter to .
     - added upgrade path
     - added test for old and new upgrade path
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4210 from mjsax/kafka-6167-windows-issue

commit 9eabcc20d2dc9529b64f3967222fdd30a65dc961
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Thu Nov 16 01:41:50 2017 +0000

    MINOR: Updated KafkaZkClient.pathExists() to use ExistsRequest
    
    rather than using GetDataRequest
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4217 from mimaison/pathExists

commit cdcbd9283ddea0207dad7a9f534a534a463f01f4
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 16 01:21:11 2017 +0000

    KAFKA-6210; IllegalArgumentException if 1.0.0 is used for inter.broker.protocol.version or log.message.format.version
    
    Added unit test for ApiVersion and testApiVersions from
    Scala to Java.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4220 from ijuma/kafka-6210-iae-if-1.0.0-inter-broker-protocol-version

commit ca7f3dab0485158cf91b20d8a4b7164dbcdd3a64
Author: Manjula K <manjula@kafka-summit.org>
Date:   Wed Nov 15 14:43:11 2017 -0800

    MINOR: Adding secondary nav to Streams webpage
    
    Added secondary navigation to Streams sub-pages:
     - quickstart.html
     - core-concepts.html
     - developer-guide.html
     - tutorial.html
    
    Author: Manjula K <manjula@kafka-summit.org>
    
    Reviewers: Joel Hamill <joel-hamill@users.noreply.github.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4222 from manjuapu/streams-nav

commit dc2322a272c3093b3a65910fc35c383c7bb40fab
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Nov 15 14:36:05 2017 -0800

    MINOR: Not enough replica exception should never happen for delete records
    
    When reviewing https://github.com/apache/kafka/pull/4132, I felt that NOT_ENOUGH_REPLICAS should never happen actually. Hence proposing to remove it from the listed error code as well in the broker-side capture clause.
    
    Testing added in 4132 should have been sufficient.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Dong Lin <lindong28@gmail.com>
    
    Closes #4208 from guozhangwang/KMinor-delete-records-error-code

commit 48f5f048bc6fd5e059cd1311eb8428f0c1f088e8
Author: Joel Hamill <joel-hamill@users.noreply.github.com>
Date:   Wed Nov 15 14:32:00 2017 -0800

    MINOR: kafka-site introduction section improvements
    
    *Clarify multi-tenant support, geo-replication, and some grammar fixes.*
    
    Author: Joel Hamill <joel-hamill@users.noreply.github.com>
    
    Reviewers: GUozhang Wang
    
    Closes #4212 from joel-hamill/intro-cleanup

commit 54371e63d3c703c932777c2c0f95700c8cb5ba61
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Nov 15 13:27:58 2017 -0800

    MINOR: Make PushHttpMetricsReporter API compatible with releases back to 0.8.2.2
    
    This is follow up to #4072 which added the PushHttpMetricsReporter and converted some services to use it. We somehow missed some compatibility issues that made the ProducerPerformance tool fail when using a newer tools jar with older common/clients jar, which we do with some system tests so we have all the features we need in the tool but can build compatibility tests for older releases.
    
    This just adjusts some API usage to make the tool compatible with all previous releases.
    
    I have a full run of the tests starting [here](https://jenkins.confluent.io/job/system-test-kafka-branch-builder/1122/)
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4214 from ewencp/fix-compatibility-sanity-check-tests

commit 1756a22f7923766175ee4f90bed074cf1b60f932
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Nov 15 11:40:39 2017 -0800

    KAFKA-6215: fix transient failures in KafkaStreamsTest
    
     - set streams state.dir to test-dir (default /tmp is not reliable)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ted Yu <yuzhihong@gmail.com>
    
    Closes #4221 from mjsax/minor-fix-instable-tests

commit f300480f882e8b17999e1172bfbec0f13c71eda7
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Wed Nov 15 12:50:07 2017 +0000

    MINOR: Use match instead of if/else in KafkaZkClient
    
    Also use ZkVersion.NoVersion instead of -1.
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4196 from mimaison/zkclient_refactor

commit 3cfbb25c616bee44ac181e9320d4fd6d79ab9c58
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Nov 15 09:54:42 2017 +0000

    MINOR: Handle error metrics removal during shutdown
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4187 from rajinisivaram/MINOR-metrics-cleanup

commit d04daf570ec4064ae6b3fe5f60f6ce6e0df7ecbc
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 10 12:34:21 2017 +0000

    MINOR: Exclude Committer Checklist section from commit message
    
    It seems like it's sufficient to be able to refer to it in the PR.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4202 from ijuma/exclude-committer-checklist-when-merging

commit 50a44ee6a5c5024e1761529ebd41d884acec328f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 10 10:41:15 2017 +0000

    MINOR: Exclude PULL_REQUEST_TEMPLATE.md from rat checks
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4201 from ijuma/exclude-pull-request-template-from-rat

commit b9039bbd4b3d8eb231c9f2d1d40042706f8f4f19
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 10 09:44:43 2017 +0000

    MINOR: Use Scala Future in CoreUtils test
    
    Also rename UtilsTest to CoreUtilsTest and note
    that `getOrElseUpdate` has the right behaviour
    in Scala 2.12.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4142 from ijuma/use-scala-futures-in-core-utils-test

commit 14e3ed048c96bc441f5fc5c893833f705fd53241
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 10 08:35:40 2017 +0000

    MINOR: Add pull request template
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>, Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4174 from ijuma/pull-request-template

commit 84ddff6792a2082a1940664d42f5b03edc617c31
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Nov 9 22:43:59 2017 -0800

    HOTFIX: GlobalStateManagerImpl in trunk has renamed the consumer field

commit 12af521c487a146456442f895b9fc99a45ed100f
Author: Dong Lin <lindong28@gmail.com>
Date:   Thu Nov 9 22:08:03 2017 -0800

    KAFKA-6175; AbstractIndex should cache index file to avoid unnecessary disk access during resize()
    
    This patch also adds the a test for test the log deletion after close.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4179 from lindong28/KAFKA-6175

commit 66cab2f7fb72417f9bf8759fccb26dfdb33ac6ce
Author: Alex Good <alexjsgood@gmail.com>
Date:   Thu Nov 9 15:30:53 2017 -0800

    KAFKA-6190: Use consumer.position() instead of record.offset() to advance in GlobalKTable restoration to avoid transactional control messages
    
    Calculate offset using consumer.position() in GlobalStateManagerImp#restoreState
    
    Author: Alex Good <alexjsgood@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4197 from alexjg/0.11.0
    
    (cherry picked from commit 1321d89484a9a0657620b20c08ce96ee43d8a691)
    Signed-off-by: Guozhang Wang <wangguoz@gmail.com>

commit 564d7b365d102ffbeb24e2421ab6319db311e6b5
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Thu Nov 9 13:51:32 2017 -0800

    MINOR: make controller helper methods private
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4198 from onurkaraman/make-controller-helper-methods-private

commit 3e86161b8446e0b8f1c4fe537f1c7d65692b6a73
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 9 18:24:48 2017 +0000

    MINOR: Update to Scala 2.11.12 (part 2)
    
    Missed a few places in the previous commit.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4200 from ijuma/scala-2.11.12-part2

commit e23de3caee3eb31a5d43a8869e6d28e25ea720d4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Nov 9 09:46:47 2017 -0800

    MINOR: Remove FanoutIntegrationTest.java
    
    This test has been completely subsumed by the coverage of reset integration test, and hence can be removed.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #4184 from guozhangwang/KMinor-remove-fanout-integration

commit 718dda1144629d824f4bdb8ff73fbd531a22723a
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 9 09:42:46 2017 -0800

    MINOR: Add HttpMetricsReporter for system tests
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4072 from ewencp/http-metrics

commit 0653a895f51492a8687aaba0dc7a43b21fca2a56
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Nov 9 16:02:04 2017 +0000

    KAFKA-6185; Remove channels from explictlyMutedChannels set when closed
    
    This memory leak could eventually lead to an OutOfMemoryError. This
    was particularly likely in case of down conversions as the leaked
    channels would hold on to the record batch (which is only loaded
    into the heap in case of down conversions).
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4193 from rajinisivaram/KAFKA-6185-oom

commit fe3171844b599a3e6c0cfe1e606a21eb4ef32ce6
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Nov 9 15:17:52 2017 +0000

    KAFKA-6164; Shutdown quota managers if other components fail to start
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4181 from rajinisivaram/KAFKA-6164

commit 4a55818bbfb8d104b1ef34c5b9d96184e8187c5c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 9 14:23:54 2017 +0000

    MINOR: Update Scala 2.11 to 2.11.12
    
    The main change is Java 9 support.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4185 from ijuma/scala-2.11.12

commit fef80c8636d03a25a3b17f31d9cf2ab9b98f385f
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Thu Nov 9 00:57:15 2017 +0000

    KAFKA-6146; minimize the number of triggers enqueuing PreferredReplicaLeaderElection events
    
    We currently enqueue a PreferredReplicaLeaderElection controller event in PreferredReplicaElectionHandler's handleCreation, handleDeletion, and handleDataChange. We can just enqueue the event upon znode creation and after preferred replica leader election completes. The processing of this latter enqueue will register the exist watch on PreferredReplicaElectionZNode and perform any pending preferred replica leader election that may have occurred between completion and registration.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4189 from onurkaraman/KAFKA-6146

commit ee1aaa091fc68587635604de5006b7acdb160361
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Nov 8 15:07:14 2017 -0800

    KAFKA-6179: Clear min timestamp tracker upon partition queue cleanup
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4186 from guozhangwang/K6179-cleanup-timestamp-tracker-on-clear

commit 9b44c3e7f89b55528b12ba280007c804682beb0b
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Nov 8 09:34:43 2017 -0800

    KAFKA-5645; Use async ZookeeperClient in SimpleAclAuthorizer
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Jun Rao <junrao@gmail.com>
    
    Closes #4155 from omkreddy/KAFKA-5645-ZK-AUTHORIZER-VERSION2

commit 3735a6ca8b6432db2de4a0bd07df9301459bbf0b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Nov 7 09:55:44 2017 +0000

    MINOR: Eliminate unnecessary Topic(And)Partition allocations in Controller
    
    - Eliminated all the unnecessary allocations of `TopicPartition` and
    `TopicAndPartition` in the Controller. We now use the former
    in the Controller (bringing it inline with the rest of the non legacy
    code).
    - Fixed missed `Listener` -> `Handler` renames for companion
    objects.
    - More String.format -> String interpolation conversions (the former
    is roughly 5 times more expensive).
    - Some other minor clean-ups.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Viktor Somogyi <viktorsomogyi@gmail.com>
    
    Closes #4152 from ijuma/controller-topic-partition-and-other-clean-ups

commit 58138126ce93efc48291fe444f554eabdf4a5609
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Mon Nov 6 16:46:31 2017 -0800

    KAFKA-5894; add the notion of max inflight requests to async ZooKeeperClient
    
    ZooKeeperClient is a zookeeper client that encourages pipelined requests to zookeeper. We want to add the notion of max inflight requests to the client for several reasons:
    1. to bound memory overhead associated with async requests on the client.
    2. to not overwhelm the zookeeper ensemble with a burst of requests.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ted Yu <yuzhihong@gmail.com>, Jun Rao <junrao@gmail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Closes #3860 from onurkaraman/KAFKA-5894

commit 6f96d7f1735c53b97ebac43168ded64007277beb
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Nov 6 21:33:45 2017 +0000

    MINOR: PartitionReassignmentHandler should only generate event when znode is created
    
    We only need to generate the event when the znode is created or deleted.
    In the former case, we start the reassignment while in the latter we
    re-register the watcher (necessary for the Controller to detect future
    reassignments).
    
    During Controller failover, we restart the reassignment without generating
    an event so it's not affected by this change.
    
    Also use the Controller cache (`ControllerContext.partitionsBeingReassigned`)
    in `removePartitionFromReassignedPartitions` instead of reloading the
    data from ZooKeeper.
    
    Overall, we would previously load the reassignment data from ZooKeeper twice
    per completed partition whereas now as don't do it at all. As an example,
    say there were 30k partitions being reassigned, these changes save the
    allocation of 900 million `TopicAndPartition` and `Seq[Int]` (replicas)
    instances (could easily amount to 20-40 GB depending on the topic name
    length). This matters most in cases where the partitions being reassigned
    don't have much data allowing the reassignment to complete reasonably
    fast for many of the partitions.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Onur Karaman <okaraman@linkedin.com>
    
    Closes #4143 from ijuma/partition-reassignment-ignore-handle-deletion-and-data-change

commit 2b5a21395cf8ce6e3e29a9a778bc20f727ec35fd
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Nov 6 10:50:57 2017 -0800

    KAFKA-6120: RecordCollector should not retry sending
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4148 from mjsax/kafka-6120-recordCollector

commit d637ad0dafb727bb73c63f1b187d9f83abcd4ec1
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Nov 6 10:26:52 2017 -0800

    KAFKA-6115: TaskManager should be type aware
    
     - remove type specific methods from Task interface
     - add generics to preserve task type
     - add sub classes for different task types
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4129 from mjsax/kafka-6115-taskManager-should-be-type-aware

commit 0c895706e8ab511efe352a824a0c9e2dab62499e
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Nov 6 09:28:29 2017 -0800

    KAFKA-6172; Cache lastEntry in TimeIndex to avoid unnecessary disk access
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #4177 from lindong28/KAFKA-6172

commit 7672e9ec3def7af6797bc0ecf254ac694efdfad5
Author: huxihx <huxi_2b@hotmail.com>
Date:   Mon Nov 6 15:56:07 2017 +0000

    KAFKA-6156; Metric tag values with colons must be sanitized
    
    Windows directory paths often contain colons which are not allowed in
    yammer metrics. Metric tag values with special characters must be
    quoted.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4173 from huxihx/KAFKA-6156

commit 86062e9a78dccad74e012f11755025512ad5cf63
Author: Adem Efe Gencer <agencer@linkedin.com>
Date:   Sun Nov 5 18:00:43 2017 -0800

    KAFKA-6157; Fix repeated words words in JavaDoc and comments.
    
    Author: Adem Efe Gencer <agencer@linkedin.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #4170 from efeg/bug/typoFix

commit 520b3136280dc3dd427e773b882290ffff51d59a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Nov 3 10:10:35 2017 -0700

    HOTFIX: Add missing template ref in upgrade section

commit 487436b1a46b728904e543456c8bcc0d3ceea55a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Nov 3 08:51:44 2017 -0700

    MINOR: Update docs for new version
    
    1. Update the Streams hello world examples with the new API.
    2. Update the version references in various places.
    3. Update version templates to 1.1.x.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Damian Guy <damian.guy@gmail.com>, Derrick Or <derrickor@gmail.com>
    
    Closes #4169 from guozhangwang/KMINOR-streams-docs

commit 4fac83ba1f80353e9544b15b95b8da9dc557041d
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Nov 3 09:37:29 2017 +0000

    KAFKA-6060; Add workload generation capabilities to Trogdor
    
    Previously, Trogdor only handled "Faults."  Now, Trogdor can handle
    "Tasks" which may be either faults, or workloads to execute in the
    background.
    
    The Agent and Coordinator have been refactored from a
    mutexes-and-condition-variables paradigm into a message passing
    paradigm.  No locks are necessary, because only one thread can access
    the task state or worker state.  This makes them a lot easier to reason
    about.
    
    The MockTime class can now handle mocking deferred message passing
    (adding a message to an ExecutorService with a delay).  I added a
    MockTimeTest.
    
    MiniTrogdorCluster now starts up Agent and Coordinator classes in
    paralle in order to minimize junit test time.
    
    RPC messages now inherit from a common Message.java class.  This class
    handles implementing serialization, equals, hashCode, etc.
    
    Remove FaultSet, since it is no longer necessary.
    
    Previously, if CoordinatorClient or AgentClient hit a networking
    problem, they would throw an exception.  They now retry several times
    before giving up.  Additionally, the REST RPCs to the Coordinator and
    Agent have been changed to be idempotent.  If a response is lost, and
    the request is resent, no harm will be done.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4073 from cmccabe/KAFKA-6060

commit e4208b1d5fa1c28ac7e64e2cb039404a14084dc0
Author: Bill Bejeck <bill@confluent.io>
Date:   Thu Nov 2 17:53:15 2017 -0700

    MINOR: update producer client request timeout in system test
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4168 from bbejeck/MINOR_update_streams_produer_timeout_in_system_test

commit b6765e46c8f85b6f9ba9600da753cc7638aa1027
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Nov 2 17:50:13 2017 -0700

    MINOR: Change version format in release notes python code
    
    ijuma ewencp
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4171 from guozhangwang/KMinor-update-releasepy

commit 554e0b529884e0dd6b4968a0fc58b02f58e95a07
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 2 22:41:29 2017 +0000

    MINOR: Remove clients/out directory
    
    It was committed inadvertently.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4172 from ijuma/remove-out-folder

commit f88fdbd3115cdb0f1bd26817513f3d33359512b1
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Oct 31 18:06:51 2017 -0700

    KAFKA-6072; User ZookeeperClient in GroupCoordinator and TransactionCoordinator
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #4126 from omkreddy/KAFKA-6072-ZK-IN-GRoupCoordinator

commit 51787027159f6f206df928a5c8bd2a18bacd3d5c
Author: Manjula K <manjula@kafka-summit.org>
Date:   Tue Oct 31 13:22:56 2017 -0700

    MINOR: Adding Trivago logo to Streams landing page
    
    guozhangwang Please review
    
    Author: Manjula K <manjula@kafka-summit.org>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4164 from manjuapu/ny-trivago-logos

commit 3c9e30a2f71c83b7efd45a65ffb5df5a80f48d19
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Oct 31 09:57:05 2017 -0700

    MINOR: Tighten up locking when aborting expired transactions
    
    This is a followup to #4137
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #4146 from apurvam/MINOR-followups-to-bump-epoch-on-expire-patch

commit 71fe23b445e242ca0f03f06aa8dad96e610db00b
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Oct 31 09:39:01 2017 -0700

    MINOR: Fix inconsistency in StopReplica/LeaderAndIsr error counts
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4147 from hachikuji/fix-error-inconsistencies

commit c7ab3efcbe5d34c28e19a5a6a59962c2abfd2235
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Oct 30 13:11:18 2017 -0700

    MINOR: Code cleanup and JavaDoc improvements for clients and Streams
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4128 from mjsax/minor-cleanup
    
    minor fix

commit 7fe88e8bd9acedcb74a4b3e61440f61481b60711
Author: Richard Yu <richardyu@Richards-Air.attlocal.net>
Date:   Mon Oct 30 11:31:36 2017 -0700

    KAFKA-5212; Consumer ListOffsets request can starve group heartbeats
    
    Author: Richard Yu <richardyu@Richards-Air.attlocal.net>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4110 from ConcurrencyPractitioner/trunk

commit 8e4b3dca7b1bcef0e4875fea4fa79377998616c3
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Oct 30 11:06:11 2017 -0700

    KAFKA-2903; FileRecords.read doesn't handle size > sizeInBytes when start is not zero
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4158 from ijuma/kafka-2903-file-records-read-slice-size-greater

commit 6118ecb590afed5fd41376b521a5dffe522f3c07
Author: Tom Bentley <tbentley@redhat.com>
Date:   Mon Oct 30 09:56:55 2017 -0700

    KAFKA-6130; Ensure VerifiableConsumer halts when --max-messages is reached
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4157 from tombentley/KAFKA-6130-verifiable-consumer-max-messages

commit 9504af72ff915f5e82833fd96b57dc00e5825925
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Mon Oct 30 09:46:11 2017 -0700

    KAFKA-6073; Use ZookeeperClient in KafkaApis
    
    I kept zkUtils for the call to AdminUtils.createTopic(). AdminUtils can be done in another PR.
    
    Is there a reason why we use TopicAndPartition instead of TopicPartition in KafkaControllerZkUtils ?
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #4111 from mimaison/KAFKA-6073

commit f4e9c84c52fbb7ec6a4ca50c9ac35cacbd0df082
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Oct 27 16:40:39 2017 +0100

    MINOR: Remove TLS renegotiation code
    
    This has been disabled since the start and since
    it's removed in TLS 1.3, there are no plans to
    ever support it.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4034 from ijuma/remove-tls-renegotiation-support

commit 4e8ad90b94f28affd8e29db136df5e6e7c6c6c15
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Oct 27 15:49:42 2017 +0100

    MINOR: Ensure that the producer in testAlterReplicaLogDirs is always closed
    
    Failure to close the producer could cause a transient failure, more details
    below.
    
    The request timeout was only 2 seconds, exceptions thrown were not
    propagated and the producer would not be closed. If the exception
    was thrown during `send`, we did not increment `numMessages`
    allowing the test to pass.
    
    I have increased the timeout to 10 seconds and made sure that
    exceptions are propagated.
    
    Example of the error:
    
    ```text
    kafka.api.SaslSslAdminClientIntegrationTest > classMethod STARTED
    
    kafka.api.SaslSslAdminClientIntegrationTest > classMethod FAILED
        java.lang.AssertionError: Found unexpected threads, allThreads=Set(metrics-meter-tick-thread-2, Signal Dispatcher, main, Reference Handler, scala-execution-context-global-164, kafka-producer-network-thread | producer-1, scala-execution-context-global-166, Test worker, scala-execution-context-global-1249, /0:0:0:0:0:0:0:1:58910 to /0:0:0:0:0:0:0:1:43025 workers Thread 2, Finalizer, /0:0:0:0:0:0:0:1:58910 to /0:0:0:0:0:0:0:1:43025 workers Thread 3, scala-execution-context-global-163, metrics-meter-tick-thread-1)
    ```
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4144 from ijuma/ensure-producer-is-closed-test-alter-replica-log-dirs

commit 603d4e5d9c6ae8f0283c39f412eb81b8b82d802a
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Fri Oct 27 14:55:10 2017 +0100

    MINOR: Mention "per listener" security overrides in listener.security.protocol.map config doc
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Tom Bentley <tbentley@redhat.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3951 from omkreddy/KIP-103-DOCS

commit 9b53c31d0854f02139acbd39c33f17ac4886914d
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Fri Oct 27 14:41:46 2017 +0100

    MINOR: Update docs wrt topic deletion being enabled by default
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3835 from omkreddy/update-delete-topic-doc

commit 4ea5fb760f571fd3e4be14cbd3828f65830a314e
Author: Paolo Patierno <ppatierno@live.com>
Date:   Fri Oct 27 14:26:50 2017 +0100

    MINOR: Document "high watermark" magic value for delete records request
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4119 from ppatierno/minor-delrecords-prot

commit 6197481b8be0dcf259e4a6f08fa78f120bed5b60
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Oct 27 14:10:56 2017 +0100

    MINOR: Fix indentation in KafkaApis.handleOffsetFetchRequest
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4139 from vahidhashemian/minor/indentation_fix_1710

commit 501a5e262702bcc043724cb9e1f536e16a66399e
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Oct 26 23:26:33 2017 -0700

    KAFKA-6119: Bump epoch when expiring transactions in the TransactionCoordinator
    
    A description of the problem is in the JIRA. I have added an integration test which reproduces the original scenario, and also added unit test cases.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ted Yu <yuzhihong@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4137 from apurvam/KAFKA-6119-bump-epoch-when-expiring-transactions

commit 69e8463c06b51299f16b30274da1026febebaecc
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Oct 27 02:56:19 2017 +0100

    KAFKA-6131; Use atomic putIfAbsent to create txn marker queues
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4140 from rajinisivaram/KAFKA-6131-txn-concurrentmap

commit ebe749b4ee941be9baed90349b72931a041a480f
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Oct 26 13:46:11 2017 -0700

    MINOR: Improve a Windows quickstart instruction
    
    The output of `wmic` can be very long and could truncate the search keywords in the existing command. If those keywords are truncated no process is returned in the output. An update is suggested to the command by which the query is performed inside the `wmic` command itself instead of using pipes and `find`.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4083 from vahidhashemian/minor/improve_quickstart_for_windows_wmic

commit ea6a67af70c6ee811154ab947ce947e1bc0c3a20
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Oct 26 13:27:08 2017 -0700

    KAFKA-6100: Down-grade RocksDB to 5.7.3
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>
    
    Closes #4136 from guozhangwang/K6100-rocksdb-580-regression

commit adb9d5ae7671c5befa615e369c97a701d7dfb58b
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Oct 26 14:24:29 2017 +0100

    MINOR: Add missing semicolon to example jaas configuration
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4101 from omkreddy/SCRAM-DOCS

commit 070ec0fc586958f260f71558171abfd0d447290d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Oct 26 14:23:00 2017 +0100

    MINOR: Revert EmbeddedZooKeeper rename
    
    Even though this class is internal, it's widely
    used by other projects and it's better to avoid
    breaking them until we have a publicly supported
    test library.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4138 from ijuma/revert-embedded-zookeeper-rename

commit ab6f848ba6cafaed3d75b54005c954733f0d1735
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Oct 25 21:11:16 2017 -0700

    MINOR: Rename and change package of async ZooKeeper classes
    
    - kafka.controller.ZookeeperClient -> kafka.zookeeper.ZooKeeperClient
    - kafka.controller.ControllerZkUtils -> kafka.zk.KafkaZkClient
    - kafka.controller.ZkData -> kafka.zk.ZkData
    - Renamed various fields to match new names and for consistency
    - A few clean-ups in ZkData
    - Document intent
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Manikumar Reddy <manikumar.reddy@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #4112 from ijuma/rename-zookeeper-client-and-move-to-zookeper-package

commit f7f8e11213ed2228e6f6a4baa7d4cf0653aad19e
Author: Xavier Léauté <xl+github@xvrl.net>
Date:   Wed Oct 25 13:34:15 2017 -0700

    MINOR: reset state in cleanup, fixes jmx mixin flakiness
    
    ewencp ijuma
    
    Author: Xavier Léauté <xl+github@xvrl.net>
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4123 from xvrl/fix-jmx-flakiness
    
    (cherry picked from commit 91eb178e95abd71b68dd03ee25c77482087bd9bb)
    Signed-off-by: Ewen Cheslack-Postava <me@ewencp.org>

commit 5f779ca3f38a1149aea1219ed4a91c677955101d
Author: Joel Hamill <git config --global user.email>
Date:   Wed Oct 25 10:11:09 2017 -0700

    MINOR: Fix typo dev guide title
    
    related to https://github.com/apache/kafka-site/pull/103
    
    Author: Joel Hamill <git config --global user.email>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4133 from joel-hamill/dev-guide-title

commit c504b22841b1066c0d46183adb22f48596479d7e
Author: Jeff Widman <jeff@jeffwidman.com>
Date:   Tue Oct 24 01:13:06 2017 +0100

    MINOR: Fix typo in ConsumerCoordinator comment
    
    Author: Jeff Widman <jeff@jeffwidman.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4032 from jeffwidman/patch-3

commit b281015c150cb95c4205ff6a8d8945b86fc94d4b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Oct 23 16:12:54 2017 -0700

    HOTFIX: Poll with zero milliseconds during restoration phase
    
    1. After the poll call, re-check if the state has been changed or not; if yes, initialize the tasks again.
    2. Minor log4j improvements.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: Damian Guy <damian.guy@gmail.com>
    Author: Jason Gustafson <jason@confluent.io>
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Ted Yu <yuzhihong@gmail.com>
    
    Closes #4096 from guozhangwang/KHotfix-restore-only

commit d3f24798f92a6e4d6038d28b63daf3ac9d14fcbf
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Oct 23 12:35:31 2017 -0700

    KAFKA-5140: Fix reset integration test
    
    A couple of root causes of this flaky test is fixed:
    
    1. The MockTime was incorrectly used across multiple test methods within the class, as a class rule. Instead we set it on each test case; also remove the scala MockTime dependency.
    
    2. List topics may not contain the deleted topics while their ZK paths are yet to be deleted; so the delete-check-recreate pattern may fail to successfully recreate the topic at all. Change the checking to read from zk path directly instead.
    
    Another minor fix is to remove the misleading wait condition error message as the accumData is always empty.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #4095 from guozhangwang/KMinor-reset-integration-test

commit a3c4ab24278d8d5dfc662bc276ceba8ec6fe0a90
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Mon Oct 23 16:38:39 2017 +0100

    KAFKA-6070; add ipaddress and enum34 dependencies to docker image
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Alex Ayars <alex.ayars@confluent.io>
    
    Closes #4084 from cmccabe/KAFKA-6070

commit 277fc927c0d6c2699b64a5a54461fb96a50f58ae
Author: tedyu <yuzhihong@gmail.com>
Date:   Mon Oct 23 15:52:30 2017 +0100

    KAFKA-6101; Reconnecting to broker does not exponentially backoff
    
    Author: tedyu <yuzhihong@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Soenke Liebau <soenke.liebau@opencore.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4118 from tedyu/trunk

commit 6fc5732259d76603c37524d588b1429b42c8a5d5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Oct 23 14:49:01 2017 +0100

    MINOR: Configure owasp.dependencycheck gradle plugin
    
    It seems to output a few false positives, but still
    worth verifying.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4117 from ijuma/dependency-check

commit 021f2e7e246268da46be80fd87d76bb9961b93d8
Author: Soenke Liebau <soenke.liebau@opencore.com>
Date:   Mon Oct 23 11:57:45 2017 +0100

    KAFKA-6104; Added unit tests for ClusterConnectionStates
    
    Author: Soenke Liebau <soenke.liebau@opencore.com>
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4113 from soenkeliebau/KAFKA-6104

commit 580390b78cd490b3bc3372cd86f9089aa9890508
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Oct 23 11:39:39 2017 +0100

    MINOR: Update Scala to 2.12.4
    
    Mainly for Java 9 fixes and improved compilation times (5-10% reduction):
    
    http://www.scala-lang.org/news/2.12.4
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4102 from ijuma/update-scala-version

commit c216adb4bbf8306977380a1ec371380e30137765
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Oct 23 10:33:51 2017 +0100

    MINOR: add hint for setting an uncaught exception handler to JavaDocs
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4104 from mjsax/minor-uncaught-exception-handler

commit 86cd558b3345879429ba177de8ff5b40e1219e73
Author: Soenke Liebau <soenke.liebau@opencore.com>
Date:   Mon Oct 23 00:54:44 2017 +0100

    MINOR: Changed visibility of methods in ClusterConnectionStates to private
    
    The methods resetReconnectBackoff and updateReconnectBackoff in ClusterConnectionStates both take an instance of a private inner class as parameter and thus cannot be called from outside the class anyway.
    
    Author: Soenke Liebau <soenke.liebau@opencore.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4114 from soenkeliebau/MINOR_private

commit b1cd6c530119f5d97a1801b8983166248573481a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Oct 22 08:44:08 2017 +0100

    MINOR: Controller and async ZookeeperClient improvements
    
    * Fix issue in `retryRequestsUntilConnected` where the same response
    could appear multiple times (implies that we are lacking test coverage)
    * Introduce type member in AsyncRequest for the AsyncResponse
    type and refactor the code to eliminate most downcasts
    * Remove a number of unnecessary collection copies in
    `retryRequestsUntilConnected`
    * Move ControllerContext to its own file
    * Rename getACL/setACL to getAcl/setAcl to match Kafka naming
    convention
    * Replace tuple of 3 elements with case class in one place (we
    should do this in other places too)
    * Extract `send` and `shouldWatch` from
    `ZooKeeperClient.handleRequests`
    * Use pattern matching instead of if/else chains in a few places (we
    should do it in more places)
    * A couple of renames to avoid overloads and hence benefit from
    better type inference
    * Use Option and default arguments instead of passing null in
    some places
    * `Expired` is no longer a case class since it has no parameters,
    but it has state
    * Various minor clean-ups
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Onur Karaman <okaraman@linkedin.com>
    
    Closes #4088 from ijuma/async-zkclient-cleanups

commit efefb452df0d60ae427c708cc7da312217bbe647
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Oct 21 20:17:58 2017 -0700

    KAFKA-6042: Avoid deadlock between two groups with delayed operations
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4103 from rajinisivaram/KAFKA-6042-group-deadlock
    
    (cherry picked from commit 5ee157126d595b913761cf1887963460bbe12855)
    Signed-off-by: Guozhang Wang <wangguoz@gmail.com>

commit 9be71f7bdcd147aee7a360a4ccf400acb858a056
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Oct 19 19:37:38 2017 -0700

    MINOR: Use ObjectName.quote instead of URL-encoding for JMX metric tags
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4099 from rajinisivaram/1.0
    
    (cherry picked from commit 51bb83d0dce8110b941891eddedba1fe3abdf658)
    Signed-off-by: Ewen Cheslack-Postava <me@ewencp.org>

commit fdbd4d62f30991db7e7ce8ee9004a0431c8c226e
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Oct 19 18:48:54 2017 -0700

    KAFKA-6071; Use ZookeeperClient in LogManager
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4089 from omkreddy/KAFKA-6071-ZK-LOGMANAGER

commit 5ec6765bdbe136951d737f30b5da62b07cc5cc68
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Thu Oct 19 14:24:57 2017 -0700

    KAFKA-6087: Scanning plugin.path needs to support relative symlinks.
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4092 from kkonstantine/KAFKA-6087-Scanning-plugin.path-needs-to-support-relative-symlinks

commit 561dd3864d89db58bd3cbdd64480f12fa7249f1f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Oct 19 13:11:51 2017 -0700

    MINOR: Update docs with regards to max.in.flight and idempotent producer
    
    The idempotent producer doesn't change that setting any more and the
    accepted range has changed.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #4097 from ijuma/fix-javadoc-wrt-max-in-flight-for-idempotent

commit 60c36b098444a07ca2e6ada57642660598a7e3f4
Author: Magnus Edenhill <magnus@edenhill.se>
Date:   Thu Oct 19 08:41:58 2017 -0700

    MINOR: Fix var typo in verifiable_consumer assertion
    
    Author: Magnus Edenhill <magnus@edenhill.se>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4098 from edenhill/verfcons_var_fix

commit 249e398bf84cdd475af6529e163e78486b43c570
Author: Tommy Becker <tobecker@tivo.com>
Date:   Thu Oct 19 15:40:26 2017 +0100

    KAFKA-6069: Properly tag KafkaStreams metrics with the client id.
    
    Author: Tommy Becker <tobecker@tivo.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4081 from twbecker/KAFKA-6069

commit 7fdafda9796fc8033c5f77bf19be17be462e1b4e
Author: Hugo Louro <hmclouro@gmail.com>
Date:   Thu Oct 19 10:35:18 2017 +0100

    MINOR: Correct KafkaProducer Javadoc spelling of property 'max.in.flight.requests.per.connection'
    
    Currently, in branches _trunk_, _0.11.0_, and _1.0_ the property **max.in.flight.requests.per.connection** is incorrectly misspelled as _max.inflight.requests.per.connection_
    
    harshach ijuma guozhangwang can you please review. Thank you.
    
    Author: Hugo Louro <hmclouro@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4094 from hmcl/trunk_MINOR_Doc_InflightProp

commit 6cb649b56b1194f4f1cf080d4596244119c3ce78
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Oct 18 22:15:22 2017 +0100

    MINOR: Remove dead code
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4087 from ijuma/remove-dead-code

commit 5c1a85caa074267fd84a2fed3662cbe1af93738d
Author: Maytee Chinavanichkit <maytee.chinavanichkit@linecorp.com>
Date:   Wed Oct 18 09:59:13 2017 -0700

    KAFKA-6051; Close the ReplicaFetcherBlockingSend earlier on shutdown
    
    Rearranged the testAddPartitionDuringDeleteTopic() test to keep the
    likelyhood of the race condition.
    
    Author: Maytee Chinavanichkit <maytee.chinavanichkit@linecorp.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4056 from mayt/KAFKA-6051

commit b71ee043f8959ee0d4699071ba8fc1e2c5675842
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Wed Oct 18 09:14:59 2017 -0700

    KAFKA-5642; Use async ZookeeperClient in Controller
    
    Kafka today uses ZkClient, a wrapper client around the raw Zookeeper client. This library only exposes synchronous apis to the user. Synchronous apis mean we must wait an entire round trip before doing the next operation.
    
    This becomes problematic with partition-heavy clusters, as we find the controller spending a significant amount of time just sending many sequential reads and writes to zookeeper at the per-partition granularity. This especially becomes an issue during:
    - controller failover, where the newly elected controller effectively reads all zookeeper state.
    - broker failures and controlled shutdown. The controller tries to elect a new leader for partitions previously led by the broker. The controller also removes the broker from isr on partitions for which the broker was a follower. These all incur partition-granular reads and writes to zookeeper.
    
    As a first step in addressing these issues, we built a low-level wrapper client called ZookeeperClient in KAFKA-5501 that encourages pipelined, asynchronous apis.
    
    This patch converts the controller to use the async ZookeeperClient to improve controller failover, broker failure handling, and controlled shutdown times.
    
    Some notable changes made in this patch:
    - All ControllerEvents now defer access to zookeeper at processing time instead of enqueue time as was intended with the single-threaded event queue model patch from KAFKA-5028. This results in a fresh view of the zookeeper state by the time we process the event. This reverts the hacks from KAFKA-5502 and KAFKA-5879.
    - We refactored PartitionStateMachine and ReplicaStateMachine to process multiple partitions and replicas in batch rather than one-at-a-time so that we can send a batch of requests over to ZookeeperClient to pipeline.
    - We've decouple ZookeeperClient handler registration from watcher registration. Previously, these two were coupled, which meant handler registrations actually sent out a request to the zookeeper ensemble to do the actual watcher registration. In KafkaController.onControllerFailover, we register partition modification handlers (thereby registering watchers) and additionally lookup the partition assignments for every topic in the cluster. We can shave a bit of time off failover if we merge these two operations. We can do this by decoupling ZookeeperClient handler registration from watcher registration. This means ZookeeperClient's registration apis have been changed so that they are purely in-memory operations, and they only take effect when the client sends ExistsRequest, GetDataRequest, or GetChildrenRequest.
    - We've simplified the logic for updating LeaderAndIsr such that if we get a BADVERSION error code, the controller will now just retry in the next round by reading the new state and trying the update again. This simplifies logic when updating the partition leader epoch, removing replicas from isr, and electing leaders for partitions.
    - We've implemented KAFKA-5083: always leave the last surviving member of the ISR in ZK. This means that if people re-disabled unclean leader election, we can still try to elect the leader from the last in-sync replica.
    - ZookeeperClient's handlers have been changed so that their methods default to no-ops for convenience.
    - All znode paths and definitions for znode encoding and decoding have been consolidated as static methods in ZkData.scala.
    - The partition leader election algorithms have been refactored as pure functions so that they can be easily unit tested.
    - PartitionStateMachine and ReplicaStateMachine now have unit tests.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3765 from onurkaraman/KAFKA-5642

commit 68f324f4bf0003d5dcfd79c5ab7f9c53bd0c1522
Author: siva santhalingam <siva.santhalingam@gmail.com>
Date:   Wed Oct 18 09:44:39 2017 +0100

    KAFKA-6023 ThreadCache#sizeBytes() should check overflow
    
        long sizeBytes() {
            long sizeInBytes = 0;
            for (final NamedCache namedCache : caches.values()) {
                sizeInBytes += namedCache.sizeInBytes();
            }
            return sizeInBytes;
        }
    The summation w.r.t. sizeInBytes may overflow.
    Check similar to what is done in size() should be performed.
    
    Author: siva santhalingam <siva.santhalingam@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4041 from shivsantham/kafka-6023

commit 5cc162f30eca28f699a622671669fefba56fb447
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Oct 17 08:35:18 2017 -0700

    KAFKA-5163; Support replicas movement between log directories (KIP-113)
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Tom Bentley <tbentley@redhat.com>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3874 from lindong28/KAFKA-5163

commit 9c346ddc724d04a1e3d87baf6785c03a5909b161
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Oct 17 11:21:34 2017 +0100

    KAFKA-4504; Clarify that retention.bytes is a partition level config
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3814 from omkreddy/KAFKA-4504

commit 6c416aceeb172dc6b0103855f3c1ecbfc9f4d411
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Oct 16 18:01:32 2017 -0700

    MINOR: add equals to SessionWindows
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax<matthias@confluent.io>, Bill Bejeck <bill@confluent.io>
    
    Closes #4074 from dguy/minor-session-window-equals

commit f931febc8c4b74baa522a593f16df84a0b05bd99
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Oct 16 17:49:35 2017 -0700

    MINOR: A few javadoc fixes
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4076 from hachikuji/javadoc-fixes

commit 7a14663929ba1111ba05b57e47cf96fc55891a36
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Oct 16 17:38:31 2017 -0700

    MINOR: update exception message for KIP-120
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4078 from mjsax/hotfix-streams

commit ef4914520019e941827dac8eda6000a82cb74cc5
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Oct 16 16:50:59 2017 -0700

    MINOR: a few web doc and javadoc fixes
    
    1. Added missing Javadocs in public interfaces.
    2. Added missing upgrade web docs.
    3. Minor improvements on exception messages.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Antony Stubbs <antony.stubbs@gmail.com>
    
    Closes #4071 from guozhangwang/KMinor-javadoc-gaps

commit c2d9a2f307ce0b221c915030a1b3831aa4d3763c
Author: Jacek Laskowski <jacek@japila.pl>
Date:   Fri Oct 13 14:24:49 2017 -0700

    MINOR: Include isolationLevel in toString of FetchRequest
    
    Author: Jacek Laskowski <jacek@japila.pl>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #4038 from jaceklaskowski/KAFKA-4818-isolationLevel

commit f5341c9f350e6a3320faa0689cb4e2757898af58
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Fri Oct 13 12:26:24 2017 +0100

    MINOR: update comments in config/producer.properties
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4070 from omkreddy/prodcuer.config

commit a51e3bf5e61e37177bd61d385332f97021a8face
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Oct 13 12:24:54 2017 +0100

    MINOR: Merge script improvements
    
    - Remove "list commits" since we never use it
    - Fix release branch detection to just look
    for branches that start with digits
    - Make script executable
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4067 from ijuma/merge-script-improvements

commit 9806c1b176a8a07016ad18e0a6843cc486e52cc6
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Oct 12 22:52:54 2017 -0700

    MINOR: add unit test for StateStoreSerdes
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4064 from mjsax/minor-add-state-serdes-test

commit 34188b4cc4703f6919526ae10b7185842d1047b4
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Oct 12 16:53:27 2017 -0700

    MINOR: Bump the request timeout for the transactional message copier
    
    Multiple inflights means that when there are rolling bounces or other cluster instability, there is an increased likelihood of having previously tried batch expire in the accumulator. This is a fatal error
    for a transactional producer, causing the `TransactionalMessageCopier` to exit. To work around this, we bump the request timeout. We can get rid of this when KIP-91 is merged.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4039 from apurvam/MINOR-bump-request-timeout-in-transactional-message-copier

commit 31fe1f98e2f19074360e85c8ec839356238f0b29
Author: Bill Bejeck <bill@confluent.io>
Date:   Thu Oct 12 14:19:41 2017 -0700

    MINOR: Update JavaDoc to use new API
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax<matthias@confluent.io>
    
    Closes #4068 from bbejeck/MINOR_fix_java_doc_example_for_1_0_API

commit 53c23bb5e65c147d7b2cae0a7fd9b3ba46c8fce5
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Oct 12 15:55:43 2017 +0100

    MINOR: improve Store parameter checks
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4063 from mjsax/minor-improve-store-parameter-checks

commit 62682d07885fe8b15d3e4874d58f9e5174c96edf
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Oct 12 15:37:02 2017 +0100

    MINOR: Don't register signal handlers if running on Windows
    
    The following happens on Windows for `HUP`:
    
    [2017-10-11 21:45:11,642] FATAL  (kafka.Kafka$)
    java.lang.IllegalArgumentException: Unknown signal: HUP
            at sun.misc.Signal.<init>(Unknown Source)
            at kafka.Kafka$.registerHandler$1(Kafka.scala:67)
            at kafka.Kafka$.registerLoggingSignalHandler(Kafka.scala:73)
            at kafka.Kafka$.main(Kafka.scala:82)
            at kafka.Kafka.main(Kafka.scala)
    
    I thought it was safer not to register them at all since the additional
    logging is a nice to have and we haven't tested it on Windows.
    
    Also changed map to be concurrent and removed stray
    printStackTrace in test.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #4066 from ijuma/dont-register-signal-handler-windows

commit 76a45e0dceb256a8bd46867ad3127d99716b4f64
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Oct 12 14:28:55 2017 +0100

    MINOR: Update `config/consumer.properties` to have new consumer properties
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4055 from omkreddy/update-consumer-props

commit f8ffb67ad6e630a2e3350f74c108154267b85c98
Author: Tom Bentley <tbentley@redhat.com>
Date:   Thu Oct 12 14:22:53 2017 +0100

    MINOR: Use port 0 in ResetIntegrationWithSslTest
    
    I found this by running the tests while I happened to
    have a kafka broker running.
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4065 from tombentley/MINOR-random-port

commit 57839e17cf6ea287e5e16a5fa22b077e0d01854e
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Thu Oct 12 10:12:46 2017 +0100

    MINOR: Fix log message in AbstractFetcherThread
    
    Use Scala string templates instead of format
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4058 from mimaison/minor_AFT_logging

commit bfa82fc0b63a5ad0121da6e2190a587eb672a1d5
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Oct 12 10:09:16 2017 +0100

    KAFKA-6055; Fix typo in KAFKA_JVM_PERFORMANCE_OPTS for Windows
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4062 from vahidhashemian/KAFKA-6055

commit bdf8e211ecb50a24071390d493cf1c1732f7346d
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Oct 12 10:05:14 2017 +0100

    KAFKA-6053; Fix NoSuchMethodError when creating ProducerRecords with older client versions
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4057 from apurvam/KAFKA-6053-fix-no-such-method-error-in-producer-record

commit f6e724b127891bc950499fd7a6876e500ba78de3
Author: Manjula K <manjula@kafka-summit.org>
Date:   Wed Oct 11 15:16:12 2017 -0700

    MINOR: Redesign of Streams page to include video & logos
    
    guozhangwang Please review.
    
    Author: Manjula K <manjula@kafka-summit.org>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4059 from manjuapu/redesign-streams-page

commit 7d6ca52a2751908c7fc6b752d70dfaaaaa9bbe8c
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Oct 11 17:32:40 2017 -0400

    MINOR: Push JMX metric name mangling into the JmxReporter (KIP-190 follow up)
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3980 from ewencp/dont-mangle-names

commit 54ed3435bf0660295b0f0fee0df4c9761873225c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Oct 11 14:20:41 2017 -0700

    HOTFIX: Updates on release.py before 1.0.0
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4054 from guozhangwang/KMinor-pre-1.0-release

commit c22c1775a550dbefe6bd4cdcf8820404351257a8
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Oct 10 15:16:53 2017 -0700

    KAFKA-5541: Follow-up; Try to clean uncleanly upon clean close failure before throwing the exception
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4046 from mjsax/kafka-5541-minor-follow-up

commit a5a9a901ef78373cda4b743323ef9f6e6da0dbf6
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Oct 10 15:13:19 2017 -0700

    MINOR: KIP-182 follow up; add deprecation annotations to test classes
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4051 from mjsax/minor-kip-182-follow-up

commit dac990aab31ab13ed08a6818e1516f4dd25331dd
Author: Bill Bejeck <bill@confluent.io>
Date:   Tue Oct 10 15:07:53 2017 -0700

    KAFKA-6025: small fix for streams tutorial
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4053 from bbejeck/KAFKA_6025_fix_streams_tutorial

commit 1027ff3c769906b7b80582217cf5b4703fd6864d
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Oct 10 15:01:10 2017 -0700

    MINOR: Avoid some unnecessary collection copies in KafkaApis
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4035 from hachikuji/KAFKA-5547-followup and squashes the following commits:
    
    f6b04ce1a [Jason Gustafson] Add a couple missed common fields
    d3473b14d [Jason Gustafson] Fix compilation errors and a few warnings
    58a0ae695 [Jason Gustafson] MINOR: Avoid some unnecessary collection copies in KafkaApis

commit 90b5ce3f04626ee24aebd1d06588489180a4bb05
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Oct 10 10:31:52 2017 -0700

    KAFKA-6016; Make the reassign partitions system test use the idempotent producer
    
    With these changes, we are ensuring that the partitions being reassigned are from non-zero offsets. We also ensure that every message in the log has producerId and sequence number.
    
    This means that it successfully reproduces https://issues.apache.org/jira/browse/KAFKA-6003.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4029 from apurvam/KAFKA-6016-add-idempotent-producer-to-reassign-partitions

commit 64930cd71361853cc46ed02232213cc7ba749e77
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Oct 10 10:03:02 2017 -0700

    MINOR: fix EOS test race condition
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4048 from mjsax/fix-eos-test-race-condition

commit 29c46ddb91fac8c0fb3f35c1511e2afdcf67fd2e
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Oct 10 08:29:17 2017 -0700

    KAFKA-6027; Access to log should throw KafkaStorageException after the log has been marked offline
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #4045 from lindong28/KAFKA-6027

commit b411f57c1ce82d66ec2c837349a54357b322e803
Author: bartdevylder <bartdevylder@gmail.com>
Date:   Mon Oct 9 17:49:52 2017 -0700

    KAFKA-6026; Fix for indefinite wait in KafkaFutureImpl
    
    Author: bartdevylder <bartdevylder@gmail.com>
    Author: Bart De Vylder <bartdevylder@gmail.com>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #4044 from bartdevylder/KAFKA-6026

commit 1f64942021bd8fe0f2791700fb402cfac1acc9de
Author: Xin Li <Xin.Li@trivago.com>
Date:   Mon Oct 9 14:15:44 2017 -0700

    KAFKA-6030; Fix Integer overflow in cleanable ratio computation
    
    Author: Xin Li <Xin.Li@trivago.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #4043 from lisa2lisa/fix
    
    (cherry picked from commit bb27215ceac9caaac446b5fe43d3f3284624fcb4)
    Signed-off-by: Jason Gustafson <jason@confluent.io>

commit f4ac68a400a8289704a5888bf62f1d93e7aee99d
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Oct 9 13:03:20 2017 -0700

    MINOR: Factor out some common group/transactional fields in request objects
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: tedyu <yuzhihong@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #4047 from hachikuji/factor-out-some-common-fields

commit 6d6080f13633508c57e48cbc12788ce643af4953
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Mon Oct 9 09:28:42 2017 -0700

    KAFKA-5565: Add a broker metric specifying the number of consumer group rebalances in progress
    
    …up rebalances in progress
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3506 from cmccabe/KAFKA-5565

commit a1ea5360631f4366ba536fca37d9f906b0e58a5c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Oct 6 19:59:03 2017 -0700

    KAFKA-5541: Streams should not re-throw if suspending/closing tasks fails
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4037 from mjsax/kafka-5541-dont-rethrow-on-suspend-or-close-2

commit e2e8d4a57a83693b946c3e26f9be2e41a7341ab4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Oct 6 17:57:32 2017 -0700

    MINOR: KIP-161 upgrade docs change
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #4036 from guozhangwang/KMinor-kip-161-docs

commit 51063441d3ed4dec8a96794f085028b4b8feb20c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Oct 6 17:48:34 2017 -0700

    KAFKA-5362; Follow up to Streams EOS system test
    
     - improve tests to get rid of calls to `sleep` in Python
     - fixed some flaky test conditions
     - improve debugging
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3542 from mjsax/failing-eos-system-tests

commit 91517e8fbd7767ba6d7f43b517f5a26b6f870585
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Oct 6 16:45:45 2017 -0700

    KAFKA-5829; Only delete producer snapshots before the recovery point
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4023 from ijuma/kafka-5829-avoid-reading-older-segments-on-hard-shutdown

commit 2427a44768f9734179c957b645df0476e7cb6d05
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Oct 6 15:42:18 2017 -0700

    MINOR: log4j improvements on assigned tasks and store changelog reader
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Xavier Léauté <xavier@confluent.io>, Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>
    
    Closes #4031 from guozhangwang/KMinor-assigned-task-log4j

commit 23a014052d39521a3af471b3f95809c2164820f7
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Oct 6 15:38:23 2017 -0700

    KAFKA-5651; Follow-up: add with method to Materialized
    
    Add a `with(Serde keySerde, Serde valSerde)` to `Materialized` for cases where people don't care about the state store name.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #4009 from dguy/materialized

commit 105ab47ed90c8a0e83c159c97a8f2294c5582657
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Oct 6 15:01:22 2017 -0700

    KAFKA-6015; Fix NPE in RecordAccumulator after ProducerId reset
    
    It is possible for batches with sequence numbers to be in the `deque` while at the same time the in flight batches in the `TransactionManager` are removed due to a producerId reset.
    
    In this case, when the batches in the `deque` are drained, we will get a `NullPointerException` in the background thread due to this line:
    
    ```java
    if (first.hasSequence() && first.baseSequence() != transactionManager.nextBatchBySequence(first.topicPartition).baseSequence())
    ```
    
    Particularly, `transactionManager.nextBatchBySequence` will return null, because there no inflight batches being tracked.
    
    In this patch, we simply allow the batches in the `deque` to be drained if there are no in flight batches being tracked in the TransactionManager. If they succeed, well and good. If the responses come back with an error, the batces will be ultimately failed in the producer with an `OutOfOrderSequenceException` when the response comes back.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #4022 from apurvam/KAFKA-6015-npe-in-record-accumulator

commit 10cd98cc894b88c5d1e24fc54c66361ad9914df2
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Fri Oct 6 12:51:30 2017 -0700

    KAFKA-5547; Return TOPIC_AUTHORIZATION_FAILED error if no describe access for topics
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3924 from omkreddy/KAFKA-5547-TOPIC-AUTHRO

commit fb6ca658d699d41fb9e6a647e92b1382ea1aaa65
Author: Mats Julian Olsen <mats@plysjbyen.net>
Date:   Fri Oct 6 12:35:19 2017 -0700

    MINOR: Allow schedule and commit in MockProcessorContext
    
    This change allows for testing custom Processors and Transformers that call `schedule` and `commit` using KStreamTestDriver, by _not_ throwing `UnsupportedOperationException`.
    
    This PR is my original work.
    
    Author: Mats Julian Olsen <mats@plysjbyen.net>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3992 from mewwts/allow-schedule-and-commit

commit 974d6fec93b779cd2f9036d0ea89cf1b0917de7b
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Fri Oct 6 11:42:04 2017 -0700

    KAFKA-5953: Register all jdbc drivers available in plugin and class paths
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4030 from kkonstantine/KAFKA-5953-Connect-classloader-isolation-may-be-broken-for-JDBC-drivers

commit 196bcfca0c56420793f85514d1602bde564b0651
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Oct 5 17:02:53 2017 -0700

    KAFKA-5576: RocksDB upgrade to 5.8, plus one bug fix on Bytes.wrap
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3819 from guozhangwang/KMinor-rocksDB-573

commit f29203d022f110761415c9a2ae2c149b4bc5dd21
Author: Derrick Or <derrickor@gmail.com>
Date:   Thu Oct 5 13:31:18 2017 -0700

    Update docs to reflect kafka trademark status
    
    Updated a couple places in docs with the 'registered' trademark symbol.
    
    Author: Derrick Or <derrickor@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #4028 from derrickdoo/kafka-trademark-status

commit a47bfbcae050659d32f777ed2f4b26dda5fbdbbd
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Oct 5 11:23:11 2017 -0700

    KAFKA-5903: Added Connect metrics to the worker and distributed herder (KIP-196)
    
    Added metrics to the Connect worker and rebalancing metrics to the distributed herder.
    
    This is built on top of #3987, and I can rebase this PR once that is merged.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4011 from rhauch/kafka-5903

commit ff5fc9dd1eb3f8f42011ef0fd05ba56e836566d2
Author: Joel Hamill <joel@Joel-Hamill-Confluent.local>
Date:   Thu Oct 5 09:30:38 2017 -0700

    Rename streams tutorial and quickstart
    
    Changed these topic titles:
    - Write your own Streams Applications -> Tutorial: Write a Streams Application
    - Play with a Streams Application -> Run the Streams Demo Application
    
    Author: Joel Hamill <joel@Joel-Hamill-Confluent.local>
    Author: Joel Hamill <11722533+joel-hamill@users.noreply.github.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4017 from joel-hamill/joel-hamill/streams-titles

commit e40b3a2e74133de6d60599beefb65407ca4cc7dd
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Oct 5 12:25:34 2017 -0400

    KAFKA-6012; Close request metrics only after closing request handlers
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4024 from rajinisivaram/KAFKA-6012-error-metric

commit e61002e2ab70454304e12f2834cbbcb4bed002d7
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Oct 5 08:23:15 2017 -0700

    KAFKA-5989; resume consumption of tasks that have state stores but no changelogging
    
    Stores where logging is disabled where never consumed as the partitions were paused, but never resumed.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: tedyu <yuzhihong@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4002 from dguy/restore

commit 6ea4fffdd287a0c6a02c1b6dc1006b1a7b614405
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed Oct 4 22:27:03 2017 -0700

    KAFKA-6003; Accept appends on replicas unconditionally when local producer state doesn't exist
    
    Without this patch, if the replica's log was somehow truncated before
    the leader's, it is possible for the replica fetcher thread to
    continuously throw an OutOfOrderSequenceException because the
    incoming sequence would be non-zero and there is no local state.
    
    This patch changes the behavior so that the replica state is updated to
    the leader's state if there was no local state for the producer at the
    time of the append.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #4004 from apurvam/KAFKA-6003-handle-unknown-producer-on-replica

commit b5b266eeeccc18c5cfbd37fa59ab5d9cf3676e34
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Oct 4 17:37:35 2017 -0700

    KAFKA-5879; Controller should read the latest IsrChangeNotification znodes when handling IsrChangeNotification event
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3840 from lindong28/KAFKA-5879

commit 20d9adb173a0cde010a2502da7415ecda9bcaa80
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Oct 4 17:12:53 2017 -0700

    KAFKA-5767; Kafka server should halt if IBP < 1.0.0 and there is log directory failure
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3718 from lindong28/KAFKA-5767

commit 6bcbd17d3481b3396a9907cf21c617e87edbbd40
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Oct 4 15:36:19 2017 -0700

    Bump up version to 1.1.0-SNAPSHOT

commit 5792f2fb3db69333bfd22b57b00b42336dc16aa9
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Oct 4 15:10:59 2017 -0700

    KAFKA-5980: FailOnInvalidTimestamp does not log error
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ted Yu <yuzhihong@gmail.com>, Denis Bolshakov
    
    Closes #3966 from mjsax/kafka-5980-FailOnInvalidTimestamp-does-not-log-error

commit 713a67fddaec3fa9cd7cce53dd6fef5ab6e0cdab
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Oct 4 14:42:07 2017 -0700

    MINOR: add suppress warnings annotations in Streams API
    
     - fixes examples with regard to new API
     - fixes `Topology#addGlobalStore` parameters
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4003 from mjsax/minor-deprecated

commit 51c652c40cb8a775b40374e968ed35bec5378906
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Oct 4 17:37:26 2017 -0400

    KAFKA-6010; Relax record conversion time test to avoid build failure
    
    For record conversion tests, check time >=0 since conversion times may be too small to be measured accurately. Since default value is -1, the test is still useful. Also increase message size in SslTransportLayerTest#testNetworkThreadTimeRecorded to avoid failures when processing time is too small.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4018 from rajinisivaram/KAFKA-6010-MemoryRecordsBuilderTest

commit 06738b41bc2447211d901d09aade7aadd0df6254
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Oct 4 12:42:07 2017 -0700

    MINOR: JavaDoc improvements for new state store API
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #4006 from mjsax/minor-javadoc-improvments-for-stores

commit 93b71e7deeb9d5c705d654443147f90e45cb11c8
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Oct 4 12:19:40 2017 -0700

    MINOR: update streams quickstart for KIP-182
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3984 from dguy/quickstart-update

commit ac7695c32a4d8424bafcb8eb5409a4a4ad752c4a
Author: Jakub Scholz <www@scholzj.com>
Date:   Wed Oct 4 13:26:21 2017 +0200

    KAFKA-6008: Sanitize the app id before creating app id metric
    
    Author: Jakub Scholz <www@scholzj.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4012 from scholzj/KAFKA-6008

commit f8621b4174ddb14f9e8377da34e81e1b7ddd205f
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Oct 4 11:35:37 2017 -0700

    KAFKA-5970; Use ReentrantLock for delayed operation lock to avoid blocking
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3956 from rajinisivaram/KAFKA-5970-delayedproduce-deadlock

commit d985513b2236af6070bc8187db63eac08845ab3f
Author: Joel Hamill <joel@Joel-Hamill-Confluent.local>
Date:   Wed Oct 4 11:28:59 2017 -0700

    MINOR: streams dev guide fixup
    
    Author: Joel Hamill <joel@Joel-Hamill-Confluent.local>
    Author: Joel Hamill <11722533+joel-hamill@users.noreply.github.com>
    
    Reviewers: Derrick Or <derrickor@gmail.com>, Michael G. Noll <michael@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3862 from joel-hamill/joel-hamill/streams-dev-guide

commit 11afff09908035166febf9b75c410112693ff98c
Author: Randall Hauch <rhauch@gmail.com>
Date:   Wed Oct 4 11:05:50 2017 -0700

    KAFKA-5990: Enable generation of metrics docs for Connect (KIP-196)
    
    A new mechanism was added recently to the Metrics framework to make it easier to generate the documentation. It uses a registry with a MetricsNameTemplate for each metric, and then those templates are used when creating the actual metrics. The metrics framework provides utilities that can generate the HTML documentation from the registry of templates.
    
    This change moves the recently-added Connect metrics over to use these templates and to then generate the metric documentation for Connect.
    
    This PR is based upon #3975 and can be rebased once that has been merged.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3987 from rhauch/kafka-5990

commit c6e5a32d0464622ced4b7887923ca37c717b9e74
Author: Tom Bentley <tbentley@redhat.com>
Date:   Wed Oct 4 18:57:26 2017 +0100

    KAFKA-5856; AdminClient.createPartitions() follow up
    
    - Improve tests and javadoc (including expected exceptions)
    - Return correct authorization error if no describe topic
    permission
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3937 from tombentley/KAFKA-5856-AdminClient.createPartitions-follow-up

commit 2a1b39ef1b65a4de4f3813bc749458f9fd6a1e38
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Oct 4 18:55:46 2017 +0100

    MINOR: Simplify log cleaner and fix compiler warnings
    
    - Simplify LogCleaner.cleanSegments and add comment regarding thread
    unsafe usage of `LogSegment.append`. This was a result of investigating
    KAFKA-4972.
    - Fix compiler warnings (in some cases use the fully qualified name as a
    workaround for deprecation warnings in import statements).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4016 from ijuma/simplify-log-cleaner-and-fix-warnings

commit 9949e1ed1be8293ba60dcab10345fbcce8d61e36
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Oct 4 13:44:46 2017 -0400

    KAFKA-6004; Allow authentication providers to override error message
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4015 from rajinisivaram/KAFKA-6004-auth-exception

commit 5afeddaa99c48ac827d1cade7812deb83b1f80bd
Author: siva santhalingam <ssanthalingam@netskope.com>
Date:   Wed Oct 4 10:11:11 2017 -0700

    KAFKA-5967; Ineffective check of negative value in CompositeReadOnlyKeyValueStore#approximateNumEntries()
    
    package name: org.apache.kafka.streams.state.internals
    Minor change to approximateNumEntries() method in CompositeReadOnlyKeyValueStore class.
    
    long total = 0;
       for (ReadOnlyKeyValueStore<K, V> store : stores) {
              total += store.approximateNumEntries();
       }
    
    return total < 0 ? Long.MAX_VALUE : total;
    
    The check for negative value seems to account for wrapping. However, wrapping can happen within the for loop. So the check should be performed inside the loop.
    
    Author: siva santhalingam <ssanthalingam@netskope.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3988 from shivsantham/trunk

commit 5383f9bed0ec4fda86b74a94d9d1ba595a2a1c8a
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Oct 4 09:20:21 2017 -0700

    MINOR: Use SecurityProtocol in AuthenticationContext
    
    Since we removed the unused `TRACE` option from `SecurityProtocol`, it now seems safer to expose it from `AuthenticationContext`. Additionally this patch exposes javadocs under security.auth and relocates the `Login` and `AuthCallbackHandler` to a non-public package.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3863 from hachikuji/use-security-protocol-in-auth-context

commit 198302feecf17cd1eff38e6d93e807d7b04922f2
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Oct 4 08:50:56 2017 -0700

    KAFKA-4416; Add a `--group` option to console consumer
    
    This simplifies running a console consumer as part of a custom group. Note that group id can be provided via only one of the three possible means: directly using `--group ` option (as part of this PR), as property via `--consumer-property` option,  or inside a config file via `--consumer.config` option.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2150 from vahidhashemian/KAFKA-4416

commit c4b8a7eab4e0bf387efba02986d5b9d1bf914038
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Oct 4 10:53:18 2017 -0400

    KAFKA-5738; Upgrade note for cumulative count metric (KIP-187)
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4014 from rajinisivaram/MINOR-upgrade-KIP-187

commit a202da742d1c372d5391b37a9734694c27c6c071
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Oct 4 10:25:08 2017 -0400

    KAFKA-4764; Upgrade notes for authentication failure handling (KIP-152)
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #4013 from rajinisivaram/MINOR-upgrade-auth-failure

commit 28aaba2818053ffc36b1ae65b7714638ef41b91e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Oct 4 08:06:05 2017 +0100

    MINOR: Java 9 version handling improvements
    
    - Upgrade Gradle to 4.2.1, which handles Azul Zulu 9's version
    correctly.
    - Add tests to our Java version handling code
    - Refactor the code to make it possible to add tests
    - Rename `isIBMJdk` method to use consistent naming
    convention.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #4007 from ijuma/java-9-version-handling-improvements

commit cbef33f3d0bc686e1258352cd5e13143b3f09d78
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Oct 3 17:11:21 2017 -0700

    KAFKA-5864; ReplicaFetcherThread should not die due to replica in offline log directory
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3820 from lindong28/KAFKA-5864

commit 05357b7030c784a6548453f533d3c00e19548ba2
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Oct 3 11:52:14 2017 -0700

    KAFKA-5902: Added sink task metrics (KIP-196)
    
    Added Connect metrics specific to source tasks, and builds upon #3864 and #3911 that have already been merged into `trunk`, and #3959 that has yet to be merged.
    
    I'll rebase this PR when the latter is merged.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3975 from rhauch/kafka-5902

commit 5663f51edfeb8f642fe74955021d6f38e9d9abe4
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Oct 3 10:44:11 2017 -0700

    KAFKA-4108; Improve DumpLogSegments offsets-decoder output format
    
    This PR improves the output format of DumpLogSegments when the `--offset-decoder` option is used for consuming `__consumer_offsets`, especially when it comes to group metadata.
    
    An example of the partial output with existing formatting:
    
    ```
    key: metadata::console-consumer-40190 payload: consumer:range:1:{consumer-1-20240b92-fbf4-44d5-bf8c-66b6d70c9948=[foo-0]}
    ```
    
    An example of the same output with suggested formatting:
    
    ```
    key: {"metadata":"console-consumer-40190"} payload: {"protocolType":"consumer","protocol":"range","generationId":1,"assignment":"{consumer-1-20240b92-fbf4-44d5-bf8c-66b6d70c9948=[foo-0]}"}
    ```
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1937 from vahidhashemian/KAFKA-4108

commit 9e35a2aa78dc7785d08565ade8a44edaebbfd930
Author: Tom Bentley <tbentley@redhat.com>
Date:   Tue Oct 3 10:25:09 2017 -0700

    MINOR: Add <p>/</p> to connect docs, because HTML render doesn't respect blank lines
    
    This just adds `<p>`/`</p>` to paragraphs in Kafak Connect docs.
    
    ewencp are you a good person to review this?
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #4008 from tombentley/MINOR-connect-docs-paragraph

commit 42b356500b7188eb2507f9b48399d5491a7eff16
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Oct 3 08:37:30 2017 -0700

    KAFKA-6005; Reject JoinGroup request from first member with empty protocol type/protocol list
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3957 from omkreddy/JOIN-GROUP-EMPTY-PROTOCOL

commit 3dcbbf703017985c9e212ad69cc7afdddbf358eb
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Oct 3 07:35:42 2017 -0700

    MINOR: fix JavaDocs warnings
    
     - add some missing annotations for deprecated methods
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #4005 from mjsax/minor-fix-javadoc-warnings

commit 716330a5b2f629e6bb0316b5f036837660916a0e
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Oct 3 11:23:29 2017 +0100

    KAFKA-5843; Mx4jLoader.maybeLoad should only be executed if kafka_mx4jenable is set to true
    
    Author: Dong Lin <lindong28@gmail.com>
    Author: Ralph Weires
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3797 from lindong28/KAFKA-5843

commit a1a5e93beb16e38cf997554a7819a0b92c6661e5
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Oct 2 22:24:09 2017 -0700

    KAFKA-5995; Rename AlterReplicaDir to AlterReplicaDirs
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3993 from lindong28/KAFKA-5995

commit e110e1c1ea6a365bcde07a1ee3fe466a6fde1541
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Oct 2 22:35:55 2017 +0100

    KAFKA-5758; Don't fail fetch request if replica is no longer a follower for a partition
    
    We log a warning instead, which is what we also do if the partition
    hasn't been created yet.
    
    A few other improvements:
    - Return updated high watermark if fetch is returned immediately.
    This seems to be more intuitive and is consistent with the case
    where the fetch request is served from the purgatory.
    - Centralise offline partition handling
    - Remove unnecessary `tryCompleteDelayedProduce` that would
    already have been done by the called method
    - A few other minor clean-ups
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3954 from ijuma/kafka-5758-dont-fail-fetch-request-if-replica-is-not-follower

commit f9865d52e81bbdddb7889d6c3cc7be537e610826
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Oct 2 13:47:45 2017 -0700

    KAFKA-5225; StreamsResetter doesn't allow custom Consumer properties
    
    Author: Matthias J. Sax <matthias@confluent.io>
    Author: Bharat Viswanadham <bharatv@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3970 from mjsax/kafka-5225-streams-resetter-properties

commit cc84686a4aa24e541f7ca5ee9dcb0dea0ddbd79a
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Oct 2 13:20:49 2017 -0700

    MINOR: additional kip-182 doc updates
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3971 from dguy/kip-182-docs

commit cdbf806e2d03594161a18d9a7484a74dfed05a3e
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Oct 2 12:46:05 2017 -0700

    KAFKA-5495; Update docs to use `kafka-consumer-groups.sh` for checking consumer offsets
    
    And remove the deprecated `ConsumerOffsetChecker` example.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3405 from vahidhashemian/KAFKA-5495

commit 39d5cdcccfc0f7d7893188bb22580da0c842a993
Author: Bill Bejeck <bill@confluent.io>
Date:   Mon Oct 2 11:49:22 2017 -0700

    KAFKA-5985; update javadoc regarding closing iterators
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Michael G. Noll <michael@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3994 from bbejeck/KAFKA-5985_document_need_to_close_iterators

commit 4f4f99532557439c6e85b18a23df59c2ae45a71b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Oct 1 01:29:33 2017 +0100

    KAFKA-5746; Return 0.0 from Metric.value() instead of throwing exception
    
    This is less likely to break custom metric reporters and since the method
    is deprecated, people will be warned about this potential issue.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Xavier Léauté <xavier@confluent.io>
    
    Closes #3996 from ijuma/avoid-exception-in-measurable-value

commit 0ef960304b6b81c1b725bf8e036f20d295045c4a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Sep 29 15:09:55 2017 +0100

    KAFKA-5968; Create/remove request metrics during broker startup/shutdown
    
    Replaces the static `RequestMetrics` object with a class so that metrics
    are created and removed during broker startup and shutdown to avoid metrics
    tests being affected by metrics left behind by previous tests.
    
    Also reinstates `kafka.api.MetricsTest` which was failing frequently earlier
    due to tests removing the static request metrics.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3991 from rajinisivaram/KAFKA-5968

commit 3107a6c5c8d1358b8e705c5d5a16b7441d2225a6
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 29 15:07:41 2017 +0100

    KAFKA-5986; Streams State Restoration never completes when logging is disabled
    
    When logging is disabled and there are state stores the task never transitions from restoring to running. This is because we only ever check if the task has state stores and return false on initialization if it does. The check should be if we have changelog partitions, i.e., we need to restore.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, tedyu <yuzhihong@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3983 from dguy/restore-test

commit 36556b8041d3647375380e6fd70b8f37ba572ddc
Author: Bill Bejeck <bill@confluent.io>
Date:   Fri Sep 29 11:11:12 2017 +0100

    KAFKA-5932; Avoid call to fetchPrevious in FlushListeners
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3978 from bbejeck/KAFKA-5932_no_fetch_previous_when_no_old_values_returned

commit 082def05ca5af4f30e05aa28ba83fa299f30337b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 29 11:06:34 2017 +0100

    MINOR: always set Serde.Long on count operations
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #3943 from dguy/count-materialized

commit b79b179716b5f8bacb870a53a5a9216a0687b3c9
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Sep 29 10:21:57 2017 +0100

    KAFKA-5949; Follow-up after latest KIP-161 changes
    
     - compare KAFKA-5958
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3986 from mjsax/kafka-5949-exceptions-user-callbacks-KIP-161-follow-up

commit eaabb6cd0173c4f6854eb5da39194a7e3fc0162c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Sep 29 10:00:13 2017 +0100

    KAFKA-4593; Don't throw IllegalStateException and die on task migration
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3948 from mjsax/kafka-4593-illegal-state-exception-in-restore

commit 177dd7f210c7783b49f47de1c7028c9830d3d795
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Sep 29 09:53:32 2017 +0100

    KAFKA-5746; Fix conversion count computed in `downConvert`
    
    It should be the number of records instead of the
    number of batches.
    
    A few additional clean-ups:
    - Minor renames
    - Removed unused variable
    - Some test fixes
    - Ignore a flaky test
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, tedyu <yuzhihong@gmail.com>
    
    Closes #3989 from ijuma/kafka-5746-health-metrics-follow-up

commit a86873be50b3bf1585098a13b2ce710a717c0321
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 29 03:20:36 2017 +0100

    KAFKA-5957; Prevent second deallocate if response for aborted batch returns
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3942 from hachikuji/KAFKA-5957

commit 021d8a8e9698dce454e0e801092460b98f0a8a4d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Sep 28 21:58:47 2017 +0100

    KAFKA-5746; Add new metrics to support health checks (KIP-188)
    
    Adds new metrics to support health checks:
    1. Error rates for each request type, per-error code
    2. Request size and temporary memory size
    3. Message conversion rate and time
    4. Successful and failed authentication rates
    5. ZooKeeper latency and status
    6. Client version
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3705 from rajinisivaram/KAFKA-5746-new-metrics

commit dd6347a5df5299efeeae27d5b196182058027502
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Sep 28 13:03:07 2017 -0700

    KAFKA-5888; System test to check ordering of messages with transactions and max.in.flight > 1
    
    To check ordering, we augment the existing transactions test to read and write from topics with one partition. Since we are writing monotonically increasing numbers, the topics should always be sorted, making it very easy to check for out of order messages.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3969 from apurvam/KAFKA-5888-system-test-which-check-ordering

commit 89ba0c1525b8f8a4e36d1e1b486ca660d5c24a7b
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Sep 28 09:52:08 2017 -0700

    KAFKA-5901: Added Connect metrics specific to source tasks (KIP-196)
    
    Added Connect metrics specific to source tasks, and builds upon #3864 and #3911 that have already been merged into `trunk`.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: tedyu <yuzhihong@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3959 from rhauch/kafka-5901

commit 9d0a89aea5252e5b7ff8deff707547e6a6dbbc4f
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 28 12:53:30 2017 +0100

    HOTFIX: fix build compilation error
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3981 from dguy/fix-build

commit 071f9fe1a2fd903336606f9fae735d7f33d2768c
Author: Kevin Lu <kelu@paypal.com>
Date:   Thu Sep 28 11:40:24 2017 +0100

    MINOR: Use full package name when classes referenced in documentation
    
    The `metric.reporters` description in the documentation says to implement the `MetricReporter` class, but the actual class is `MetricsReporter`. [MetricsReporter.java](https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/metrics/MetricsReporter.java)
    
    The configurations documentation is also inconsistent as some references to classes do not have the full package name while others do.
    
    ijuma
    
    Author: Kevin Lu <kelu@paypal.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3875 from KevinLiLu/trunk

commit 983280c454eb1ec4aa8c5c9a1b6bf49ea581ee5b
Author: huxihx <huxi_2b@hotmail.com>
Date:   Thu Sep 28 11:09:38 2017 +0100

    KAFKA-5976; Improve trace logging in RequestChannel.sendResponse
    
    It now records the correct size for `Send` and does more appropriate
    logging if the connection is being closed or if no response is being
    sent.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Denis Bolshakov, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3961 from huxihx/KAFKA-5976

commit e846daa89b1cbdf7c08f1b719fcf1ffc3885614f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Sep 28 11:07:54 2017 +0100

    KAFKA-5979; Use single AtomicCounter to generate internal names
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3979 from mjsax/kafka-5979-kip-120-regression

commit e5f2471c548fc490a42dd0321bcf7fcdd4ddc52d
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Sep 28 11:00:31 2017 +0100

    KAFKA-5949; User Callback Exceptions need to be handled properly
    
     - catch user exception in user callback (TimestampExtractor, DeserializationHandler, StateRestoreListener) and wrap with StreamsException
    
    Additional cleanup:
     - rename globalRestoreListener to userRestoreListener
     - remove unnecessary interface -> collapse SourceNodeRecordDeserializer and RecordDeserializer
     - removed unused parameter loggingEnabled from ProcessorContext#register
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3939 from mjsax/kafka-5949-exceptions-user-callbacks

commit 2703fda52a14eeae70b206b19a47c5acd4a83915
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Sep 28 10:57:18 2017 +0100

    KAFKA-5960; Follow-up cleanup
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3976 from hachikuji/version-fix-followup

commit e1543a5a8ecbd9da6e39fb0952b1193450b3c931
Author: Bill Bejeck <bill@confluent.io>
Date:   Thu Sep 28 10:54:38 2017 +0100

    KAFKA-5958; Global stores access state restore listener
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3973 from bbejeck/KAFKA-5958_global_stores_access_state_restore_listener

commit 1444b7b594f9c0c426a3631ec43d77b19c8f4373
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Wed Sep 27 22:07:37 2017 -0700

    KAFKA-5867: Log Kafka Connect worker info during startup
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3932 from kkonstantine/KAFKA-5867-Kafka-Connect-applications-should-log-info-message-when-starting-up

commit 8e0e2a5b238092a3730d22d36046fe078a01c15b
Author: James Cheng <jylcheng@yahoo.com>
Date:   Wed Sep 27 17:54:29 2017 +0100

    KAFKA-5597; Improve Metrics docs generation
    
    Instead of having the metrics registry and the
    org.apache.kafka.common.metrics.Metrics object be separate things,
    have the metrics registry hold a copy of the Metrics object.
    That way, all the metricInstance stuff is hidden, and we don't
    have to make sure that the metrics registry and the Metrics
    object are configured identicailly (with the same tags).
    
    I personally think this looks a little better.
    
    Author: James Cheng <jylcheng@yahoo.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3799 from wushujames/producer_sender_metrics_docs_different

commit 8dfdcfd02c72b3c37ae50ec4da8b76f4a31e45e0
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Sep 27 16:34:20 2017 +0100

    KAFKA-5750; Elevate log messages for denials to INFO in SimpleAclAuthorizer
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3698 from omkreddy/KAFKA-5750

commit 5b943ca8a9bec9f2c990d9d03fc0f4b7c3e9cca5
Author: Manjula K <manjula@kafka-summit.org>
Date:   Wed Sep 27 09:26:57 2017 +0100

    MINOR:Updated Rabobank description
    
    dguy Please review
    
    Author: Manjula K <manjula@kafka-summit.org>
    Author: manjuapu <manjula@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3963 from manjuapu/customer-logo-stream

commit 73cc416664dbc8e1442f70cb3c4cd8f4d365ea50
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Sep 26 22:23:37 2017 -0700

    KAFKA-5900: Add task metrics common to both sink and source tasks
    
    Added metrics that are common to both sink and source tasks.
    
    Marked as "**WIP**" since this PR is built upon #3864, and will need to be rebased once that has been merged into `trunk`. However, I would still appreciate initial reviews since this PR is largely additive.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3911 from rhauch/kafka-5900

commit 8256f882c92daa1470382502ab94cbe2c16028f1
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Sep 26 14:47:00 2017 +0100

    KAFKA-5679; Add logging for broker termination due to SIGTERM or SIGINT
    
    This depends on sun.misc.Signal and sun.misc.SignalHandler, which may be
    removed in future releases. But along with sun.misc.Unsafe, these classes
    are available in Java 9 (see JEP 260), so they are safe to use for now.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3668 from rajinisivaram/KAFKA-5679

commit b8be86b80543e41fd3181a8de8f1a3ac0a72e4c5
Author: Richard Yu <richardyu@Richards-Air.attlocal.net>
Date:   Tue Sep 26 09:42:53 2017 +0100

    KAFKA-5765; Move merge() from StreamsBuilder to KStream
    
    This is the polished version.
    1. The old merge() method in StreamsBuilder has been removed,
    2. The merge() method in KStreamBuilder was changed so that it would use the single variable argument
    rather than several variable arguments in the KStreamImpl implementation
    3. The merge() method in KStream has been declared as final and tests have been added to test correctness.
    
    Author: Richard Yu <richardyu@Richards-Air.attlocal.net>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3916 from ConcurrencyPractitioner/trunk

commit 4e43a7231dafa149de908eac79c437d65a9de4fb
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Sep 26 08:14:18 2017 +0100

    MINOR: Improve documentation of AdminClient and fix exception thrown
    
    Make documentation consistent across methods and throw
    IllegalStateException instead of IllegalArgumentException in
    some cases.
    
    Also include a couple of minor fixes in upgrade.html.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3781 from lindong28/minor-admin-client-comment

commit 51611b1b7cb61df314b412bf726a696ba3f5b490
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Sep 26 08:09:12 2017 +0100

    KAFKA-5695; Test DeleteRecordsRequest in AuthorizerIntegrationTest
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3614 from lindong28/KAFKA-5695

commit 852297efd99af04df28710b1b5c99530ab20a072
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Sep 26 00:13:02 2017 +0100

    KAFKA-5960; Fix regression in produce version selection on old brokers
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3944 from hachikuji/KAFKA-5960

commit a96e28eac17f1e80f2dfddb0b491fd4d5da84b2c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Sep 25 16:17:01 2017 +0800

    MINOR: Update Streams quickstart to create output topic with compaction enabled
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3949 from mjsax/minor-update-streams-quickstart

commit a0f533266a8a51a6288eda64f3a80242af13e2f9
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Sun Sep 24 10:08:52 2017 +0800

    KAFKA-3356: Remove ConsumerOffsetChecker
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3036 from mimaison/KAFKA-3356

commit 271f6b5aec885d2eb348dea4de637ac269d3e1ca
Author: Bill Bejeck <bill@confluent.io>
Date:   Sat Sep 23 12:05:16 2017 +0800

    KAFKA-5862: Remove ZK dependency from Streams reset tool, Part I
    
    Author: Bill Bejeck <bill@confluent.io>
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Ted Yu <yuzhihong@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3927 from bbejeck/KAFKA-5862_remove_zk_dependency_from_streams_reset_tool

commit 1fd70c7c94b20b82299ac1004e0ee01777b7beab
Author: Manjula K <manjula@kafka-summit.org>
Date:   Sat Sep 23 10:53:10 2017 +0800

    MINOR - Adding New York Times logo to streams page
    
    Author: Manjula K <manjula@kafka-summit.org>
    Author: manjuapu <manjula@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3950 from manjuapu/customer-logo-stream

commit 71a65d95a257d98925b5f0f6f2227504cf5043a2
Author: Erkan Unal <eunal@cisco.com>
Date:   Fri Sep 22 22:34:05 2017 +0100

    MINOR: Fix ClassCastException in ConsumerGroupCommand
    
    Offset and partition are not converted from String to
    long and int correctly.
    
    Running the command line with --from-file option causes
    the following exception:
    
    java.lang.ClassCastException: java.lang.String cannot be
    cast to java.lang.Integer
    
    Reason: asInstanceOf used for the conversion.
    
    Also, unit test is using --to-earliest and --from-file
    together when executing the test. This is executing
    --to-earliest option only and ignoring --from-file
    option. Since the preparation part is also using
    --to-earliest to create the file, this unit test
    passes without testing --from-file option. Fixed
    the unit test too.
    
    Author: Erkan Unal <eunal@cisco.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3938 from eu657/eu657-patch-1

commit f4a1ca347bd21cacf5906887f56001bce61c4544
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Sep 22 13:17:28 2017 -0700

    KAFKA-5899: Added Connect metrics for connectors (KIP-196)
    
    This PR is the first of several subtasks for [KAFKA-2376](https://issues.apache.org/jira/browse/KAFKA-2376) to add metrics to Connect worker processes. See that issue and [KIP-196 for details](https://cwiki.apache.org/confluence/display/KAFKA/KIP-196%3A+Add+metrics+to+Kafka+Connect+framework).
    
    This PR adds metrics for each connector using Kafka’s existing `Metrics` framework. This is the first of several changes to add several groups of metrics, this change starts by adding a very simple `ConnectMetrics` object that is owned by each worker and that makes it easy to define multiple groups of metrics, called `ConnectMetricGroup` objects. Each metric group maps to a JMX MBean, and each metric within the group maps to an MBean attribute.
    
    Future PRs will build upon this simple pattern to add metrics for source and sink tasks, workers, and worker rebalances.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewencp@confluent.io>
    
    Closes #3864 from rhauch/kafka-5899

commit 8f90fd6530ce2c4f7e2fdfe3541c61d0178289d5
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Sep 22 13:07:28 2017 -0700

    KAFKA-5959; Fix NPE in Sender.canRetry when idempotence is not enabled
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: tedyu <yuzhihong@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3947 from apurvam/KAFKA-5959-npe-in-sender

commit d60f011d77ce80a44b02d43bf0889a50a8797dcd
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Sep 22 20:26:46 2017 +0100

    KAFKA-5920; Handle SSL handshake failures as authentication exceptions
    
    1. Propagate `SSLException` as `SslAuthenticationException` to enable clients to report these and avoid retries
    2. Updates to `SslTransportLayer` to process bytes received even if end-of-stream
    3. Some tidy up of authentication handling
    4. Report exceptions in SaslClientAuthenticator as AuthenticationExceptions
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3918 from rajinisivaram/KAFKA-5920-SSL-handshake-failure

commit e554dc518eaaa0747899e708160275f95c4e525f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Sep 22 19:32:09 2017 +0100

    KAFKA-5915; Support unmapping of mapped/direct buffers in Java 9
    
    As mentioned in MappedByteBuffers' class documentation, its
    implementation was inspired by Lucene's MMapDirectory:
    
    https://github.com/apache/lucene-solr/blob/releases/lucene-solr/6.6.1/lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java#L315
    
    Without this change, unmapping fails with the following message:
    
    > java.lang.IllegalAccessError: class kafka.log.AbstractIndex (in unnamed module 0x45103d6b) cannot access class jdk.internal.ref.Cleaner (in module java.base) because module java.base does not export jdk.internal.ref to unnamed module 0x45103d6b
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3879 from ijuma/kafka-5915-unmap-mapped-buffers-java-9

commit 125d8d6f70829b9a0dbeabfef8f6b2df438dc12b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 22 13:45:19 2017 +0100

    KAFKA-5956; use serdes from materialized in table and globalTable
    
    The new overloads `StreamBuilder.table(String, Materialized)` and `StreamsBuilder.globalTable(String, Materialized)` need to set the serdes from `Materialized` on the internal `Consumed` instance that is created, otherwise the defaults will be used and may result in serialization errors
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3936 from dguy/table-materialized

commit 7c988a3c8bc9429c1f28f9c29dafed185cec1a67
Author: Thibaud Chardonnens <Thibaud.Chardonnens@swisscom.com>
Date:   Thu Sep 21 20:12:08 2017 -0700

    KAFKA-5330: Use per-task converters in Connect
    
    Instead of sharing the same converter instance within the worker, use a converter per task.
    
    More details:
    - https://github.com/confluentinc/schema-registry/issues/514
    - https://issues.apache.org/jira/browse/KAFKA-5330
    
    Author: Thibaud Chardonnens <Thibaud.Chardonnens@swisscom.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3196 from tbcdns/KAFKA-5330

commit 402aa093db243965d2b6c04118ac7ee6d196fd45
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Sep 22 07:33:50 2017 +0800

    KAFKA-5937: Improve ProcessorStateManager exception handling
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3913 from mjsax/kafka-5937-exceptions-processor-state-manager

commit 36afd1095c78b24a0f956ee09bb806e701d6cf18
Author: Manjula K <manjula@kafka-summit.org>
Date:   Fri Sep 22 07:11:06 2017 +0800

    MINOR: Adding LINE corp logo to streams page
    
    Author: Manjula K <manjula@kafka-summit.org>
    Author: manjuapu <manjula@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3940 from manjuapu/customer-logo-stream

commit ea533f0c5e2438f0aef070dbadb023bffb9ce009
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Sep 21 14:30:37 2017 -0700

    KAFKA-5913; Add hasOffset() and hasTimestamp() methods to RecordMetadata
    
    These methods help users check for cases in which this metadata was not returned by the broker (e.g. in the case of acks=0 or a duplicate error when idempotence is enabled).
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3878 from apurvam/KAFKA-5913-add-record-metadata-not-available-exception

commit 690575ec466b5ef6099c3a731e97d45b28c98b33
Author: tedyu <yuzhihong@gmail.com>
Date:   Thu Sep 21 13:57:54 2017 -0700

    MINOR: Follow-up improvements on top of KAFKA-5793
    
    Simplified the condition in Sender#failBatch()
    Added log in TransactionManager#updateLastAckedOffset()
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3935 from tedyu/trunk

commit c8c6ab63248639b167350642efdfc4341fa3ce37
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Thu Sep 21 21:16:57 2017 +0100

    KAFKA-5735; KIP-190: Handle client-ids consistently
    
    Developed with edoardocomar
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Edoardo Comar <ecomar@uk.ibm.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3906 from mimaison/KAFKA-5735

commit afaaea8093d9d4f159cfd68d1f24ee36af3db8a0
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Sep 21 16:45:35 2017 +0100

    KAFKA-5954; Correct Connect REST API system test
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: tedyu <yuzhihong@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3934 from rhauch/kafka-5954

commit a553764c8b1611cafd318022d0fc4a34c861f6ba
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Sep 21 15:21:09 2017 +0100

    KAFKA-5856; AdminClient.createPartitions() follow-up (KIP-195)
    
    - Remove DelayedCreatePartitions to reduce code duplication
    - Avoid unnecessary ZK calls (call it once per request instead
    of once per topic, if possible)
    - Simplify code
    - A few minor clean-ups
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Tom Bentley <tbentley@redhat.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3930 from ijuma/kafka-5856-admin-client-creation-partitions

commit 96ba21e0dfb1a564d5349179d844f020abf1e08b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Sep 21 13:58:35 2017 +0100

    KAFKA-5947; Handle authentication failure in admin client, txn producer
    
    1. Raise AuthenticationException for authentication failures in admin client
    2. Handle AuthenticationException as a fatal error for transactional producer
    3. Add comments to authentication exceptions
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3928 from rajinisivaram/KAFKA-5947-auth-failure

commit f29391c4902699939cc621b2313f06fce5440691
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 21 18:19:24 2017 +0800

    MINOR: add upgrade note for KIP-173 topic configs
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3921 from dguy/minor-kip-173-docs

commit a2da064cbf01558d0af64adc9d6fc9444cd744ec
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 21 16:10:17 2017 +0800

    KAFKA-5922: Add SessionWindowedKStream
    
    Add `SessionWindowedKStream` and implementation. Deprecate existing `SessionWindow` `aggregate` methods on `KGroupedStream`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3902 from dguy/kafka-5922

commit b12ba240e95eacd514bf79e029fbc6b9ed1a1a67
Author: James Cheng <jylcheng@yahoo.com>
Date:   Thu Sep 21 08:31:57 2017 +0100

    MINOR: Fix testUniqueErrorCodes unit test failure
    
    Error code collision due to incorrect merge
    conflict resolution after 2 PRs were merged in
    quick succession.
    
    Author: James Cheng <jylcheng@yahoo.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3931 from wushujames/KAFKA-5856.buildfix

commit 5f6393f9b17cce17ded7a00e439599dfa77deb2d
Author: Tom Bentley <tbentley@redhat.com>
Date:   Thu Sep 21 05:06:15 2017 +0100

    KAFKA-5856; Add AdminClient.createPartitions() (KIP-195)
    
    The contribution is my original work and I license the work to the project under the project's open source license.
    
    This patch adds AdminClient.createPartitions() and the network protocol is
    uses. The broker-side algorithm is as follows:
    
    1. KafkaApis makes some initial checks on the request, then delegates to the
       new AdminManager.createPartitions() method.
    2. AdminManager.createPartitions() performs some validation then delegates to
       AdminUtils.addPartitions().
    
    Aside: I felt it was safer to add the extra validation in
    AdminManager.createPartitions() than in AdminUtils.addPartitions() since the
    latter is used on other code paths which might fail differently with the
    introduction of extra checks.
    
    3. AdminUtils.addPartitions() does its own checks and adds the partitions.
    4. AdminManager then uses the existing topic purgatory to wait for the
       PartitionInfo available from the metadata cache to become consistent with
       the new total number of partitions.
    
    The messages of exceptions thrown in AdminUtils affecting this new API have
    been made consistent with initial capital letter and terminating period.
    A few have been reworded for clarity.
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3870 from tombentley/KAFKA-5856-AdminClient.createPartitions

commit 94692288bedc353383e014914937a4798a1d4caa
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed Sep 20 20:31:33 2017 -0700

    KAFKA-5793; Tighten up the semantics of the OutOfOrderSequenceException
    
    Description of the solution can be found here: https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Exactly+Once+-+Solving+the+problem+of+spurious+OutOfOrderSequence+errors
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3865 from apurvam/KAFKA-5793-tighten-up-out-of-order-sequence-v2

commit 69d2a177101eb1c29b59b4c64d8c22f6d5e3d281
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Sep 20 22:51:53 2017 +0100

    KAFKA-5854; Handle SASL authentication failures as non-retriable exceptions in clients
    
    This PR implements the client-side of KIP-152, by modifying `KafkaConsumer`, `KafkaProducer`, and `ConsumerGroupCommand` to throw a non-retriable exception when SASL authentication fails.
    
    This PR is co-authored with rajinisivaram.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>, tedyu <yuzhihong@gmail.com>
    
    Closes #3832 from vahidhashemian/KAFKA-5854

commit c2af13ed0eb0c664e944f6e6f27f2b59d003954a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Sep 20 22:19:48 2017 +0100

    MINOR: Upgrade to Gradle 4.2
    
    It includes the usual performance improvements, but
    the nicest improvement for me is that the findBugs
    plugin no longer outputs 10000+ lines in
    Jenkins builds:
    
    https://docs.gradle.org/4.2/release-notes.html#findbugs-plugin-does-not-render-analysis-progress-anymore
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3923 from ijuma/gradle-4.2

commit 552b1707871fd92656debe33b03381f597be2578
Author: tedyu <yuzhihong@gmail.com>
Date:   Wed Sep 20 14:01:43 2017 -0700

    KAFKA-5657: Connect REST API should include the connector type when describing a connector (KIP-151)
    
    Embed the type of connector in ConnectorInfo
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3812 from tedyu/trunk

commit 239dad1b9fb6803842067dd588f679ba6ae5efe7
Author: huxihx <huxi_2b@hotmail.com>
Date:   Wed Sep 20 09:28:31 2017 -0700

    KAFKA-5358; Consumer perf tool should count rebalance time (KIP-177)
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3188 from huxihx/KAKFA-5358

commit c82be0f30373dc9b73200d55c66931cd18c22245
Author: manjuapu <manjula@confluent.io>
Date:   Wed Sep 20 08:59:05 2017 -0700

    MINOR: Adding See how Kafka Streams is being used section to Streams page
    
    Author: manjuapu <manjula@confluent.io>
    Author: Manjula K <manjula@kafka-summit.org>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3914 from manjuapu/customer-logo-stream

commit bb9859720bf88732cb63ec27cfa10d510d767d2b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 20 12:07:04 2017 +0100

    MINOR: change task initialization logging levels
    
    In `AssignedTasks` log at debug all task ids that are yet to be initialized.
    In `StreamsTask` log at trace when the task is initialized.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3905 from dguy/minor-task-init-logging

commit 37ec15e9627e2fe68d78eb6d95e9a117e3bca320
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 20 12:04:13 2017 +0100

    KAFKA-5931; deprecate KTable#through and KTable#to
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3903 from dguy/deprectate-to-through

commit c5879059546c2e38cb9dc2b8b4dd884485780059
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 20 17:57:07 2017 +0800

    MINOR: update release script for streams quickstart
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3846 from dguy/minor-release-script

commit 398714b75888fca00319493c38c8ead2a02fd7cc
Author: Florian Hussonnois <florian.hussonnois@gmail.com>
Date:   Wed Sep 20 16:39:49 2017 +0800

    KAFKA-5839: Upgrade Guide doc changes for KIP-130
    
    Author: Florian Hussonnois <florian.hussonnois@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3811 from fhussonnois/KAFKA-5839
    
    minor fixes

commit bd0146d984dd5df82fb19aa936e8f4ff9ca40030
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Sep 20 07:13:03 2017 +0800

    MINOR: various random minor fixes and improve KafkaConsumer JavaDocs
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3884 from mjsax/minor-fixed-discoverd-via-exception-handling-investigation

commit 80e0af50d94ffb99f669e55581d262db5f6dd027
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 19 16:01:15 2017 -0700

    MINOR: Only include transactional id in LogContext if it's set
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3910 from ijuma/transactional-id-should-be-optional-in-log-context

commit 92c06cbad591b88e69f416180052a72af455fa30
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 19 11:07:32 2017 -0700

    MINOR: Protocol schema refactor follow-up
    
    - Use constants in a few places that were missed
    - Remove ProtoUtils by moving its methods to Schema
    - Merge SchemaVisitor and SchemaVisitorAdapter
    - Change SchemaVisitor package.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3895 from ijuma/protocol-schema-refactor-follow-ups

commit 5e0bb3df9679797f0036d4718e2c1fd22dbee8f2
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 19 12:37:11 2017 +0100

    MINOR: Fix unresolvable address in `testUnresolvableConnectString`
    
    Before this change, the test always failed on my MacBook Pro.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3901 from ijuma/fix-unresolvable-address-in-zookeeper-test

commit c96f89f845f790d8e7bce45aae6c8c4d15a25660
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Sep 19 12:05:52 2017 +0100

    MINOR: use StoreBuilder in KStreamImpl rather than StateStoreSupplier
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3892 from dguy/cleanup-state-stores

commit c8f1471992c98e0104e3a7b2e093adc21b2d2a6f
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Sep 19 10:56:42 2017 +0100

    KAFKA-5921; add Materialized overloads to windowed kstream
    
    Add `Materialized` overloads to `WindowedKStream`. Deprecate existing methods on `KGroupedStream`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3889 from dguy/kafka-5921

commit 83bdcdbaef4e594ec5aac0736ffce5d0172c1671
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Sep 19 05:33:02 2017 +0100

    MINOR: Refer consistently to server.properties in security docs
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3788 from omkreddy/RULE-DOC

commit 0cf7708007b01faac5012d939f3c50db274f858d
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Sep 19 05:12:55 2017 +0100

    MINOR: Move request/response schemas to the corresponding object representation
    
    This refactor achieves the following:
    
    1. Breaks up the increasingly unmanageable `Protocol` class and moves schemas closer to their actual usage.
    2. Removes the need for redundant field identifiers maintained separately in `Protocol` and the respective request/response objects.
    3. Provides a better mechanism for sharing common fields between different schemas (e.g. topics, partitions, error codes, etc.).
    4. Adds convenience helpers to `Struct` for common patterns (such as setting a field only if it exists).
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3813 from hachikuji/protocol-schema-refactor

commit a64fe2ed88642bdd6531540e3d67f958deca2891
Author: Jakub Scholz <www@scholzj.com>
Date:   Tue Sep 19 07:58:06 2017 +0800

    KAFKA-5918: Fix minor typos and errors in the Kafka Streams turotial
    
    I found several minor issues with the Kafka Streams tutorial:
    * Some typos
      * "As shown above, it illustrate that the constructed ..." instead of "As shown above, it illustrate_s_ that the constructed ..."
      * "same as Pipe.java below" instead of "same as Pipe.java _above_"
      * Wrong class name in the `LineSplit` example
    * Incorrect imports for the code examples
      * Missing `import org.apache.kafka.streams.kstream.KStream;` in `LineSplit` and `WordCount` example
    * Unnecessary (and potentially confusing) split by whitespaces in the `WorkCount` class (the split into words happened already in `LineSplit`)
    
    Author: Jakub Scholz <www@scholzj.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3883 from scholzj/stream-tutorial-typos

commit d0645aaeefa77e5c4a801002d2bacdc6692dfa63
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Sep 19 07:30:16 2017 +0800

    KAFKA-5893; Preserve original System.out in PrintedTest
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Bill Bejeck <bill@confluent.io>
    
    Closes #3893 from mjsax/kafka-5893-reset-integration-test

commit f46d414c1643e15bc5b7a152b8df475aacd1e66d
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Sep 19 06:36:47 2017 +0800

    KAFKA-5833: Reset thread interrupt state in case of InterruptedException
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ted Yu <yuzhihong@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3841 from mjsax/kafka-5833-interrupts

commit 4ac7c48e91f37471e83cc82d26b26e5b715e8e80
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Mon Sep 18 12:58:03 2017 -0700

    MINOR: Fix KafkaConsumer.commitSync() javadoc @throws declarations
    
    Throws IllegalArgumentException is the offset is negative
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3780 from mimaison/commitSync_javadoc

commit ae3eeb3e1c194c60fa62fbc7931566f3d8c87d68
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 18 09:00:37 2017 -0700

    MINOR: Make the state change log more consistent
    
    Use logIdent to achieve this.
    
    Also fixed an issue where we were logging about replicas going offline with
    an empty set of replicas (i.e. no replicas had gone offline so no need to log).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3869 from ijuma/improve-state-change-log

commit f2b74aa1c36bf2882006c14f7cbd56b493f39d26
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Sep 18 15:53:44 2017 +0100

    KAFKA-5873; add materialized overloads to StreamsBuilder
    
    Add overloads for `table` and `globalTable` that use `Materialized`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3837 from dguy/kafka-5873

commit 52d7b6763b7f8ec1973f1bc399d428542e6e962e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 18 15:49:44 2017 +0100

    MINOR: Fix replica_verification_tool.py to handle slight change in output format
    
    The string representation of TopicPartition was changed to be
    {topic}-{partitition} consistently in the following commit:
    
    f6f56a645bb1c5ec6810c024ba517e43bf77056c
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3890 from ijuma/fix-replica-verification-test

commit bd83ae6ba1f887ab112c4ccb2002633dfd387d69
Author: Andy Chambers <andy.chambers@fundingcircle.com>
Date:   Mon Sep 18 15:30:25 2017 +0100

    MINOR: Fix typo in mapper parameter of flatMapValues
    
    The parameter is already called `mapper` in the KStreamImpl class. I think it was probably named `processor` here because it was copy/pasted from some other signature. This sees trivial enough to not require a jira as per the contribution guidelines.
    
    Author: Andy Chambers <andy.chambers@fundingcircle.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3888 from cddr/fix-kstream-flatMapValues-signature

commit b363901cbe9451bc5fc7ce55053aab1ffa9d7d49
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Sep 18 20:22:24 2017 +0800

    KAFKA-5893: more logging for investigating ResetIntegrationTest failures
    
     - improve stderr output for better debugging
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3859 from mjsax/kafka-5893-reset-integration-test

commit ed0e692147d81e396bf10f4d9425516d51bd52cc
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Sep 18 12:11:56 2017 +0100

    KAFKA-5515; Remove date formatting from Segments
    
    Remove date formatting from `Segments` and use the `segementId` instead.
    Add tests to make sure can load old segments.
    Rename old segment dirs to new formatting at load time.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: tedyu <yuzhihong@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3783 from dguy/kafka-5515

commit be6252d8ebdf9cf2d151028a7ba20eb1591b5961
Author: coscale_kdegroot <koen.degroote@coscale.com>
Date:   Mon Sep 18 12:04:56 2017 +0100

    MINOR: Code cleanup, subject: log statements.
    
    I'm doing this in my spare time, so don't let reviewing this PR take away actual work time. This is just me going over the code with the Intellij analyzer and implementing the most easily implementable fixes.
    
    This PR is focused only on seemingly erronous log statements.
    
    1: A log statement that has 4 arguments supplied but only 3 `{}` statements
    
    2: A log statement that checks is debug is enabled, but then logs on `info` level.
    
    Author: coscale_kdegroot <koen.degroote@coscale.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3886 from KoenDG/loggingErrors

commit d83252ebaeeca5bf19584908d95b424beb31b12e
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Sep 18 11:54:14 2017 +0100

    KAFKA-5654; add materialized count, reduce, aggregate to KGroupedStream
    
    Add overloads of `count`, `reduce`, and `aggregate` that are `Materialized` to `KGroupedStream`.
    Refactor common parts between `KGroupedStream` and `WindowedKStream`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3827 from dguy/kafka-5654

commit 346d0ca5382800f4bbc670b80660408705742392
Author: Armin Braun <me@obrown.io>
Date:   Mon Sep 18 10:38:26 2017 +0100

    MINOR: Fix needless GC + Result time unit in JMH
    
    Fixes two issues with the JMH benchmark example:
    * Trivial: The output should be in `ops/ms` for readability
    reasons (it's in the millions of operations per second)
    * Important: The benchmark is not actually measuring the
    LRU Cache performance as most of the time in each run is
    wasted on concatenating `key + counter` as well as
    `value + counter`. Fixed by pre-generating 10k K-V pairs
    (100x the cache capacity) and iterating over them. This
    brings the performance up by a factor of more than 5 on
    a standard 4 core i7 (`~6k/ms` before goes to `~35k/ms`).
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2903 from original-brownbear/fix-jmh-example

commit a3f068e22da6915cbc473be8da0cfbb229817436
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 18 10:49:12 2017 +0100

    MINOR: Update powermock and enable its tests when running with Java 9
    
    Also:
    1. Fix WorkerTest to use the correct `Mock` annotations. `org.easymock.Mock`
    is not supported by PowerMock 2.x.
    2. Rename `powermock` to `powermockJunit4` in `dependencies.gradle` for
    clarity.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3881 from ijuma/kafka-5884-powermock-java

commit a339a387e0669226bc1537783b3d4c6ea5b9b4c0
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Sep 18 10:13:28 2017 +0100

    MINOR: Add metric templates for sender/fetcher rate totals
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: James Cheng <jylcheng@yahoo.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3882 from rajinisivaram/MINOR-KAFKA-5738-metricstemplates

commit f305dd68f6524abc25c4ed88983f0e78b4e6c243
Author: umesh chaudhary <umesh9794@gmail.com>
Date:   Mon Sep 18 09:53:27 2017 +0100

    KAFKA-5754; Refactor Streams to use LogContext
    
    This PR utilizes `org.apache.kafka.common.utils.LogContext` for logging in `KafkaStreams`. hachikuji, ijuma please review this and let me know your thoughts.
    
    Author: umesh chaudhary <umesh9794@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3727 from umesh9794/KAFKA-5754

commit 6055c749899a6d5ae618206548afd1f1e83eb65c
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Sep 15 13:51:52 2017 -0700

    MINOR: Disable KafkaAdminClientTest.testHandleTimeout
    
    This test is super flaky in the PR builder. https://issues.apache.org/jira/browse/KAFKA-5792 tracks the fix.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3877 from apurvam/MINOR-disable-adminclient-timeout-test

commit 8fca432223da521b78e60e0cf8fa881ced19589c
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Sep 15 17:16:29 2017 +0100

    KAFKA-4764; Wrap SASL tokens in Kafka headers to improve diagnostics (KIP-152)
    
    SASL handshake protocol changes from KIP-152.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Closes #3708 from rajinisivaram/KAFKA-4764-SASL-diagnostics

commit 985cc534a4278b64fc37dc37913ab974266efe43
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 15 11:35:57 2017 +0100

    KAFKA-5908; fix range query in CompositeReadOnlyWindowStore
    
    The `NextIteratorFunction` in `CompositeReadOnlyWindowStore` was incorrectly using the `timeFrom` as the `timeTo`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3868 from dguy/window-store-range-scan

commit f6f56a645bb1c5ec6810c024ba517e43bf77056c
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 15 01:50:20 2017 +0100

    KAFKA-5822; Consistent log formatting of topic partitions
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3778 from hachikuji/KAFKA-5822

commit 5d2422258cb975a137a42a4e08f03573c49a387e
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Sep 14 16:10:14 2017 -0700

    KAFKA-5494; Enable idempotence with max.in.flight.requests.per.connection > 1
    
    Here we introduce client and broker changes to support multiple inflight requests while still guaranteeing idempotence. Two major problems to be solved:
    
    1. Sequence number management on the client when there are request failures. When a batch fails,  future inflight batches will also fail with `OutOfOrderSequenceException`. This must be handled on the client with intelligent sequence reassignment. We must also deal with the fatal failure of some batch: the future batches must get different sequence numbers when the come back.
    2. On the broker, when we have multiple inflights, we can get duplicates of multiple old batches. With this patch, we retain the record metadata for 5 older batches.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3743 from apurvam/KAFKA-5494-increase-max-in-flight-for-idempotent-producer

commit 8a5e86660593eab49c64fdfb5ef090634ae5ae06
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Sep 15 00:06:08 2017 +0100

    KAFKA-5738; Add cumulative count for rate metrics (KIP-187)
    
    Implementation of https://cwiki.apache.org/confluence/display/KAFKA/KIP-187+-+Add+cumulative+count+metric+for+all+Kafka+rate+metrics
    
    Also made locking in Sensor for `CompoundStat` consistent with simple `Stat`, avoiding locking the whole sensor.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3686 from rajinisivaram/KAFKA-5738

commit dfd625daa36de2e34e6c596967775394c55bc605
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Sep 14 13:14:06 2017 -0700

    MINOR: Remove unused SecurityProtocol.TRACE
    
    It adds complexity for no benefit since we don't use
    it anywhere.
    
    Also removed a few unused imports, variables and
    default parameters.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3856 from ijuma/remove-security-protocol-trace

commit 2656659e0d7c0e427768ce216df2698acc8c9b11
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Sep 14 11:23:53 2017 +0100

    MINOR: Update TransactionManager to use LogContext
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3852 from hachikuji/minor-use-log-context-txn-manager

commit a0ad9f156a122e3e3a073cba0e2b0c39c93c7db5
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Sep 14 11:18:07 2017 +0100

    MINOR: Fix LogContext message format in KafkaProducer
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3854 from vahidhashemian/minor/fix_log_context_message_format

commit 3b5d88febb186c4b92cc514fa2338de7bc338f67
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Sep 14 10:16:00 2017 +0100

    KAFKA-5783; Add KafkaPrincipalBuilder with support for SASL (KIP-189)
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Closes #3795 from hachikuji/KAFKA-5783

commit f7b1add686c27bcf26519c8a6963d9a773d7ffbe
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 13 13:22:06 2017 -0700

    MINOR: update tutorial doc to match ak-site
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3847 from dguy/minor-doc-update

commit f47996ccbd9ad873230b509a1fef724989d2f1e8
Author: Jeff Widman <jeff@jeffwidman.com>
Date:   Wed Sep 13 13:20:14 2017 -0700

    MINOR: Fix typo in test log4j.properties
    
    Author: Jeff Widman <jeff@jeffwidman.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3851 from jeffwidman/patch-1

commit 9d2437a464062025ea9288a307db3f0f4eaf1695
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Sep 13 13:12:09 2017 -0700

    MINOR: Un-hide the tutorial buttons on web docs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3850 from guozhangwang/KMinor-unhide-button

commit ffd8f18a129fa826d62f527ea2c8eba2cfd644b2
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Sep 13 18:18:54 2017 +0100

    KAFKA-4501; Fix EasyMock and disable PowerMock tests under Java 9
    
    - EasyMock 3.5 supports Java 9.
    
    - Fixed issues in `testFailedSendRetryLogic` and
    `testCreateConnectorAlreadyExists` exposed by new EasyMock
    version. The former was passing `anyObject` to
    `andReturn`, which doesn't make sense. This was leaving
    behind a global `any` matcher, which caused a few issues in
    the new version. Fixing this meant that the correlation ids had
    to be updated to actually match. The latter was missing a
    couple of expectations that the previous version of EasyMock
    didn't catch.
    
    - Removed unnecessary PowerMock dependency from 3 tests.
    
    - Disabled remaining PowerMock tests when running with Java 9
    until https://github.com/powermock/powermock/issues/783 is
    in a release.
    
    - Once we merge this PR, we can enable tests in the Java 9 builds
    in Jenkins.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3845 from ijuma/kafka-4501-easymock-powermock-java-9

commit c42bfc0d51e6691b4b5672ef7c8a1bedcd452d7f
Author: lperry <lperry@simplemachines.com.au>
Date:   Wed Sep 13 17:52:45 2017 +0100

    MINOR: Fix JavaDoc for StreamsConfig.PROCESSING_GUARANTEE_CONFIG
    
    The contribution is my original work and I license the work to the project under the project's open source licence.
    
    Author: lperry <lperry@simplemachines.com.au>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3843 from leigh-perry/trunk

commit 49b992dd8bad3d34bb6cdebda5eed9367b20e093
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Sep 13 12:42:05 2017 +0100

    MINOR: Use sha512 instead of sha2 suffix in release artifacts
    
    As per Apache guidelines:
    
    http://www.apache.org/dev/release-distribution#sigs-and-sums
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3844 from ijuma/fix-sha512-naming

commit 90b4b07e6e3b44edfa41eebea83a674cb6f61922
Author: Richard Yu <richardyu@Richards-Air.attlocal.net>
Date:   Tue Sep 12 16:42:06 2017 -0700

    KAFKA-4468: Correctly calculate the window end timestamp after read from state stores
    
    I have decided to use the following approach to fixing this bug:
    
    1) Since the Window Size in WindowedDeserializer was originally unknown, I have initialized
    a field _windowSize_ and created a constructor to allow it to be instantiated
    
    2) The default size for __windowSize__ is _Long.MAX_VALUE_. If that is the case, then the
    deserialize method will return an Unlimited Window, or else will return Timed one.
    
    3) Temperature Demo was modified to demonstrate how to use this new constructor, given
    that the window size is known.
    
    Author: Richard Yu <richardyu@Richards-Air.attlocal.net>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3745 from ConcurrencyPractitioner/trunk

commit 9ed8bf273c6ee5569ed68b71782ec7ab947f9c93
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Sep 12 17:39:47 2017 +0100

    KAFKA-5872; Fix transient failure in SslSelectorTest.testMuteOnOOM
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3836 from rajinisivaram/KAFKA-5872-sslselectortest-failure

commit 8bd2a68b5020f0bf8f79cbe59676d649eebf170f
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Sep 12 17:20:43 2017 +0100

    KAFKA-5655; materialized count, aggregate, reduce to KGroupedTable
    
    Add overloads of `count`, `aggregate`, `reduce` using `Materialized` to `KGroupedTable`
    deprecate other overloads
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3829 from dguy/kafka-5655

commit 08063f50a04fda3e40c6060a432a97f49bb68c8c
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Sep 12 16:01:19 2017 +0100

    KAFKA:5653: add join overloads to KTable
    
    Add `join`, `leftJoin`, `outerJoin` overloads that use `Materialized` to `KTable`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3826 from dguy/kafka-5653

commit e1491d4a0463deaaa8de7e100dddc2edbc030abf
Author: Bill Bejeck <bill@confluent.io>
Date:   Tue Sep 12 09:26:09 2017 +0100

    MINOR: refactor build method to extract methods from if statements
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3833 from bbejeck/MINOR_extract_methods_from_build

commit a67140317a644034e91ee596ab22bfb55adde1e0
Author: Bill Bejeck <bill@confluent.io>
Date:   Tue Sep 12 09:23:28 2017 +0100

    MINOR: update processor topology test driver
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3828 from bbejeck/MINOR_update_processor_topology_test_driver

commit 439050816bef679efe403447a88cbaac69769567
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 12 05:41:46 2017 +0100

    MINOR: Tweak detection of kafka server start-up in system tests
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3834 from ijuma/tweak-system-test-regex-for-detecting-server-start-up

commit 1f5bc11cc0e94110e9cb673cacc63c02bb23c279
Author: Bryan Baugher <bryan.baugher@cerner.com>
Date:   Mon Sep 11 16:57:37 2017 +0100

    MINOR: Implement toString for NetworkClient#InFlightRequest
    
    Author: Bryan Baugher <bryan.baugher@cerner.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3805 from bbaugher/inFlightRequest_toString

commit d6fabb011af848ff96691b5deb97c88a84e1a683
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Sep 11 13:06:55 2017 -0700

    KAFKA-5817: [FOLLOW-UP] add SerializedInternal
    
    Add `SerializedInternal` class and remove getters from `Serialized`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3825 from dguy/kafka-5817-follow-up

commit 9bb06c3eef3ebdff77e5e3b98c26b86c40efc56c
Author: Andrey Dyachkov <andrey.dyachkov@gmail.com>
Date:   Mon Sep 11 15:37:39 2017 +0100

    KAFKA-5763; Use LogContext in NetworkClient, Selector and broker
    
    Author: Andrey Dyachkov <andrey.dyachkov@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3761 from adyach/kafka-5763

commit 779714c08bc16fcdd6fe7c39e92a7f73ebebdb71
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Sep 11 12:00:54 2017 +0100

    KAFKA-5816; [FOLLOW UP] create ProducedInternal class
    
    Create `ProducedInternal` and remove getters from `Produced`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3810 from dguy/kafka-5816-follow-up

commit c5464edbb7a6821e0a91a3712b1fe2fd92a22d68
Author: Evgeny Veretennikov <evg.veretennikov@gmail.com>
Date:   Mon Sep 11 09:42:10 2017 +0100

    KAFKA-5531; throw concrete exceptions in streams tests
    
    1. Now instead of just generic `Exception` methods declare more concrete
    exceptions throwing or don't declare any throwing at all, if not needed.
    2. `SimpleBenchmark.run()` throws `RuntimeException`
    3. `SimpleBenchmark.produce()` throws `IllegalArgumentException`
    4. Expect `ProcessorStateException` in
    `StandbyTaskTest.testUpdateNonPersistentStore()`
    
    /cc enothereska
    
    Author: Evgeny Veretennikov <evg.veretennikov@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3485 from evis/5531-throw-concrete-exceptions

commit 3728f4cd9623ce028f1720b03e15d444856fd7fc
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sun Sep 10 20:37:00 2017 +0100

    MINOR: Fix transient failure in SelectorTest.testCloseConnectionInClosingState
    
    `SelectorTest.testCloseConnectionInClosingState` creates a channel with some staging receives and moves time forward to expire the channel. To ensure that the channel will be expired on the next poll, the channel must be muted to avoid expiry time being updated if more data is available for read.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3823 from rajinisivaram/MINOR-SelectorTest-closingChannel

commit ae4100f82c13b3e6978c0a0f697312bd073e0eb3
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sat Sep 9 08:33:08 2017 +0100

    KAFKA-5792; Fix Transient failure in KafkaAdminClientTest.testHandleTimeout
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3822 from cmccabe/KAFKA-5792

commit 689a84c7d6aec32956aabf2e8b3612e754ba2e88
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 8 14:13:11 2017 -0700

    MINOR: make Consumed copy ctor protected
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3816 from dguy/consumed-ctor

commit 9cec4109b236c1380f2b44caba2fbf2c8b96a828
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 8 14:12:00 2017 -0700

    MINOR: make Printed copy ctor protected
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3817 from dguy/printed-ctor-protected

commit 2db1e4423fb33405a319b253b040e57e069c1f7a
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 8 14:01:58 2017 -0700

    KAFKA-5852: Add filter, filterNot, mapValues and Materialized to KTable
    
    Add overloads of `filter`, `filterNot`, `mapValues` that take `Materialized` as a param to `KTable`. Deprecate overloads using `storeName` and `storeSupplier`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3807 from dguy/ktable-filter-map

commit 6e4045586212812165693840b68d7577a05b890a
Author: Xavier Léauté <xl+github@xvrl.net>
Date:   Fri Sep 8 19:04:55 2017 +0100

    KAFKA-5742; Fix incorrect method name follow-up
    
    Author: Xavier Léauté <xl+github@xvrl.net>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3818 from xvrl/fix-startswith

commit 5d73b37b14d03babffebd0bde6022d2cff175b8b
Author: dejan2609 <dejan2609@gmail.com>
Date:   Fri Sep 8 19:01:15 2017 +0100

    KAFKA-5708; Upgrade Jackson from 2.8.5 to 2.9.1
    
    Jackson release notes:
    - https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.8
    - https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.9
    
    Author: dejan2609 <dejan2609@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3631 from dejan2609/jackson-upgrade

commit 6ebd9d35fc081bca3f1efeba8b70ec71cde85270
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Sep 8 18:42:42 2017 +0100

    KAFKA-5790, KAFKA-5607; Improve error handling in SocketServer to avoid issues later
    
    Changes:
      1. When an exception is encountered in any of the methods in `Processor` while processing a channel, log the exception and close the connection. Continue to process other channels.
      2. Fixes KAFKA-5790: SocketServer.processNewResponses should not skip a response if exception is thrown.
      3. For `IllegalStateException` and `IOException` in `poll()`, don't close the `Selector`. Log the exception and continue.
      4. Close channel on any failed send in `Selector`.
      5. When closing channel fails or is closed, leave channel state as-is, indicating the state in which the channel was moved to closing.
      6. Add tests for various failure scenarios.
      7. Fix timing issue in `SocketServerTest.testConnectionIdReuse` by waiting for new connections to be processed by the server.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3548 from rajinisivaram/KAFKA-5607

commit 4769e3d92acdc6036f1f834c70004f0c867ae582
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 8 18:22:04 2017 +0100

    KAFKA-5815; add Printed class and KStream#print(printed)
    
    Part of KIP-182
    - Add `Printed` class and `KStream#print(Printed)`
    - deprecate all other `print` and `writeAsText` methods
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3768 from dguy/kafka-5652-printed

commit e16b9143dfcecbd58e3bebecbdb7d8e933b88cc4
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 8 16:49:18 2017 +0100

    KAFKA-5853; implement WindowedKStream
    
    Add the `WindowedKStream` interface and implementation of methods that don't require `Materialized`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3809 from dguy/kgrouped-stream-windowed-by

commit beeed86600f3571635e83e6a3b6ee0c38679c7fe
Author: Andras Beni <andrasbeni@cloudera.com>
Date:   Fri Sep 8 14:47:09 2017 +0100

    MINOR: Update dependencies for 1.0.0 part 2
    
    There have been a few bug fix releases since
    the previous update.
    
    Author: Andras Beni <andrasbeni@cloudera.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3791 from andrasbeni/dependency-upgrade

commit ee4e4c8cb35d1403c521518d6c269bbc03700325
Author: Erik Kringen <erik.kringen@icloud.com>
Date:   Fri Sep 8 13:16:03 2017 +0100

    KAFKA-5656; Support bulk attributes request on KafkaMbean where some attributes do not exist
    
    Author: Erik Kringen <erik.kringen@icloud.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3582 from ErikKringen/trunk

commit ef17d5b892fa34811c805cac366744040e6d6efb
Author: Tom Bentley <tbentley@redhat.com>
Date:   Fri Sep 8 13:10:06 2017 +0100

    KAFKA-4260; Disallow non-routable address in advertised.listeners
    
    As described in the JIRA ticket, when `listeners=PLAINTEXT://0.0.0.0:9092`
    (note the 0.0.0.0 "bind all interfaces" IP address) and
    `advertised.listeners` is not specified it defaults to `listeners`,
    but it makes no sense to advertise 0.0.0.0 as it's not a routable IP
    address.
    
    This patch checks for a 0.0.0.0 host in `advertised.listeners`
    (whether via default or not) and fails with a meaningful error if it's
    found.
    
    This contribution is my original work and I license the work to the
    project under the project's open source license.
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3382 from tombentley/advertised.listeners

commit 6546f9af6da45044ce68e392d4bdeac4122d132e
Author: Paolo Patierno <ppatierno@live.com>
Date:   Fri Sep 8 11:21:28 2017 +0100

    MINOR: Improve documentation for running docker system tests
    
    Added some tips for running a single test file, test class and/or test method on the documentation landing page about tests
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3577 from ppatierno/minor-tests-doc

commit b07435638d66f80c10c23c7e87bbe1d6844968a3
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Fri Sep 8 10:47:58 2017 +0100

    MINOR: Fixed StickyAssignor javadoc formatting
    
    StickyAssignor javadoc has a bunch of formatting issues which make it pretty hard to read:
    http://kafka.apache.org/0110/javadoc/org/apache/kafka/clients/consumer/StickyAssignor.html
    
    cc vahidhashemian
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3670 from mimaison/sticky_assignor_javadoc

commit d0ee6ed36baf702fa24dac8ae31f45fc27324d89
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 8 08:21:48 2017 +0100

    KAFKA-5832; add Consumed and change StreamBuilder to use it
    
    Added `Consumed` class.
    Updated `StreamBuilder#stream`, `StreamBuilder#table`, `StreamBuilder#globalTable`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3784 from dguy/kip-182-stream-builder

commit 27336192ff62d43d0beabc5dab2855b87befcc55
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Sep 8 04:40:24 2017 +0100

    MINOR: Include response in request log
    
    It's implemented such that there is no overhead if request logging is
    disabled.
    
    Also:
    - Reduce metrics computation duplication in `updateRequestMetrics`
    - Change a couple of log calls to use string interpolation instead of `format`
    - Fix a few compiler warnings related to unused imports and unused default
    arguments.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Roger Hoover <roger.hoover@gmail.com>, Jason Gustafson <jason@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3801 from ijuma/log-response-in-request-log

commit 07a428e0c8fea498f084f5918fa88d5334ae8028
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Sep 8 02:29:03 2017 +0100

    MINOR: Always specify the keystore type in system tests
    
    Also throw an exception if a null keystore type is seen
    in `SecurityStore`. This should never happen.
    
    The default keystore type has changed in Java 9 (
    http://openjdk.java.net/jeps/229), so we need to
    be explicit to have consistent behaviour across
    Java versions.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3808 from ijuma/set-jks-explicitly-in-system-tests

commit a1ec6527db808679330a54e802c4ae1630e6b50d
Author: Ted Yu <yuzhihong@gmail.com>
Date:   Thu Sep 7 17:08:45 2017 -0700

    KAFKA-5820: Remove unneeded synchronized keyword in StreamThread
    
    I removed synchronized keyword from 3 methods.
    
    I ran the change thru streams module where test suite passed.
    
    Author: tedyu <yuzhihong@gmail.com>
    
    Reviewers: Viktor Somogyi <viktorsomogyi@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3777 from tedyu/trunk

commit 674407908b898dd18b447447ad3346b5268b1dfc
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Sep 7 14:36:49 2017 -0700

    KAFKA-5698: Sort processor nodes based on its sub-tree size
    
    1. Sort processor nodes within a sub-topology by its sub-tree size: nodes with largest sizes are source nodes and hence printed earlier.
    
    2. Sort sub-topologies by ids; sort global stores by the source topic names.
    
    3. Open for discussion: start newlines for predecessor and successor.
    
    4. Minor: space between processor nodes and stores / topics; maintain `[]` for the topic names.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Ted Yu <yuzhihong@gmail.com>
    
    Closes #3618 from guozhangwang/K5698-topology-description-sorting

commit 3410f02fec6bc8633ebb58e3c1a8f9c2e49a1aa4
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Sep 7 11:40:54 2017 -0700

    KAFKA-4585: Lower the Minimum Required ACL Permission of OffsetFetch (KIP-163)
    
    Details can be found in the [KIP](https://cwiki.apache.org/confluence/display/KAFKA/KIP-163%3A+Lower+the+Minimum+Required+ACL+Permission+of+OffsetFetch).
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3661 from vahidhashemian/KAFKA-4585

commit 4065ffb3e1a82f71578811a0a329cdc90e5e1567
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Sep 7 13:23:03 2017 +0100

    KAFKA-5777; Add ducktape integration for Trogdor
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3726 from cmccabe/KAFKA-5777

commit 329d5fa64a2a3ac1d39ac37fdacbf6e43d500d11
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 7 12:35:31 2017 +0100

    KAFKA-5844; add groupBy(selector, serialized) to Ktable
    
    add `KTable#groupBy(KeyValueMapper, Serialized)` and deprecate the overload with `Serde` params
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Bill Bejeck <bill@confluent.io>
    
    Closes #3802 from dguy/kip-182-ktable-groupby

commit 9cbb9f0939c88868bf33ae340c5fa756ee2965e8
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 7 09:39:46 2017 +0100

    KAFKA-5650; add StateStoreBuilder interface and implementations
    
    Part of KIP-182
    
    - Add `StateStoreBuilder` interface and `WindowStateStoreBuilder`, `KeyValueStateStoreBuilder`, and `SessionStateStoreBuilder` implementations
    - Add `StoreSupplier`, `WindowBytesStoreSupplier`, `KeyValueBytesStoreSupplier`, `SessionBytesStoreSupplier` interfaces and implementations
    - Add new methods to `Stores` to create the newly added `StoreSupplier` and `StateStoreBuilder` implementations
    - Update `Topology` and `InternalTopology` to use the interfaces
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3767 from dguy/kafka-5650

commit 667cd60dc6ba68831423a256b6e455f7d955581c
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 7 08:54:10 2017 +0100

    KAFKA-5816; add Produced class, KStream#to(topic, Produced), and KStream#through(topic, Produced)
    
    Add the `Produced` class and `KStream` overloads that use it:
    `KStream#to(String, Produced)`
    `KStream#through(String, Produced)`
    Deprecate all other to and through methods accept the single param methods that take a topic param
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3770 from dguy/kafka-5652-produced

commit b041c8d87deab536b262e6260334b5bda1d896c8
Author: Boyang Chen <bychen@pinterest.com>
Date:   Wed Sep 6 22:04:37 2017 -0700

    MINOR: close iterator on doc example
    
    The iterator interface usage has some examples missing explicit close operation after usage. We should remind the user to do so because un-closed iterator will leave the underlying file descriptor open, thus eating up memory.
    guozhangwang Ishiihara
    
    Author: Boyang Chen <bychen@pinterest.com>
    Author: Boyang Chen <bchen11@outlook.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3714 from abbccdda/add_iterator_close_on_doc
    
    minor fixes

commit 9b85cf9ed02d4b3b87ea39e0c2f8c35e1e813f2f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Sep 6 18:39:40 2017 -0700

    MINOR: KIP-138 renaming of string names
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3796 from guozhangwang/kip-138-minor-renames

commit 3f155eaa23c6081e4afa3b49f0f8a65a16b8e05c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Sep 6 18:38:08 2017 -0700

    MINOR: Log encountered exception during rebalance
    
    Some other minor changes:
    
    1. Do not throw the exception form callback as it would only be swallowed by consumer coordinator; remembering it and re-throw in the next loop is good enough.
    2. Change Creating to Defining in Stores to avoid confusions that the stores have already been successfully created at that time.
    3. Do not need unAssignChangeLogPartitions as the restore consumer will be unassigned already inside changelog reader.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3769 from guozhangwang/KMinor-logging-before-throwing

commit 212bce6e3fed5069e530aa75c7a25443f28a2ffb
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Sep 6 15:42:52 2017 -0700

    MINOR: fix typos on web doc's upgrade guide
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3804 from mjsax/hotfix

commit 23d01c805bef7504abfa83ecac7e384d121a583a
Author: Attila Kreiner <attila@kreiner.hu>
Date:   Wed Sep 6 11:41:33 2017 -0700

    KAFKA-5726; KafkaConsumer.subscribe() overload that takes just Pattern
    
    - changed the interface & implementations
    - updated tests to use the new method where applicable
    
    Author: Attila Kreiner <attila@kreiner.hu>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3669 from attilakreiner/KAFKA-5726

commit 51025764601760684f3dbdc0171fd7aa2ebe70e7
Author: oleg <oleg@nexla.com>
Date:   Wed Sep 6 11:12:23 2017 -0700

    KAFKA-5756; Connect WorkerSourceTask synchronization issue on flush
    
    Author: oleg <oleg@nexla.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3702 from oleg-smith/KAFKA-5756

commit 45394d52c1ba566178c57897297a3ea31379f957
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 6 10:55:43 2017 +0100

    KAFKA-5819; Add Joined class and relevant KStream join overloads
    
    Add the `Joined` class and the overloads to `KStream` that use it.
    Deprecate existing methods that have `Serde` params
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3776 from dguy/kip-182-stream-join

commit b687c068008a81fad390c80da289249cc04b3efb
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 6 10:43:14 2017 +0100

    KAFKA-5817; Add Serialized class and overloads to KStream#groupBy and KStream#groupByKey
    
    Part of KIP-182
    - Add the `Serialized` class
    - implement overloads of `KStream#groupByKey` and KStream#groupBy`
    - deprecate existing methods that have more than default arguments
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3772 from dguy/kafka-5817

commit 2fb5664bf4591f3e7bdc02894b9de392bf72913c
Author: James Cheng <jylcheng@yahoo.com>
Date:   Tue Sep 5 17:36:53 2017 -0700

    KAFKA-5597: Autogenerate producer sender metrics
    
    Subtask of https://issues.apache.org/jira/browse/KAFKA-3480
    
    The changes are very similar to what was done for the consumer in https://issues.apache.org/jira/browse/KAFKA-5191 (pull request https://github.com/apache/kafka/pull/2993)
    
    Author: James Cheng <jylcheng@yahoo.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3535 from wushujames/producer_sender_metrics_docs
    
    Fix one minor naming bug

commit cd59976eea54efe6367b4c55872ab206f504829a
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Sep 5 16:54:00 2017 -0700

    KAFKA-5823: Extend upgrade section for KIP-120
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Sharon Liu <sharonliu.cup@gmail.com>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3787 from mjsax/kafka-5823-kip120-docs

commit 5d69966195409d73e6e4d74e8a898fac754450cc
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Sep 6 00:32:59 2017 +0100

    KAFKA-5837; Set defaults for ReassignPartitionsCommand correctly
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>
    
    Closes #3792 from rajinisivaram/KAFKA-5837

commit 81e789ae3dc6ea8369db181c5aef440491d74f19
Author: Vladimír Kleštinec <klestinec@gmail.com>
Date:   Tue Sep 5 16:27:08 2017 -0700

    KAFKA-4860; Allow spaces in paths on windows
    
    When we install kafka on path with spaces, batch files were failing, this PR is trying to fix this issue.
    
    Author: Vladimír Kleštinec <klestinec@gmail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2649 from klesta490/trunk

commit 752e5317410f05d08f69f302e4ee0cadae183b59
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Sep 5 15:47:31 2017 -0700

    KAFKA-5603; Don't abort TX for zombie tasks
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3719 from mjsax/kafka-5603-dont-abort-tx-for-zombie-tasks-2

commit facd2c5a8c7a4379755955ba3e318bfecde6af39
Author: Florian Hussonnois <florian.hussonnois@gmail.com>
Date:   Tue Sep 5 14:11:59 2017 -0700

    KAFKA-4819: Expose states for active tasks to public API
    
    Simple implementation of the feature : [KAFKA-4819](https://issues.apache.org/jira/browse/KAFKA-4819)
     KAFKA-4819
    
    This PR adds a new method `threadStates` to public API of `KafkaStreams` which returns all currently states of running threads and active tasks.
    
    Below is a example for a simple topology consuming from topics; test-p2 and test-p4.
    
    [{"name":"StreamThread-1","state":"RUNNING","activeTasks":[{"id":"0_0", "assignments":["test-p4-0","test-p2-0"], "consumedOffsetsByPartition":[{"topicPartition":"test-p2-0","offset":"test-p2-0"}]}, {"id":"0_2", "assignments":["test-p4-2"], "consumedOffsetsByPartition":[]}]}, {"name":"StreamThread-2","state":"RUNNING","activeTasks":[{"id":"0_1", "assignments":["test-p4-1","test-p2-1"], "consumedOffsetsByPartition":[{"topicPartition":"test-p2-1","offset":"test-p2-1"}]}, {"id":"0_3", "assignments":["test-p4-3"], "consumedOffsetsByPartition":[]}]}]
    
    Author: Florian Hussonnois <florian.hussonnois@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2612 from fhussonnois/KAFKA-4819

commit d78eb03fad33b6060f246ae31c9276038e8555ec
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Sep 5 10:51:04 2017 -0700

    MINOR: add mvn-pgp-plugin to sign streams quickstart jars
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3793 from dguy/sign-mvn-jars

commit caddae19ea87fb2fa46884eddfa6eb742c770267
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Sep 5 11:45:21 2017 +0100

    MINOR: fix scalaVersion variable in templateData.js
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3790 from dguy/fix-js-tempate

commit b1871e5adf3fef7256a75d09b812c6ba64791ff4
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 5 10:27:36 2017 +0100

    MINOR: Fix sftp_mkdir in release.py
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3789 from ijuma/ftp-release-py-fixes

commit 493c2aad595c70247d70572579853c90ee4ea5db
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Sep 4 14:28:50 2017 +0100

    MINOR: add table of contents
    
    Added a simple table of contents for the developer section.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3760 from enothereska/minor-docs-toc

commit adefc8ea076354e07839f0319fee1fba52343b91
Author: Dong Lin <lindong28@gmail.com>
Date:   Sat Sep 2 23:20:13 2017 -0700

    KAFKA-5694; Add AlterReplicaDirRequest and DescribeReplicaDirRequest (KIP-113 part-1)
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>, Colin P. Mccabe <cmccabe@confluent.io>
    
    Closes #3621 from lindong28/KAFKA-5694

commit b2a328daf2a51520290fc4ec31ce5d92b2c0ef01
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sat Sep 2 08:14:13 2017 +0100

    KAFKA-5659; Fix error handling, efficiency issue in AdminClient#describeConfigs
    
    If a request for a broker configuration failed due to a timeout or
    the broker not being available, we would fail the futures
    associated with the non-broker request instead (and never fail the
    broker future, which would be left uncompleted forever).
    
    We would also do an unnecessary request if only broker configs were
    requested.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3585 from cmccabe/KAFKA-5659

commit 14a7c297ab917efb28e579fa942d58cdcf4930c5
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sat Sep 2 08:24:43 2017 +0100

    KAFKA-5818; KafkaStreams state transitions not correct
    
    - need to check that state is CRATED at startup
    - some minor test cleanup
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3775 from mjsax/kafka-5818-kafkaStreams-state-transition

commit bc999989bff39db2f5e7b07968988ed9ccba49b2
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Sep 1 09:38:27 2017 -0700

    KAFKA-5759; Allow user to specify relative path as log directory
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jiangjie Qin<becket.qin@gmail.com>
    
    Closes #3709 from lindong28/KAFKA-5759

commit 51af6fb654c482fb6fdd85126991149238640fd7
Author: Sebastian Gavril <sgavril@wehkamp.nl>
Date:   Thu Aug 31 14:57:54 2017 -0700

    MINOR: Allow timestamp parameter in `ProcessorTopologyTestDriver.process`
    
    All current implementations process records using the same timestamp. This makes it difficult to test operations that require time windows, like `KStream-KStream joins`.
    
    This change would allow tests to simulate records created at different times, thus making it possible to test operations like the above mentioned joins.
    
    Author: Sebastian Gavril <sgavril@wehkamp.nl>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3753 from sebigavril/allow-timestamps-in-test-driver

commit 75070bdb5d70cc0b2f52faf4f769144f68f02ee2
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Aug 31 14:53:44 2017 -0700

    MINOR: Increase timeout of Zookeeper service in system tests
    
    The previous timeout was 10 seconds, but system test failures have occurred when Zookeeper has started after about 11 seconds. Increasing the timeout to 30 seconds, since most of the time this extra time will not be required, and when it is it will prevent a failed system test.
    
    In addition to merging to `trunk`, please backport to the `0.11.x` and `0.10.2.x` branches.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3774 from rhauch/MINOR-Increase-timeout-of-zookeeper-service-in-system-tests

commit ded8741173854c98f3be0525403b6a17a55b6027
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Aug 31 13:19:28 2017 -0700

    KAFKA-5806; Fix transient unit test failure in trogdor coordinator shutdown
    
    In the coordinator, we should check that 'shutdown' is not true before going to sleep waiting for the condition.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3755 from cmccabe/KAFKA-5806

commit 47c2753496875db2849065ad91ee03c7c842c8e9
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Aug 31 12:42:08 2017 -0400

    MINOR: Test SASL authorization id
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3766 from rajinisivaram/MINOR-sasl

commit 9ebc303bb85bf5aae2b732c60d3b3e0a6e07512d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Aug 31 08:43:13 2017 -0700

    KAFKA-5379 follow up: reduce redundant mock processor context
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>
    
    Closes #3757 from guozhangwang/K5379-follow-up

commit 9836adc732288924813927c4869ffb3908febba1
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Aug 31 16:30:33 2017 +0100

    KAFKA-2105; Check for null in KafkaProducer.partitionsFor
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3697 from omkreddy/KAFKA-2105

commit ce04b14358054dd33134a596de97ef5594d187b7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Aug 30 11:17:55 2017 -0700

    MINOR: KIP-160 docs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3733 from guozhangwang/KMinor-kip160-docs

commit f5310d645c4920d37925e82edb07f1e4a582b0b2
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Aug 30 09:45:16 2017 -0700

    MINOR: doc changes for KIP-138
    
    1. Core concepts (added the stream time definition), upgrade guide and developer guide.
    2. Related Java docs changes.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3732 from guozhangwang/KMinor-kip138-docs

commit 6682abe4ae68fdbf0eb362e45f43ea14e2aba847
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Aug 30 08:43:22 2017 -0700

    KAFKA-5797: Delay checking of partition existence in StoreChangelogReader
    
    1. Remove timeout-based validatePartitionExists from StoreChangelogReader; instead only try to refresh metadata once after all tasks have been created and their topology initialized (hence all stores have been registered).
    2. Add the logic to refresh partition metadata at the end of initialization if some restorers needing initialization cannot find their changelogs, hoping that in the next run loop these stores can find their changelogs.
    
    As a result, after `initialize` is called we may not be able to start initializing all the `needsInitializing` ones.
    
    As an optimization, we would not call `consumer#partitionsFor` any more, but only `consumer#listTopics` fetching all the topic metadata; so the only blocking calls left are `listTopics` and `endOffsets`, and we always capture timeout exceptions around these two calls, and delay to retry in the next run loop after refreshing the metadata. By doing this we can also reduce the number of request round trips between consumer and brokers.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #3748 from guozhangwang/K5797-handle-metadata-available

commit 76c9a6dcbc1fa92d1a7c2e913ad42b5f1a72fe62
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Aug 30 13:52:44 2017 +0100

    KAFKA-5804; retain duplicates in ChangeLoggingWindowBytesStore
    
    `ChangeLoggingWindowBytesStore` needs to have the same `retainDuplicates` functionality as `RocksDBWindowStore` else data could be lost upon failover/restoration.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3754 from dguy/hotfix-changelog-window-store

commit 10cb534c8b18997301553db6debfe91bf596500e
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Wed Aug 30 11:32:40 2017 +0100

    KAFKA-5762; Refactor AdminClient to use LogContext
    
    - client id is part of the log context, so removed ad-hoc usages
    - Fixed an issue where the response was not printed correctly,
    use `toString(version)` instead of `toString()`
    - Capitalized all log statements for consistency
    - Fixed a number of double spaces after period
    
    Author: Kamal Chandraprakash <kamal.chandraprakash@gmail.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3741 from Kamal15/kafka-5762

commit bd54d2e3e09e7dc717828ed5690aa30f7c3611d8
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Aug 30 10:09:08 2017 +0100

    MINOR: stateful docs for aggregates
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3730 from enothereska/minor-docs-aggregates

commit 949577ca77d5c143774d4879b19505b4d6284de3
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Aug 29 16:41:19 2017 -0700

    KAFKA-5768; Upgrade to ducktape 0.7.1
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3721 from cmccabe/KAFKA-5768

commit 9ef2b3ce8e4553504e52385a6370bf641fc6ea1e
Author: Tommy Becker <tobecker@tivo.com>
Date:   Tue Aug 29 13:01:57 2017 -0700

    KAFKA-5379: ProcessorContext.appConfigs() should return parsed values
    
    Author: Tommy Becker <tobecker@tivo.com>
    Author: Tommy Becker <twbecker@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3455 from twbecker/kafka-5379

commit 1f659913a631d9e77e7cd9b9c9775e3249ef803a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Aug 29 10:40:42 2017 -0700

    MINOR: simplify state transition for Kafka Streams and stream threads
    
    1. StreamThread: prevent `PARTITIONS_REVOKED` to transit to itself in `setState` by returning false. And only execute the task suspension logic when `setState(PARTITIONS_REVOKED)` returns true in `onPartitionsRevoked`.
    
    2. StreamThread: minor, renaming `shutdown` to `completeShutdown`, and `close` to `shutdown`, `stillRunning` to `isRunning`, `isInitialized` to `isRunningAndNotRebalancing`.
    
    3. GlobalStreamThread: tighten the transition a bit in `setState`. Force transiting to `PENDING_SHUTDOWN` and `DEAD` when initialization failed.
    
    4. GlobalStreamThread: minor, add logPrefix to StateConsumer. Also removing its state change listener when closing the thread.
    
    5. KafkaStreams: because of 1) above we can now prevent its `REBALANCING` to `REBALANCING`.
    
    6. KafkaStreams: prevent `CREATED` to ever go to `REBALANCING` first to force it transit to `RUNNING` when starting. Also prevent `CREATED` to go to `ERROR`.
    
    7. KafkaStreams: collapse `validateStartOnce` and `checkFirstTimeClosing ` into `setState`.
    
    8. KafkaStreams: in `close` and `start`, only execute the logic when `setState` succeeds.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #3713 from guozhangwang/KMinor-set-state

commit 7ae02a69c4965ccc6b9aeb72a0803d8ab1f62cc8
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sun Aug 27 09:23:35 2017 +0100

    KAFKA-5720; Fix AdminClientIntegrationTest#testCallInFlightTimeouts
    
    * When a call is aborted, that should count as a "try" in the failure log message.
    * FailureInjectingTimeoutProcessorFactory should fail the first request it is asked about.
    * testCallTimeouts should expect the first request it makes to fail because of the timeout we injected.
    * FailureInjectingTimeoutProcessorFactory should track how many failures it has injected, and the test should verify that one has been injected.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3731 from cmccabe/KAFKA-5720

commit 8d3aa6acadd057b866ffa39f04592ec8f92ad700
Author: Holden Karau <holden@us.ibm.com>
Date:   Sun Aug 27 09:13:05 2017 +0100

    KAFKA-4380; Document the purpose of clean shutdown file in the code.
    
    Remove the previous TODO to remove the clean shutdown file with some of the discussion from https://github.com/apache/kafka/pull/2104.
    
    Author: Holden Karau <holden@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3742 from holdenk/KAFKA-4380-document-clean-shutdown-file

commit 5648dcc3e59f4518d7febb31e0d687b94f1baadf
Author: Michal Borowiecki <michal.borowiecki@openbet.com>
Date:   Sat Aug 26 16:33:33 2017 -0700

    MINOR: Fix doc typos and grammar
    
    This is contributed by mihbor on various doc fixes including:
    
    https://github.com/apache/kafka/pull/3224
    https://github.com/apache/kafka/pull/3226
    https://github.com/apache/kafka/pull/3229
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3746 from guozhangwang/KMinor-doc-typos

commit b6adb2dc89ae0625aa5d7fa501c9585585d50107
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Sat Aug 26 16:15:40 2017 -0700

    KAFKA-3989; MINOR: follow-up: update script to run from kafka root
    
    …h-benchmarks/jmh.sh
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2654 from bbejeck/KAFKA-3989_follow_up

commit b01fcc3b89ee27940ca20dea00226d09a0ca0b8e
Author: Jeremy Custenborder <jcustenborder@gmail.com>
Date:   Sat Aug 26 16:08:24 2017 -0700

    KAFKA-5620: Expose the ClassCastException as the cause for the SerializationException in KafkaProducer
    
    Expose the ClassCastException as the cause for the SerializationException.
    
    Author: Jeremy Custenborder <jcustenborder@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3556 from jcustenborder/KAFKA-5620

commit 551d57561d6cb9e53aa16e0616190d370d339355
Author: Damian Guy <damian.guy@gmail.com>
Date:   Sat Aug 26 11:14:08 2017 -0700

    KAFKA-5787: StoreChangelogReader needs to restore partitions that were added post initialization
    
    If a task fails during initialization due to a LockException, its changelog partitions are not immediately added to the StoreChangelogReader as the thread doesn't hold the lock. However StoreChangelogReader#restore will be called and it sets the initialized flag. On a subsequent successfull call to initialize the new tasks the partitions are added to the StoreChangelogReader, however as it is already initialized these new partitions will never be restored. So the task would remain in a non-running state forever.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3736 from dguy/kafka-5787

commit c715f6a5ab94d187eb662efde594f0f14dcd9910
Author: Damian Guy <damian.guy@gmail.com>
Date:   Sat Aug 26 09:08:46 2017 +0100

    KAFKA-5749; Add MeteredSessionStore and ChangeloggingSessionBytesStore.
    
    Make MeteredSessionStore the outermost store.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3729 from dguy/kafka-5749

commit 0772fde562ed361beec6ad745895a0ee0cf229e8
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Aug 25 12:29:40 2017 -0700

    KAFKA-5776; Add the Trogdor fault injection daemon
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3699 from cmccabe/trogdor-review

commit 607c3c21f652a8f911d1efb8374d2eec313a4e2d
Author: huxihx <huxi_2b@hotmail.com>
Date:   Fri Aug 25 10:38:15 2017 -0700

    KAFKA-5755; KafkaProducer should be refactored to use LogContext
    
    With LogContext, each producer log item is automatically prefixed with client id and transactional id.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3703 from huxihx/KAFKA-5755

commit c4d629a0b3cbd11c174cb8b09a50bc8de77825e9
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Aug 25 10:23:11 2017 -0700

    MINOR: Consolidate broker request/response handling
    
    This patch contains a few small improvements to make request/response handling more consistent. Primarily it consolidates request/response serialization logic so that `SaslServerAuthenticator` and `KafkaApis` follow the same path. It also reduces the amount of custom logic needed to handle unsupported versions of the ApiVersions requests.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3673 from hachikuji/consolidate-response-handling

commit 05e3850b2ea24f372ea1cc6ca7457e0ff99445f6
Author: radzish <radzish@gmail.com>
Date:   Fri Aug 25 13:59:10 2017 +0100

    KAFKA-5771; org.apache.kafka.streams.state.internals.Segments#segments method returns incorrect results when segments were added out of order
    
    Suggested fix for the bug
    
    Author: radzish <radzish@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3737 from radzish/KAFKA-5771

commit 14f6ecd9151fa985fad0a30347efab1397af2491
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Aug 25 07:44:31 2017 +0100

    MINOR: KafkaService should print node hostname on failure
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3715 from cmccabe/kafka_service_print_node_hostname_on_failure

commit e6164ec611ca48e71c549f88d8a92fef90bf5a71
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Aug 24 22:12:50 2017 -0700

    MINOR: Fix transient failure in SocketServerTest.testConnectionIdReuse
    
    Two requests sent together may not always trigger a staged receive since the requests may not be received in a single poll and the channel is muted when receives are complete. Hence attempt to stage multiple times until a receive is staged to make the test more stable.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva@confluent.io>
    
    Closes #3712 from rajinisivaram/MINOR-connectionidreuse-test

commit 71417552c7651a5b41e73460d0577615864aafe8
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 24 16:03:55 2017 -0700

    KAFKA-5342; Clarify producer fatal/abortable errors and fix inconsistencies
    
    This patch improves documentation on the handling of errors for the idempotent/transactional producer. It also fixes a couple minor inconsistencies and improves test coverage. In particular:
    - UnsupportedForMessageFormat should be a fatal error for TxnOffsetCommit responses
    - UnsupportedVersion should be fatal for Produce responses and should be returned instead of InvalidRequest
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3716 from hachikuji/KAFKA-5342

commit 21fea170d8499a7153f2b821bcd32a55ad602645
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Aug 24 09:12:12 2017 -0700

    MINOR: add upgrade section for 1.0.0
    
    1. Add upgrade section for 1.0.0, including Streams API changes section.
    2. Add metrics name changes section.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3687 from guozhangwang/KMinor-metrics-upgrade-guide

commit 5e65c0da45f3a86a25087c4d2e2b501e81e0a285
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Aug 24 14:53:39 2017 +0100

    MINOR: Stateless transformation documentation
    
    Needs to come after https://github.com/apache/kafka/pull/3701
    Originally reviewed as part of #3490.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3711 from enothereska/minor-docs-stateless

commit 5b99a288cd2d4461380b041067768ee6c1b2efc7
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Aug 23 14:30:20 2017 -0700

    KAFKA-5644; Fix Reset Consumer Group Offset tool to handle minute component of TimeZone
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3626 from omkreddy/KAFKA-5644

commit 99eebc840485d5b3352bc9e2f9230a33303cc080
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Aug 23 20:53:00 2017 +0100

    HOTFIX: reduce streams benchmark input records to 10 million
    
    We are occasionally hitting some timeouts due to processing not finishing. So rather than failing the build for these reasons it would be better to reduce the runtime.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3725 from dguy/fix-system-test

commit 3b7e104559211d8104eb6d1493b6cdb5ec93de3a
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Wed Aug 23 09:52:21 2017 -0700

    MINOR: Verify startup of zookeeper service in system tests
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3707 from kkonstantine/MINOR-Verify-startup-of-zookeeper-service-in-system-tests-by-connecting-to-port

commit ea21752a79f3e843f0c2a74ea093a8793e42edb4
Author: dongeforever <dongeforever@apache.org>
Date:   Wed Aug 23 14:00:21 2017 +0100

    KAFKA-5417; Fix Selector's handling of some failures during prepare
    
    If prepare throws an exception in the same poll when the connection
    is established, the channel id should be in `disconnected`, but
    not in `connected`.
    
    Author: dongeforever <dongeforever@apache.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3282 from dongeforever/KAFKA-5417

commit b78d7ba5d58fa77b831244444eef005a62883f9b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Aug 22 11:13:08 2017 -0700

    KAFKA-5152: perform state restoration in poll loop
    
    In onPartitionsAssigned:
    
    release all locks for non-assigned suspended tasks.
    resume any suspended tasks.
    Create new tasks, but don't attempt to take the state lock.
    Pause partitions for any new tasks.
    set the state to PARTITIONS_ASSIGNED
    In StreamThread#runLoop
    
    poll
    if state is PARTITIONS_ASSIGNED
    2.1 attempt to initialize any new tasks, i.e, take out the state locks and init state stores
    2.2 restore some data for changelogs, i.e., poll once on the restore consumer and return the partitions that have been fully restored
    2.3 update tasks with restored partitions and move any that have completed restoration to running
    2.4 resume consumption for any tasks where all partitions have been restored.
    2.5 if all active tasks are running, transition to RUNNING and assign standby partitions to the restoreConsumer.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3675 from dguy/kafka-5152

commit 343a8ef99cbc23e27ada8eb5f8c1b752067a7e41
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Aug 22 15:25:00 2017 +0100

    HOTFIX: Cherrypicking state deadlock fix from 0.11
    
    Cherrypicking additional changes made as part of this PR https://github.com/apache/kafka/pull/3622, back to trunk.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3691 from enothereska/hotfix-deadlock-state

commit 3615ef730caeab3f79874c8e2acb9f7e0e9cff82
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Aug 22 15:08:00 2017 +0100

    KAFKA-5752; Update index files correctly during async delete
    
    timeIndex and txnIndex were not being updated previously.
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3700 from omkreddy/KAFKA-5752

commit 6cf92a253b7102c18547481387df4db17853267e
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Aug 22 15:05:23 2017 +0100

    KAFKA-4856; Synchronize registerAppInfo and unregisterAppInfo
    
    And make AppInfo's static fields final.
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3696 from omkreddy/KAFKA-4856

commit ecea150bdeb7cb98f1aa32eb2cf8ac4116e28f74
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Aug 22 14:14:35 2017 +0100

    MINOR: Document how to create source streams and tables
    
    Originally reviewed as part of https://github.com/apache/kafka/pull/3490.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3701 from enothereska/minor-docs-create-source-streams

commit ee8e9349b22277ec69bf831dda66cfc6e767df14
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Aug 22 11:21:32 2017 +0100

    KAFKA-5689; Add MeteredWindowStore and refactor store hierarchy
    
    Add MeteredWindowStore and ChangeLoggingWindowBytesStore.
    Refactor Store hierarchy such that Metered is always the outermost store
    Do serialization in MeteredWindowStore
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3692 from dguy/kafka-5689

commit 0b0819ba057bdb1e4d0d16745491aad523cab399
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Mon Aug 21 11:01:26 2017 -0700

    MINOR: Typographical error corrected in the StreamsBuilder Javadoc.
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3695 from Kamal15/typo_error

commit 57dbe39ae1e8312c5e0e6603061d2816a8c05198
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Mon Aug 21 18:36:45 2017 +0100

    KAFKA-5743; Ducktape services should use subdirs of /mnt
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3680 from cmccabe/KAFKA-5743

commit bf3bfd6749610eb49a4e47bdda2e667ca7458ff2
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Aug 21 10:22:53 2017 -0700

    KAFKA-5747; Producer snapshot loading should cover schema errors
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3688 from hachikuji/KAFKA-5747

commit 8a5a84dc67e16f6ff77cc30454682b0ad6e5a878
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Aug 21 17:49:11 2017 +0100

    KAFKA-5753; ShellTest.testRunProgramWithErrorReturn fails on macOS
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3706 from ijuma/fix-shell-test-mac

commit 26c65953ede2b449d7165f2d04453bc00dd29c20
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Aug 20 07:54:36 2017 +0100

    MINOR: Deprecate LogConfig.Compact
    
    It actually refers to the `delete` cleanup policy.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3634 from ijuma/fix-misleading-compact-log-config

commit 6896f1ddb7650f42630aef8c67c8b61866e9fc00
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Aug 19 11:17:02 2017 -0700

    MINOR: Ensure consumer logging has clientId/groupId context
    
    This patch ensures that the consumer groupId and clientId are available in all log messages which makes debugging much easier when a single application has multiple consumer instances. To make this easier, I've added a new `LogContext` object which builds a log prefix similar to the broker-side `kafka.utils.Logging` mixin. Additionally this patch changes the log level for a couple minor cases:
    
    - Consumer wakeup events are now logged at DEBUG instead of TRACE
    - Heartbeat enabling/disabling is now logged at DEBUG instead of TRACE
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3676 from hachikuji/log-consumer-wakeups

commit ed96523a2c763b48399a9720dcce0af44f5fc1a1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Aug 19 08:55:29 2017 +0100

    KAFKA-4501; Java 9 compilation and runtime fixes
    
    Compilation error fixes:
    - Avoid ambiguity error when appending to Properties in Scala
    code (https://github.com/scala/bug/issues/10418)
    - Use position() and limit() to fix ambiguity issue (
    https://github.com/scala/bug/issues/10418#issuecomment-316364778)
    - Disable findBugs if Java 9 is used (
    https://github.com/findbugsproject/findbugs/issues/105)
    
    Compilation warning fixes:
    - Avoid deprecated Class.newInstance in Utils.newInstance
    - Silence a few Java 9 deprecation warnings
    - var -> val and unused fixes
    
    Runtime error fixes:
    - Introduce Base64 class that works in Java 7 and Java 9
    
    Also:
    - Set --release option if building with Java 9
    
    Note that tests involving EasyMock (https://github.com/easymock/easymock/issues/193)
    or PowerMock (https://github.com/powermock/powermock/issues/783)
    will fail as neither supports Java 9 currently.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3647 from ijuma/kafka-4501-support-java-9

commit 3e22c1c04a8751d8b6bd4cefa88f8f33ec2de8e0
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Aug 18 18:13:02 2017 +0100

    KAFKA-5725; More failure testing
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3656 from enothereska/minor-add-more-tests

commit 75c78e9692a479e2c94dbd08e564f64faedd2071
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Aug 18 17:59:33 2017 +0100

    KAFKA-5668; fetch across stores in CompositeReadOnlyWindowStore & CompositeReadOnlySessionStore
    
    Fix range queries in `CompositeReadOnlyWindowStore` and `CompositeReadOnlySessionStore` to fetch across all stores (was previously just looking in the first store)
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3685 from dguy/kafka-5668

commit 3457c4761ae09ef2befc141278fe489900cac470
Author: huxihx <huxi_2b@hotmail.com>
Date:   Fri Aug 18 15:58:59 2017 +0100

    KAFKA-5745; makeLeader should invoke `convertHWToLocalOffsetMetadata` before marking it as leader
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3682 from huxihx/KAFKA-5745

commit a4720b25a372790b26a0b00fa18eb78f830b1311
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Aug 18 11:38:38 2017 +0100

    KAFKA-5744; ShellTest: add tests for attempting to run nonexistent program, error return
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3679 from cmccabe/KAFKA-5744

commit 520e651d532558b346d08388cb9aa0ac6e156ece
Author: Xavier Léauté <xavier@confluent.io>
Date:   Thu Aug 17 15:14:32 2017 -0700

    KAFKA-5742: support ZK chroot in system tests
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3677 from xvrl/support-zk-chroot-in-tests

commit 334a30bcfffc3759aeded08f2089cea4ed6e9937
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 17 15:04:03 2017 -0700

    KAFKA-5730; Consumer should invoke async commit callback before sync commit returns
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #3666 from hachikuji/KAFKA-5730

commit efe4f6540a3c26371c88b3f956bbd4abfe9dc52e
Author: Bill Bejeck <bill@confluent.io>
Date:   Thu Aug 17 14:02:10 2017 -0700

    KAFKA-5733: RocksDB bulk load with lower number of levels
    
    This is to complete Bill's PR #3664 on KAFKA-5733, incorporating the suggestion in https://github.com/facebook/rocksdb/issues/2734.
    
    Some minor changes: move `open = true` in `openDB`.
    
    Author: Bill Bejeck <bill@confluent.io>
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3681 from guozhangwang/K5733-rocksdb-bulk-load

commit 72eacbea5b831096a6cc9a4fa42401bc74a88a80
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Wed Aug 16 14:43:29 2017 -0700

    KAFKA-5567: Connect sink worker should commit offsets of original topic partitions
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3499 from kkonstantine/KAFKA-5567-With-transformations-that-mutate-the-topic-partition-committing-offsets-should-to-refer-to-the-original-topic-partition

commit bf34a5b74035a90a7461ac8c8a209da450c0346b
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Aug 16 13:22:44 2017 +0100

    KAFKA-5737; KafkaAdminClient thread should be daemon
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3674 from cmccabe/KAFKA-5737

commit 3b1cea60e909e579e54775fc479397ddbeba95eb
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Aug 15 14:16:00 2017 -0700

    KAFKA-5731; Corrected how the sink task worker updates the last committed offsets
    
    Prior to this change, it was possible for the synchronous consumer commit request to be handled before previously-submitted asynchronous commit requests. If that happened, the out-of-order handlers improperly set the last committed offsets, which then became inconsistent with the offsets the connector task is working with.
    
    This change ensures that the last committed offsets are updated only for the most recent commit request, even if the consumer reorders the calls to the callbacks.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3662 from rhauch/kafka-5731

commit 869ef5579f00661a5d68e92f09e088e7ed884189
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Aug 14 13:52:02 2017 -0700

    HOTFIX: ConsoleConsumer using wrong old consumer config value for auto.offset.reset
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3665 from hachikuji/hotfix-auto-reset-console-consumer

commit c0f7a7705851eec4a77d3e42cf6bf2546c07ffa8
Author: Andrey Dyachkov <andrey.dyachkov@zalando.de>
Date:   Mon Aug 14 18:24:43 2017 +0100

    KAFKA-4643; Improve test coverage of StreamsKafkaClient
    
    The commit brings improved test coverage for StreamsKafkaClientTest.java
    
    Author: Andrey Dyachkov <andrey.dyachkov@zalando.de>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3663 from adyach/kafka-4643

commit 21ea4b1d2a1b99aa804bd4461015abaf31673923
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Aug 14 17:07:42 2017 +0100

    KAFKA-5595; Ensure client connection ids are not reused too quickly
    
    When there are broker delays that cause a response to take longer
    than `connections.max.idle.ms`, connections may be closed by the
    broker (as well as by the client) before the response is processed.
    If the port is reused, broker may send the outstanding response to
    a new connection with the reused port. The new connection will end
    up with correlation id mismatch, requiring process restart. This
    is also a security exposure since clients receive response
    intended for the wrong connection.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3530 from rajinisivaram/KAFKA-5595

commit 8265a43897b3da88839df061ce22559820087ad9
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Aug 14 14:05:40 2017 +0100

    MINOR: Safer handling of requests prior to SASL authentication
    
    This implements two improvements for request handling prior to SASL authentication:
    
    1. Only parse request types that are allowed prior to authentication.
    2. Limit the maximum request size (the default is 100Mb).
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3558 from hachikuji/minor-restrict-presasl-request-parsing

commit e19c37e5914b1fa64befdfdf24edbf2415f8cdb3
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Aug 14 10:02:32 2017 +0100

    KAFKA-5673; refactor KeyValueStore hierarchy to make MeteredKeyValueStore outermost
    
    refactor StateStoreSuppliers such that a `MeteredKeyValueStore`  is the outermost store.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3592 from dguy/key-value-store-refactor

commit f4dc5ac15ca120d8240ac3b8ba28139ccb26cf91
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Aug 14 00:11:58 2017 +0100

    MINOR: AdminClient should register with `AppInfoParser`
    
    Also make "created" message more consistent across clients.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3658 from ijuma/admin-client-should-register-with-app-info-parser

commit b6102cf4b2c3c56850593c5d88612cb9c4ac704f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Aug 11 13:53:47 2017 -0700

    HOTFIX: missing imports and version on web docs

commit d2774e302fa528b4fe7b7db39f69cf679753f348
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Aug 11 12:19:28 2017 -0700

    KAFKA-5727: Add Streams quickstart tutorial as an archetype project
    
    0. Minor fixes on the existing examples to merge all on a single input topic; also do not use `common.utils.Exit` as it is for internal usage only.
    
    1. Add the archetype project for the quickstart. Steps to try it out:
    
      a. `mvn install` on the quickstart directory.
      b. `mvn archetype:generate \
    -DarchetypeGroupId=org.apache.kafka \
    -DarchetypeArtifactId=streams-quickstart-java \
    -DarchetypeVersion=1.0.0-SNAPSHOT \
    -DgroupId=streams-quickstart \
    -DartifactId=streams-quickstart \
    -Dversion=0.1 \
    -Dpackage=StreamsQuickstart \
    -DinteractiveMode=false` at any directory to create the project.
      c. build the streams jar with version `1.0.0-SNAPSHOT` to local maven repository with `./gradlew installAll`; `cd streams-quickstart; mvn clean package`
      d. create the input / output topics, start the console producer and consumer.
      e. start the program: `mvn exec:java -Dexec.mainClass=StreamsQuickstart.Pipe/LineSplit/WordCount`.
      f. type data on console producer and observe data on console consumer.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bbejeck@gmail.com>, Ewen Cheslack-Postava <me@ewencp.org>, Eno Thereska <eno.thereska@gmail.com>
    
    Closes #3630 from guozhangwang/KMinor-streams-quickstart-tutorial

commit 3e69ce80157eb6a5e6dd05e3be522b5208a41bc5
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Aug 11 12:14:01 2017 +0100

    KAFKA-5702; extract refactor StreamThread
    
    Extracted `TaskManager` to handle all task related activities.
    Make `StandbyTaskCreator`, `TaskCreator`, and `RebalanceListener` static classes so they must define their dependencies and can be testing independently of `StreamThread`
    Added interfaces between `StreamPartitionAssignor` & `StreamThread` to reduce coupling.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Eno Thereska <eno.thereska@gmail.com>
    
    Closes #3624 from dguy/stream-thread-refactor

commit b2b529522d0683b4c3f97be8ac92597048f45037
Author: Bill Bejeck <bill@confluent.io>
Date:   Fri Aug 11 09:35:26 2017 +0100

    MINOR: First cut at porting State Store docs to AK
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3629 from bbejeck/docs-updates-for-kip-167

commit 8ffb1a1fedad4350dd0f0ce0dd52107f962ce428
Author: Bill Bejeck <bill@confluent.io>
Date:   Thu Aug 10 11:31:55 2017 -0700

    KAFKA-5711: batch restore should handle deletes
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3644 from bbejeck/KAFKA-5711_bulk_restore_should_handle_deletes

commit 017a21c6044189abe40b2b8b09ba51447646136e
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 10 11:07:53 2017 -0700

    MINOR: Remove unneeded error handlers in deprecated request objects
    
    These handlers were previously used on the broker to handle uncaught exceptions, but now the broker users the new Java request objects exclusively.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3646 from hachikuji/remove-old-request-error-handlers

commit 75b0f30c448c12199263e3d82708c2cb6817d702
Author: Xavier Léauté <xavier@confluent.io>
Date:   Thu Aug 10 01:43:02 2017 +0100

    KAFKA-5077; fix GC logging arguments for Java 9
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2863 from xvrl/fix-jdk9-gc-logs

commit 23df2199d78d799851a797f9c90c74e3bbc464f5
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 10 01:31:41 2017 +0100

    MINOR: Add missing deprecations on old request objects
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3651 from hachikuji/add-missing-request-deprecations

commit d2a2b80cc615429a14ccdf21a1bd6c5fd0b31728
Author: Evgeny Veretennikov <evg.veretennikov@gmail.com>
Date:   Wed Aug 9 23:48:09 2017 +0100

    KAFKA-5507; Check if classpath is empty in kafka-run-class.sh
    
    Author: Evgeny Veretennikov <evg.veretennikov@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3421 from evis/kafka-run-class-check-classpath

commit 69d3d4aad6ce0678f592140501485893b68b20b1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Aug 9 23:38:57 2017 +0100

    KAFKA-5470; Replace -XX:+DisableExplicitGC with -XX:+ExplicitGCInvokesConcurrent in kafka-run-class
    
    This is important because Bits.reserveMemory calls System.gc() hoping to free native
    memory in order to avoid throwing an OutOfMemoryException. This call is currently
    a no-op due to -XX:+DisableExplicitGC.
    
    It's worth mentioning that -XX:MaxDirectMemorySize can be used to increase the
    amount of native memory available for allocation of direct byte buffers.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Manikumar Reddy <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3371 from ijuma/kafka-5470-explicit-gc-invokes-concurrent

commit 889da45dd00af266ddf2154a062903bd0d4cad17
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Aug 9 23:35:13 2017 +0100

    MINOR: Improve instructions for running system tests with docker
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3649 from enothereska/minor-docker-docs

commit 1ad74f5b760d16f3990a5024e717f4826278675d
Author: Soenke Liebau <soenke.liebau@opencore.com>
Date:   Wed Aug 9 13:22:05 2017 -0700

    KAFKA-5629; ConsoleConsumer should respect auto.offset.reset if specified on the command line
    
    when "auto.offset.reset" property is specified on the command line but overridden by the code during startup. Currently the ConsoleConsumer silently overrides that setting, which can create confusing behavior.
    
    Author: Soenke Liebau <soenke.liebau@opencore.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3566 from soenkeliebau/KAFKA-5629

commit c35c4798139bc30e3a380311e45a22ba56fcc918
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Aug 9 20:03:28 2017 +0100

    KAFKA-5717; InMemoryKeyValueStore should delete keys with null values during restore
    
    Fixed a bug in the InMemoryKeyValueStore restoration where a key with a `null` value is written in to the map rather than being deleted.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3650 from dguy/kafka-5717

commit a593db6a2b6c3511215008b6d3dd6bd77f84e8c4
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Aug 9 09:07:27 2017 -0700

    MINOR: Standardize logging of Worker-level messages from Tasks and Connectors
    
    This ensures all logs have the connector/task ID, whether tasks are source or sink, and formats them consistently.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3639 from ewencp/standardize-connector-task-logging

commit 1a653c813c842c0b67f26fb119d7727e272cf834
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Aug 8 20:20:41 2017 -0700

    KAFKA-5704: Corrected Connect distributed startup behavior to allow older brokers to auto-create topics
    
    When a Connect distributed worker starts up talking with broker versions 0.10.1.0 and later, it will use the AdminClient to look for the internal topics and attempt to create them if they are missing. Although the AdminClient was added in 0.11.0.0, the AdminClient uses APIs to create topics that existed in 0.10.1.0 and later. This feature works as expected when Connect uses a broker version 0.10.1.0 or later.
    
    However, when a Connect distributed worker starts up using a broker older than 0.10.1.0, the AdminClient is not able to find the required APIs and thus will throw an UnsupportedVersionException. Unfortunately, this exception is not caught and instead causes the Connect worker to fail even when the topics already exist.
    
    This change handles the UnsupportedVersionException by logging a debug message and doing nothing. The existing producer logic will get information about the topics, which will cause the broker to create them if they don’t exist and broker auto-creation of topics is enabled. This is the same behavior that existed prior to 0.11.0.0, and so this change restores that behavior for brokers older than 0.10.1.0.
    
    This change also adds a system test that verifies Connect works with a variety of brokers and is able to run source and sink connectors. The test verifies that Connect can read from the internal topics when the connectors are restarted.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3641 from rhauch/kafka-5704

commit b8cf976865f3559b4e5c45eeb261444cd1d7383f
Author: Xavier Léauté <xavier@confluent.io>
Date:   Tue Aug 8 19:58:47 2017 -0700

    MINOR: support retrieving cluster_id in system tests
    
    ewencp would be great to cherry-pick this back into 0.11.x if possible
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3645 from xvrl/system-test-cluster-id

commit fb8edbdc6314411e0ed006a76e9658460a99208a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Aug 9 01:11:39 2017 +0100

    MINOR: Update dependencies for 1.0.0 release
    
    Notable updates:
    
    1. Gradle 4.1 includes a number of performance and
    CLI improvements as well as initial Java 9 support.
    
    2. Scala 2.12.3 has substantial compilation time
    improvements.
    
    3. lz4-java 1.4 allows us to remove a workaround in
    KafkaLZ4BlockInputStream (not done in this PR).
    
    4. snappy-java 1.1.4 improved performance of compression (5%)
    and decompression (20%). There was a slight increase in the
    compressed size in one of our tests.
    
    Not updated:
    
    1. PowerMock due to a couple of regressions. I investigated one of them
    and filed https://github.com/powermock/powermock/issues/828.
    
    2. Jackson, which will be done via #3631.
    
    3. Rocksdb, which will be done via #3519.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3619 from ijuma/update-deps-for-1.0.0

commit 649276abb284c4f71504e9f028c5ab1450849fae
Author: huxihx <huxi_2b@hotmail.com>
Date:   Tue Aug 8 23:22:57 2017 +0100

    KAFKA-2360; Extract producer-specific configs out of the common PerfConfig
    
    Separate `batch.size`, `message-size` and `compression-code` from PerfConfig to a newly-created ProducerPerfConfig in order to hide them in ConsumerPerf tool.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3613 from huxihx/KAFKA-2360

commit 98d4a483382dacad280e0cd25f10bccca51328a5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Aug 8 23:15:57 2017 +0100

    MINOR: Remove unused GroupState.state field
    
    This field doesn't seem to be used and the value for
    `AwaitingSync` seems to be wrong (it seems like it
    should have been `2` instead of `5`).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3572 from ijuma/remove-unused-group-state-field

commit c9ffab16228ecd5d931b58d93dfa3f49287d2909
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Aug 8 09:38:15 2017 +0100

    KAFKA-5658; Fix AdminClient request timeout handling bug resulting in continual BrokerNotAvailableExceptions
    
    The AdminClient does not properly clear calls from the callsInFlight structure.
    Later, in an effort to clear the lingering call objects, it closes the connection
    they are associated with. This disrupts new incoming calls, which then get
    BrokerNotAvailableException.
    
    This patch fixes this bug by properly removing completed calls from the
    callsInFlight structure. It also adds the Call#aborted flag, which
    ensures that we throw the right exception (TimeoutException instead of
    DisconnectException) and only abort a connection once -- even if there
    is a similar bug in the future which causes old Call objects to linger.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3584 from cmccabe/KAFKA-5658

commit 57770dd235a82994f296971079a97281be0a130b
Author: Bill Bejeck <bill@confluent.io>
Date:   Mon Aug 7 15:20:24 2017 -0700

    KAFKA-5701: fix flaky RocksDBStore unit test
    
    1. Remove separate thread from test failing periodically due to race condition.
    2. Remove anonymous `AbstractNotifyingBatchingRestoreCallback` declare as concrete inner class `RocksDBBatchingRestoreCallback` and set as package private variable.  Class is static so it has to initialize it's dependency on `RocksDBStore`
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3640 from bbejeck/KAFKA-5701_fix_flaky_unit_test

commit 1f0ad0121e03a2e4f6c0cf3551b14c75085bd34f
Author: Bill Bejeck <bill@confluent.io>
Date:   Mon Aug 7 09:54:43 2017 -0700

    HOTFIX: fix for standby tasks using batching restore
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3625 from bbejeck/HOTFIX_need_to_correct_stanby_task_restoration_to_use_new_restore_api

commit f15cdc73ddd06e0bf0f319b0d8ad8f63e80cf28d
Author: ppatierno <ppatierno@live.com>
Date:   Mon Aug 7 08:10:42 2017 -0700

    KAFKA-5516: Formatting verifiable producer/consumer output in a similar fashion
    
    Author: ppatierno <ppatierno@live.com>
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3434 from ppatierno/verifiable-consumer-producer

commit 2010aa067ffb3adba1afd392d7da10f67e231eb8
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Aug 7 10:17:17 2017 +0100

    MINOR: add memory management section to streams docs
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Eno Thereska <eno.thereska@gmail.com>
    
    Closes #3604 from dguy/memory-management-docs

commit 1cd86284e808e2846e94b312bb55141f6d216d51
Author: huxihx <huxi_2b@hotmail.com>
Date:   Sun Aug 6 22:25:52 2017 -0700

    KAFKA-5700; Producer should not drop header information when splitting batches
    
    Producer should not drop header information when splitting batches.  This PR also corrects a minor typo in Sender.java, where `spitting and retrying` should be `splitting and retrying`.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #3620 from huxihx/KAFKA-5700

commit 1d291a4219656cd9f597432ff9d7f8a42900abdb
Author: Paolo Patierno <ppatierno@live.com>
Date:   Sun Aug 6 21:50:43 2017 -0700

    KAFKA-5643: Using _DUCKTAPE_OPTIONS has no effect on executing tests
    
    Added handling of _DUCKTAPE_OPTIONS (mainly for enabling debugging)
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3578 from ppatierno/kafka-5643

commit d637c134c8d8ce729cdff4e152a6eee3846bafcb
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sat Aug 5 09:04:05 2017 +0100

    KAFKA-5602; ducker-ak: support --custom-ducktape
    
    Support a --custom-ducktape flag which allows developers to install
    their own versions of ducktape into Docker images.  This is helpful for
    ducktape development.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3539 from cmccabe/KAFKA-5602

commit 70796c3ca3306943e74d2ca260f3f28707481985
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Aug 4 13:08:12 2017 -0700

    MINOR: Fix error response handler for controlled shutdown v0
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3627 from hachikuji/minor-fix-controlled-shutdown-error-response

commit 22611aca9b33cc3db9362add785e44c7a3698ba3
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Aug 4 10:25:21 2017 -0700

    KAFKA-5535: Handle null values in ExtractField
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3559 from ewencp/kafka-5535-extract-field-null

commit 5704d8f05f0d271b62d0170ba5a8fbfceacb4304
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Aug 4 09:16:57 2017 -0700

    HOTFIX: add the hyper link for storage
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3617 from guozhangwang/KHotfix-introduction-hyperlink

commit c1690da071c00ef8d6cca7b3bed50a0e5e2c3332
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Fri Aug 4 13:35:35 2017 +0100

    KAFKA-5388; Replace ZkClient.subscribe*Changes methods with equivalent ZkUtils methods
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3281 from baluchicken/KAFKA-5388

commit c06fa5adaaf7fe940c314a0be97e122e921de970
Author: Paolo Patierno <ppatierno@live.com>
Date:   Fri Aug 4 12:52:13 2017 +0100

    MINOR: Added a couple of unit tests for KStreamPrint node when values are bytes
    
    With current tests, the deserialization inside the KStreamPrint node processor which happens when key and/or values are byte[] isn't tested. This PR fixes that.
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bbejeck@gmail.com>
    
    Closes #3611 from ppatierno/minor-kstream-print-test

commit 332a8129d3769163c622688bc7bf53a435f44b34
Author: Paolo Patierno <ppatierno@live.com>
Date:   Fri Aug 4 12:43:56 2017 +0100

    KAFKA-5619; Deprecate --new-consumer option in all tools
    
    Added deprecation and warning message when the --new-consumer
    option is used with the ConsumerGroupCommand and
    the ConsumerPerformance tools.
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3555 from ppatierno/kafka-5619

commit 5766f212db961470f30125a813c1edcc1fe75f6c
Author: Paolo Patierno <ppatierno@live.com>
Date:   Fri Aug 4 12:37:57 2017 +0100

    KAFKA-5599; ConsoleConsumer: deprecate --new-consumer option
    
    Marked --new-consumer as deprecated in the help of ConsoleConsumer
    and a warning will be printed if it's used.
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3537 from ppatierno/kafka-5599

commit 62f03ba2cd27880562dbf85c5ef6699d25bc5b43
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Fri Aug 4 11:39:56 2017 +0100

    MINOR: Avoid duplicate processing of notifications in ZkNodeChangeNotificationListener
    
    Also fix potential NPE.
    
    Author: Manikumar Reddy <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3615 from omkreddy/zk-notif-duplicates

commit e7f7d4093968d8de494e371a6d3c85e555332cbb
Author: Abhishek Mendhekar <amendhekar@linkedin.com>
Date:   Fri Aug 4 11:23:43 2017 +0100

    KAFKA-5461; Add metric to track global topic count and global parition count in a cluster
    
    Author: Abhishek Mendhekar <amendhekar@linkedin.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3549 from abhishekmendhekar/KAFKA-5461

commit 5a516fb28e6a2af559fcbac5df12f048a5916fc6
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 3 16:18:26 2017 -0700

    KAFKA-2507 KAFKA-2959; Remove legacy ControlledShutdown request/response objects
    
    This patch replaces the legacy ControlledShutdown objects in `kafka.api` with the alternatives in `org.apache.kafka.common.requests`. Since this was the last API that needed updating, we have also dropped the reference in `RequestChannel.Request` to the legacy object type.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3612 from hachikuji/remove-old-controlled-shutdown-objects

commit 613971f8d401e42f985e0942927348dcee640b75
Author: Max Zheng <mzheng@confluent.io>
Date:   Thu Aug 3 15:24:05 2017 -0700

    MINOR: Use commitId property if set
    
    This allows a build system to set the correct commit ID when .git/HEAD would be wrong
    if there are local commits for build purposes.
    
    Author: Max Zheng <mzheng@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3606 from maxzheng/read-commit@trunk

commit 13deb84dcf4b3e583997dbd05a0e25840f024375
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Aug 3 14:56:20 2017 -0700

    MINOR: Null out all buffer references in RequestChannel.Request
    
    The previous code kept two references to `Buffer` and only nulled
    out one of them.
    
    As part of this, I removed the `case` modifier from
    `RequestChannel.{Request, Response}`. They don't seem to be good
    matches given the types of fields they contain (mutable buffers and
    opaque `Send` instances).
    
    Also removed a couple of unused files in `kafka.network`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Radai Rosenblatt <radai.rosenblatt@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3596 from ijuma/release-buffer-in-request

commit 6bee1e9e5799398550e1897bcef6c5067452500b
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Aug 3 14:16:47 2017 -0700

    HOTFIX: Fixes to metric names of Streams
    
    A couple of fixes to metric names to match the KIP
    - Removed extra strings in the metric names that are already in the tags
    - add a separate metric for "all"
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3491 from enothereska/hotfix-metric-names

commit fb21209b5ad30001eeace56b3c8ab060e0ceb021
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Aug 2 16:05:26 2017 +0100

    KAFKA-5663; Pass non-null logDirFailureChannel to Log.apply
    
    Also:
    - Improve logging
    - Remove dangerous default arguments in Log.apply
    - Improve naming of methods and fields in LogDirFailureChannel
    - Some clean-ups
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>, Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3594 from lindong28/KAFKA-5663

commit 125d69caee993710bc07523fdd3deb0e06b10636
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Aug 2 15:13:02 2017 -0700

    KAFKA-5671 Followup: Remove reflections in unit test classes
    
    1. Remove rest deprecation warnings in streams:jar.
    
    2. Consolidate all unit test classes' reflections to access internal topology builder from packages other than `o.a.k.streams`. We need to refactor the hierarchies of StreamTask, StreamThread and KafkaStreams to remove these hacky reflections.
    
    3. Minor fixes such as reference path, etc.
    
    4. Minor edits on web docs for the describe function under developer-guide.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Bill Bejeck <bill@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3603 from guozhangwang/K5671-followup-comments

commit 630e9c5679efa0916a7bfca849dfc8850737681c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Aug 2 14:34:20 2017 -0700

    KAFKA-5006: Improve thrown exception error logs
    
    1. Only log an ERROR on the first encountered exception from the callback.
    
    2. Wrap the exception message with the first thrown message information, and throw the exception whenever `checkException` is called.
    
    Therefore, for the `store.put` call, it will throw a `KafkaException` with the error message a bit more intuitive.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Xavier Léauté <xavier@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3534 from guozhangwang/K5006-exception-record-collector

commit db306ec36297d042b58de6f825b0419d0ea912d8
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Aug 2 15:50:40 2017 +0100

    MINOR: Support versions with 3 segments in _kafka_jar_versions
    
    The bump from 0.11.1.0-SNAPSHOT to 1.0.0-SNAPSHOT broke a couple
    of system tests:
    
    * TestVerifiableProducer.test_simple_run
    * KafkaVersionTest.test_multi_version
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3587 from ijuma/fix-_kafka_jar_versions

commit b7684b47b80a2a7d604632bb325fde49e570480f
Author: Mariam John <mariamj@us.ibm.com>
Date:   Wed Aug 2 14:11:23 2017 +0100

    KAFKA-5096; Log invalid user configs and use defaults
    
    Kafka Streams does not allow users to modify some consumer configurations.
    Currently, it does not allow modifying the value of 'enable.auto.commit'.
    If the user modifies this property, currently an exception is thrown.
    The following changes were made in this patch:
    - Defined a new array 'NON_CONFIGURABLE_CONSUMER_CONFIGS' to hold the names
      of the configuration parameters that is not allowed to be modified
    - Defined a new method 'checkIfUnexpectedUserSpecifiedConsumerConfig' to
      check if user overwrote the values of any of the non configurable configuration
      parameters. If so, then log a warning message and reset the default values
    - Updated the javadoc to include the configuration parameters that cannot be
      modified by users.
    - Updated the corresponding tests in StreamsConfigTest.java to reflect the changes
      made in StreamsConfig.java
    
    Author: Mariam John <mariamj@us.ibm.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Eno Thereska <eno.thereska@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #2990 from johnma14/bug/kafka-5096

commit edcefccfd7bd83110746fa81669e0d69ece5bb4b
Author: Mariam John <mariamj@us.ibm.com>
Date:   Tue Aug 1 16:16:34 2017 -0700

    KAFKA-3623: KStreamTestDriver extends ExternalResource
    
    In the streams project, there are a number of unit tests that has duplicate
    code with respect to the tearDown() method, in which it tries to close the
    KStreamTestDriver connection. The goal of this changeset is to eliminate
    this duplication by converting the KStreamTestDriver class to an ExternalResource
    class which is the base class of JUnit Rule.
    
    In every unit tests that calls KStreamTestDriver, we annotate the KStreamTestDriver
    using Rule annotation. In the KStreamTestDriver class, we override the after()
    method. This after() method in turn calls the close() method which was previously
    called in the tearDown() method in the unit tests. By annotating the KStreamTestDriver
    as a Rule, the after() method will be called automatically after every testcase.
    
    Author: johnma14 <mariamj@us.ibm.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3589 from johnma14/bug/KAFKA-3623

commit 228a4fdb6dc15d1b8615615e00825e7ce53a41fa
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Aug 1 12:28:24 2017 -0700

    HOTFIX: handle commit failed exception on stream thread's suspend task
    
    1. Capture `CommitFailedException` in `StreamThread#suspendTasksAndState`.
    
    2. Remove `Cache` from AbstractTask as it is not needed any more; remove not used cleanup related variables from StreamThread (cc dguy to double check).
    
    3.  Also fix log4j outputs for error and warn, such that for WARN we do not print stack trace, and for ERROR we remove the dangling colon since the exception stack trace will start in newline.
    
    4. Update one log4j entry to always print as WARN for errors closing a zombie task (cc mjsax ).
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3574 from guozhangwang/KHotfix-handle-commit-failed-exception-in-suspend

commit 94a6d6c02d478f5ccec1928163ff921688155a01
Author: Paolo Patierno <ppatierno@live.com>
Date:   Tue Aug 1 11:22:49 2017 -0700

    KAFKA-5454: Add a new Kafka Streams example IoT oriented
    
    Added a Kafka Streams example (IoT oriented) using "tumbling" window
    
    Author: Paolo Patierno <ppatierno@live.com>
    Author: ppatierno <ppatierno@live.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Michael G. Noll <michael@confluent.io>
    
    Closes #3352 from ppatierno/stream-temperature-example

commit 4086db472d08f6dee4d30dda82ab9ff7b67d1a20
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Aug 1 09:10:28 2017 -0700

    MINOR: Request log should be enabled by debug level
    
    At some point, we lost the ability to output request
    logging at debug level (which is a little less
    verbose than at trace level).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3595 from ijuma/fix-debug-request-log

commit cd4c6c0183edfbf8e7e8ce526d638e31fcd09186
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Aug 1 08:56:23 2017 -0700

    KAFKA-5630; Consumer should block on corrupt records and keep throwing an exception
    
    This patch handles the case that a CorruptRecordException is thrown from the iterator directly.
    The fix is a little tricky as exceptions can be thrown from a few different scenarios. The current approach is to let the same record go through the exact same process as last time when exception is thrown, so the exception will be thrown at the same step. The only problem for that is the iterator state will change once it throws an exception. To handle that we cache the first iterator exception and put it into the suppressed exception of the IllegalStateException thrown in the future.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3573 from becketqin/KAFKA-5630

commit da2205578be3228ce40eb5e59f6bbcb0c8da0aba
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Jul 31 15:28:59 2017 -0700

    KAFKA-5671: Add StreamsBuilder and Deprecate KStreamBuilder
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3602 from mjsax/kafka-5671-add-streamsbuilder

commit 1844bf2b2f4cdf5a8209d7ceccb6701fc7dcf768
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Jul 28 16:46:34 2017 -0700

    KAFKA-5670: (KIP-120) Add Topology and deprecate TopologyBuilder
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3590 from mjsax/kafka-3856-replace-topology-builder-by-topology

commit c50c941af1395d010160790f0127f06106cc69c8
Author: Bill Bejeck <bill@confluent.io>
Date:   Fri Jul 28 11:30:56 2017 -0700

    KAFKA-5363 (KIP-167): implementing bulk load, restoration event notification
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3325 from bbejeck/KAFKA-5363_add_ability_to_batch_restore

commit 4003c9384bcf452ba7eb4072b96ad731b13da035
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Jul 28 11:28:33 2017 -0700

    KAFKA-5341; Add UnderMinIsrPartitionCount and per-partition UnderMinIsr metrics (KIP-164)
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3583 from lindong28/KAFKA-5341

commit 4059fa5763252c6869b6b7c682d7b5f9d4dc3a87
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Jul 28 09:05:23 2017 +0100

    HOTFIX: fix threading issue in MeteredKeyValueStore
    
    `MeteredKeyValueStore` wasn't thread safe. Interleaving operations could modify the state, i.e, the `key` and/or `value` which could result in incorrect behaviour.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3588 from dguy/hotfix-metered-kv-store

commit 6bd7302645a6167299de6de4e5a19749502db25c
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jul 27 12:53:26 2017 -0700

    KAFKA-5634; Do not allow segment deletion beyond high watermark
    
    This patch changes the segment deletion behavior to take the high watermark of the partition into account. In particular, segments containing offsets equal to or larger than the high watermark are no longer eligible for deletion. This is needed to ensure that the log start offset reported in fetch responses does not get ahead of the high watermark.
    
    Impact: segment deletion may be delayed compared to existing behavior since the broker must await advancement of the high watermark. For topics with heavy load, this may make the active segment effectively ineligible for deletion since the high watermark may never catch up to the log end offset.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3575 from hachikuji/KAFKA-5634

commit 9d6020ec5fac21f36e2caa58256ee2158658866e
Author: Pranav Maniar <pranav9428@gmail.com>
Date:   Thu Jul 27 16:00:51 2017 +0100

    KAFKA-5549; Explain that 'client.id' is just used as a prefix within Streams
    
    - Added new String CLIENT_ID_DOC in StreamsConfig for explanation
    
    Author: Pranav Maniar <pranav9428@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3544 from PranavManiar/trunk

commit 8b14e11743360a711b2bb670cf503acc0e604602
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jul 27 14:12:57 2017 +0100

    KAFKA-1595; Remove deprecated and slower Scala JSON parser
    
    In a test by onurkaraman involving 3066 topics and 95895 partitions,
    Controller initialisation time spent on JSON parsing would be reduced from
    37.1 seconds to 0.7 seconds by switching from the current JSON parser to
    Jackson. See the following JIRA comment for more details:
    
    https://issues.apache.org/jira/browse/KAFKA-5328?focusedCommentId=16027086
    
    I tested that we only use Jackson methods introduced in 2.0 in the main
    codebase by compiling it with the older version locally. We use a
    constructor introduced in 2.4 in one test, but I didn't remove it as it
    seemed harmless. The reasoning for this is explained in the mailing list
    thread:
    
    http://search-hadoop.com/m/uyzND1FWbWw1qUbWe
    
    Finally, this PR only handles the parsing side. It would be good to use Jackson
    for serialising to JSON as well. I filed KAFKA-5631 for that.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #83 from ijuma/kafka-1595-remove-deprecated-json-parser-jackson

commit 3620035c45736b74e69921f7c50a1c3857aec334
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jul 26 22:53:11 2017 -0700

    KAFKA-5611; AbstractCoordinator should handle wakeup raised from onJoinComplete
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3571 from hachikuji/KAFKA-5611

commit 5effe72390e0a3b7f82debcaaf069a531caaa351
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jul 26 13:01:41 2017 -0700

    MINOR: Next release will be 1.0.0
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3580 from ijuma/bump-to-1.0.0-SNAPSHOT

commit f8498ec9e27ca0f08e3791d7a19ad8c6a97e210f
Author: Bill Bejeck <bill@confluent.io>
Date:   Wed Jul 26 12:58:33 2017 -0700

    MINOR: updated configs to use one try/catch for serdes
    
    removed `try/catch` from `keySerde` and `valueSerde` methods so only the `try\catch` blocks in `defaultKeySerde` and `defaultValueSerde` perform error handling resulting in correct error message.
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3568 from bbejeck/MINOR_ensure_correct_error_messages_for_configs

commit f4d1305bfef669446d4dbdeeed4d2c4d212c6e1d
Author: Robin Moffatt <robin@rmoff.net>
Date:   Wed Jul 26 09:17:44 2017 -0700

    MINOR: Fix typo in SMT doc: s/RegexpRouter/RegexRouter
    
    Author: Robin Moffatt <robin@rmoff.net>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3576 from rmoff/patch-1

commit 9f3f8b4de64501902a4843064b1cf1feb21c690a
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Jul 26 10:10:50 2017 +0100

    KAFKA-5562; execute state dir cleanup on single thread
    
    Use a single `StateDirectory` per streams instance.
    Use threadId to determine which thread owns the lock.
    Only allow the owning thread to unlock.
    Execute cleanup on a scheduled thread in `KafkaStreams`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3516 from dguy/kafka-5562

commit 89faed8d30eb441fac7f1564edd40115006f5051
Author: Bill Bejeck <bill@confluent.io>
Date:   Wed Jul 26 09:08:14 2017 +0100

    MINOR: enforce setting listeners in CREATE state.
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3569 from bbejeck/MINOR_enforce_adding_listeners_only_created_state

commit e5e88f636fa9857105324f62cc758b1fed3602bb
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Wed Jul 26 08:36:05 2017 +0200

    KAFKA-5501; introduce async ZookeeperClient
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3427 from onurkaraman/KAFKA-5501

commit 47ee8e954df62b9a79099e944ec4be29afe046f6
Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
Date:   Wed Jul 26 08:19:56 2017 +0200

    KAFKA-4602; KIP-72 - Allow putting a bound on memory consumed by Incoming requests
    
    this is the initial implementation.
    
    Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2330 from radai-rosenblatt/broker-memory-pool-with-muting

commit f15cdbc91b240e656d9a2aeb6877e94624b21f8d
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Jul 25 20:38:30 2017 -0700

    KAFKA-5627; Reduce classes needed for LeaderAndIsrPartitionState and MetadataPartitionState
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3565 from lindong28/KAFKA-5627

commit 91c207c2c6b09d88cc3366d69a31d0bf0ab0bffb
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jul 25 11:34:16 2017 -0700

    MINOR: Make streams quick start more interactive
    
    1. Make the WordCountDemo application to not stop automatically but via "ctrl-C".
    2. Update the quickstart html file to let users type input messages one-by-one, and observe added output in an interactive manner.
    3. Some minor fixes on the parent documentation page pointing to streams sub-pages, added a new recommended Scala version number.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3515 from guozhangwang/KMinor-interactive-quickstart

commit b887eeb7215351e7509993f8609846115962e594
Author: Ivan Babrou <ibobrik@gmail.com>
Date:   Mon Jul 24 12:00:23 2017 -0700

    KAFKA-4711: fix docs on unclean.leader.election.enable default

commit 5d798511b12c5ef7555e4234fdd99a360176e435
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Jul 24 11:03:27 2017 -0700

    KAFKA-3856 (KIP-120) step two: extract internal functions from public facing TopologyBuilder class
    
     - extract InternalTopologyBuilder from TopologyBuilder
     - deprecate all "leaking" methods from public TopologyBuilder API
     - changed TopologyDescription and all nested classed into interfaces
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3536 from mjsax/kafka-3856-extract-internal-topology-builder

commit fc93fb4b6116e809f2b69ddb2f7e0f12548fef51
Author: Dong Lin <lindong28@gmail.com>
Date:   Sat Jul 22 12:35:32 2017 -0700

    KAFKA-4763; Handle disk failure for JBOD (KIP-112)
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Onur Karaman <okaraman@linkedin.com>
    
    Closes #2929 from lindong28/KAFKA-4763

commit 91b5fc737b308a4d17ca2a61dba3b039d19cdb17
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Jul 22 10:36:12 2017 +0100

    MINOR: Give correct instructions for retaining previous unclear leader election behaviour
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3561 from ijuma/fix-upgrade-note-for-unclean-leader-election

commit 7727d7a9a574ec4305bcf9f490b329f4ffcf4824
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Jul 22 10:35:02 2017 +0100

    MINOR: Improve log warning to include the log name
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3562 from ijuma/tweak-log-warning

commit c71e7fa3a3916358f8307e8739e330814937372d
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Jul 21 19:36:43 2017 -0700

    MINOR: Don't imply that ConsumerGroupCommand won't work with non-Java clients
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3564 from ewencp/minor-consumer-group-command-message

commit 300f48018cf7835e3de6a998d4e50895a2714a4e
Author: Derrick Or <derrickor@gmail.com>
Date:   Fri Jul 21 19:16:14 2017 -0700

    MINOR: Add Streams landing page
    
    Content and assets for the updated Streams API landing page
    
    Author: Derrick Or <derrickor@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3540 from derrickdoo/streams-landing-page

commit 6c6cf014f6eb9c90453e6ac1b01b8c1851d98f06
Author: ppatierno <ppatierno@live.com>
Date:   Fri Jul 21 16:55:38 2017 -0700

    KAFKA-5481: ListOffsetResponse isn't logged in the right way with trace level enabled
    
    Added toString() method to ListOffsetResponse for logging
    
    Author: ppatierno <ppatierno@live.com>
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3383 from ppatierno/kafka-5481

commit da42977a004dc0c9d29c8c28f0f0cd2c06b889ef
Author: Hooman Broujerdi <hoomanb@hoomanb.usersys.redhat.com>
Date:   Fri Jul 21 16:02:36 2017 -0700

    MINOR: Added safe deserialization implementation
    
    Author: Hooman Broujerdi <hoomanb@hoomanb.usersys.redhat.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3563 from rhauch/deserialization-validation

commit 4a7064d1ae323903a0d1353372aabadabebb1ed6
Author: Stephane Roset <stephane@roset.me>
Date:   Fri Jul 21 08:47:50 2017 -0700

    KAFKA-5512; Awake the heartbeat thread when timetoNextHeartbeat is equal to 0
    
    Author: Stephane Roset <stephane@roset.me>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3442 from rosets/KAFKA-5512

commit 08b775c322d359e20506069d54f5b92a5a37ce63
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jul 21 13:42:52 2017 +0100

    KAFKA-5608; Follow-up to fix potential NPE and clarify method name
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #3553 from ijuma/kafka-5608-follow-up

commit 1110f66fa7278212160c6e8392b6e6ab09560452
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Jul 21 12:15:40 2017 +0100

    KAFKA-3741; allow users to specify default topic configs for internal topics
    
    Allow users to specify default topic configs for streams internal topics by supplying properties from `TopicConfig` with a prefix.
    Supplied defaults are used when creating the internal topics. They are overridden by the configs supplied along with the `InternalTopicConfig`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3459 from dguy/kafka-3741

commit beb0ad9bbb36a642f5fe4a01d92949ba79299edf
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Jul 20 22:06:46 2017 -0700

    MINOR: Make Kafka Connect step in quickstart more Windows friendly
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2498 from vahidhashemian/doc/connect_quickstart_update

commit ad6c53d89e5dac2e6d3fa9e3df9c597d0d52e485
Author: Stephane Maarek <stephane@simplemachines.com.au>
Date:   Thu Jul 20 21:55:50 2017 -0700

    KAFKA-5468: WorkerSourceTask offset commit loglevel changes
    
    changed log level for source connector worker task when committing offsets
    
    Author: Stephane Maarek <stephane@simplemachines.com.au>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3367 from simplesteph/KAFKA-5468

commit cd207dd3feb08052a82db90d2e5da956bad5ac33
Author: huxihx <huxi_2b@hotmail.com>
Date:   Thu Jul 20 21:49:27 2017 -0700

    KAFKA-5431; cleanSegments should not set length for cleanable segment files
    
    For a compacted topic with preallocate enabled, during log cleaning, LogCleaner.cleanSegments does not have to pre-allocate the underlying file size since we only want to store the cleaned data in the file.
    
    It's believed that this fix should also solve KAFKA-5582.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3525 from huxihx/log_compact_test

commit 1d2d0bac9ea61de38b1afa6ab301a0a9a05f5758
Author: ppatierno <ppatierno@live.com>
Date:   Thu Jul 20 20:16:15 2017 -0700

    MINOR: Fixed misleading reference to HTTPS instead of SSL support in the doc
    
    Author: ppatierno <ppatierno@live.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3487 from ppatierno/ssl-doc-https

commit 8a81566214a6028f58d35c04cde8ccc7edc71960
Author: ppatierno <ppatierno@live.com>
Date:   Thu Jul 20 19:51:09 2017 -0700

    KAFKA-5410; Fix taskClass() method name in Connector and flush() signature in SinkTask
    
    Author: ppatierno <ppatierno@live.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3269 from ppatierno/connect-doc

commit 9ae09e80591f2deec3b89686dee5752a6be4adc7
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Jul 20 19:34:16 2017 -0700

    KAFKA-5623: ducktape kafka service: do not assume Service contains num_nodes
    
    …m_nodes
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3557 from cmccabe/KAFKA-5623

commit 5bb53e034e4f8a06550dd06377fae7b3c2137ce2
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Jul 20 17:31:24 2017 -0700

    KAFKA-5534; KafkaConsumer `offsetForTimes` result should include partitions with no offset
    
    For topics that support timestamp search, if no offset is found for a partition, the partition should still be included in the result with a `null` offset value. This `KafkaConsumer` method currently excludes such partitions from the result.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3460 from vahidhashemian/KAFKA-5534

commit cdff011fe02cb8e14cb5bf226e47b83cbbec8f3c
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Jul 20 13:05:40 2017 -0700

    KAFKA-5610; WriteTxnMarker handler should return UNKNOWN_TOPIC_OR_PARTITION if replica is not available
    
    Before this patch, we would instead return the non-retriable `UNSUPPORTED_FOR_MESSAGE_FORMAT` causing markers to be lost.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3550 from apurvam/KAFKA-5610-handleWriteTxnMarker-should-handle-emigration

commit 9b7a6ee2a9eabbeca2000c2d1831bc11fcc4a41f
Author: Ewen Cheslack-Postava <ewen@confluent.io>
Date:   Thu Jul 20 10:49:06 2017 -0700

    MINOR: Apply extra serialized rsync step to both parallel and serial paths
    
    Author: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Eno Thereska <eno.thereska@gmail.com>
    
    Closes #3546 from ewencp/fix-rsync

commit b04bed022aec0f1f478a03383ab5184f048133b6
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jul 20 18:47:47 2017 +0100

    KAFKA-3856; Cleanup Kafka Stream builder API (KIP-120)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bbejeck@gmail.com>
    
    Closes #2301 from mjsax/kafka-3856-topology-builder-API

commit e0099e1f5852536918bfa27b4d1c33779e45ab6b
Author: umesh chaudhary <umesh9794@gmail.com>
Date:   Thu Jul 20 08:54:21 2017 -0700

    KAFKA-5556; Fix IllegalStateException in KafkaConsumer.commitSync due to missing future completion check
    
    This PR makes `commitOffsetsSync` method check whether future is completed after client's poll or not.
    
    Author: umesh chaudhary <umesh9794@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3489 from umesh9794/KAFKA-5556

commit fe4a469fce5a47b89083781ed8a03d0d71428aeb
Author: jameschien <jameschien@staff.ruten.com.tw>
Date:   Thu Jul 20 14:47:38 2017 +0100

    KAFKA-4830; Augment KStream.print() to allow users pass in extra parameters in the printed string
    
    I extend `KStream#print()` to `KStream#print(KeyValueMapper<K, V, String>)`.
    So I add the following methods :
    1. `KStream#print(KeyValueMapper<K, V, String>)`
    2. `KStream#print(KeyValueMapper<K, V, String>, String streamName)`
    3. `KStream#print(KeyValueMapper<K, V, String>, Serde<K>, Serde<V>)`
    4. `KStream#print(KeyValueMapper<K, V, String>, Serde<K>, Serde<V>, String streamName)`
    
    Author: jameschien <jameschien@staff.ruten.com.tw>
    Author: jedichien <james.chain1990@gmail.com>
    Author: JamesChien <jedichien@users.noreply.github.com>
    Author: JamesChien <james.chain1990@gmail.com>
    
    Reviewers: Bill Bejeck <bbejec@gmail.com>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3085 from jedichien/KAFKA-4830

commit 84d2b6a01c0fd71ee18fdf2364d85473d78c2b2f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jul 20 14:01:11 2017 +0100

    MINOR: Simplify SensorAccess usage
    
    I was investigating an exception in this code and found a few
    opportunities for making it clearer.
    
    I also added the `out` folder to `.gitignore` as IntelliJ sometimes
    uses that as the build folder.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3552 from ijuma/minor-quota-improvements

commit 272956f03a54ef4f476d6f6f49c0cf74e5daf7d0
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Thu Jul 20 12:47:57 2017 +0100

    KAFKA-5134; Replace zkClient.getChildren method with zkUtils.getChildren
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3097 from baluchicken/KAFKA-5134-2

commit 0816e47bfe7e7999084a2448a39826166c8fff08
Author: Jeff Klukas <jeff@klukas.net>
Date:   Thu Jul 20 12:29:54 2017 +0100

    MINOR: Docs update, Java clients use Kafka Metrics
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3249 from jklukas/docs-no-more-yammer-metrics-in-client

commit 1b8aed6dc52e5d2f7ba29e4589baf15d53ad2870
Author: Paolo Patierno <ppatierno@live.com>
Date:   Thu Jul 20 11:29:58 2017 +0100

    MINOR: Implement ConfigEntry.toString()
    
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3551 from ppatierno/admin_config_entry

commit 43aa14f2dc47b36b86d644c08794118e82869c74
Author: Jeff Widman <jeff@jeffwidman.com>
Date:   Thu Jul 20 10:18:45 2017 +0100

    MINOR: Clarify wording in server.properties comment
    
    Author: Jeff Widman <jeff@jeffwidman.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2851 from jeffwidman/patch-3

commit f50af9c31df6fc6febba51d39293051efc82cec9
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Jul 19 21:39:51 2017 -0700

    KAFKA-5608: Add --wait option for JmxTool and use in system tests to avoid race between JmxTool and monitored services
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    Author: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3547 from ewencp/wait-jmx-metrics

commit f87d58b796977fdaefb089d17cb30b2071cd4485
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Jul 19 10:51:28 2017 -0700

    MINOR: Code Cleanup
    
    Clean up includes:
    
    - Switching try-catch-finally blocks to try-with-resources when possible
    - Removing some seemingly unnecessary `SuppressWarnings` annotations
    - Resolving some Java warnings
    - Closing unclosed Closable objects
    - Removing unused code
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Balint Molnar <balintmolnar91@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3222 from vahidhashemian/minor/code_cleanup_1706

commit 3bfc073f03e02bd34c813ee424864b5ace628aae
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Jul 19 14:25:02 2017 +0100

    MINOR: Make 'Topic-Level Configs' a doc section for easier access
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3415 from vahidhashemian/doc/make_topic_config_a_section

commit fc0ea25025df8af5079e8142ba085939b3c9c073
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jul 18 13:00:46 2017 -0700

    MINOR: Add another common error case for CorruptRecordException's error message
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3541 from ewencp/corrupt-record-null-key-compacted-topic

commit ea8845bbd6a8b0b3b930c637461c8da2fc84c342
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Tue Jul 18 08:57:06 2017 -0700

    KAFKA-5384: Enable topic deletion by default
    
    https://cwiki.apache.org/confluence/display/KAFKA/KIP-162+-+Enable+topic+deletion+by+default
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #3241 from gwenshap/KAFKA-5384

commit bbc390018571602fb4fb77609093d450ab95a4c0
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Tue Jul 18 16:50:24 2017 +0100

    MINOR: Use static imports in KafkaLog4jAppender
    
    Instead of redefining the constants.
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3349 from Kamal15/log4j2

commit 454f0f1ca1eccbeba6c459ce62c8e1caa4cf9a70
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jul 18 09:52:24 2017 +0100

    MINOR: Remove flaky assertion in verifyCloseOldestConnectionWithStagedReceives
    
    This seems to fail a lot in Jenkins although it always passes locally
    for me. Removing the assertion to restore Jenkins stability while
    we investigate in more detail.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3543 from ijuma/remove-selector-test-assertion

commit d663005fddcebafba439473299dc4c6ad74c966c
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Jul 17 21:24:45 2017 -0700

    MINOR: Do not wait for first line of console consumer output since we now have a more reliable test using JMX
    
    Waiting for the first line of output was added in KAFKA-2527 when JmxMixin was originally added as a heuristic to
    determine when the process was ready. We've since determined this is not good enough given JmxTool's limitations
    and now include a separate, more reliable check before starting JmxTool. This check is also dangerous since a
    consumer that is started before data is available in the topic, it won't output anything to stdout and only logs
    errors to a separate log file. This means we may have a long delay between starting the process and starting JMX
    monitoring.
    
    Since we have a more reliable check for liveness via JMX now (and in cases that need it, partition assignment
    metrics via JMX), we should no longer need to wait for the first line of output.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva@confluent.io>
    
    Closes #3447 from ewencp/dont-wait-first-line-console-consumer

commit 28c83d9667676515607713d4ccfd3757a8afcba2
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jul 17 20:29:26 2017 +0100

    KAFKA-5587; Remove channel only after staged receives are delivered
    
    When idle connections are closed, ensure that channels with staged
    receives are retained in `closingChannels` until all staged receives
    are completed. Also ensure that only one staged receive is completed
    in each poll, even when channels are closed.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3526 from rajinisivaram/KAFKA-5587

commit e2fe19d22a42525001c5a66f21f02f49c051ecb5
Author: Jan Burkhardt <jan.burkhardt@just.social>
Date:   Mon Jul 17 11:49:50 2017 -0700

    KAFKA-5600; Fix group loading regression causing stale metadata/offset cache
    
    the while loop was too big and need to be closed earlier
    to see the fix, ignore whitespace since most of it is indentation
    
    this bug was introduced by commit
    5bd06f1d542e6b588a1d402d059bc24690017d32
    
    Author: Jan Burkhardt <jan.burkhardt@just.social>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3538 from bjrke/trunk

commit 6d7a81b478e1f36d7632c84d34280c22a2f717b1
Author: Jeremy Custenborder <jcustenborder@gmail.com>
Date:   Mon Jul 17 10:45:31 2017 -0700

    KAFKA-5579: check for null
    
    Author: Jeremy Custenborder <jcustenborder@gmail.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3517 from jcustenborder/KAFKA-5579

commit cf94b188f1678276a4a6df6b87d89f2d4d2e922c
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jul 17 09:40:55 2017 +0100

    MINOR: Use correct connectionId in SocketServer log message
    
    Also add connection id to KafkaChannel exception message
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3529 from rajinisivaram/MINOR-log-connection-id

commit d0ce0a95de8c5451d73dcc87f3f9b6c03f5f85de
Author: Xianyang Liu <xianyang.liu@intel.com>
Date:   Fri Jul 14 11:51:52 2017 -0700

    MINOR: Correct the ConsumerPerformance print format
    
    Currently, the output of `ConsumerPerformance` looks strange. The `header` format as follow:
    ```
    "time, threadId, data.consumed.in.MB, MB.sec, data.consumed.in.nMsg, nMsg.sec"
    ```
    while the `body` as follow:
    ```
    println("%s, %d, %.4f, %.4f, %d, %.4f".format(dateFormat.format(endMs), id, totalMBRead,
            1000.0 * (mbRead / elapsedMs), messagesRead, ((messagesRead - lastMessagesRead) / elapsedMs) * 1000.0))
    ```
    
    So we get the follow result:
    ```
    time, data.consumeed.in.MB, MB.sec, data.consumeed.in.nMsg, nMsg.Sec
    09:52:00, 0, 1100.3086, 220.0177, 563358, 112649.0702
    ```
    So the `header` and `body` mismatching.
    
    And also, this pr makes the functions more readable.
    
    Author: Xianyang Liu <xianyang.liu@intel.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3417 from ConeyLiu/consumertest

commit 873eeae9f7ae661d27df5351c0001b785dc40956
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jul 14 13:32:32 2017 -0700

    MINOR: Change log level for group member failure from debug to info
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3523 from guozhangwang/KMinor-group-coordinator-member-failure-info-log4j

commit 1685e7112c5d4dc723ffcfa219febaed045b6426
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jul 14 11:44:42 2017 -0700

    MINOR: Enable a number of xlint scalac warnings
    
    Update the code where possible to fix the warnings. The unused
    warning introduced in Scala 2.12 is quite handy and provides
    a reason to compile with Scala 2.12.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3464 from ijuma/scala-xlint

commit e391045473f258562d55bbc07faafe75ec7213ac
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Fri Jul 14 09:57:01 2017 -0700

    KAFKA-5127; Replace pattern matching with foreach where the case None is ignored
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2919 from baluchicken/KAFKA-5127

commit 2d2e9adb5d8d3805f082208ae9dd241f87566b27
Author: Gregor Uhlenheuer <kongo2002@googlemail.com>
Date:   Wed Jul 12 16:56:09 2017 -0700

    KAFKA-5584; Fix integer overflow in Log.size
    
    It may lead to wrong metrics and it may break
    size-based retention.
    
    Author: Gregor Uhlenheuer <kongo2002@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3521 from kongo2002/KAFKA-5584

commit 0547a082545277dc119aa96dd8b8124949703be0
Author: Evgeny Veretennikov <evg.veretennikov@gmail.com>
Date:   Wed Jul 12 16:24:58 2017 -0700

    MINOR: typo in variable name "unkownInfo"
    
    Author: Evgeny Veretennikov <evg.veretennikov@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3433 from evis/unkown_info_typo

commit ef275159432fd5fe88204783b621165ec39293d8
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Wed Jul 12 13:17:21 2017 -0700

    MINOR: Typo error corrected in the KStream Javadoc.
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3520 from Kamal15/stream_doc

commit 8068a3560b1896f25bdc664acd50d9c4d84f7baa
Author: Joel Dice <jdice@mersive.com>
Date:   Wed Jul 12 13:06:45 2017 -0700

    MINOR: consume from outputTopic in EosIntegrationTest.runSimpleCopyTest
    
    Previously, the code mistakenly consumed from inputTopic, which
    worked, but didn't actually verify that the messages were correctly
    copied from inputTopic to outputTopic.
    
    Author: Joel Dice <jdice@mersive.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3522 from dicej/trunk

commit 44167399157b06d566401a3f6c17e9ca901a8c20
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Jul 11 12:03:51 2017 -0700

    MINOR: Upgraded RocksDB to 5.3.6
    
    Solves a problem as described here: https://groups.google.com/forum/#!topic/confluent-platform/cR02K2o6BIw
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3472 from enothereska/minor-upgrade-rocksdb-5.1.2

commit 9c6fc95f9161cc5c3347d36cb3d2616fd0255cad
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Jul 11 08:50:57 2017 -0700

    MINOR: Update docstring for "offsets.retention.minutes" config
    
    Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2562 from omkreddy/MINOR-DOC

commit 2628695356de87aba7d046855fbe1f1963d3f911
Author: Bill Bejeck <bill@confluent.io>
Date:   Mon Jul 10 17:59:43 2017 -0700

    MINOR: need to be backwards compatible with deprecated default configs until removed
    
    …s until removed
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3461 from bbejeck/MINOR_make_sure_deprecated_streams_configs_still_usable

commit 990382b94cfeb7a73a93ccbfd92e80f0f62fc7b0
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Jul 10 15:12:47 2017 -0700

    KAFKA-5566: fixed race condition between flush and commit
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3504 from mjsax/kafka-5566-queryable-state-test

commit a1f97c8dc4edd49c7a8a2ebb72734728029a85aa
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Jul 10 11:58:51 2017 -0700

    KAFKA-5157; Options for handling corrupt data during deserialization
    
    This is the implementation of KIP-161: https://cwiki.apache.org/confluence/display/KAFKA/KIP-161%3A+streams+deserialization+exception+handlers
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #3423 from enothereska/KAFKA-5157-deserialization-exceptions

commit 6a5cd67b9bf38acd4fe437bc385747aaf7bd91e7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jul 10 10:16:02 2017 -0700

    HOTFIX: fix a few typos on streams quickstart
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3510 from guozhangwang/KHotfix-streams-quickstart

commit 7bfe008ae1a2bb2fa98c3a765be5022e75cd151d
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Sun Jul 9 17:26:11 2017 -0700

    MINOR: Move quickstart under streams
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3494 from enothereska/minor-quickstart-docs
    
    rename section name and bold font for section names

commit bb8eff1e70491c4ce2dad07249d769b467f4068e
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Jul 7 13:43:32 2017 -0700

    MINOR: Reduce logging level
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3505 from enothereska/minor-less-logs

commit 35f9fa804b0391492d7914f60e9b1ae94c223ad9
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Jul 7 11:38:35 2017 -0700

    KAFKA-5464: Follow up. Increase poll timeout
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3496 from mjsax/KAFKA-5464-follow-up

commit 75f1b757e19d40738cbd5e6154ea9afccab7977a
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Jul 7 15:10:16 2017 +0100

    HOTFIX: fix paths in streams index
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3502 from dguy/doc-fixes

commit c574c58a16147d2d4997145bc47b0ba558d68a36
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jul 7 14:41:54 2017 +0100

    MINOR: Improve versioning in docs when a full version is required
    
    Also fix quickstart.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3501 from ijuma/introduce-full-version-variable-in-docs

commit 071b8f975f3f4eeb5659ffe04dbffafa0c8ab263
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Jul 7 13:29:05 2017 +0100

    KAFKA-5566; fix unit test shouldAllowToQueryAfterThreadDied
    
    Ensure only one thread dies, not both.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3500 from enothereska/hotfix-queryable-state

commit 6ea36bc6fbd7bf73dbbd0e097353f6caf89b9488
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Jul 7 09:45:37 2017 +0100

    HOTFIX: disable flaky system tests
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3497 from mjsax/disable-flaky-system-tests

commit 0046a881d389878bbb673c2591c06fd667923964
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Jul 6 14:29:12 2017 +0100

    HOTFIX: fix broken streams test
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3493 from dguy/hotfix-test-failure

commit 6d203361a04380d8fb0f23c0bfcb37811eccb590
Author: huxihx <huxi_2b@hotmail.com>
Date:   Thu Jul 6 10:10:03 2017 +0100

    KAFKA-5508; Documentation for altering topics
    
    Operations documentation should guide user to employ `kafka-configs.sh` to add/remove configs for a topic.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3429 from huxihx/KAFKA-5508_Doc_for_altering_topics

commit 9078554232f9de56849b5c35bf45b81a67a748c4
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Jul 6 10:05:16 2017 +0100

    KAFKA-5372; fixes to state transitions
    
    Several fixes to state transition logic:
    - Kafka streams will now be in ERROR when all threads are DEAD or when global thread stops unexpectedly
    - Fixed transition logic in corner cases when thread is already dead or Kafka Streams is already closed
    - Fixed incorrect transition diagram in StreamThread
    - Unit tests to verify transitions
    
    Also:
    - re-enabled throwing an exception when an unexpected state change happens
    - fixed a whole bunch of EoS tests that did not start a thread
    - added more comments.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3432 from enothereska/KAFKA-5372-state-transitions

commit f53f5eaa1bce0129bac7b8ffac3a8da11d2ee574
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jul 6 09:46:11 2017 +0100

    KAFKA-5464; StreamsKafkaClient should not use StreamsConfig.POLL_MS_CONFIG
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3439 from mjsax/kafka-5464-streamskafkaclient-poll

commit e68a94056fa7eb5b8d69815bcfa522247568d3e9
Author: Paolo Patierno <ppatierno@live.com>
Date:   Wed Jul 5 22:20:24 2017 -0700

    KAFKA-5557: Using a logPrefix inside the StreamPartitionAssignor
    
    Added logPrefix for avoiding stream thread name formatting replicated more times
    
    Author: ppatierno <ppatierno@live.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3488 from ppatierno/kafka-5557

commit 70e949d522eba72b22c2619c4fde372d0f1a26b3
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jul 5 20:20:51 2017 -0700

    KAFKA-5167: Release state locks in case of failure
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3449 from mjsax/kafka-5167-streams-task-gets-stuck-after-re-balance-due-to-LockException

commit 3ab0456db839d8959b2846b9a7e4cc28b4c822c7
Author: Paolo Patierno <ppatierno@live.com>
Date:   Wed Jul 5 15:05:05 2017 -0700

    KAFKA-5525: Streams reset tool should have same console output with or without dry-run
    
    Fixed console output to be consistent with/without dry-run option
    
    Author: ppatierno <ppatierno@live.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3443 from ppatierno/kafka-5525

commit 6cae5ec6687bdb0ba12c9f8a2c54008ce4d2334f
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Jul 5 14:15:43 2017 -0700

    MINOR: add IQ docs to streams documentation
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3484 from dguy/iq-doc

commit 48c2160c75e24bae61133eb932a790fdf80e7ca9
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jul 5 22:05:27 2017 +0100

    MINOR: Wait for tasks to terminate to avoid exception in test teardown
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3483 from rajinisivaram/MINOR-consumerbounce-test

commit ef5867dce3894aa57a8f815aa206693e2530b576
Author: ppatierno <ppatierno@live.com>
Date:   Tue Jul 4 15:05:36 2017 +0100

    KAFKA-5469; Created state changelog topics not logged correctly
    
    Fixed debug logging for the created state changelog topics
    Added toString() for InternalTopicMetadata and InternalTopicConfig for above debug logging
    
    Author: ppatierno <ppatierno@live.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3368 from ppatierno/kafka-5469

commit afb91a02ae1ef8aab6a33335eec0a07490b36390
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jul 4 10:36:42 2017 +0100

    MINOR: Add test brokers to list as they are created to ensure cleanup
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3471 from rajinisivaram/MINOR-shutdown-brokers

commit cbafc08a5f25df58d33093b2e6015e8c49fefdea
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Jul 3 16:04:41 2017 +0100

    MINOR: compatibility tests for streams
    
    Update system tests to make use of the newly released 0.11 version.
    
    Add on to https://github.com/apache/kafka/pull/3454
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3479 from enothereska/minor-compatibility-tests

commit 2c6e9a9653ffd19f4c9407cd74a89a8d7deb8b3f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jul 3 15:35:47 2017 +0100

    MINOR: Follow-up Streams doc changes to break into sub-pages
    
    Also fixed a bunch of broken links (details can be found in https://github.com/apache/kafka-site/commit/34f8ecea0db15523ce4b81e6b6bc4c5c2fabd603)
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Bill Bejeck <bbejeck@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3473 from guozhangwang/KMinor-streams-doc-breakdown

commit c9f777cc44269c2e9537eab2451481422e613383
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jul 3 09:34:16 2017 +0100

    HOTFIX: Add back the copy-constructor of abstract stream
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3428 from guozhangwang/KHotfix-add-copy-constructor-abstract-stream

commit ab8e9d1755e9527ca76e994dd59a21cc94550312
Author: Jeremy Custenborder <jcustenborder@gmail.com>
Date:   Sat Jul 1 02:46:55 2017 -0700

    KAFKA-5548: Extended validation for SchemaBuilder methods.
    
    More input validation for SchemaBuilder methods.
    
    Author: Jeremy Custenborder <jcustenborder@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3474 from jcustenborder/KAFKA-5548

commit 9238aeaa2171f7860fd6ae7980608505a63c12ca
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jun 30 15:38:03 2017 -0700

    KAFKA-5522; ListOffsets should bound timestamp search by LSO in read_committed
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3456 from hachikuji/KAFKA-5522

commit 9c2de4920e6035a8fb1d3dd5c6b5a8ccb31c7aa3
Author: Ben Stopford <benstopford@gmail.com>
Date:   Fri Jun 30 15:01:53 2017 -0700

    KAFKA-5542; Improve Java doc for LeaderEpochFileCache.endOffsetFor()
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3468 from benstopford/KAFKA-5542

commit 49ed16daf43b5f28e51fed7cc124cd308de3deca
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jun 30 23:36:21 2017 +0200

    MINOR: Compatibility and upgrade tests for 0.11.0.x
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #3454 from ijuma/test-upgrades-from-0.11.0.x

commit 342f34a1994caafa3cea94a2f85ffd219b8cebc5
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Fri Jun 30 15:07:00 2017 -0400

    MINOR: InFlightRequests#isEmpty(node) method corrected.
    
    - In clearAll method, get operation is removed.
    - variable name `requestTimeout` changed to `requestTimeoutMs` for clarity
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3467 from Kamal15/frequest

commit 6471822079e0bf378ff5bc83f4bd3b71ac0582cf
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Jun 30 09:22:25 2017 -0700

    KAFKA-5020; Update message format in implementation docs
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3360 from apurvam/KAFKA-5020-message-format-docs-update

commit 17bdd4831c0098ea2c50e9bad1bf8ba70352854c
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Jun 30 17:15:23 2017 +0100

    MINOR: remove unused eosEnabled field from ProcessorStateManager
    
    remove unused eosEnabled field from ProcessorStateManager
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3469 from dguy/minor-remove-unused-boolean

commit 7429f49780a69d0c5eda8ef0c69a3209aecee11c
Author: Michael G. Noll <michael@confluent.io>
Date:   Fri Jun 30 08:59:10 2017 +0100

    MINOR: reduce() javadocs: clarify position of arguments
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #2651 from miguno/trunk-reduce-javadocs

commit 0dfeb31a116d26023540f6c6074127f0aab00b6d
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Jun 30 08:56:40 2017 +0100

    KAFKA-5485; Streams should not suspend tasks twice
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3390 from mjsax/kafka-5485-dont-suspend-tasks-twice

commit c4193cd1ad8eeed8383a1c2660383c455e848929
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jun 30 06:48:45 2017 +0100

    MINOR: Rename baseTimestamp to firstTimestamp to clarify usage
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3457 from hachikuji/rename-base-timestamp

commit a16475eb333b0205b74b817237cba187862e61e7
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Jun 30 06:47:32 2017 +0100

    KAFKA-5544; The LastStableOffsetLag metric should be removed when partition is deleted
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3463 from lindong28/KAFKA-5544

commit 5536b1237fe954ba712cd62013e7cd91b7caee51
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Jun 29 13:28:35 2017 -0700

    KAFKA-5484: Refactor kafkatest docker support
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3389 from cmccabe/KAFKA-5484

commit 27fdd46dcd303566a35d4824c571cf988912575e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 29 09:51:04 2017 -0700

    MINOR: Improve TransactionIndex.sanityCheck() message
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3446 from ijuma/improve-transaction-index-exception-sanity-check

commit dc95456f1df1a6ba451944d515fcee81c29262f5
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Jun 29 08:01:12 2017 -0400

    KAFKA-5402; Avoid creating quota related metrics if quotas not enabled
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3303 from rajinisivaram/KAFKA-5402

commit a05a00e50364d33a0206e8dffe6bce6713c9467b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 28 20:31:43 2017 +0100

    MINOR: Implement `toString` in some Validator instances
    
    This is used in the generated config table. Also fix a couple
    of typos in the process.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3451 from ijuma/fix-doc-typos

commit cb0325d484b957432048dd29419f0fa59c5f132d
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 28 11:35:06 2017 -0700

    KAFKA-5490; Cleaner should retain empty batch if needed to preserve producer last sequence
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #3406 from hachikuji/KAFKA-5490

commit f05c70b06972db92b9d8fe3247babf0882a35e8c
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed Jun 28 10:22:11 2017 -0700

    MINOR: Enable the TransactionsBounceTest
    
    I'll let this have multiple runs on the branch builder to see if it fails, and investigate if so.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3441 from apurvam/MINOR-enable-transactions-bounce-test

commit efb060c57f05d1d586bb14c016b0187c60f8e994
Author: Michal Borowiecki <michal.borowiecki@openbet.com>
Date:   Wed Jun 28 11:26:02 2017 +0100

    KAFKA-5233; KIP-138: Change punctuate semantics
    
    Implementation for KIP-138: Change punctuate semantics
    
    Author: Michal Borowiecki <michal.borowiecki@openbet.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bbejeck@gmail.com>, Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3055 from mihbor/KIP-138

commit a293e1dc0c0cdc6620abb3c8e099f29772e3d688
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 28 01:47:00 2017 +0100

    MINOR: Adjust checkstyle suppression paths to work on Windows
    
    Use the file name whenever possible and replace / with [/\\]
    when it's not.
    
    Also remove unnecessary suppresions.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3431 from ijuma/fix-checkstyle-suppressions-on-windows

commit 1d28e25748024d78dcc1a35c825ce5eef0dfd30d
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Jun 27 15:29:48 2017 -0700

    MINOR: remove unnecessary null check
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3445 from mjsax/minor-remove-null-check

commit 031da889bc811200da67568c5779760dcb006238
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jun 27 16:36:37 2017 +0100

    MINOR: Fix race condition in KafkaConsumer close
    
    We intended to make `KafkaConsumer.close()` idempotent,
    but due to the fact that the `closed` variable is
    checked without a lock prior to beginning close logic,
    it is possible for two or more threads to see
    `closed=false` and attempt to close.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3426 from hachikuji/minor-fix-consumer-idempotent-close

commit f1cc8008e5e77d0587921d727daff1eafb80f74c
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Jun 27 14:24:44 2017 +0100

    KAFKA-5032; Update the docs for message size configs across the board
    
    Before 0.11, we used to have limits for maximum message size on the producer, broker, and consumer side.
    
    From 0.11 onward, these limits apply to record batches as a whole. This patch updates the documentation of the configs to make this explicit.
    
    A separate patch will have more extensive upgrade notes to tie all the changes together in one narrative.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3374 from apurvam/KAFKA-5032-message-size-docs

commit e45c767d5344c4d0a42c444840ad81a82fcc9f7f
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Jun 26 17:06:38 2017 -0700

    MINOR: Make JmxMixin wait for the monitored process to be listening on the JMX port before launching JmxTool
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3437 from ewencp/wait-jmx-listening

commit 2265834803649d2f9fb090e86d11309f6e9789cb
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun Jun 25 09:34:27 2017 -0700

    KAFKA-5362: Add Streams EOS system test with repartitioning topic
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3310 from mjsax/kafka-5362-add-eos-system-tests-for-streams-api

commit a5c47db1382c14720106ae1da20d2b332f89c22c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Jun 24 08:20:44 2017 +0100

    KAFKA-5506; Fix NPE in OffsetFetchRequest.toString and logging improvements
    
    NetworkClient's logging improvements:
    - Include correlation id in a number of log statements
    - Avoid eager toString call in parameter passed to log.debug
    - Use node.toString instead of passing a subset of fields to the
    logger
    - Use requestBuilder instead of clientRequest in one of the log
    statements
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3420 from ijuma/kafka-5506-offset-fetch-request-to-string-npe

commit ee5eac715d58e6b16a115692ede93ae481ae7785
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Sat Jun 24 07:48:10 2017 +0100

    KAFKA-5487; upgrade and downgrade streams app system test
    
    -Tests for rolling upgrades for a streams app (keeping broker config fixed)
    -Tests for rolling upgrades of brokers (keeping streams app config fixed)
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3411 from enothereska/KAFKA-5487-upgrade-test-streams

commit d5e463b9de1f92b0dcc8fea4cf74a0eaca835ef7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jun 23 18:01:41 2017 -0700

    KAFKA-4829: Improve log4j on Streams thread / task-level
    
    These are the following improvements I made:
    
    1. On stream thread level, INFO will be demonstrating `Completed xx tasks in yy ms` or `Completed rebalance with xx state in yy ms`,
    2. On Stream thread cache level, INFO on `Flushed xx records`.
    3. On Stream thread level, DEBUG on internal batched operations like `created xx tasks`, and TRACE on individual operation like `created x task`.
    4. Also using `isTraceEnabled` on the critical path to reduce overhead of creating `Object[]`.
    5. Minor cleanups in the code.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Steven Schlansker, Nicolas Fouché, Kamal C, Ismael Juma, Bill Bejeck, Eno Thereska, Matthias J. Sax, Damian Guy
    
    Closes #3354 from guozhangwang/K4829-tasks-log4j

commit d65844b52723c7a093d969c4b2822e3b36389b70
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jun 23 11:19:14 2017 -0700

    MINOR: SaslChannelBuilder should be idempotent
    
    After we call `release`, we should null out the reference so
    that we neither use it or release it a second time.
    
    This should fix the following exception that has been reported:
    
    ```text
    [2017-06-23 03:24:02,485] ERROR stream-thread [...] Failed to close consumer:  (org.apache.kafka.streams.processor.internals.StreamThread:1054)
    org.apache.kafka.common.KafkaException: Failed to close kafka consumer
            at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1623)
            at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1573)
            at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1549)
            at org.apache.kafka.streams.processor.internals.StreamThread.shutdown(StreamThread.java:1052)
            at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:538)
    Caused by: java.lang.IllegalStateException: release called on LoginManager with refCount == 0
            at org.apache.kafka.common.security.authenticator.LoginManager.release(LoginManager.java:106)
            at org.apache.kafka.common.network.SaslChannelBuilder.close(SaslChannelBuilder.java:125)
            at org.apache.kafka.common.network.Selector.close(Selector.java:257)
            at org.apache.kafka.clients.NetworkClient.close(NetworkClient.java:505)
            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.close(ConsumerNetworkClient.java:439)
            at org.apache.kafka.clients.ClientUtils.closeQuietly(ClientUtils.java:71)
            at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1613)
    ```
    
    It's worth noting that it's not clear how `SaslChannelBuilder.close()` is called more than
    once and it would be good to understand that as well.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3422 from ijuma/sasl-channel-builder-idempotent

commit b490368735b3bfe82acab3f2db4894a757abb966
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Jun 23 15:56:29 2017 +0100

    HOTFIX: Don't check metadata unless you are creating topic
    
    During a broker rolling upgrade, it's likely we don't have enough brokers ready yet. If streams does not need to create a topic it shouldn't check how many brokers are up.
    
    The system test for this is in a separate PR: https://github.com/apache/kafka/pull/3411
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3418 from enothereska/hotfix-replication

commit 9ada0f81695d99587b18bffe939de651065076ab
Author: ppatierno <ppatierno@live.com>
Date:   Fri Jun 23 14:14:18 2017 +0100

    MINOR: Fixed way how logging methods are used for having a consistent one
    
    In the stream library there are few cases where we don't leverage on logging methods features (i.e. using {} placeholder instead of string concatenation or passing the exception variable)
    
    Author: ppatierno <ppatierno@live.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3419 from ppatierno/streams-consistent-logging

commit 701e318ee1046946ce6681a59223504d8c33d751
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Fri Jun 23 11:41:02 2017 +0100

    KAFKA-4653; Improve test coverage of RocksDBStore
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3294 from jeyhunkarimov/KAFKA-4653

commit 26eea1d71e57348284ea00182045c8d943336f4e
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Fri Jun 23 11:32:47 2017 +0100

    KAFKA-4656; Improve test coverage of CompositeReadOnlyKeyValueStore
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3292 from jeyhunkarimov/KAFKA-4656

commit 2420491f417012ba5215a9f72fa5e3a0c586c8e8
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Jun 23 08:59:13 2017 +0100

    KAFKA-4913; prevent creation of window stores with less than 2 segments
    
    Throw IllegalArgumentException when attempting to create a `WindowStore` via `Stores` or directly with `RocksDBWindowStoreSupplier` when it has less than 2 segments.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bbejeck@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3410 from dguy/kafka-4913

commit ac539796478d6f39933d02f52e9c8972ac07466c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 22 16:42:55 2017 -0700

    MINOR: update AWS test setup guide
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Joseph Rea <jrea@users.noreply.github.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2575 from mjsax/minor-update-system-test-readme

commit b62cccd078210a5333a6dbc64881dd36f925e139
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 22 16:16:07 2017 -0700

    MINOR: improve test README
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3416 from mjsax/minor-aws

commit 4baca9172dd662c2e45cd99c638a052eeca688c5
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 22 23:00:29 2017 +0100

    HOTFIX: reduce log verbosity on commit
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bbejeck@gmail.com>, Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3414 from mjsax/hotfix-commit-logging

commit 6d2fbfc911120c178d9ba2528179fb4d8475afc4
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Thu Jun 22 14:28:03 2017 -0700

    KAFKA-5502; read current brokers from zookeeper upon processing broker change
    
    Dong Lin's testing of the 0.11.0 release revealed a controller-side performance regression in clusters with many brokers and many partitions when bringing up many brokers simultaneously.
    
    The regression is caused by KAFKA-5028: a Watcher receives WatchedEvent notifications from the raw ZooKeeper client EventThread. A WatchedEvent only contains the following information:
    - KeeperState
    - EventType
    - path
    
    Note that it does not actually contain the current data or current set of children associated with the data/child change notification. It is up to the user to do this lookup to see the current data or set of children.
    
    ZkClient is itself a Watcher. When it receives a WatchedEvent, it puts a ZkEvent into its own queue which its own ZkEventThread processes. Users of ZkClient interact with these notifications through listeners (IZkDataListener, IZkChildListener). IZkDataListener actually expects as input the current data of the watched znode, and likewise IZkChildListener actually expects as input the current set of children of the watched znode. In order to provide this information to the listeners, the ZkEventThread, when processing the ZkEvent in its queue, looks up the information (either the current data or current set of children) simultaneously sets up the next watch, and passes the result to the listener.
    
    The regression introduced in KAFKA-5028 is the time at which we lookup the information needed for the event processing.
    
    In the past, the lookup from the ZkEventThread during ZkEvent processing would be passed into the listener which is processed immediately after. For instance in ZkClient.fireChildChangedEvents:
    ```
    List<String> children = getChildren(path);
    listener.handleChildChange(path, children);
    ```
    Now, however, there are multiple listeners that pass information looked up by the ZkEventThread into a ControllerEvent which gets processed potentially much later. For instance in BrokerChangeListener:
    ```
    class BrokerChangeListener(controller: KafkaController) extends IZkChildListener with Logging {
      override def handleChildChange(parentPath: String, currentChilds: java.util.List[String]): Unit = {
        import JavaConverters._
        controller.addToControllerEventQueue(controller.BrokerChange(currentChilds.asScala))
      }
    }
    ```
    
    In terms of impact, this:
    - increases the odds of working with stale information by the time the ControllerEvent gets processed.
    - can cause the cluster to take a long time to stabilize if you bring up many brokers simultaneously.
    
    In terms of how to solve it:
    - (short term) just ignore the ZkClient's information lookup and repeat the lookup at the start of the ControllerEvent. This is the approach taken in this ticket.
    - (long term) try to remove a queue. This basically means getting rid of ZkClient. This is likely the approach that will be taken in KAFKA-5501.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3413 from onurkaraman/KAFKA-5502

commit cd11fd787438d26324d9644c248b812d25e26b34
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Jun 22 13:00:12 2017 -0700

    KAFKA-5498: ConfigDef derived from another ConfigDef did not correctly compute parentless configs
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #3412 from ewencp/kafka-5498-base-configdef-parentless-configs

commit 5d9563d95fb09903d13b7135e1136081feb4fc4b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 22 16:56:06 2017 +0100

    MINOR: Switch ZK client logging to INFO
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3409 from ijuma/tweak-log-config

commit fc58ac594f0eb63e0928374f67eba25bfa18eaea
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jun 22 16:54:28 2017 +0100

    KAFKA-5490; Skip empty record batches in the consumer
    
    The actual fix for KAFKA-5490 is in
    https://github.com/apache/kafka/pull/3406.
    
    This is just the consumer change that will allow the cleaner
    to use empty record batches without breaking 0.11.0.0
    consumers (assuming that KAFKA-5490 does not make the cut).
    This is a safe change even if we decide to go with a different option
    for KAFKA-5490 and I'd like to include it in RC2.
    
    Author: Jason Gustafson <jason@confluent.io>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3408 from ijuma/kafka-5490-consumer-should-skip-empty-batches

commit 1744a9b4c2a13545036f172064df01b34b0dded0
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Thu Jun 22 15:04:29 2017 +0100

    KAFKA-4658; Improve test coverage InMemoryKeyValueLoggedStore
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3293 from jeyhunkarimov/KAFKA-4658

commit adfaa1161150635b9bb0e36a573382c5b68960e2
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Thu Jun 22 15:00:41 2017 +0100

    KAFKA-4655; Improve test coverage of CompositeReadOnlySessionStore
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3290 from jeyhunkarimov/KAFKA-4655

commit 785d8e20caf31d4165dbd9573828b74e5859b259
Author: Kevin Sweeney <restlessdesign@users.noreply.github.com>
Date:   Thu Jun 22 14:03:34 2017 +0100

    MINOR: Provide link to ZooKeeper within Quickstart
    
    Author: Kevin Sweeney <restlessdesign@users.noreply.github.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3372 from restlessdesign/patch-1

commit a6799f4e14ac68a5915bce50f37343bec45c988a
Author: Tom Bentley <tbentley@redhat.com>
Date:   Thu Jun 22 13:42:32 2017 +0100

    KAFKA-4059; API Design section under Implementation is out of date
    
    It describes the old deprecated clients and it's better to just
    remove it.
    
    The contribution is my original work and I license the work to the
    project under the project's open source license.
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3385 from tombentley/KAFKA-4059

commit a4794b11b201804c39ee9f9a2f32dbdd7c2c246b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 22 12:48:53 2017 +0100

    KAFKA-5486: org.apache.kafka logging should go to server.log
    
    The current config sends org.apache.kafka and any unspecified logger to
    stdout. They should go to `server.log` instead.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3402 from ijuma/kafka-5486-org.apache.kafka-logging-server.log

commit cb5e1f0a40e9a9779a5dcabf555a593363728b33
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Thu Jun 22 12:23:58 2017 +0100

    KAFKA-4785; Records from internal repartitioning topics should always use RecordMetadataTimestampExtractor
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Eno Thereska <eno.thereska@gmail.com>, Bill Bejeck <bbejeck@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3106 from jeyhunkarimov/KAFKA-4785

commit 7f4feda959f5a0c438487844a0754cdf75f32a46
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jun 22 08:53:32 2017 +0100

    MINOR: Turn off caching in demos for more understandable outputs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J Sax <matthias@confluent.io>, Bill Bejeck <bbejeck@gmail.com>
    
    Closes #3403 from guozhangwang/KMinor-turn-off-caching-in-demo

commit 4e8797f54ef9d2d7f40e3100943ae8afd5496b16
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Thu Jun 22 08:40:54 2017 +0100

    KAFKA-4659; Improve test coverage of CachingKeyValueStore
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3291 from jeyhunkarimov/KAFKA-4659

commit 914e42a28254ef6a4818b3fcdc2197db6fbe8e0f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jun 21 17:16:48 2017 -0700

    KAFKA-5474: Streams StandbyTask should no checkpoint on commit if EOS is enabled
    
    <strike> - actual fix for `StandbyTask#commit()` </strike>
    
    Additionally (for debugging):
     - EOS test, does not report "expected" value correctly
     - add `IntegerDecoder` (to be use with `kafka.tools.DumpLogSegments`)
     - add test for `StreamTask` to not checkpoint on commit if EOS enabled
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bbejeck@gmail.com>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3375 from mjsax/kafka-5474-eos-standby-task

commit bc47e9d6ca976ba3c15249500b2bb6f6355816bc
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed Jun 21 14:41:51 2017 -0700

    KAFKA-5491; Enable transactions in ProducerPerformance Tool
    
    With this patch, the `ProducePerfomance` tool can create transactions of differing durations.
    
    This patch was used to to collect the initial set of benchmarks for transaction performance, documented here: https://docs.google.com/spreadsheets/d/1dHY6M7qCiX-NFvsgvaE0YoVdNq26uA8608XIh_DUpI4/edit#gid=282787170
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3400 from apurvam/MINOR-add-transaction-size-to-producre-perf

commit 96587f4b1ffd372d3e4f9a1fba6fc1d2f84a191d
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Jun 21 14:20:48 2017 -0700

    KAFKA-5475: Connector config validation should include fields for defined transformation aliases
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3399 from ewencp/kafka-5475-validation-transformations

commit e6e263174300ffab05676790f2a6c963ba24e5c9
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 21 14:04:19 2017 -0700

    MINOR: Detail message/batch size implications for conversion between old and new formats
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3373 from hachikuji/fetch-size-upgrade-notes

commit f848e2cd681ced74fefdd38a54a44e31e4d867fb
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jun 21 13:05:54 2017 -0700

    Revert "MINOR: make flush no-op as we don't need to call flush on commit."
    
    This reverts commit 90b2a2bf664e4e40d4cd1b46c72732c5edb97cf9.

commit 254add953477df65fe36144dc0714e0c9815c767
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed Jun 21 11:00:04 2017 -0700

    KAFKA-5477; Lower retry backoff for first AddPartitions in transaction
    
    This patch lowers the retry backoff when receiving a CONCURRENT_TRANSACTIONS error from an AddPartitions request. The default of 100ms would mean that back to back transactions would be 100ms long at minimum, making things to slow.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3377 from apurvam/HOTFIX-lower-retry-for-add-partitions

commit 55a90938a12d8928289a30588bbad6c959c48674
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Jun 21 11:46:59 2017 +0100

    MINOR: add Yahoo benchmark to nightly runs
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #3289 from enothereska/yahoo-benchmark

commit cae5977ed0d6b63f992973800273769c970b0a0a
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jun 21 09:32:46 2017 +0100

    MINOR: explain producer naming within Streams
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bbejeck@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3378 from mjsax/minor-producer-naming

commit 76f6e14b07bd97d17f9275968a047d68b4658704
Author: Kelvin Rutt <ruttkelvin@gmail.com>
Date:   Tue Jun 20 18:00:41 2017 -0700

    KAFKA-5413; Log cleaner fails due to large offset in segment file
    
    the contribution is my original work and I license the work to the project under the project's open source license.
    
    junrao , I had already made the code change before your last comment.  I've done pretty much what you said, except that I've not used the current segment because I wasn't sure if it will always be available.
    I'm happy to change it if you prefer.
    I've run all the unit and integration tests which all passed.
    
    Author: Kelvin Rutt <ruttkelvin@gmail.com>
    Author: Kelvin Rutt <kelvin.rutt@sky.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3357 from kelvinrutt/kafka_5413_bugfix

commit de982ba3fbf99664f0aaa5aa4b72af8fd1881232
Author: Randall Hauch <rhauch@gmail.com>
Date:   Tue Jun 20 17:48:32 2017 -0700

    KAFKA-5472: Eliminated duplicate group names when validating connector results
    
    Kafka Connect was adding duplicate group names in the response from the REST API's validation of connector configurations. This fixes the duplicates and maintains the order of the `ConfigDef` objects so that the `ConfigValue` results are in the same order.
    
    This is a blocker and should be merged to 0.11.0.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3379 from rhauch/KAFKA-5472

commit 84de7f1756d34e6890c2608a699701d659fa191a
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jun 20 17:38:56 2017 -0700

    MINOR: remove unused hitRatio field in NamedCache
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3384 from dguy/remove-unused-field

commit cb3952a4fd14f72374165acdc3ed777347ffdaba
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jun 20 16:56:38 2017 -0700

    KAFKA-5021; Update delivery semantics documentation for EoS (KIP-98)
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3388 from hachikuji/KAFKA-5021

commit f28fc1100b5f6e79baeb6b2f2363e86e5cd12306
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jun 20 16:29:03 2017 -0700

    MINOR: Add Processing Guarantees to Streams docs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3345 from guozhangwang/KMinor-streams-eos-docs

commit 491774bd52bfe34f32f935bc4fc5db22dc8ceba2
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Tue Jun 20 14:16:29 2017 -0700

    KAFKA-5290; Docs need clarification on meaning of 'committed' to the log
    
    based on conversations with vahidhashemian rajinisivaram apurvam
    
    The docs didn't make clear that what gets committed and what gets not may depend on the producer acks.
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3035 from edoardocomar/DOC-clarification-on-committed

commit 54205697aea5bfeb4fbcd40fc849c0c975fd6070
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jun 20 13:01:17 2017 -0700

    MINOR: MemoryRecordsBuilder.sizeInBytes should consider initial position
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3376 from hachikuji/records-builder-improvements

commit ffa8100457bbde24eaba27a0fadb1bc5212bfc4e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jun 20 12:21:43 2017 -0700

    MINOR: Add serialized vagrant rsync until upstream fixes broken parallelism
    
    See https://github.com/mitchellh/vagrant/issues/7531. The core of the issue is that vagrant rsync uses a fixed set of 1000 possible temp file entries for SSH ControlMaster files to cache SSH connections for rsyncing. A few notes:
    
    * We can't break down the steps further and maintain performance due to various limitations in vagrant/vagrant-aws (rsync is only executed on `vagrant up`/`vagrant reload`/`vagrant rsync`, you can't enable/disable and rsync shared folder only during some of those stages, and provisioning only runs in parallel with vagrant-aws during `vagrant up`).
    * We need to isolate each of the serialized rsync calls. (If we assumed `parallel` was available, we actually could get the parallelism back.) This is required because even across calls they could randomly choose the same temporary file.
    * If there's a chance multiple instances were running on the same server at the same or nearly the same time, they can conflict since the same temp file entries are used globally. This means anything running on shared CI servers might end up syncing data between different CI jobs (!!), which could lead to some very strange results. Especially weird if they aren't even for the same type of job.
    * Provisioning error check needs to be removed because it is catching rsync errors, but those can still happen in the initial `vagrant up` rsync step before the `vagrant up` provisioning step. It seems likely this bug was the cause of missing files anyway so this check might not be as valuable anymore.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3380 from ewencp/deparallelize-rsync

commit cb2fdbd6c1621fd578c4c1422ead62faf7ae3f7f
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Jun 20 11:31:59 2017 -0700

    MINOR: Add some logging for the transaction coordinator
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3278 from apurvam/MINOR-add-logging-to-transaction-coordinator-in-all-failure-cases

commit 1d24e10aeab616eede416201336e928b9a8efa98
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jun 20 11:29:11 2017 -0700

    MINOR: Remove unused `AdminUtils.fetchTopicMetadataFromZk` methods
    
    These are internal methods with no tests and since we now have an `AdminClient`,
    we should remove them.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3299 from ijuma/remove-unused-admin-utils-methods

commit 9790d5aba05256a203ef3763f91972f9b2f94a56
Author: Hao Chen <hao@apache.org>
Date:   Tue Jun 20 09:34:59 2017 -0700

    MINOR: Remove version in the uses page
    
    This is contributed by Hao Chen.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3366 from guozhangwang/KMinor-fix-streams-link-in-uses

commit ea2a21dda4ee402cf06e127609456b11c5997d37
Author: Qihuang Zheng <qihuang.zheng@fraudmetrix.cn>
Date:   Mon Jun 19 21:00:32 2017 -0700

    MINOR: StreamThread standbyTask comment typo
    
    log info typos. should be standby task, not active task.
    
    Author: zqhxuyuan <qihuang.zheng@fraudmetrix.cn>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Matthias J. Sax <matthias@confluent.io>
    
    Closes #3362 from zqhxuyuan/trunk

commit 198a43d84693153c0f0177b8314117525c05047b
Author: ppatierno <ppatierno@live.com>
Date:   Mon Jun 19 09:22:19 2017 -0700

    KAFKA-5412: Using connect-console-sink/source.properties raises an exception related to "file" property not found
    
    Author: ppatierno <ppatierno@live.com>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3279 from ppatierno/kafka-5412

commit b836bd18f99e32ee71e30693853518fdc2061218
Author: Apurva Mehta <apurva@confluent.io>
Date:   Sat Jun 17 14:56:24 2017 -0700

    KAFKA-5455; Better Javadocs for the transactional producer and consumer
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3353 from apurvam/KAFKA-5455-proper-javadocs-eos-clients

commit bcaee7fe19b3f2e75f6de0dfc5487deebfef446e
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Jun 17 10:20:00 2017 -0700

    KAFKA-5435; Improve producer state loading after failure
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #3361 from hachikuji/KAFKA-5435-ALT

commit d68f9e2fe6cf2f76a81105ace5061eb7abb85995
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Jun 17 14:02:01 2017 +0100

    HOTFIX: Improve error handling for ACL requests
    
    - Use ResourceType.toJava instead of ResourceType.fromString. The latter
    doesn't work for TransactionalId (or any type with two camel-case
    words).
    - Replace Throwable with ApiError in response classes.
    - Return InvalidRequest instead of Unknown error if ANY or UNKNOWN
    are provided during ACL creation.
    - Rename `unknown()` to `isUnknown()` in a few places that
    were missed previously.
    - Add tests.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3364 from ijuma/acls-fromString-fixes

commit 51fc50ed0ba7aa4d0e618f9103a1531680489139
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Jun 17 12:48:34 2017 +0100

    KAFKA-5031; Follow-up with small cleanups/improvements
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3363 from hachikuji/KAFKA-5031-FOLLOWUP

commit 3fdbba1c7218f77fc4b7b4b2d7d2a8b4b24ef1f0
Author: Jeff Chao <jeffchao@me.com>
Date:   Sat Jun 17 08:52:24 2017 +0100

    KAFKA-5463; Controller incorrectly logs rack information when new brokers are added
    
    Before:
    
    ```
    pri=TRACE t=Controller-1-to-broker-0-send-thread at=logger Controller 1 epoch 1 received response {error_code=0} for a request sent to broker <ip>:<port> (id: 0 rack: null)
    ```
    
    After:
    
    ```
    pri=TRACE t=Controller-1-to-broker-0-send-thread at=logger Controller 1 epoch 1 received response {error_code=0} for a request sent to broker <ip>:<port> (id: 0 rack: us-east-1d)
    ```
    
    Author: Jeff Chao <jeffchao@me.com>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3358 from jeffchao/fix-controller-rack-aware-logging

commit b6c2bbc4dd044ca2aef09d5d7e2be6cb9e8fdd48
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Sat Jun 17 08:43:48 2017 +0100

    MINOR: Remove unused logger
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3365 from Kamal15/logger

commit 48de613a90fe91ca56628803fe9f02fdfd99813a
Author: gosubpl <github@gosub.pl>
Date:   Fri Jun 16 21:58:26 2017 -0700

    KAFKA-5031; Validate count of records and headers for new message format
    
    https://issues.apache.org/jira/browse/KAFKA-5031
    
    Implements additional check for `DefaultRecordBatch` that compares number of records declared in the header with actual number of records. Similarly for headers.
    
    Author: gosubpl <github@gosub.pl>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3156 from gosubpl/KAFKA-5031

commit fdd12698b8c8f9d4b70d775e5844b76912977843
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Jun 17 02:03:25 2017 +0100

    MINOR: A few cleanups in KafkaApis and TransactionMarkerChannelManager
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3171 from hachikuji/minor-txn-channel-cleanups

commit 11aa110126d641cb8f078162fd87bf519ef29766
Author: Paolo Patierno <ppatierno@live.com>
Date:   Fri Jun 16 16:09:27 2017 -0700

    KAFKA-5446: Annoying braces showed on log.error using streams
    
    Fixed log.error usage with annoying braces
    
    Author: ppatierno <ppatierno@live.com>
    Author: Paolo Patierno <ppatierno@live.com>
    
    Reviewers: Xavier Léauté, Guozhang Wang
    
    Closes #3338 from ppatierno/log-error

commit 5b063252e293b7cbb0ccb21eb0e813db689a535f
Author: Michal Borowiecki <michal.borowiecki@openbet.com>
Date:   Fri Jun 16 13:09:31 2017 -0700

    MINOR: fix quotes for consistent rendering
    
    “ as opposed to " don't render consistently across browsers. On current Kafka website they render correctly in Firefox but not Chrome (â€œrunsâ€) - charset issue?
    
    Author: Michal Borowiecki <michal.borowiecki@openbet.com>
    Author: mihbor <mbor81@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3227 from mihbor/patch-7

commit 518f141ed0c6ca8a91da36a427650fc329a943fd
Author: Michal Borowiecki <mbor81@gmail.com>
Date:   Fri Jun 16 13:07:18 2017 -0700

    MINOR: (docs) in section, not at section
    
    See https://english.stackexchange.com/questions/158981/at-this-section-vs-in-this-section and https://forum.wordreference.com/threads/at-in-within-the-section-we-can-find.374188/
    
    Author: mihbor <mbor81@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3228 from mihbor/patch-8

commit f49697a2796540452a21d4a29ab879ba04214046
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jun 16 20:36:13 2017 +0100

    KAFKA-5456; Ensure producer handles old format large compressed messages
    
    More specifically, fix the case where a compressed V0 or V1 message is
    larger than the producer batch size.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3356 from hachikuji/KAFKA-5456

commit 354cbebdc1f26f745aaf614486449fbe240a88e0
Author: Dustin Cote <dustin@confluent.io>
Date:   Fri Jun 16 16:52:30 2017 +0100

    MINOR: clarify partition option behavior for console consumer
    
    Console Consumer help doesn't say that ``--partition`` option needs ``--offset`` otherwise will consume from the end of the partition. This minor fix makes that happen.
    
    Author: Dustin Cote <dustin@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3153 from cotedm/console_consumer_help_fix

commit c83719f3d8799ec35cf9af95fd93c97b910df570
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Jun 16 14:05:14 2017 +0100

    KAFKA-5457; MemoryRecordsBuilder.hasRoomFor should account for record headers
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3355 from apurvam/KAFKA-5457-memoryrecordsbuilder-has-room-for-should-account-for-headers

commit 6cd7f448aa6cc9f8bde27ab46ab1db1048194066
Author: Tom Bentley <tbentley@redhat.com>
Date:   Fri Jun 16 12:32:33 2017 +0100

    MINOR: Add --help to DumpLogSegments
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3351 from tombentley/help

commit 6f1d4c693307d1c5d1a178d56e403bb7084d537f
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Fri Jun 16 11:43:03 2017 +0100

    MINOR: Consolidate Utils.newThread, Utils.daemonThread and KafkaThread
    
    Removed the first two in favour of the latter.
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3350 from Kamal15/utilcleanup

commit 54a3718a900a5286baf2193713ea8d58ca2c08f6
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jun 16 01:17:54 2017 +0100

    KAFKA-5449; Fix race condition on producer dequeuing of EndTxn request
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3348 from hachikuji/fix-has-unflushed-synchronization

commit 6cc29e32169e069a75304803feac67591a57b6a5
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Jun 15 14:28:38 2017 -0700

    MINOR: Add transactionalId in more log lines in the producer.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3343 from apurvam/KAFKA-5449-fix-bad-state-transition-in-transaction-manager

commit 90b2a2bf664e4e40d4cd1b46c72732c5edb97cf9
Author: Bill Bejeck <bill@confluent.io>
Date:   Thu Jun 15 13:55:25 2017 -0700

    MINOR: make flush no-op as we don't need to call flush on commit.
    
    In the event of a crash, we always restore the data from the backing changelog.  So it seems that we don't need to
     persist all data to disk by calling flush when committing.  Frequent flushing leads to a large number of small files for compaction increasing
     compaction pressure.   This PR will perform benchmarks to see if there is any performance gain in not calling `flush()` each time we commit.
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Eno Thereska <eno.thereska@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3211 from bbejeck/MINOR_no_flush_on_commit

commit 1d556e471411b3ffa5bf65afd08d1a78ee40e710
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 15 11:05:12 2017 -0700

    KAFKA-5442: Streams producer client.id are not unique for EOS
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3329 from mjsax/kafka-5442-producer-id-conflict

commit 0f60617fab5fc6805f522d0b9a213a7f600fab12
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 15 02:05:41 2017 +0100

    KAFKA-5275; AdminClient API consistency
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3339 from ijuma/kafka-5275-admin-client-api-consistency

commit bcf5da0baccc6bf9baa2a45047845dc6842cd200
Author: Randall Hauch <rhauch@gmail.com>
Date:   Wed Jun 14 16:23:29 2017 -0700

    KAFKA-5450: Increased timeout of Connect system test utilities
    
    Increased the timeout from 30sec to 60sec. When running the system tests with packaged Kafka, Connect workers can take about 30seconds to start.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3344 from rhauch/KAFKA-5450

commit 005b86ecf3bd881cb2005c177c2555eeb2a049d9
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 14 16:20:18 2017 -0700

    MINOR: Add random aborts to system test transactional copier service
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3340 from hachikuji/add-random-aborts-to-system-test

commit b760615f3d58ed1fd4e17bb3ec647b26135cf458
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Jun 14 15:24:32 2017 -0700

    KAFKA-5448: Change TimestampConverter configuration name to avoid conflicting with reserved 'type' configuration used by all Transformations
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: David Tucker, Gwen Shapira
    
    Closes #3342 from ewencp/kafka-5448-change-timestamp-converter-config-name

commit 3c2329ad0b56fe39d9cbc8301c5902689e54fb3a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 14 23:09:11 2017 +0100

    MINOR: Update `TransactionMarkerChannelManager` metric name
    
    Also remove broker-id tags as we generally use them to provide
    additional context.
    
    Finally, do a few clean-ups (could not resist).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3341 from ijuma/tweak-transaction-metrics

commit 2572637121527f8c37bc95212e7eaf8190eb436b
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 14 17:54:15 2017 +0100

    KAFKA-5443; Consumer should use last offset from batch to set next fetch offset
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3331 from hachikuji/KAFKA-5443

commit 65e36895f5cf91afcf785857ebff4c0fce8d1d9c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jun 14 09:20:48 2017 -0700

    HOTFIX: Introduce max wait time for retry-and-backoff while creating tasks
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3327 from mjsax/hotfix-backoff-retry

commit 160933bc092b4392cac1dd9497010320c6ae4d10
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jun 14 09:18:59 2017 -0700

    KAFKA-5361: Add more integration tests for Streams EOS
    
     - multi-subtopology tests
     - fencing test
     - producer fenced bug fix: Streams did not recover correctly from ProducerFencedException
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3276 from mjsax/kafka-5361-add-eos-integration-tests-for-streams-api

commit b20d9333be05b18dd776d3c8a92d76bde8d36794
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 14 08:57:49 2017 -0700

    KAFKA-5274: AdminClient Javadoc improvements
    
    Publish Javadoc for common.annotation package, which contains
    InterfaceStability.
    
    Finally, mark AdminClient classes with `Evolving` instead of `Unstable`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Colin Mccabe, Gwen Shapira
    
    Closes #3316 from ijuma/kafka-5274-admin-client-javadoc

commit 09b354a84606fe1862edecc9378908abb4048121
Author: Michael Andre Pearce <Michael.Andre.Pearce@me.com>
Date:   Wed Jun 14 11:44:49 2017 +0100

    KAFKA-5354; MirrorMaker not preserving headers
    
    Headers are only preserved if the new consumer is
    used since the old consumer does not support
    them.
    
    Add test case to verify the fix and to avoid regression.
    
    Author: Michael Andre Pearce <Michael.Andre.Pearce@me.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3322 from michaelandrepearce/KAFKA-5354

commit 0082066c56676cbc6721d7ea1d0b6b3c011d7083
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 14 04:35:08 2017 +0100

    MINOR: Javadoc for ExtendedSerializer and ExtendedDeserializer
    
    And add warning about usage.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3330 from ijuma/extended-serializer-javadoc

commit 179d574a39fe6ab13501de23c0689356da3e19aa
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Jun 14 02:32:17 2017 +0100

    MINOR: Verify mocks in all WorkerTest tests and don't unnecessarily mockStatic the Plugins class
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Randall Hauch <rhauch@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3319 from ewencp/minor-worker-test-cleanup

commit 32f0f1f50aa618e8a3c52eb37006f4945fa6865a
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Jun 14 02:05:02 2017 +0100

    MINOR: Temporarily remove the apiVersions API for 0.11
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3324 from cmccabe/removeApiVersions

commit d099c749591ac0e819017a9d3ae48144ddbbff0d
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Jun 14 01:59:24 2017 +0100

    MINOR: NetworkClient#disconnect should not erase connection info
    
    NetworkClient#disconnect should not erase the connection information.  This will allow exponential
    backoff to occur.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3309 from cmccabe/disc

commit 004dde9e7abb9ebf18a7bfdf8b6f0e997ea9badb
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Jun 13 16:55:22 2017 -0700

    MINOR: Add unit tests for PluginDesc in Connect.
    
    Related to https://github.com/apache/kafka/pull/3321
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3326 from kkonstantine/MINOR-Add-tests-for-PluginDesc

commit c2daf4c623e5919872012aff57ffa25af46a97f8
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Jun 13 16:14:36 2017 -0700

    KAFKA-5438; Fix UnsupportedOperationException in WriteTxnMarkersRequest
    
    Before this patch, the `partitionErrors` was an immutable map. As a result if a single producer had a marker for multiple partitions, and if there were multiple response callbacks for a single append, we would get an `UnsupportedOperationException` in the `writeTxnMarker` handler.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3313 from apurvam/KAFKA-5438-fix-unsupportedoperationexception-in-writetxnmarker

commit 4b4102884c8d317fe362523a9f5af20a27a4ee52
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Jun 13 14:40:07 2017 -0700

    HOTFIX: Handle Connector version returning 'null' during plugin loading.
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3321 from kkonstantine/HOTFIX-Handle-null-version-returned-from-Connector-interface-during-plugin-loading

commit 5c9557857602a4c5a57afd06d98447d02cc325c8
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 13 19:25:53 2017 +0100

    MINOR: Clean up in DeleteConsumerGroupTest even if test fails
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3317 from rajinisivaram/MINOR-deleteconsumergrouptest-cleanup

commit 85b7c855bdf88994712d6b6683c9ab69bfa437a9
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jun 13 10:45:14 2017 -0700

    HOTFIX: Fix invalid long format conversion in request logger message
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3318 from hachikuji/hotfix-request-metric-udpate

commit 136b03868a3156b1566f109eb47b3832b02c14f7
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 13 15:58:22 2017 +0100

    MINOR: Generate deprecated warning for static default quota config
    
    The default client-id bandwidth quota config properties have been marked deprecated in the doc, but a warning may be useful before the property is removed in a future release.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3315 from rajinisivaram/MINOR-deprecate-staticquota

commit aaca1b478fcce99860e2eb89aa468ff863458572
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 13 13:47:41 2017 +0100

    KAFKA-5439; Verify that no unexpected threads are left behind in tests
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3314 from rajinisivaram/KAFKA-5439

commit 435e5e196b64625f017ef2c8c7ab49ce7fc271b8
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Tue Jun 13 13:25:57 2017 +0100

    KAFKA-5418; ZkUtils.getAllPartitions() may fail if a topic is marked for deletion
    
    Skip topics that don't have any partitions in zkUtils.getAllPartitions()
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3295 from mimaison/KAFKA-5418

commit 4660bac4eb45a65767d05b03d275e3bf08a85c2a
Author: Tom Bentley <tbentley@redhat.com>
Date:   Tue Jun 13 11:39:17 2017 +0100

    MINOR: Avoid calling interceptors.onSendError() with null TopicPartition
    
    Assign non-null tp as soon as possible once we know the partition. This is
    so that if ensureValidRecordSize() throws, the
    interceptors.onSendError() call is made with a non-null tp.
    
    Author: Tom Bentley <tbentley@redhat.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3280 from tombentley/tp-assign

commit aea53108a7d9573b8976da83235639a981c09af3
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jun 12 18:07:27 2017 -0700

    KAFKA-5428; Transactional producer should only abort batches in fatal error state
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3298 from hachikuji/KAFKA-5428

commit 6c92fc557682e853a0a3ed5684c13174fff45acf
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jun 12 16:29:29 2017 -0700

    KAFKA-5429; Ignore produce response if batch was previously aborted
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3300 from hachikuji/KAFKA-5429

commit 0f3f2f56a2d013e6ff723155607b2f71b20db620
Author: Apurva Mehta <apurva@confluent.io>
Date:   Mon Jun 12 15:57:01 2017 -0700

    KAFKA-5437; Always send a sig_kill when cleaning the message copier
    
    When the message copier hangs (like when there is a bug in the client), it ignores the sigterm and doesn't shut down. this leaves the cluster in an unclean state causing future tests to fail.
    
    In this patch we always send SIGKILL when cleaning the node if the process isn't already dead. This is consistent with the other services.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3308 from apurvam/KAFKA-5437-force-kill-message-copier-on-cleanup

commit 43e935a630eb0a7fa64c5a1a38bfee17f9b724dc
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jun 12 15:04:05 2017 -0700

    KAFKA-5427; Transactional producer should allow FindCoordinator in error state
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3297 from hachikuji/KAFKA-5427

commit 2724053adf3466d01a70ad9020b3d639150050d6
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jun 12 14:56:28 2017 -0700

    MINOR: A few cleanups of usage of Either in TC
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3284 from hachikuji/minor-either-usage-cleanup

commit d06a0db8b8fcd8ddbdf277885204a062a642dd67
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Mon Jun 12 22:43:58 2017 +0100

    MINOR: Specify keyalg RSA for SSL key generation commands
    
    Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3305 from omkreddy/ssl-doc

commit 2d154420c54f725988a7ca696febe341f625049a
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Mon Jun 12 22:36:47 2017 +0100

    KAFKA-3123; Ensure cleaning is resumed if truncateTo throws
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3296 from mimaison/KAFKA-3123

commit 7d1ef63bec459bcf05b46c1542488283db02a6e2
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Mon Jun 12 22:27:58 2017 +0100

    KAFKA-5404; Add more AdminClient checks to ClientCompatibilityTest
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3263 from cmccabe/KAFKA-5404

commit 9d6f0f40ceb4859d54454e03f6abfe8b67963e83
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jun 12 12:47:42 2017 -0700

    KAFKA-5416; TC should not reset pending state if log append is retried
    
    In `TransationStateManager`, we reset the pending state if an error occurred while appending to log; this is correct except that for the `TransactionMarkerChannelManager`, as it will retry appending to log and if eventually it succeeded, the transaction metadata's completing transition will throw an IllegalStateException since pending state is None, this will be thrown all the way to the `KafkaApis` and be swallowed.
    
    1. Do not reset the pending state if the append will be retried (as is the case when write the complete transition).
    2. A bunch of log4j improvements based the debugging experience. The main principle is to make sure all error codes that is about to sent to the client will be logged, and unnecessary log4j entries to be removed.
    3. Also moved some log entries in ReplicationUtils.scala to `trace`: this is rather orthogonal to this PR but I found it rather annoying while debugging the logs.
    4. A couple of unrelated bug fixes as pointed by hachikuji and apurvam.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3287 from guozhangwang/KHotfix-transaction-coordinator-append-callback

commit 46db2c5b99de05591274241c70378d845ee4c847
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jun 12 16:49:41 2017 +0100

    KAFKA-5433; Close SimpleAclAuthorizer in test to close ZK client
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3304 from rajinisivaram/KAFKA-5433

commit a623d8fe391f4c4439707b4522c66a3764f620d8
Author: huxihx <huxi_2b@hotmail.com>
Date:   Sun Jun 11 21:34:29 2017 -0700

    KAFKA-5405; Request log should log throttle time
    
    Record `apiThrottleTime` in RequestChannel.
    junrao  A trivial change. Please review. Thanks.
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3265 from huxihx/KAFKA-5405

commit 40509fd7b60018f06bcb4c55deabc2503415fcb2
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Sat Jun 10 14:54:35 2017 -0700

    KAFKA-4661: Improve test coverage UsePreviousTimeOnInvalidTimestamp
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3288 from jeyhunkarimov/KAFKA-4661

commit 1e03b711875d45081c6f839962f9a019d3f64d8c
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Jun 9 17:08:34 2017 -0700

    KAFKA-5415; Remove timestamp check in completeTransitionTo
    
    This assertion is hard to get right because the system time can roll backward on a host due to NTP (as shown in the ticket), and also because a transaction can start on one host and complete on another. Getting precise clock times across hosts is virtually impossible, and this check makes things fragile.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3286 from apurvam/KAFKA-5415-avoid-timestamp-check-in-completeTransition

commit 8e7839f610a9278f800ba2f7378fb10abded8f28
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Jun 9 15:54:23 2017 -0700

    KAFKA-5422; Handle multiple transitions to ABORTABLE_ERROR correctly
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3285 from apurvam/KAFKA-5422-allow-multiple-transitions-to-abortable-error

commit 2af4dd8653dd6717cca1630a57b2835a2698a1bc
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jun 9 11:42:51 2017 -0700

    HOTFIX: Use atomic boolean for inject errors in streams eos integration test
    
    Originally we assume the task will be created exactly three times (twice upon starting up, once for each thread, and then one more time when rebalancing upon the thread failure). However there is a likelihood that upon starting up more than one rebalance will be triggered, and hence the tasks will be initialized more than 3 times, i.e. there will be more than three hashcodes of the `Transformer` object, causing the `errorInjected` to never be taken and exception never thrown.
    
    The current fix is to use an atomic boolean instead and let threads compete on compare-and-set to make sure exactly one thread will throw exception, and will only throw once.
    
    Without this patch I can reproduce the issue on my local machine with a single core ever 3-5 times; with this patch I have been running successfully for 10+ runs.
    
    Ping mjsax ijuma for reviews.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3275 from guozhangwang/KHotfix-eos-integration-test

commit 5d7c8cc81af6cd2f209f8e5f3df784b9272830b9
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jun 8 18:35:07 2017 -0700

    KAFKA-5414; Revert KAFKA-5327 which changed ConsoleConsumer offset commit behavior
    
    This reverts commit d7d1196a0b542adb46d22eeb5b6d12af950b64c9.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3277 from hachikuji/KAFKA-5414

commit 88aec3eb6d6f8d328e322493ebf4c3011b7335ea
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 8 15:32:45 2017 -0700

    MINOR: disable flaky Streams EOS integration tests
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3272 from mjsax/minor-disable-eos-tests

commit c57cfdf4fa56667cb2a5e4ffdb0bcd0b7ff1e134
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 8 15:27:30 2017 -0700

    KAFKA-5411: AdminClient javadoc and documentation improvements
    
    - Show AdminClient configs in the docs.
    - Update Javadoc config so that public classes exposed by
    the AdminClient are included.
    - Version and table of contents fixes.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Colin Mccabe, Gwen Shapira
    
    Closes #3271 from ijuma/kafka-5411-admin-client-javadoc-configs

commit ba07d828c545d542cc11db60249e660d88a20fbb
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 8 14:08:54 2017 -0700

    KAFKA-5362: Add EOS system tests for Streams API
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3201 from mjsax/kafka-5362-add-eos-system-tests-for-streams-api

commit 21194a63edb460105acd8763e03d07ebbff1df68
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 8 13:10:34 2017 -0700

    HOTFIX: for flaky Streams EOS integration tests
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3273 from mjsax/hotfix-flaky-stream-eos-test

commit b4b65e9eafc45cadca093b023361bd15e77ccb21
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jun 8 11:50:29 2017 -0700

    KAFKA-5357 follow-up: Yammer metrics, not Kafka Metrics
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3242 from guozhangwang/K5357-yammer-metrics

commit eff79849a0cf8150bd0e4b7e18f77ecbf1f89a36
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Jun 8 09:46:15 2017 -0700

    MINOR: Set log level for producer internals to trace for transactions test
    
    We need this to debug most issues with the transactions system test.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3261 from apurvam/MINOR-set-log-level-for-producer-to-trace-for-transactions-test

commit 1e87b09ec7018a396e9c31bde443b231ccfea73e
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Thu Jun 8 16:58:46 2017 +0100

    KAFKA-5391; Replace zkClient.delete* method with an equivalent zkUtills
    
    ijuma can you please review.
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3245 from baluchicken/KAFKA-5391

commit f4e0deca43595f30b9c6f1a1666192416ecc8a9c
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Jun 7 21:16:46 2017 -0700

    KAFKA-5314; exception handling and cleanup for state stores
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3135 from enothereska/exceptions-stores-KAFKA-5314

commit 3de2d296e9fec89631b6521ed488263dca5808a9
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jun 7 21:00:13 2017 -0700

    MINOR: improve JavaDocs for TimestampExtractor interface
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3264 from mjsax/minor-javadocs-timestamp-extractor

commit d1a279dcc7aba6ad965fbdd854f1daf0ec184f46
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Jun 7 20:52:54 2017 -0700

    MINOR: Cache metrics were missing
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3262 from enothereska/minor-missing-metric

commit 12612e82971b8dc85941c771b7fe87ff95a07ab5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 8 03:26:43 2017 +0100

    KAFKA-5329; Fix order of replica list in metadata cache
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #3257 from ijuma/kafka-5329-fix-order-of-replica-list-in-metadata-cache

commit 2fc91afbad2229ef2f8ef6fbeebc257ab7019746
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Jun 8 00:26:14 2017 +0100

    KAFKA-5292; Fix authorization checks in AdminClient
    
    * NetworkClient.java: when trace logging is enabled, show AbstractResponse Struct objects, rather than just a memory address of the AbstractResponse.
    * AclOperation.java: add documentation of what ACLs imply other ACLs.
    * Resource.java: add CLUSTER, CLUSTER_NAME constants.
    * Reconcile the Java and Scala classes for ResourceType, OperationType, etc.  Add unit tests to ensure they can be converted to each other.
    * AclCommand.scala: we should be able to apply ACLs containing Alter and Describe operations to Cluster resources.
    * SimpleAclAuthorizer: update the authorizer to handle the ACL inheritance rules described in AclOperation.java.
    * KafkaApis.scala: update createAcls and deleteAcls to use ALTER on CLUSTER, as described in the KIP.  describeAcls should use DESCRIBE on CLUSTER.  Use      fromJava methods instead of fromString methods to convert from Java objects to Scala ones.
    * SaslSslAdminClientIntegrationTest.scala: do not use AllowEveryoneIfNoAclIsFound.  Add a configureSecurityBeforeServerStart hook which installs the ACLs     necessary for the tests.  Add a test of ACL authorization ALLOW and DENY functionality.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3240 from cmccabe/KAFKA-5292

commit 79db393ffaca25fdaac0fef69d6fb082f1628649
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed Jun 7 13:01:54 2017 -0700

    KAFKA-5385; ProducerBatch expiry should go through Sender.failBatch
    
    Before this patch, we would call `producerBatch.done` directly from the accumulator when expiring batches. This meant that we would not transition to the `ABORTABLE_ERROR` state in the transaction manager, allowing other transactional requests (including Commits!) to go through, even though the produce failed.
    
    This patch modifies the logic so that we call `Sender.failBatch` on every expired batch, thus ensuring that the transaction state is accurate.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3252 from apurvam/KAFKA-5385-fail-transaction-if-batches-expire

commit effda15f1fbe643cde1f610b9d54715c9e2078cf
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 7 11:50:20 2017 -0700

    MINOR: A few logging improvements in group coordinator
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3259 from hachikuji/group-coordinator-logging-improvements

commit 6aeca1012356a90d75d58c9294891619e4a7ab81
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Wed Jun 7 19:32:33 2017 +0100

    KAFKA-5389; Replace zkClient.exists method with zkUtils.pathExists
    
    ijuma can you please review
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3243 from baluchicken/KAFKA-5389

commit 38ae746448f799c3ff8be113f608aaa870e00c87
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Jun 7 18:02:55 2017 +0100

    KAFKA-5394; KafkaAdminClient#timeoutCallsInFlight does not work as ex…
    KAFKA-5394; Fix disconnections due to timeouts in AdminClient
    
    * Create KafkaClient#disconnect to tear down a connection and
    deliver disconnects to all the requests on it.
    * AdminClient.java: fix mismatched braces in JavaDoc.
    * Make the AdminClientConfig constructor visible for testing.
    * KafkaAdminClient: add TimeoutProcessorFactory to make the
    TimeoutProcessor swappable for testing.
    * Make TimeoutProcessor a static class rather than an inner
    class.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3250 from cmccabe/KAFKA-5394

commit 5c3d7ca7113dd380d7465d5f914adfb4c7394eaa
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Jun 7 16:52:10 2017 +0100

    MINOR: log4j template should accept log_level
    
    The log_level parameter is used in system tests in kafka.py. However the log4j template accepted that parameter in only one place. This led to a large number of DEBUG lines printed even when the intention was to capture only INFO lines. Led to huge log files. Thanks to ijuma for noticing this.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3247 from enothereska/minor-log4j-template-fix

commit dcbdce31ba525771016be5be4abc4a2067e0890b
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 7 16:14:09 2017 +0100

    KAFKA-5378; Return LSO in FetchResponse plus some metrics
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3248 from hachikuji/KAFKA-5378

commit 57b0d0fe572399048e523d54beafa3520a708cf5
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jun 7 15:17:25 2017 +0100

    MINOR: syntax brush for java / bash / json / text
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Derrick Or <derrickor@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3214 from guozhangwang/KMinor-doc-java-brush

commit f8d6dba345de432006a0644434823d70c0a907fc
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Jun 7 15:15:13 2017 +0100

    MINOR: set group initial rebalance delay to 0 in server.properties
    
    override the setting of `group.initial.rebalance.delay` in server.properties
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3254 from dguy/minor-prop-change

commit bb914a0445549b41fb0b667ea2f5f15a90060133
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jun 7 12:51:53 2017 +0100

    KAFKA-5380: Fix transient failure in KafkaConsumerTest, close consumers
    
    1. Fix ordering of metadata update request for regex subscription to avoid timing issue when heartbeat thread updates metadata
    2. Override metadata cluster in MockClient for `KafkaConsumer#testChangingRegexSubscription` to avoid timing issues during update
    3. Close consumer in all KafkaConsumer tests since they leave behind heartbeat threads.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3238 from rajinisivaram/KAFKA-5380

commit b01c83ea916f9dd2a2db664d6e458b255d0242a6
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jun 6 17:52:50 2017 -0700

    MINOR: remove ignore annotations in Streams EOS integration test
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Apurva Mehta <apurva@confluent.io>
    
    Closes #3251 from guozhangwang/KMinor-remove-ignored-streams-integration-test

commit 202cb8ea892f443e95c7a08fce5828131809a678
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Jun 6 17:21:45 2017 -0700

    KAFKA-5366; Add concurrent reads to transactions system test
    
    This currently fails in multiple ways. One of which is most likely KAFKA-5355, where the concurrent consumer reads duplicates.
    
    During broker bounces, the concurrent consumer misses messages completely. This is another bug.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3217 from apurvam/KAFKA-5366-add-concurrent-reads-to-transactions-system-test

commit d655d806ee4fe345ea25f8ff4a5f168c1a5f609b
Author: Nick Pillitteri <nickp@smartertravelmedia.com>
Date:   Tue Jun 6 14:22:39 2017 -0700

    KAFKA-4942: Fix commitTimeoutMs being set before the commit actually started
    
    This fixes KAFKA-4942
    
    This supersededs #2730
    
    /cc simplesteph gwenshap ewencp
    
    Author: Nick Pillitteri <nickp@smartertravelmedia.com>
    Author: simplesteph <stephane.maarek@gmail.com>
    
    Reviewers: simplesteph <stephane.maarek@gmail.com>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2912 from 56quarters/fix-connect-offset-commit

commit 2244c68ebc4b016e1a037026f625a2ecceb852a3
Author: Bill Bejeck <bill@confluent.io>
Date:   Tue Jun 6 10:57:47 2017 -0700

    MINOR: expose commit interval config for SimpleBenchmark
    
    Expose the streams commit interval config for different testing scenarios.
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3244 from bbejeck/MINOR_add_commit_config_benchmark

commit ad8e7cf5e82386f8596025b06fab6b1cbd0b9109
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jun 6 09:37:13 2017 -0700

    MINOR: update stream docs for kip-134
    
    Add a section in the streams docs about the broker config introduced in KIP-134
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll, Bill Bejeck, Guozhang Wang
    
    Closes #3179 from dguy/kip134-doc

commit 3de683993dcc1f363cc2e1b177181036b96c2cee
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 6 17:07:23 2017 +0100

    KAFKA-4948; Wait for offset commit in test to fix transient failure
    
    `DescribeConsumerGroupTest#testDescribeExistingGroupWithNoMembersWithNewConsumer` shuts down the consumer executor thread and then checks that the assignments returned by `describeGroup` contain the consume group with no members. But if the executor thread is shut down before any offsets are committed, the assignments returned by `describeGroup` doesn't contain the group at all. This PR waits for an offset commit by waiting for the group to appear in `describeGroup` assignments prior to shutting down the executor.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3246 from rajinisivaram/KAFKA-4948

commit cb78ba1294d1a27b2c4d842a125486ffec593d98
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jun 6 13:57:20 2017 +0100

    KAFKA-5364; ensurePartitionAdded does not handle pending partitions in abortable error state
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3231 from hachikuji/KAFKA-5364

commit 313f8d7ddc48943d9f2290a27751d7a0fa1d3a82
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jun 6 13:31:36 2017 +0100

    MINOR: Create offsets topic explicitly in DescribeConsumerGroupTest
    
    This should fix transient failures due to timeouts caused by slow
    auto creation of the offsets topic. The one exception is
    `testDescribeGroupWithNewConsumerWithShortInitializationTimeout` where
    we want initialisation to take longer than the timeout so we let
    it be auto created. That test has also been a bit flaky and I reduced
    the timeout to 1 ms.
    
    Also:
    - Simplified resource handling
    - Removed usage of EasyMock that didn't make sense.
    - `findCoordinator` should retry if `sendAnyNode` throws an exception
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3237 from ijuma/kafka-49480-describe-consumer-group-test-failure

commit 17b2bde4be6296dfd47defce85443cbf6e23835b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 6 12:34:39 2017 +0100

    KAFKA-5051; Avoid reverse DNS lookup to obtain hostname for TLS
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2835 from rajinisivaram/KAFKA-5051

commit 4b37918ef47f5d8c4874644f576d8e1a72e16212
Author: Sean McCauliff <smccauliff@linkedin.com>
Date:   Mon Jun 5 19:45:14 2017 -0700

    KAFKA-5239; Allocate memory outside the lock in producer buffer pool
    
    Move byte buffer allocation out of lock.
    Add unit test for restoring count when OOM is thrown from byte buffer allocation.
    
    Author: Sean McCauliff <smccauliff@linkedin.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #3053 from smccauliff/kafka-5239

commit 9934d28a34351a63738f8e9bac6b53fd699a4905
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jun 6 03:43:07 2017 +0100

    KAFKA-5325; Avoid and handle exceptions for Kerberos re-login
    
    If producer creates a connection during Kerberos re-login (after logout,
    before login), there are no principals in the subject and
    `SaslClientAuthenticator.configure` may throw an exception while trying
    to determine the principal. A socket channel is created and its key
    registered with the selector, but the `RuntimeException` thrown leaves
    the key registered with the selector without adding the channel to the
    channel list. This results in an infinite loop of `NullPointerExceptions`.
    The PR applies two fixes:
    
    1. Convert the `RuntimeException` to a meaningful `KafkaException`
    2. Handle any exception in `buildChannel`, cleanup and throw `IOException`.
    Retries will take care of re-connections.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3208 from rajinisivaram/KAFKA-5325

commit 2bb48a4fa45422d0773f2f4ea5b38328d3c173ac
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jun 6 03:37:37 2017 +0100

    KAFKA-5376; Ensure aborted transactions are propagated in DelayedFetch
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3239 from hachikuji/KAFKA-5376

commit b119d04093c2eb771fc3d9bc2d5c1390fc3dd184
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jun 6 03:21:39 2017 +0100

    KAFKA-5112; Update compatibility system tests to include 0.10.2.1
    
    Also update message format tests now that we have a third message
    format.
    
    Finally, set group.initial.rebalance.delay.ms=100.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2701 from ijuma/update-upgrade-tests-for-0.11

commit 39eb31feaeebfb184d98cc5d94da9148c2319d81
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jun 6 03:08:40 2017 +0100

    MINOR: Optimise performance of `Topic.validate()`
    
    I included a JMH benchmark and the results follow. The
    implementation in this PR takes no more than 1/10th
    of the time when compared to trunk. I also included
    results for an alternative implementation that is a little
    slower than the one in the PR.
    
    Trunk:
    ```text
    TopicBenchmark.testValidate                                topic  avgt   15  134.107 ±  3.956  ns/op
    TopicBenchmark.testValidate                    longer-topic-name  avgt   15  316.241 ± 13.379  ns/op
    TopicBenchmark.testValidate  very-long-topic-name_with_more_text  avgt   15  636.026 ± 30.272  ns/op
    ```
    
    Implementation in the PR:
    ```text
    TopicBenchmark.testValidate                                topic  avgt   15  13.153 ± 0.383  ns/op
    TopicBenchmark.testValidate                    longer-topic-name  avgt   15  26.139 ± 0.896  ns/op
    TopicBenchmark.testValidate  very-long-topic-name.with_more_text  avgt   15  44.829 ± 1.390  ns/op
    ```
    
    Alternative implementation where boolean validChar = Character.isLetterOrDigit(c) || c == '.' || c == '_' || c == '-';
    ```text
    TopicBenchmark.testValidate                                topic  avgt   15  18.883 ± 1.044  ns/op
    TopicBenchmark.testValidate                    longer-topic-name  avgt   15  36.696 ± 1.220  ns/op
    TopicBenchmark.testValidate  very-long-topic-name_with_more_text  avgt   15  65.956 ± 0.669  ns/op
    ```
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3234 from ijuma/optimise-topic-is-valid

commit 8e3ed7028e235b014cd14aedde6808b4ae411232
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Jun 5 11:43:19 2017 -0700

    KAFKA-5357: capture unexpected exception in txn marker sender thread and treat as fatal error
    
    Replace recursion in `TransactionMarkerChannelManager#appendToLogCallback` with retryQueue. Retry the enqueued log appends each time the InterBrokerSendThread runs
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3192 from dguy/kafka-5357

commit 1c70e7ac12966bb13fecd633b5ba8223178733a4
Author: Bill Bejeck <bill@confluent.io>
Date:   Mon Jun 5 11:08:00 2017 -0700

    MINOR: Adding deprecated KTable methods to docs from KIP-114
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3215 from bbejeck/kip114-doc

commit b62f156eb480498eba338b1746a995ed0d8ce871
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Jun 5 13:43:29 2017 +0100

    MINOR: Default GroupInitialRebalanceDelayMsProp to 0 and OffsetsTopicPartitionsProp to 5 in tests
    
    This should make tests faster. Tests that require specific values can override these values.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3236 from ijuma/default-initial-rebalance-delay-and-offsets-topic-partitions

commit d4a070fcfae97a5ec0681f7055385c6459727956
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun Jun 4 22:42:44 2017 -0700

    MINOR: update docs with regard to KIP-123
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3232 from mjsax/minor-update-docs-for-kip-123

commit 3557f097b81edd6518100d79b442223fadf9f81f
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jun 5 00:36:16 2017 +0100

    KAFKA-5355; Test cases to ensure isolation level propagated in delayed fetch
    
    Include a few logging improvements.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3230 from hachikuji/KAFKA-5355-TESTS

commit c7bc8f7d8c0101103853b5f6778edb04d1f41b76
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Jun 4 10:48:34 2017 -0700

    MINOR: Remove redundant volatile write in RecordHeaders
    
    The JMH benchmark included shows that the redundant
    volatile write causes the constructor of `ProducerRecord`
    to take more than 50% longer:
    
    ProducerRecordBenchmark.constructorBenchmark  avgt   15  24.136 ± 1.458  ns/op (before)
    ProducerRecordBenchmark.constructorBenchmark  avgt   15  14.904 ± 0.231  ns/op (after)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3233 from ijuma/remove-volatile-write-in-records-header-constructor

commit d7ec9feaf1c2d2fc79218a798394f4665e4d72d0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Jun 4 17:15:31 2017 +0100

    Revert "KAFKA-5098; ProducerRecord should validate the topic name"
    
    We need to verify that this doesn't cause a performance regression,
    so reverting until that is done.
    
    This reverts commit 941e2177c0cf57eff818192258300d256971a11e.

commit 9b58372dcce5dc96826d4786123513a4d8c7b39f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Jun 4 15:28:06 2017 +0100

    KAFKA-5371; Increase request timeout for producer used by testReachableServer
    
    500ms is low for a shared Jenkins environment.
    
    Also removed the try/catch blocks that simply obscured
    the underlying error.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3225 from ijuma/kafka-5371-flaky-testReachableServer

commit 941e2177c0cf57eff818192258300d256971a11e
Author: huxihx <huxi_2b@hotmail.com>
Date:   Sat Jun 3 10:35:44 2017 +0100

    KAFKA-5098; ProducerRecord should validate the topic name
    
    Author: huxihx <huxi_2b@hotmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3223 from huxihx/KAFKA-5098_Does_not_check_topic_name_before_sending

commit a598c4d26fb06acb455e14e84468306dfa6e1c8b
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Sat Jun 3 10:07:56 2017 +0100

    KAFKA-4291; TopicCommand --describe should show topics marked for deletion
    
    Developed with edoardocomar
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2011 from mimaison/KAFKA-4291

commit 8711e5937fe33b87123843f9ce9825c60b784ef9
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Jun 3 06:33:49 2017 +0100

    KAFKA-5019; Upgrades notes for idempotent/transactional features and new message format
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3212 from hachikuji/KAFKA-5019

commit f389b715707e4e53eaf6ce476a218a4a06c427ee
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sat Jun 3 06:26:06 2017 +0100

    KAFKA-5374; Set allow auto topic creation to false when requesting node information only
    
    It avoids the need to handle protocol downgrades and it's safe (i.e. it will never cause
    the auto creation of topics).
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3220 from ijuma/kafka-5374-admin-client-metadata

commit 6a5a908b1cf972451ec8d5c66cf9fb4507a1355f
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Jun 3 06:23:53 2017 +0100

    KAFKA-5355; DelayedFetch should propagate isolation level to log read
    
    Tests will be added in a subsequent commit.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3221 from hachikuji/KAFKA-5355

commit eb5586102e5bb4b66f2cacafbe45f9a7bad8eb10
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Jun 3 03:14:55 2017 +0100

    KAFKA-5272; Policy for Alter Configs (KIP-133)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3210 from ijuma/kafka-5272-improve-validation-for-describe-alter-configs

commit 1c786c589ab6737e1660981e739582935f9e0f0d
Author: Xavier Léauté <xavier@confluent.io>
Date:   Sat Jun 3 02:06:48 2017 +0100

    MINOR: Reuse decompression buffers in log cleaner
    
    Follow-up to KAFKA-5150, reuse decompression buffers in the log cleaner thread.
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3180 from xvrl/logcleaner-decompression-buffers

commit 8104c0de273fb7627c4172f18a609472186860fd
Author: Apurva Mehta <apurva@confluent.io>
Date:   Sat Jun 3 01:53:23 2017 +0100

    KAFKA-5373; Revert breaking change to console consumer
    
    This patch reverts b63e41ea78a58bdea78be33f90bfcb61ce5988d3
    since it broke the console consumer -- the consumer prints
    the addresses of the messages instead of the contents with
    that patch.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3218 from apurvam/KAFKA-5373-fix-console-consumer

commit 0b107e5f752f4f7d1d6dc97891cb9569c3db5b3d
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Jun 2 15:29:09 2017 -0700

    HOTFIX: Reinstate the placeholder for logPrefix in TransactionManager
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3216 from apurvam/HOTFIX-logging-bug-in-transaction-manager

commit a318b1512900d29dc9ff0082f52f467999ba69b8
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Jun 2 14:18:54 2017 -0700

    KAFKA-5322; Add `OPERATION_NOT_ATTEMPTED` error code to resolve AddPartitionsToTxn inconsistency
    
    In the `AddPartitionsToTxn` request handling, if even one partition fails authorization checks, the entire request is essentially failed. However, the `AddPartitionsToTxnResponse` today will only contain the error codes for the topics which failed authorization. It will have no error code for the topics which succeeded, making it inconsistent with other APIs.
    
    This patch adds a new error code `OPERATION_NOT_ATTEMPTED` which is returned for the successful partitions to indicate that they were not added to the transaction.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3204 from apurvam/KAFKA-5322-add-operation-not-attempted-for-add-partitions

commit 4959444afc927026f48f5c7d9babed7b9f1bea50
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jun 2 21:20:02 2017 +0100

    KAFKA-5236; Increase the block/buffer size when compressing with Snappy or Gzip
    
    We had originally increased Snappy’s block size as part of KAFKA-3704. However,
    we had some issues with excessive memory usage in the producer and we reverted
    it in 7c6ee8d5e.
    
    After more investigation, we fixed the underlying reason why memory usage seemed
    to grow much more than expected via KAFKA-3747 (included in 0.10.0.1).
    
    In 0.10.2, we changed the broker to use the same classes as the producer and the
    broker’s block size for Snappy was changed from 32 KB to 1KB. As reported in
    KAFKA-5236, the on disk size is, in some cases, 50% larger when the data is compressed
    with 1 KB instead of 32 KB as the block size.
    
    As discussed in KAFKA-3704, it may be worth making this configurable and/or allocate
    the compression buffers from the producer pool. However, for 0.11.0.0, I think the
    simplest thing to do is to default to 32 KB for Snappy (the default if no block size
    is provided).
    
    I also increased the Gzip buffer size. 1 KB is too small and the default is smaller
    still (512 bytes). 8 KB (which is the default buffer size for BufferedOutputStream)
    seemed like a reasonable default.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3205 from ijuma/kafka-5236-snappy-block-size

commit b63e41ea78a58bdea78be33f90bfcb61ce5988d3
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Jun 2 12:38:11 2017 -0700

    KAFKA-3982: Fix processing order of some of the consumer properties
    
    This PR updates processing of console consumer's input properties.
    
    For both old and new consumer, the value provided for `auto.offset.reset` indirectly through `consumer.config` or `consumer.property` arguments will now take effect.
    For new consumer and for `key.deserializer` and `value.deserializer` properties, the precedence order is fixed to first the value directly provided as an argument, then the value provided indirectly via `consumer.property` and then `consumer.config`, and finally a default value.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1655 from vahidhashemian/KAFKA-3982

commit 0a8b10e27f573612e1d5d6787b2096d3a8528b94
Author: Hamidreza Afzali <hrafzali@gmail.com>
Date:   Fri Jun 2 12:20:57 2017 -0700

    KAFKA-5368: Fix skipped record metrics to use rate of sum instead of rate of count
    
    This resolved the issue with Kafka Streams skipped records sensor reporting wrong values.
    
    Jira ticket: https://issues.apache.org/jira/browse/KAFKA-5368
    
    The contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Hamidreza Afzali <hrafzali@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3206 from hrafzali/KAFKA-5368_skipped-records-sensor-bug

commit d7d1196a0b542adb46d22eeb5b6d12af950b64c9
Author: amethystic <huxi_2b@hotmail.com>
Date:   Fri Jun 2 12:08:26 2017 -0700

    KAFKA-5327: ConsoleConsumer should manually commit offsets for records that are returned in receive()
    
    KAFKA-5327: ConsoleConsumer should manually commit offsets for those records it really consumed. Currently it leaves this job to the automatic offset commit scheme where some unread messages will be passed if `--max-messages` is set.
    
    Author: amethystic <huxi_2b@hotmail.com>
    Author: huxi <huxi_2b@hotmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3148 from amethystic/KAFKA-5327_ConsoleConsumer_distable_autocommit

commit af85e05b98a41cd5f8ac45a853b2ddd28463c084
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Jun 2 10:02:40 2017 -0700

    KAFKA-5164: Ensure SetSchemaMetadata updates key or value when Schema changes
    
    When the `SetSchemaMetadata` SMT is used to change the name and/or version of the key or value’s schema, any references to the old schema in the key or value must be changed to reference the new schema. Only keys or values that are `Struct` have such references, and so currently only these are adjusted.
    
    This is based on `trunk` since the fix is expected to be targeted to the 0.11.1 release.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3198 from rhauch/kafka-5164

commit f85c18032be5d583c2ca8f9fa1eb1b5ec55e59fa
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Jun 2 11:28:13 2017 +0100

    KAFKA-3264; Deprecate the old Scala consumer (KIP-109)
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    This patch had conflicts when merged, resolved by
    Committer: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2328 from vahidhashemian/KAFKA-3264

commit 5d46348619b1ca8610af305bf5e90c560b050258
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Jun 2 10:24:42 2017 +0100

    KAFKA-5282; Use a factory method to create producers/consumers and close them in tearDown
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    This patch had conflicts when merged, resolved by
    Committer: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3129 from vahidhashemian/KAFKA-5282

commit 47a3066ccb216bfb65dda2746ca1b7775d8cba05
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jun 2 09:29:29 2017 +0100

    KAFKA-5365; Fix regression in compressed message iteration affecting magic v0 and v1
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3203 from hachikuji/KAFKA-5365

commit 1188db5657e1db6944b59b1c91a75e47856f4e5c
Author: Dale Peakall <dale@peakall.net>
Date:   Fri Jun 2 09:25:58 2017 +0100

    KAFKA-5311: Support ExtendedDeserializer in Kafka Streams
    
    Author: Dale Peakall <dale@peakall.net>
    
    Reviewers: Michael André Pearce <michael.andre.pearce@me.com>, Matthias J. Sax <matthias@confluent.io>, Bill Bejeck <bbejeck@gmail.com>, Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3199 from subnova/streams-extendeddeserializer

commit 673ab671e6d72f48fcc98de0b73564983c34e752
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri Jun 2 00:53:21 2017 -0700

    KAFKA-5364; Don't fail producer if drained partition is not yet in transaction
    
    Due to the async nature of the producer, it is possible to attempt to drain a messages whose partition hasn't been added to the transaction yet. Before this patch, we considered this a fatal error. However, it is only in error if the partition isn't in the queue to be sent to the coordinator.
    
    This patch updates the logic so that we only fail the producer if the partition would never be added to the transaction. If the partition of the batch is yet to be added, we will simply wait for the partition to be added to the transaction before sending the batch to the broker.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3202 from apurvam/KAFKA-5364-ensure-partitions-added-to-txn-before-send

commit 1c882ee5fb4ef2d256c914bd69239d58d9706108
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jun 1 23:37:31 2017 -0700

    KAFKA-5283; Handle producer epoch/sequence overflow
    
    - Producer sequence numbers should wrap around
    - Generate a new producerId if the producer epoch would overflow
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3183 from hachikuji/KAFKA-5283

commit 0c3e466eb035859659ce41404f3b71b577467dca
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jun 1 19:08:32 2017 -0700

    MINOR: Logging/debugging improvements for transactions
    
    Author: Jason Gustafson <jason@confluent.io>
    Author: Apurva Mehta <apurva.1618@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3185 from hachikuji/minor-transaction-logging-improvements

commit 4c8ec795a0c7091b70bc90add329076c5525dcbc
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jun 1 18:24:54 2017 -0700

    MINOR: Add upgrade notes for KAFKA-2358
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3200 from guozhangwang/KMinor-KAFKA-2358-upgrade-notes

commit 1e350b860acd8e3fcc6ee296e9babbdfe4bcd365
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 1 15:27:41 2017 -0700

    MINOR: update Streams docs for KIP-123
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Ewen Chesklack-Postava, Bill Bejeck, Guozhang Wang
    
    Closes #3194 from mjsax/minor-update-docs-for-kip-123

commit 6b9bc3fd26d0e565c1fe86ce46859f9c1a024987
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Jun 1 21:54:28 2017 +0100

    KAFKA-5345; Close KafkaClient when streams client is closed
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3195 from rajinisivaram/KAFKA-5345

commit be392f95dee921377b903cff18f70c1e7845a879
Author: Bharat Viswanadham <bharatv@us.ibm.com>
Date:   Thu Jun 1 13:47:27 2017 -0700

    KAFKA-5229: Reflections logs excessive warnings when scanning classpaths
    
    changed the reflections log level to ERROR.
    And tested it, now the warning logs are not shown up during the start of Kafka connect.
    ewencp could you please review the changes.
    
    Author: Bharat Viswanadham <bharatv@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3072 from bharatviswa504/KAFKA-5229

commit adb4ea74ab55860e5a775151f317e923acac2ad4
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Jun 1 13:42:12 2017 -0700

    MINOR: add upgrade not for group.initial.rebalance.delay.ms
    
    Add a new entry in upgrade.html for `group.initial.rebalance.delay.ms`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3189 from dguy/relabance-delay

commit e4d829c47b9e143aa914cc492500d568d44836ef
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jun 1 13:31:25 2017 -0700

    set the rejoinNeeded in listener's onSuccess

commit 1b16acaaa181ceb214d84e70b8ddc146af9c0c5c
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Jun 1 13:30:49 2017 -0700

    KAFKA-5154: do not set rejoinNeeded in joinGroup response but in syncGroup response handler
    
    Scenario is as follows:
    1. Consumer subscribes to topic t1 and begins consuming
    2. heartbeat fails as the group is rebalancing
    3. ConsumerCoordinator.onJoinGroupPrepare is called
       3.1 onPartitionsRevoked is called
    4. consumer becomes the group leader
    5. sends sync group request
    6. sync group is cancelled due to disconnection
    7. fetch request is sent for partitions that have previously been revoked
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3181 from dguy/kafka-5154

commit b3036c5861df2c5fc8a06ca5b817d43147f5ba92
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Jun 1 21:17:49 2017 +0100

    KAFKA-5293; Do not apply exponential backoff if users have overridden…
    
    … reconnect.backoff.ms
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3174 from cmccabe/KAFKA-5293

commit 39c1e6259c8ff547c3f7c5165b43c88f9f3ea158
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 1 13:16:42 2017 -0700

    KAFKA-5361: Add EOS integration tests for Streams API
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Bill Bejeck <bill@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3193 from mjsax/kafka-5361-add-eos-integration-tests-for-streams-api

commit 1959835d9e148f0eb6407b36ff96b334d5e785cb
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Jun 1 10:25:29 2017 -0700

    KAFKA-5281; System tests for transactions
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3149 from apurvam/KAFKA-5281-transactions-system-tests

commit 8e8b3c56572a825d3c1beb6ad77ce88571354f51
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 1 10:17:03 2017 -0700

    KAFKA-5360; Down-converted uncompressed batches should respect fetch offset
    
    More specifically, V2 messages are always batched (whether compressed or not) while
    V0/V1 are only batched if they are compressed.
    
    Clients like librdkafka expect to receive messages from the fetch offset when dealing with uncompressed V0/V1 messages. When converting from V2 to V0/1, we were returning all the
    messages in the V2 batch.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3191 from ijuma/kafka-5360-down-converted-uncompressed-respect-offset

commit a0863464279d3175f7c97ea5b247fe0826b1579e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Jun 1 09:33:10 2017 -0700

    KAFKA-4459: Run rat checks in Jenkins script
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3186 from ewencp/kafka-4459-rat-jenkins

commit 640082776b429067613922c576a57ec716b1dbe9
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Jun 1 15:45:30 2017 +0100

    KAFKA-4956: Verify client-side throttle time metrics in quota test
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3190 from rajinisivaram/KAFKA-4956-unittest

commit e0150a25e8127c282f54a0395eb2b1c80ebda94a
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Thu Jun 1 02:07:53 2017 -0700

    MINOR: Traverse plugin path recursively in Connect (KIP-146)
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3173 from kkonstantine/MINOR-Traverse-plugin-path-recursively-in-Connect

commit 049abe7efa17c9660fce7b57b4c235e24c72315c
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed May 31 22:48:43 2017 -0700

    KAFKA-5351: Reset pending state when returning an error in appendTransactionToLog
    
    Without this patch, future client retries would get the `CONCURRENT_TRANSACTIONS` error code indefinitely, since the pending state wouldn't be cleared when the append to the log failed.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3184 from apurvam/KAFKA-5351-clear-pending-state-on-retriable-error

commit e4a6b50deca8fabc9880c6764334bfaa830a6d5e
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 31 21:31:52 2017 -0700

    KAFKA-5340; Batch splitting should preserve magic and transactional flag
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jiangjie Qin <becket.qin@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3162 from hachikuji/KAFKA-5340

commit 6360e04e70b8f5ce562c2f24f85208aaae788363
Author: Bill Bejeck <bill@confluent.io>
Date:   Wed May 31 19:36:08 2017 -0700

    KAFKA-5226; Fixes issue where adding topics matching a regex
    
    subscribed stream may not be detected by all followers until
    onJoinComplete returns.
    
    Author: Bill Bejeck <bill@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3157 from bbejeck/KAFKA-5226_null_pointer_source_node_deserialize

commit 681c6fc1fb37c9cfec00df09fdfe5bf1b11f3b4b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 31 19:30:43 2017 -0700

    KAFKA-5350: Modify unstable annotations in Streams API
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3172 from guozhangwang/K5350-compatibility-annotations

commit 7311dcbc5363d59dd0a0de86518dd12a7b259ca4
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 1 01:00:11 2017 +0100

    KAFKA-5291; AdminClient should not trigger auto creation of topics
    
    - Added a boolean `allow_auto_topic_creation` to MetadataRequest and
    bumped the protocol version to V4.
    
    - When connecting to brokers older than 0.11.0.0, the `allow_auto_topic_creation`
    field won't be considered, so we send a metadata request for all topics
    to keep the behavior consistent.
    
    - Set `allow_auto_topic_creation` to false in the new AdminClient and
    StreamsKafkaClient (which exists for the purpose of creating topics
    manually); set it to true everywhere else for now. Other clients will eventually
    rely on client-side auto topic creation, but that’s not there yet.
    
    - Add `allowAutoTopicCreation` field to `Metadata`, which is used by
    `DefaultMetadataUpdater`. This is not strictly needed for the new
    `AdminClient`, but it avoids surprises if it ever adds a topic to `Metadata`
    via `setTopics` or `addTopic`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3098 from ijuma/kafka-5291-admin-client-no-auto-topic-creation

commit 647afeff6a2e3fd78328f6989e8d9f96bcde5121
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 1 00:16:55 2017 +0100

    KAFKA-5353; baseTimestamp should always have a create timestamp
    
    This makes the case where we build the records from scratch consistent
    with the case where update the batch header "in place". Thanks to
    edenhill who found the issue while testing librdkafka.
    
    The reason our tests don’t catch this is that we rely on the maxTimestamp
    to compute the record level timestamps if log append time is used.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3177 from ijuma/set-base-sequence-for-log-append-time

commit eeb8f67810e2b02ee73eeb3a784e365b7b780f47
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed May 31 23:47:11 2017 +0100

    MINOR: Use `waitUntil` to fix transient failures of ControllerFailoverTest
    
    Without it, it's possible that the assertion is checked before the exception
    is thrown in the callback.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3182 from ijuma/fix-controller-failover-flakiness

commit dc5bf4bd453495af050ea7c0ec7a66b8d2b2e8d4
Author: Mario Molina <mmolimar@gmail.com>
Date:   Wed May 31 15:09:58 2017 -0700

    KAFKA-5218; New Short serializer, deserializer, serde
    
    Author: Mario Molina <mmolimar@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>, Michael G. Noll <michael@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3017 from mmolimar/KAFKA-5218

commit d9479275fdacd172a2b545007b55e787c53fe54e
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed May 31 14:53:28 2017 -0700

    MINOR: Improve streams config parameters
    
    Adjust "importance level" and add explanation to the docs.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2855 from mjsax/minor-improve-streams-config-parameters

commit 81f0c1e8f2ba2d86f061361b5ee33bb8e6f640c5
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 31 14:11:47 2017 -0700

    KAFKA-5093; Avoid loading full batch data when possible when iterating FileRecords
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3160 from hachikuji/KAFKA-5093

commit da9a171c99eb456378bdda95a563d09dfd9af4d8
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed May 31 16:46:43 2017 +0100

    KAFKA-5265; Move ACLs, Config, Topic classes into org.apache.kafka.common
    
    Also introduce TopicConfig.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3120 from cmccabe/KAFKA-5265

commit 9323a753355abcb62fe8121303e5e65dbfe018ea
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed May 31 16:13:30 2017 +0100

    MINOR: Use new consumer in ProducerCompressionTest
    
    This should be less flaky as it has a higher timeout. I also increased the timeout
    in a couple of other tests that had a very low (100 ms) timeouts.
    
    The failure would manifest itself as:
    
    ```text
    java.net.SocketTimeoutException
            at sun.nio.ch.SocketAdaptor$SocketInputStream.read(SocketAdaptor.java:229)
            at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:103)
            at java.nio.channels.Channels$ReadableByteChannelImpl.read(Channels.java:385)
            at org.apache.kafka.common.network.NetworkReceive.readFromReadableChannel(NetworkReceive.java:85)
            at kafka.network.BlockingChannel.readCompletely(BlockingChannel.scala:129)
            at kafka.network.BlockingChannel.receive(BlockingChannel.scala:120)
            at kafka.consumer.SimpleConsumer.liftedTree1$1(SimpleConsumer.scala:100)
            at kafka.consumer.SimpleConsumer.kafka$consumer$SimpleConsumer$$sendRequest(SimpleConsumer.scala:84)
            at kafka.consumer.SimpleConsumer$$anonfun$fetch$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(SimpleConsumer.scala:133)
            at kafka.consumer.SimpleConsumer$$anonfun$fetch$1$$anonfun$apply$mcV$sp$1.apply(SimpleConsumer.scala:133)
            at kafka.consumer.SimpleConsumer$$anonfun$fetch$1$$anonfun$apply$mcV$sp$1.apply(SimpleConsumer.scala:133)
            at kafka.metrics.KafkaTimer.time(KafkaTimer.scala:31)
            at kafka.consumer.SimpleConsumer$$anonfun$fetch$1.apply$mcV$sp(SimpleConsumer.scala:132)
            at kafka.consumer.SimpleConsumer$$anonfun$fetch$1.apply(SimpleConsumer.scala:132)
            at kafka.consumer.SimpleConsumer$$anonfun$fetch$1.apply(SimpleConsumer.scala:132)
            at kafka.metrics.KafkaTimer.time(KafkaTimer.scala:31)
            at kafka.consumer.SimpleConsumer.fetch(SimpleConsumer.scala:131)
            at kafka.api.test.ProducerCompressionTest.testCompression(ProducerCompressionTest.scala:97)
    ```
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3178 from ijuma/producer-compression-test-flaky

commit aebba89a2b9b5ea6a7cab2599555232ef3fe21ad
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 31 10:23:39 2017 +0100

    KAFKA-5349; Fix illegal state error in consumer's ListOffset handler
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3175 from hachikuji/KAFKA-5349

commit 31cc8885e4cfc35d97291b5d9eece6f3793f2538
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed May 31 10:22:10 2017 +0100

    MINOR: Improve assert in ControllerFailoverTest
    
    It sometimes fails in Jenkins like:
    
    ```text
    java.lang.AssertionError: IllegalStateException was not thrown
            at org.junit.Assert.fail(Assert.java:88)
            at org.junit.Assert.assertTrue(Assert.java:41)
            at kafka.controller.ControllerFailoverTest.testHandleIllegalStateException(ControllerFailoverTest.scala:86)
    ```
    
    I ran it locally 100 times with no failure.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3176 from ijuma/improve-controller-failover-assert

commit ef9551297c815a0ac3065a65a0831863090714f0
Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
Date:   Wed May 31 00:42:43 2017 -0700

    KAFKA-5266; Follow-up improvements for consumer offset reset tool (KIP-122)
    
    Implement improvements defined here: https://issues.apache.org/jira/browse/KAFKA-5266
    
    Author: Jorge Quilcate Otoya <quilcate.jorge@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3102 from jeqo/feature/KAFKA-5266

commit 2cc8f48ae5358087381fa5f79233789499d6b939
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue May 30 23:38:50 2017 -0700

    KAFKA-5308; TC should handle UNSUPPORTED_FOR_MESSAGE_FORMAT in WriteTxnMarker response
    
    Return UNSUPPORTED_MESSAGE_FORMAT in handleWriteTxnMarkers when a topic is not the correct message format.
    Remove any TopicPartitions that have same error from those waiting for markers
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3152 from dguy/kafka-5308

commit dd8cdb79d356b3049c21bf00613b8144dff0882c
Author: Tommy Becker <tobecker@tivo.com>
Date:   Tue May 30 23:21:12 2017 -0700

    KAKFA-5334: Allow rocksdb.config.setter to be specified as a String or Class instance
    
    Handle` rocksdb.config.setter` being set as a class name or class
    instance.
    
    Author: Tommy Becker <tobecker@tivo.com>
    Author: Tommy Becker <twbecker@gmail.com>
    
    Reviewers: Matthias J. Sax, Damian Guy, Guozhang Wang
    
    Closes #3155 from twbecker/KAFKA-5334

commit d082563907103ea79eed681305df7093053f52ec
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue May 30 22:09:53 2017 -0700

    KAFKA-5211; Do not skip a corrupted record in consumer
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3114 from becketqin/KAFKA-5211

commit d41cf1b77819ede5716b31683d0137eb60cb7bfb
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue May 30 20:32:51 2017 -0700

    KAFKA-5251; Producer should cancel unsent AddPartitions and Produce requests on abort
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3161 from hachikuji/KAFKA-5251

commit 3250cc767e8ef79d0160312a8b605535d3002851
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed May 31 03:02:26 2017 +0100

    KAFKA-5324; AdminClient: add close with timeout, fix some timeout bugs
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3141 from cmccabe/KAFKA-5324

commit c060c482855bb9f51e19dde51911645413d85260
Author: Xavier Léauté <xavier@confluent.io>
Date:   Wed May 31 02:20:15 2017 +0100

    KAFKA-5150; Reduce LZ4 decompression overhead
    
    - reuse decompression buffers in consumer Fetcher
    - switch lz4 input stream to operate directly on ByteBuffers
    - avoids performance impact of catching exceptions when reaching the end of legacy record batches
    - more tests with both compressible / incompressible data, multiple
      blocks, and various other combinations to increase code coverage
    - fixes bug that would cause exception instead of invalid block size
      for invalid incompressible blocks
    - fixes bug if incompressible flag is set on end frame block size
    
    Overall this improves LZ4 decompression performance by up to 40x for small batches.
    Most improvements are seen for batches of size 1 with messages on the order of ~100B.
    We see at least 2x improvements for for batch sizes of < 10 messages, containing messages < 10kB
    
    This patch also yields 2-4x improvements on v1 small single message batches for other compression types.
    
    Full benchmark results can be found here
    https://gist.github.com/xvrl/05132e0643513df4adf842288be86efd
    
    Author: Xavier Léauté <xavier@confluent.io>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2967 from xvrl/kafka-5150

commit 6021618f9dafa3478104575d307e7bcd2cb4cca9
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 30 16:59:33 2017 -0700

    MINOR: onControllerResignation should be invoked if triggerControllerMove is called
    
    Also update the test to be simpler since we can use a mock event to simulate the issue
    more easily (thanks Jun for the suggestion). This should fix two issues:
    
    1. A transient test failure due to a NPE in ControllerFailoverTest.testMetadataUpdate:
    
    ```text
    Caused by: java.lang.NullPointerException
            at kafka.controller.ControllerBrokerRequestBatch.addUpdateMetadataRequestForBrokers(ControllerChannelManager.scala:338)
            at kafka.controller.KafkaController.sendUpdateMetadataRequest(KafkaController.scala:975)
            at kafka.controller.ControllerFailoverTest.testMetadataUpdate(ControllerFailoverTest.scala:141)
    ```
    
    The test was creating an additional thread and it does not seem like it was doing the
    appropriate synchronization (perhaps this became more of an issue after we changed
    the Controller to be single-threaded and changed the locking)
    
    2. Setting `activeControllerId.set(-1)` in `triggerControllerMove` causes `Reelect` not to invoke `onControllerResignation`. Among other things, this causes an `IllegalStateException` to be thrown when `KafkaScheduler.startup` is invoked for the second time without the corresponding `shutdown`. We now simply call `onControllerResignation` as part of `triggerControllerMove`.
    
    Finally, I included a few clean-ups:
    
    1. No longer update the broker state in `onControllerFailover`. This is no longer needed
    since we removed the `RunningAsController` state (KAFKA-3761).
    2. Trivial clean-ups in KafkaController
    3. Removed unused parameter in `ZkUtils.getPartitionLeaderAndIsrForTopics`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2935 from ijuma/on-controller-resignation-if-trigger-controller-move

commit b38b74bb77e6d12e4ea74b51216bdc15e47dbbce
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue May 30 16:35:25 2017 -0700

    MINOR: Fix doc for producer throttle time metrics
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3169 from rajinisivaram/MINOR-producer-metrics

commit 80223b14ee092e95d05b40b12631df2d6db7ef53
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue May 30 14:35:51 2017 -0700

    KAFKA-5202: Handle topic deletion while trying to send txn markers
    
    Here is the sketch of this proposal:
    
    1. When it is time to send the txn markers, only look for the leader node of the partition once instead of retrying, and if that information is not available, it means the partition is highly likely been removed since it was in the cache before. In this case, we just remove the partition from the metadata object and skip putting into the corresponding queue, and if all partitions' leader broker are non-available, complete this delayed operation to proceed to write the complete txn log entry.
    
    2. If the leader id is unknown from the cache but the corresponding node object with the listener name is not available, it means that the leader is likely unavailable right now. Put it into a separate queue and let sender thread retry fetching its metadata again each time upon draining the queue.
    
    One caveat of this approach is the delete-and-recreate case, and the argument is that since all the messages are deleted anyways when deleting the topic-partition, it does not matter whether the markers are on the log partitions or not.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Damian Guy <damian.guy@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3130 from guozhangwang/K5202-handle-topic-deletion

commit f0745cd514a8af6ea22e1fddfef66f0e69ae8b1c
Author: xinlihua <xin.lihua1@zte.com.cn>
Date:   Tue May 30 13:53:32 2017 -0700

    KAFKA-4603: Disallow abbreviations in OptionParser constructor
    
    KAFKA-4603 the command parsed error
    Using "new OptionParser" might result in parse error
    
    Change all the OptionParser constructor in Kafka into "new OptionParser(false)"
    
    Author: xinlihua <xin.lihua1@zte.com.cn>
    Author: unknown <00067310@A23338408.zte.intra>
    Author: auroraxlh <xin.lihua1@zte.com.cn>
    Author: xin <xin.lihua1@zte.com.cn>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2349 from auroraxlh/fix_OptionParser_bug

commit b3788d8dcbeee7a20f562e878c187a75bac11ff0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 30 12:53:32 2017 -0700

    KAFKA-5316; Follow-up with ByteBufferOutputStream and other misc improvements
    
    ByteBufferOutputStream improvements:
    * Document pitfalls
    * Improve efficiency when dealing with direct byte buffers
    * Improve handling of buffer expansion
    * Be consistent about using `limit` instead of `capacity`
    * Add constructors that allocate the internal buffer
    
    Other minor changes:
    * Fix log warning to specify correct Kafka version
    * Clean-ups
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3166 from ijuma/minor-kafka-5316-follow-ups

commit 6b03497915665bb4823073a5a34b03be709eb287
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue May 30 15:38:04 2017 +0100

    KAFKA-5344; set message.timestamp.difference.max.ms back to Long.MaxValue
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3163 from becketqin/KAFKA-5344

commit 6f5930d631a7d3fc090cb81e5eb9cd69580f142b
Author: amethystic <huxi_2b@hotmail.com>
Date:   Tue May 30 00:12:54 2017 -0700

    KAFKA-5278: ConsoleConsumer should honor  `--value-deserializer`
    
    In the original implementation, console-consumer fails to honor `--value-deserializer` config.
    
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3100 from amethystic/KAFKA-5278

commit a8794d8a5d18bb4eaafceac1ef675243af945862
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon May 29 22:52:59 2017 -0700

    KAFKA-5260; Producer should not send AbortTxn unless transaction has actually begun
    
    Keep track of when a transaction has begun by setting a flag, `transactionStarted` when a successfull `AddPartitionsToTxnResponse` or `AddOffsetsToTxnResponse` had been received. If an `AbortTxnRequest` about to be sent and `transactionStarted` is false, don't send the request and transition the state to `READY`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3126 from dguy/kafka-5260

commit dc520d275adc715d56231fad771c66104e77ff3f
Author: hejiefang <he.jiefang@zte.com.cn>
Date:   Mon May 29 16:01:54 2017 -0700

    KAFKA-5338: fix a miss-spell in ResetIntegrationTest
    
    There is a Misspell in Annotations of ResetIntegrationTest.
    
    Author: hejiefang <he.jiefang@zte.com.cn>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #3159 from hejiefang/KAFKA-5338

commit dfa3c8a92dddd58cab95e12c72669f250bb99683
Author: Jason Gustafson <jason@confluent.io>
Date:   Sun May 28 09:57:59 2017 -0700

    KAFKA-5316; LogCleaner should account for larger record sets after cleaning
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3142 from hachikuji/KAFKA-5316

commit b50387eb7c7be978081ecce7724f3058e679e4b8
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat May 27 10:19:15 2017 +0100

    MINOR: Remove unused method parameter in `SimpleAclAuthorizer`
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3147 from vahidhashemian/minor/remove_unsed_method_parameter_simpleaclauthorizer

commit eb3aae7a058845852024fb0a551e1d2917ac121c
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat May 27 10:17:57 2017 +0100

    MINOR: Cleanup in tests to avoid threads being left behind
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3146 from rajinisivaram/MINOR-test-cleanup

commit 0bc4f75eedf14af6d0b2e3e9be62a460b1049d0b
Author: James Cheng <jylcheng@yahoo.com>
Date:   Fri May 26 15:34:20 2017 -0700

    KAFKA-5191: Autogenerate Consumer Fetcher metrics
    
    Autogenerate docs for the Consumer Fetcher's metrics. This is a smaller subset of the original PR https://github.com/apache/kafka/pull/1202.
    
    CC ijuma benstopford hachikuji
    
    Author: James Cheng <jylcheng@yahoo.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2993 from wushujames/fetcher_metrics_docs

commit ca8915d2efc225dbc0a4c138a2a34cf34d07e347
Author: Umesh Chaudhary <umesh9794@gmail.com>
Date:   Fri May 26 15:31:58 2017 -0700

    KAFKA-4660; Improve test coverage KafkaStreams
    
    dguy , mjsax Please review the PR and let me know your comments.
    
    Author: umesh chaudhary <umesh9794@gmail.com>
    
    Reviewers: Bill Bejeck, Matthias J. Sax, Guozhang Wang
    
    Closes #3099 from umesh9794/mylocal

commit 68eed84f24a4771ccd805d8f39340eb7599df2ed
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri May 26 15:25:02 2017 -0700

    KAFKA-5333; Remove Broker ACL resource type
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3154 from ijuma/kafka-5333-remove-broker-acl-resource-type

commit 7892b4e6c7c32be09d78a8bbbeeaa823d3197aaa
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri May 26 09:52:47 2017 -0700

    KAFKA-5128; Check inter broker version in transactional methods
    
    Add check in `KafkaApis` that the inter broker protocol version is at least `KAFKA_0_11_0_IV0`, i.e., supporting transactions
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3103 from dguy/kafka-5128

commit faa1803aa35871e5e040a22b7fcec61a2be16e24
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri May 26 09:42:02 2017 -0700

    KAFKA-5309: Stores not queryable after one thread died
    
     - introduces a new thread state DEAD
     - ignores DEAD threads when querying
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #3140 from mjsax/kafka-5309-stores-not-queryable

commit 37433638271718344498d695d5da08db12c24eed
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri May 26 09:41:17 2017 +0100

    MINOR: Preserve the base offset of the original record batch in V2
    
    The previous code did not handle this correctly if a batch was
    compacted more than once.
    
    Also add test case for duplicate check after log cleaning and
    improve various comments.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3145 from hachikuji/minor-improve-base-sequence-docs

commit 02c0c3b01730bdbff8a09d355c1b017715c7ce10
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu May 25 16:17:18 2017 -0700

    KAFKA-5147; Add missing synchronization to TransactionManager
    
    The basic idea is that exactly three collections, ie. `pendingRequests`, `newPartitionsToBeAddedToTransaction`, and `partitionsInTransaction` are accessed from the context of application threads. The first two are modified from the application threads, and the last is read from those threads.
    
    So to make the `TransactionManager` truly thread safe, we have to ensure that all accesses to these three members are done in a synchronized block. I inspected the code, and I believe this patch puts the synchronization in all the correct places.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3132 from apurvam/KAFKA-5147-transaction-manager-synchronization-fixes

commit 73ca0d215ead9574487744eb89f7ae677a9e13ea
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu May 25 20:28:18 2017 +0100

    KAFKA-5320: Include all request throttling in client throttle metrics
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3137 from rajinisivaram/KAFKA-5320

commit 20e2008785d46aa0500b02d8737380c50d66da3b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu May 25 11:01:10 2017 -0700

    KAFKA-5279: TransactionCoordinator must expire transactionalIds
    
    remove transactions that have not been updated for at least `transactional.id.expiration.ms`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Apurva Mehta, Guozhang Wang
    
    Closes #3101 from dguy/kafka-5279

commit 64fc1a7cae348fad10e84c5ebc457c2a391573ee
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu May 25 11:23:18 2017 +0100

    KAFKA-5263: Avoid tight polling loop in consumer with no ready nodes
    
    For consumers with manual partition assignment, await metadata when there are no ready nodes to avoid busy polling.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3124 from rajinisivaram/KAFKA-5263

commit a10990f44b1a4f8345eae7ebfc9c571bfd0447c3
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu May 25 11:21:00 2017 +0100

    MINOR: fix flakiness in testDeleteAcls
    
    This call to isCompletedExceptionally introduced a race condition
    because the future might not have been completed.  assertFutureError
    checks that the exception is present and of the correct type in any
    case, so the call was not necessary.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3139 from cmccabe/fix-test-deleteacls

commit cea319a4ad9c55d3d3263cf7a4224c25772d0e11
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu May 25 07:41:51 2017 +0100

    KAFKA-4935; Deprecate client checksum API and compute lazy partial checksum for magic v2
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3123 from hachikuji/KAFKA-4935

commit fdcee8b8b3c027cdc1b13031fa19fcfc7de5609f
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 24 21:00:44 2017 -0700

    MINOR: GroupCoordinator can append with group lock
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3133 from hachikuji/minor-replica-manager-append-refactor

commit c5d44af77473abb36cb9bf7ca3dead36490b8320
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Wed May 24 19:00:37 2017 -0700

    KAFKA-4144 Follow-up: add one missing overload function to maintain backward compatibility
    
    A follow up RP to fix [issue](https://github.com/confluentinc/examples/commit/2cd0b87bc8a7eab0e7199fa0079db6417f0e6b63#commitcomment-22200864)
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax, Eno Thereska, Bill Bejeck, Guozhang Wang
    
    Closes #3109 from jeyhunkarimov/KAFKA-4144-follow-up

commit 38f6cae9e879baa35c5dbc5829bf09ecd59930c2
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 24 15:26:46 2017 -0700

    KAFKA-5259; TransactionalId auth implies ProducerId auth
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #3075 from hachikuji/KAFKA-5259-FIXED

commit 88200938f0c3ace5ec0bdb65a315ebd9b6adb4d0
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed May 24 09:14:10 2017 -0700

    MINOR: Improve the help doc of consumer group command
    
    Clarify the consumer group command help message around `zookeeper`, `bootstrap-server`, and `new-consumer` options.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2046 from vahidhashemian/minor/improve_consumer_group_command_doc

commit 4d89db968257c0c3273ece7e5546cb95ddcbeb46
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue May 23 23:08:57 2017 -0700

    KAFKA-5273: Make KafkaConsumer.committed query the server for all partitions
    
    Before this patch the consumer would return the cached offsets for partitions in its current assignment. This worked when all the offset commits went through the consumer.
    
    With KIP-98, offsets can be committed transactionally through the producer. This means that relying on cached positions in the consumer returns incorrect information: since commits go through the producer, the cache is never updated.
    
    Hence we need to update the `KafkaConsumer.committed` method to always lookup the server for the last committed offset to ensure it gets the correct information every time.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #3119 from apurvam/KAFKA-5273-kafkaconsumer-committed-should-always-hit-server

commit 90dc2d16fbed59fc65e6e190380c8b9c43b6d95a
Author: dejan2609 <dejan2609@gmail.com>
Date:   Tue May 23 22:07:17 2017 -0700

    KAFKA-5081: Force jackson-annotations to a single version matching expected Jackson version
    
    **JIRA ticket:** [KAFKA-5081 two versions of jackson-annotations-xxx.jar in distribution tgz](https://issues.apache.org/jira/browse/KAFKA-5081)
    
    **Solutions:**
    1. accept this merge request **_OR_**
    2. upgrade jackson libraries to version **_2.9.x_** (currently available as a pre-release only)
    
    **Related jackson issue:** [Add explicit \`jackson-annotations\` dependency version for \`jackson-databind\`](https://github.com/FasterXML/jackson-databind/issues/1545)
    
    **Note:** previous (equivalent) merge request #2900 ended up deep in the sand with swarm of messages due to flaky test, so I opted to close it and to open this one.
    
    ijuma: FYI
    
    Author: dejan2609 <dejan2609@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3116 from dejan2609/KAFKA-5081

commit 516d8457d8142111a91af94cab918c84990685da
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed May 24 00:36:52 2017 +0100

    KAFKA-5135; Controller Health Metrics (KIP-143)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Onur Karaman <okaraman@linkedin.com>
    
    Closes #2983 from ijuma/kafka-5135-controller-health-metrics-kip-143

commit beeddc25d6b443ed344658a2562a162fb03048ef
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue May 23 16:29:55 2017 -0700

    KAFKA-5310; reset ControllerContext during resignation
    
    This ticket is all about ControllerContext initialization and teardown. The key points are:
    1. we should teardown ControllerContext during resignation instead of waiting on election to fix it up. A heapdump shows that the former controller keeps pretty much all of its ControllerContext state laying around.
    2. we don't properly teardown/reset ControllerContext.partitionsBeingReassigned. This can cause problems when the former controller becomes re-elected as controller at a later point in time.
    
    Suppose a partition assignment is initially R0. Now suppose a reassignment R1 gets stuck during controller C0 and an admin tries to "undo" R1 (by deleting /admin/partitions_reassigned, deleting /controller, and submitting another reassignment specifying R0). The new controller C1 may succeed with R0. If the controller moves back to C0, it will then reattempt R1 even though that partition reassignment has been cleared from zookeeper prior to shifting the controller back to C0. This results in the actual partition reassignment in zookeeper being unexpectedly changed back to R1.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3122 from onurkaraman/KAFKA-5310

commit 1bf64833168e81015e1f30a30c64eb6849c15422
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue May 23 13:34:43 2017 -0700

    KAFKA-5280: Protect txn metadata map with read-write lock
    
    Two major changes plus one minor change:
    
    0. change stateLock to a read-write lock.
    
    1. Put the check of "isCoordinator" and "coordinatorLoading" together with the return of the metadata, under one read lock block, since otherwise we can get incorrect behavior if there is a change in the metadata cache after the check but before the accessing of the metadata.
    
    2. Grab the read lock right before trying to append to local txn log, and until the local append returns; this is to avoid the scenario that the epoch has actually changed when we are appending to local log (e.g. emigration followed by immigration).
    
    3. only watch on txnId instead of txnId and txnPartitionId in the txn marker purgatory, and disable reaper thread, as we can now safely clear all the delayed operations by traversing the marker queues.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson, Jun Rao
    
    Closes #3082 from guozhangwang/K5231-read-write-lock

commit 49587750570a2aaf332eb73f5aad373196f984ce
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue May 23 11:53:13 2017 -0700

    MINOR: improve EmbeddedKafkaCluster test utility for deleting topics
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck, Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #3104 from mjsax/minor-improve-embedded-kafka-cluster

commit 70ec4b1d927cad7373eda2c54ef44bfc4275832f
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue May 23 09:53:18 2017 -0700

    MINOR: Log transaction metadata state transitions plus a few cleanups
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3081 from hachikuji/minor-add-txn-transition-logging

commit 5a6676bfca9f56c467ff46aefffc6f344ff4bf65
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue May 23 09:50:45 2017 -0700

    MINOR: remove TransactionCoordinatorIntegrationTest
    
    `TransactionCoordinatorIntegrationTest` is not covering anything that isn't already covered by the more complete `TransactionsTest`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3128 from dguy/minor-remove-test

commit d1853f791147d66303c2700a8e58af762518188c
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue May 23 09:45:31 2017 -0700

    KAFKA-5247; Materialize committed offsets in offset order
    
    With this patch, offset commits are always materialized according to the order of the commit records in the offsets topic.
    
    Before this patch, transactional offset commits were materialized in transaction order. However, the log cleaner will always preserve the record with the greatest offset. This meant that if there was a mix of offset commits from a consumer and a transactional producer, then it we would switch from transactional order to offset order after cleaning, resulting in an inconsistent state.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3108 from apurvam/KAFKA-5247-materialize-committed-offsets-in-offset-order

commit e3e2f1d22d17a20ccccf67218c600e7e1647e1ca
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon May 22 20:00:07 2017 -0700

    MINOR: Broker should disallow downconversion of transactional/idempotent records
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3118 from hachikuji/disallow-transactional-idempotent-downconversion

commit cca9ad42434265e388ec0100e0080250120e2cf9
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon May 22 17:46:23 2017 -0700

    HOTFIX: Replace JDK download and fix missing argument in Vagrant provisioning script
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3121 from ewencp/hotfix-vagrant-provisioning

commit fcdbb71953fc4c92559a9c7adb4cb8ad4a74acd6
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon May 22 15:41:26 2017 -0700

    KAFKA-5186; Avoid expensive log scan to build producer state when upgrading
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3113 from hachikuji/KAFKA-5186

commit 65861a712ddf67eb071a00218730926fdeef7084
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon May 22 10:59:38 2017 -0700

    KAFKA-5277; Sticky Assignor should not cache previous assignment (KIP-54 follow-up)
    
    ... plus some minor cleanup
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3092 from vahidhashemian/KAFKA-5277

commit c2ced5fb51f2a4ec94d158e18836afb7284d26ce
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 22 16:08:06 2017 +0100

    KAFKA-5303, KAFKA-5305: Improve logging when fetches fail in ReplicaFetcherThread
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3115 from ijuma/kafka-5305-missing-log-info-replica-fetcher

commit ceb10c53302bd4824737e03ab86ca19e2aa64c7a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 22 13:37:29 2017 +0100

    KAFKA-5289: handleStopReplica should not send a second response
    
    `shutdownIdleFetcherThreads()` can throw InterruptedException
    for example.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3096 from ijuma/kafka-5289-stop-replica-should-not-send-two-responses

commit d3f1407f7bc95b823516e5a1bdaa23c717b6354e
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Mon May 22 11:00:30 2017 +0100

    KAFKA-5294: PlainSaslServerFactory should allow a null Map
    
    If props is null, use POLICY_NOPLAINTEXT default value: false
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3105 from mimaison/KAFKA-5294

commit 495836a4a27c2219f72a5f3776ba8e5216493b41
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun May 21 22:16:18 2017 -0700

    KAFKA-4923: Modify compatibility test for Exaclty-Once Semantics in Streams
    
     - add broker compatibility system tests
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2974 from mjsax/kafka-4923-add-eos-to-streams-add-broker-check-and-system-test

commit dc10b0ea014974b450f2abcd4a58e09d5b988e9e
Author: Magnus Edenhill <magnus@edenhill.se>
Date:   Sun May 21 18:23:12 2017 -0700

    MINOR: Fix race condition in TestVerifiableProducer sanity test
    
    ## Fixes race condition in TestVerifiableProducer sanity test:
    The test starts a producer, waits for at least 5 acks, and then
    logs in to the worker to grep for the producer process to figure
    out what version it is running.
    
    The problem was that the producer was set up to produce 1000 messages
    at a rate of 1000 msgs/s and then exit. This means it will have a
    typical runtime slightly above 1 second.
    
    Logging in to the vagrant instance might take longer than that thus
    resulting in the process grep to fail, failing the test.
    
    This commit doesn't really fix the issue - a proper fix would be to tell
    the producer to stick around until explicitly killed - but it increases
    the chances of the test passing, at the expense of a slightly longer
    runtime.
    
    ## Improves error reporting when is_version() fails
    
    Author: Magnus Edenhill <magnus@edenhill.se>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2765 from edenhill/trunk

commit d190d89dbc3df90e00f5e3c55507f67c5818504e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sun May 21 18:04:32 2017 -0700

    HOTFIX: In Connect test with auto topic creation disabled, ensure precreated topic is always used
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3112 from ewencp/hotfix-precreate-topic

commit 7fad45557e4cb7b345f34cec32f910b437c59bc2
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Sun May 21 17:31:31 2017 -0700

    KAFKA-3995; KIP-126 Allow KafkaProducer to split and resend oversized batches
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2638 from becketqin/KAFKA-3995

commit 1c7fdd2843482beab4039fbb487a8d7d53800292
Author: Michael André Pearce <michael.andre.pearce@me.com>
Date:   Sun May 21 14:34:19 2017 -0700

    KAFKA-4208; Add record headers upgrade doc
    
    Update upgrade.html
    
    Raising this now, as KIP-118 is pulled from release as such submitting this without java 8 changes.
    
    As per remaining review comment from https://github.com/apache/kafka/pull/2772, updating the upgrade notes.
    
    Author: Michael André Pearce <michael.andre.pearce@me.com>
    Author: Michael Andre Pearce <Michael.Andre.Pearce@me.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2991 from michaelandrepearce/KIP-82

commit 8b04d8ba071fbcafc72a17d4cbfe6f00613e59b3
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri May 19 18:51:37 2017 -0700

    KAFKA-5269; Retry on unknown topic/partition error in transactional requests
    
    We should retry AddPartitionsToTxnRequest and TxnOffsetCommitRequest when receiving an UNKNOWN_TOPIC_OR_PARTITION error.
    
    As described in the JIRA: It turns out that the `UNKNOWN_TOPIC_OR_PARTITION` is returned from the request handler in KafkaAPis for the AddPartitionsToTxn and the TxnOffsetCommitRequest when the broker's metadata doesn't contain one or more partitions in the request. This can happen for instance when the broker is bounced and has not received the cluster metadata yet.
    
    We should retry in these cases, as this is the model followed by the consumer when committing offsets, and by the producer with a ProduceRequest.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3094 from apurvam/KAFKA-5269-handle-unknown-topic-partition-in-transaction-manager

commit 338857e1c2c2bb0c6011fcab477818102b95cb56
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri May 19 16:29:25 2017 -0700

    MINOR: improve descriptions of Streams reset tool options
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck, Guozhang Wang
    
    Closes #3107 from mjsax/minor-reset-tool-options

commit 61bab2d875ab5e03d0df4f62217346549a4c64c3
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri May 19 11:26:59 2017 -0700

    KAFKA-4714; TimestampConverter transformation (KIP-66)
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #3065 from ewencp/kafka-3209-timestamp-converter

commit abe699176babe4f065b67b2b72d20daa0a2e46a1
Author: Dana Powers <dana.powers@gmail.com>
Date:   Fri May 19 14:03:22 2017 +0100

    KAFKA-3878; Support exponential backoff policy via reconnect.backoff.max (KIP-144)
    
    Summary:
    - add `reconnect.backoff.max.ms` common client configuration parameter
    - if `reconnect.backoff.max.ms` > `reconnect.backoff.ms`, apply an exponential backoff policy
    - apply +/- 20% random jitter to smooth cluster reconnects
    
    Author: Dana Powers <dana.powers@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Roger Hoover <roger.hoover@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1523 from dpkp/exp_backoff

commit 8b2995c31a44a03883b0ad85523bdf67f694ad36
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri May 19 10:20:23 2017 +0100

    MINOR: Bump Kafka version to 0.11.1.0-SNAPSHOT
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3095 from ijuma/bump-kafka-version

commit e28752357705568219315375c666f8e500db9c12
Author: Xavier Léauté <xavier@confluent.io>
Date:   Thu May 18 17:02:51 2017 -0700

    KAFKA-5192: add WindowStore range scan (KIP-155)
    
    Implements range scan for keys in windowed and session stores
    
    Modifies caching session and windowed stores to use segmented cache keys.
    Cache keys are internally prefixed with their segment id to ensure key ordering in the cache matches the ordering in the underlying store for keys spread across multiple segments.
    This should also result in fewer cache keys getting scanned for queries spanning only some segments.
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #3027 from xvrl/windowstore-range-scan

commit b661d3b8ab37fc63b44145ba29d129b07c1582b9
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri May 19 00:14:08 2017 +0100

    MINOR: Small refactor of request quotas handling in KafkaApis
    
    - Avoid unnecessary inner methods
    - Remove redundant parameter in `sendResponseExemptThrottle`
    - Go through `sendResponseExemptThrottle` for produce requests with acks=0
    - Tighten how we handle cases where there’s no response
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3087 from ijuma/kafka-apis-improvements

commit 56623efd73ec77e68cf35021d18d630b27062e82
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu May 18 16:02:29 2017 -0700

    KAFKA-4667: Connect uses AdminClient to create internal topics when needed (KIP-154)
    
    The backing store for offsets, status, and configs now attempts to use the new AdminClient to look up the internal topics and create them if they don’t yet exist. If the necessary APIs are not available in the connected broker, the stores fall back to the old behavior of relying upon auto-created topics. Kafka Connect requires a minimum of Apache Kafka 0.10.0.1-cp1, and the AdminClient can work with all versions since 0.10.0.0.
    
    All three of Connect’s internal topics are created as compacted topics, and new distributed worker configuration properties control the replication factor for all three topics and the number of partitions for the offsets and status topics; the config topic requires a single partition and does not allow it to be set via configuration. All of these new configuration properties have sensible defaults, meaning users can upgrade without having to change any of the existing configurations. In most situations, existing Connect deployments will have already created the storage topics prior to upgrading.
    
    The replication factor defaults to 3, so anyone running Kafka clusters with fewer nodes than 3 will receive an error unless they explicitly set the replication factor for the three internal topics. This is actually desired behavior, since it signals the users that they should be aware they are not using sufficient replication for production use.
    
    The integration tests use a cluster with a single broker, so they were changed to explicitly specify a replication factor of 1 and a single partition.
    
    The `KafkaAdminClientTest` was refactored to extract a utility for setting up a `KafkaAdminClient` with a `MockClient` for unit tests.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2984 from rhauch/kafka-4667

commit 30736da65d6e47eb68ab7563357a063caf753964
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu May 18 15:21:15 2017 -0700

    HOTFIX: Close transactional producers in all new tests
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3093 from apurvam/HOTFIX-close-leaked-producers-in-transactions-test

commit 96959bc5620b6dc5900173a15cccfe83d20be944
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue May 16 08:49:21 2017 -0400

    KAFKA-5250: Do fetch down conversion after throttling
    
    Perform down conversion after throttling to avoid retaining
    messages in memory during throttling since this could result
    in OOM. Also update bytesOut metrics after throttling.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3068 from rajinisivaram/KAFKA-5250

commit 65edd64ca4902c9b2bc48e952056235f016031e1
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Thu May 18 16:11:14 2017 -0400

    KAFKA-3070: SASL unit tests dont work with IBM JDK
    
    Use IBM Kerberos module for SASL tests if running on IBM JDK
    
    Developed with edoardocomar
    Based on https://github.com/apache/kafka/pull/738 by rajinisivaram
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>, Edoardo Comar <ecomar@uk.ibm.com>
    
    Closes #2878 from mimaison/KAFKA-3070

commit c1fdf575deed0398e1692be16cacf24308afd5d5
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu May 18 13:06:56 2017 -0700

    KAFKA-5033; Set default retries for the idempotent producer to be infinite
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3091 from apurvam/KAFKA-5033-bump-retries-for-idempotent-producer

commit 34e379f10779bfb17fb399fde0357d17dc34ab62
Author: umesh chaudhary <umesh9794@gmail.com>
Date:   Thu May 18 11:38:44 2017 -0700

    KAFKA-5171; TC should not accept empty string transactional id
    
    This is a rebase version of [PR#2973](https://github.com/apache/kafka/pull/2973).
    
    guozhangwang , please review this updated PR.
    
    Author: umesh chaudhary <umesh9794@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3086 from umesh9794/mylocal

commit d662b09c9f32d7d4dcfc18522a4d2789b43d319c
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu May 18 11:17:30 2017 -0700

    KAFKA-5268; Fix bounce test transient failure by clearing partitions before writing Complete state to transaction log
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3089 from hachikuji/KAFKA-5268

commit 45f2261763eac5caaebf860daab32ef5337c9293
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Thu May 18 10:39:15 2017 -0700

    KAFKA-3487: Support classloading isolation in Connect (KIP-146)
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #3028 from kkonstantine/KAFKA-3487-Support-classloading-isolation-in-Connect

commit 5aaaba7ffe51a3216262811f24e6ccf10488b5e1
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Thu May 18 11:31:47 2017 +0100

    KAFKA-5258; Move all partition and replica state transition rules into their states
    
    Today PartitionStateMachine and ReplicaStateMachine define and assert the
    valid state transitions inline for each state. It's cleaner to move the
    transition rules into ReplicaState/PartitionState and do the assertion at
    the top of the handleStateChange.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3071 from onurkaraman/KAFKA-5258

commit 816578b5c13d36d73af02d1c11787f789a69be3f
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu May 18 11:28:53 2017 +0100

    KAFKA-4222; QueryableIntegrationTest.queryOnRebalance transient failure
    
    Don't produce messages on a separate thread continuosly. Just produce one of each value and stop.
    Close the producer once finished.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3080 from dguy/qs-test

commit 14a3d69d9463b2aa26776329610f8fc5eddd0202
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu May 18 11:27:56 2017 +0100

    TRIVIAL: Remove redundant asMap utility in ConsumerProtocol
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3084 from hachikuji/trivial-remove-redundant-utility

commit 9fa0d52cac24c69dbc907208ccb3e603cab3503b
Author: Bharat Viswanadham <bharatv@us.ibm.com>
Date:   Wed May 17 23:15:23 2017 -0700

    KAFKA-5210: Application Reset Tool does not need to seek for internal topics
    
    mjsax dguy guozhangwang Could you please review the changes.
    
    Author: Bharat Viswanadham <bharatv@us.ibm.com>
    
    Reviewers: Matthias J. Sax, Damian Guy, Guozhang Wang
    
    Closes #3073 from bharatviswa504/KAFKA-5210

commit 972b7545363ae85a55f94cf7ea83614be8840b75
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 18 06:51:02 2017 +0100

    KAFKA-3267; Describe and Alter Configs Admin APIs (KIP-133)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3076 from ijuma/kafka-3267-describe-alter-configs-protocol

commit e1abf17708918b82d3974ea028a4d74e3892fa0f
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed May 17 20:13:19 2017 -0700

    KAFKA-2273; Sticky partition assignment strategy (KIP-54)
    
    This PR implements a new partition assignment strategy called "sticky", and it's purpose is to balance partitions across consumers in a way that minimizes moving partitions around, or, in other words, preserves existing partition assignments as much as possible.
    
    This patch is co-authored with rajinisivaram and edoardocomar.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1020 from vahidhashemian/KAFKA-2273

commit 9815e18fefa27d8d901356ec1d994a41b4db4622
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu May 18 03:20:23 2017 +0100

    KAFKA-3266; Describe, Create and Delete ACLs Admin APIs (KIP-140)
    
    Includes server-side code, protocol and AdminClient.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2941 from cmccabe/KAFKA-3266

commit 24915206260c33cd7118db5359f3927d3be1ff60
Author: Jun Rao <junrao@gmail.com>
Date:   Wed May 17 18:54:46 2017 -0700

    KAFKA-5036; hold onto the leader lock in Partition while serving an O…
    
    …ffsetForLeaderEpoch request
    
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ben Stopford <benstopford@gmail.com>
    
    Closes #3074 from junrao/kafka-5036

commit c64cfd2e2bffd0a8fcfa515d3bbbe76416a89ee7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 17 18:05:12 2017 -0700

    KAFKA-5231: Bump up producer epoch when sending abort txn markers on InitPid
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson, Jun Rao
    
    Closes #3066 from guozhangwang/K5231-bump-up-epoch-when-abort-txn

commit b3a33ce4b81a20ae5635cf28490fd2e1f9d86141
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed May 17 16:20:33 2017 -0700

    KAFKA-5188; Integration tests for transactions
    
    Author: Apurva Mehta <apurva@confluent.io>
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2994 from apurvam/KAFKA-5188-exactly-once-integration-tests

commit 2181ae768719a9ae3a929ba875faa89c67edf643
Author: Jorge Quilcate <quilcate.jorge@gmail.com>
Date:   Wed May 17 14:24:27 2017 -0700

    KAFKA-4743; [KIP-122] Add Reset Consumer Group Offsets tooling
    
    Author: Jorge Quilcate <quilcate.jorge@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2624 from jeqo/feature/rewind-consumer-group-offset

commit 6910baf548ebad4c1530432e51be40793b4a4f10
Author: James Chien <jameschien@staff.ruten.com.tw>
Date:   Wed May 17 11:15:31 2017 -0700

    KAFKA-4772: Exploit #peek to implement #print() and other methods
    
    I remove `KeyValuePrinter` and `KStreamForeach` two class, then implements them by `KStreamPeek`.
    So, now `KStreamPeek` can do `KeyValuePrinter` and `KStreamForeach` job.
    
    Author: jameschien <jameschien@staff.ruten.com.tw>
    Author: JamesChien <jedichien@users.noreply.github.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2955 from jedichien/trunk

commit 8c7e6631308ae986bd60df0b0761f68c777fadff
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed May 17 09:41:19 2017 -0400

    KAFKA-5182: Reduce rebalance timeouts in request quota test
    
    Reduce rebalance and session timeouts for join requests to trigger throttling in the request quota test.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Damian Guy <damian.guy@gmail.com>
    
    Closes #3057 from rajinisivaram/KAFKA-5182-quotatest

commit c36b5b7f6ef5767c9455cca093ce05bf2a54d5db
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed May 17 12:41:21 2017 +0100

    MINOR: Make some constructors in admin package public
    
    Add a public create API that takes a Properties instance.
    
    Make the constructors for TopicDescription, TopicListing
    and TopicPartitionInfo public to enable AdminClient
    users to write better tests.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3070 from cmccabe/publicapi

commit 62d5aac5dda5ad7108aeb41ac3006221e2dab74b
Author: Jeff Widman <jeff@jeffwidman.com>
Date:   Wed May 17 12:36:38 2017 +0100

    MINOR: Use new-consumer config in MirrorMaker doc
    
    Mirrormaker was updated to default to the new consumer in 3db752a565071c78e4b11eaafa739844fa785b04
    
    Old consumer calls the param `auto.commit.enable`, new consumer calls it `enable.auto.commit`. So I updated the docstring to use the new consumer name for the param.
    
    Author: Jeff Widman <jeff@jeffwidman.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2393 from jeffwidman/patch-1

commit 1cea4d8f5a51cc5795ddd3af2ea015b9e14d937d
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue May 16 23:05:35 2017 -0700

    KAFKA-4714; Flatten and Cast single message transforms (KIP-66)
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Shikhar Bhushan <shikhar@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2458 from ewencp/kafka-3209-even-more-transforms

commit ebc7f7caaeb47c9588d79a2f3ed496daa0bd39e5
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue May 16 17:23:11 2017 -0700

    KAFKA-4923: Add Exactly-Once Semantics to Streams
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Apurva Metha, Ismael Juma, Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2945 from mjsax/kafka-4923-add-eos-to-streams

commit 670193f22d9e05a130024c1bcc7408ac2f736fba
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue May 16 16:36:25 2017 -0700

    KAFKA-4957; Request rate quotas documentation
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3069 from rajinisivaram/KAFKA-4957

commit d1d71aa29afd4aa959864225d2fec50c71513481
Author: Bharat Viswanadham <bharatv@us.ibm.com>
Date:   Tue May 16 14:24:31 2017 -0700

    KAFKA-5166: Add option "dry run" to Streams application reset tool
    
    Addressed the below review comment from #PR #2998 from mjsax
    
    I am wondering if it would be better, to "embed" the dry-run into the actual code and branch on each place. Otherwise, if things get changed, we could easily introduce bugs (ie, dry run show something different than what the actual reset code does.
    
    We could introduce methods like mabyeSeekToBeginning() that either does the seek or only prints to stdout. This would ensure that the main logic is used to "feed" into dry-run and we don't have code duplication.
    
    WDYT?
    
    Author: Bharat Viswanadham <bharatv@us.ibm.com>
    
    Reviewers: Matthias J. Sax, Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #3005 from bharatviswa504/KAFKA-5166

commit 73703a15c5006ddca166a458dcde72e17c91de4a
Author: Tommy Becker <tobecker@tivo.com>
Date:   Tue May 16 13:59:19 2017 -0700

    KAFKA-5241: GlobalKTable should checkpoint offsets after restoring state
    
    Ensure checkpointable offsets for GlobalKTables are always written on close.
    
    Author: Tommy Becker <tobecker@tivo.com>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #3054 from twbecker/KAFKA-5241

commit 4e3092d27648b9db18a496d16cd44f600429dcfc
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue May 16 13:20:38 2017 -0700

    MINOR: Some minor improvements to TxnOffsetCommit handling
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3040 from hachikuji/txn-offset-commit-cleanups

commit d66e7af6526f208900a5d6cb588cf47058800804
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue May 16 09:57:15 2017 -0700

    KAFKA-5129; Add ACL checks for Transactional APIs
    
    Add ACL checks for Transactional APIs
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2979 from dguy/kafka-5129

commit a281fe17fe1dda9a41890648299b74fa2449552a
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue May 16 11:55:58 2017 +0100

    KAFKA-5215; Small Javadoc fixes for AdminClient#describeTopics
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Roger Hoover <roger.hoover@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3013 from cmccabe/KAFKA-5215

commit 0a1689a749392d8de9dfbdc200ad9edce75024a1
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue May 16 10:46:19 2017 +0100

    KAFKA-5175; Fix transient failure in ControllerIntegrationTest.testPreferredReplicaLeaderElection
    
    The transient failure came from the controller processing the preferred replica leader election
    before the restarted broker (the preferred replica leader) has joined isr, causing preferred
    replica leader election to fail and for the final zookeeper state validation to fail.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3067 from onurkaraman/KAFKA-5175

commit 0e2c90bad934b276610fdcf027252553208099ac
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 15 23:34:31 2017 -0700

    MINOR: Print offset and size in sendFetches
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #3063 from guozhangwang/KMinor-more-logging-in-fetcher

commit cacbba6519a150ed25780889e8fa9b03c27832ee
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon May 15 22:56:20 2017 -0700

    KAFKA-5252; Fix transient failures LogCleanerTest testCommitMarkerRemoval and testAbortMarkerRemoval
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3064 from hachikuji/KAFKA-5252

commit dd9f43140d4a898576d86f6d5b7be1a021de1040
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 15 16:08:06 2017 -0700

    MINOR: Fix bug in `waitUntilLeaderIsElectedOrChanged` and simplify result type
    
    Also disable a couple of tests that were passing incorrectly until KAFKA-3096 is fixed.
    
    The bug was for the following case:
    
    `leader.isDefined && oldLeaderOpt.isEmpty && newLeaderOpt.isDefined && newLeaderOpt.get != leader.get`
    
    We would consider it a successful election even though the new leader was not the expected leader.
    
    I also changed the result type as we never return `None` (we throw an exception instead).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3031 from ijuma/fix-wait-until-leader-is-elected

commit 7bb551b4a1737f1819e11e08248b1f2277a0680e
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon May 15 15:23:26 2017 -0700

    KAFKA-5249; Fix incorrect producer snapshot offsets when recovering segments
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3060 from hachikuji/KAFKA-5249

commit 4c75f31a5f80e6a717d040b0534c79f5ed8d9346
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon May 15 18:13:20 2017 -0400

    KAFKA-5179; Log connection termination during authentication
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma, Jun Rao
    
    Closes #2980 from rajinisivaram/KAFKA-5179

commit 46aa88b9cf82971a0890f4f83efa9639f84c677b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 15 22:35:17 2017 +0100

    KAFKA-5244; Refactor BrokerTopicStats and ControllerStats so that they are classes
    
    This removes the need to force object initialisation via hacks to register
    the relevant Yammer metrics during start-up.
    
    It also works around issues caused by tests that delete JVM-wide singleton
    metrics (like `MetricsDuringTopicCreationDeletionTest`). Without this
    change, they would never be registered again. After this change, they will
    be registered again during KafkaServer start-up.
    
    It would be even better not to rely on JVM side singleton metrics (like we do
    for Kafka Metrics), but that's a bigger change that should be considered
    separately.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3059 from ijuma/kafka-5244-broker-static-stats-and-controller-stats-as-classes

commit 0186794104b7106fe426024d65730fec79ad999a
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon May 15 12:58:36 2017 -0700

    KAFKA-5248; Remove unused/unneeded retention time in TxnOffsetCommitRequest
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3058 from hachikuji/KAFKA-5248

commit c26545ea5701e02fc2667c81c719630ba14f500b
Author: Kyle Winkelman <kyle.winkelman@optum.com>
Date:   Mon May 15 11:51:10 2017 -0700

    KAFKA-5205: Use default values of keySerde if it is not specified by users in CachingSessionStore
    
    CachingSessionStore wasn't properly using the default keySerde if no Serde was supplied. I saw the below error in the logs for one of my test cases.
    
    Author: Kyle Winkelman <kyle.winkelman@optum.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2963 from KyleWinkelman/CachingSessionStore-fix-keySerde-use

commit 3e6669000f082808999a7216b00c4b0f5a94e1da
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 15 11:26:08 2017 -0700

    MINOR: Eliminate PID terminology from non test code
    
    Producer id is used instead.
    
    Also refactored TransactionLog schema code to follow
    our naming convention and to have better structure.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3041 from ijuma/eliminate-pid-terminology

commit e40e27b4eb99e8931488e86289453c5f14d5e886
Author: Kyle Winkelman <kyle.winkelman@optum.com>
Date:   Mon May 15 11:18:12 2017 -0700

    KAFKA-5206: Use default aggSerde if no user-overridden is provided in RocksDBSessionStore
    
    RocksDBSessionStore wasn't properly using the default aggSerde if no Serde was supplied.
    
    Author: Kyle Winkelman <kyle.winkelman@optum.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2971 from KyleWinkelman/RocksDBSessionStore-fix-aggSerde-use

commit 82e84fabf87fa5b5e6b4b9fd464edafaa9c5a744
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon May 15 11:15:22 2017 -0700

    HOTFIX: AddOffsetsToTxnResponse using incorrect schema in parse
    
    The parse method was incorrectly referring to `ApiKeys.ADD_PARTITIONS_TO_TXN`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3056 from dguy/hotfix-add-offsets-to-txn-response

commit a511a47020a1a3f58c7778b5d5aba08d2b4876d6
Author: Ivan A. Melnikov <iv@altlinux.org>
Date:   Mon May 15 10:50:33 2017 -0700

    KAFKA-5203; Metrics: fix resetting of histogram sample
    
    Without the histogram cleanup, the percentiles are calculated
    incorrectly after purging of one or more samples: event counts
    go out of sync with counts in histogram buckets, and bucket
    with lower value gets chosen for the given quantile.
    
    This change adds the necessary histogram cleanup.
    
    Author: Ivan A. Melnikov <iv@altlinux.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #3002 from iv-m/kafka-5203-percentiles-fix

commit 50eacb7b45143dbc26a341620290991428194e4d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 15 14:08:18 2017 +0100

    MINOR: Fix one flaky test in MetricsTest and improve checks for another
    
    * Fix flakiness of `testBrokerTopicMetricsUnregisteredAfterDeletingTopic` by not
    consuming messages. Filed KAFKA-5238 to track the issue that metrics for a deleted
    topic may be re-created if there are fetch requests in the purgatory.
    
    * Check the log size in `testBrokerTopicMetricsBytesInOut` before attempting to read
    the `replicationBytesIn` metric. This helps understand where things have gone wrong
    if if the metric has not increased (i.e. if it was an issue replicating or with the metric).
    
    * Only remove the replication bytes in/out if the metrics are defined. This should not
    affect the behaviour due to the tags, but it makes the code clearer. We've seen some
    cases in Jenkins when the metric does not exist and it's still unclear how that can
    happen.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3042 from ijuma/more-informative-assertion-for-flaky-metrics-test

commit f56bbb6510df8c12db3ad075e2f6c78dd0092d60
Author: Jaikiran Pai <jaikiran.pai@gmail.com>
Date:   Mon May 15 09:14:19 2017 +0100

    KAFKA-5232; Fix Log.parseTopicPartitionName to handle deleted topics with a period in the name
    
    This issue would only be triggered if a broker was restarted while
    deletion was still taking place.
    
    Included a few minor improvements to that method and its tests.
    
    Author: Jaikiran Pai <jaikiran.pai@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3050 from jaikiran/KAFKA-5232-trunk

commit bc55f85237cb46e73c6774298cf308060a4a739c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 15 09:10:09 2017 +0100

    MINOR: Consolidate Topic classes
    
    During the 0.11.0.0 cycle, a Java version of the class
    was introduced so that Streams could use it. Given that
    it includes the bulk of the functionality of the Scala
    version of the class, it makes sense to consolidate them.
    
    While doing this, I noticed that one of the tests for
    the Java class (`shouldThrowOnInvalidTopicNames`) was
    broken as it only checked if the first topic name in
    the list was invalid.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3046 from ijuma/consolidate-topic-classes

commit 885643ce100b3b74a2b6859bf0b85103d8c05ef8
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon May 15 00:39:12 2017 +0100

    KAFKA-5230; Fix conversion of Class configs to handle nested classes properly
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3044 from ewencp/kafka-5230-nested-class-recommended-values

commit e3892c29c342629be789437c2c52b4e367af52ef
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sun May 14 18:33:05 2017 +0100

    MINOR: Handle nulls in NonEmptyListValidator
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3045 from ewencp/minor-non-empty-list-validator-nulls

commit 1af096039d7a2d8fd865b0eaee28c70f10e07008
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Sat May 13 09:43:58 2017 +0100

    MINOR: Various small improvements to kafka.metrics.MetricsTest
    
    `testBrokerTopicMetricsUnregisteredAfterDeletingTopic` seemed completely broken,
    as it was creating a topic but producing/consuming to another one.
    
    Authored with mpburg
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3034 from mimaison/Fix-testBrokerTopicMetricsBytesInOut

commit c5aeaa7d898ce4b21e3204cd805d0b2c508e24eb
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat May 13 08:15:30 2017 +0100

    MINOR: Improve shutdown sequence
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3030 from ijuma/improve-shutdown-sequence

commit 6a5026b23bec5207105d498f784872a3d2dd1e72
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat May 13 03:44:49 2017 +0100

    MINOR: Close ZooKeeper clients in a couple of tests
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3039 from rajinisivaram/MINOR-close-zkclient

commit 9198467eb293435385edcef9028a59fa41a3828a
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Fri May 12 21:38:49 2017 -0700

    KAFKA-4144: Allow per stream/table timestamp extractor
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Damian Guy, Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2466 from jeyhunkarimov/KAFKA-4144

commit a1c8e7d941ad9c765dac232435a297f905eeeed5
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri May 12 19:59:34 2017 -0700

    MINOR: Rename InitPidRequest/InitPidResponse to InitProducerIdRequest/InitProducerIdResponse
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2997 from hachikuji/minor-rename-initpid

commit 1cb39f7570b8dad3e8b5c7643fb1cbbcf382bb31
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Sat May 13 03:23:30 2017 +0100

    KAFKA-5180; Fix transient failure in ControllerIntegrationTest.testControllerMoveIncrementsControllerEpoch
    
    The tests previously ignored the fact that the controller does not atomically
    create the /controller znode and create/increment the /controller_epoch znode.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3038 from onurkaraman/KAFKA-5180

commit f21f8f2d44f97eba4ce155ac9fcc8432f00cad24
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Sat May 13 01:54:46 2017 +0100

    KAFKA-4982; Add listener tags to socket-server-metrics (KIP-136)
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3004 from edoardocomar/KAFKA-4982

commit 238e739782222b17f33a3ac5a0374d8dac3be28f
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat May 13 01:34:05 2017 +0100

    KAFKA-5227; Remove unsafe assertion, make jaas config safer
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3037 from rajinisivaram/KAFKA-5227

commit b1cd3afc13070c4c50ba963520e7266f97ac52b4
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri May 12 17:01:26 2017 -0700

    KAFKA-5198: Synchronize on RocksDbStore#openIterators
    
    …it is accessed from multiple threads
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #3000 from cmccabe/KAFKA-5198

commit 7258a5fddf3fb77480cd414819cdbfbd96b709e5
Author: Apurva Mehta <apurva@confluent.io>
Date:   Fri May 12 16:27:11 2017 -0700

    KAFKA-5160; KIP-98 Broker side support for TxnOffsetCommitRequest
    
    This patch adds support for the `TxnOffsetCommitRequest` added in KIP-98. Desired handling for this request is [described here](https://docs.google.com/document/d/11Jqy_GjUGtdXJK94XGsEIK7CP1SnQGdp2eF0wSw9ra8/edit#bookmark=id.55yzhvkppi6m) .
    
    The functionality includes handling the stable state of receiving `TxnOffsetCommitRequests` and materializing results only when the commit marker for the transaction is received. It also handles partition emigration and immigration and rebuilds the required data structures on these events.
    
    Tests are included for all the functionality.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2970 from apurvam/KAFKA-5160-broker-side-support-for-txnoffsetcommitrequest

commit da0b5b8596fa20836b8c80c473b3f37af96c9b96
Author: Xavier Léauté <xavier@confluent.io>
Date:   Fri May 12 15:27:03 2017 -0700

    KAFKA-5216: Fix peekNextKey in cached window/session store iterators
    
    guozhangwang mjsax dguy
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #3016 from xvrl/kafka-5216

commit 794e6dbd14f040d21d3402c5eda22cfa8f5c4b3d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri May 12 15:01:01 2017 -0700

    KAFKA-5130: Refactor transaction coordinator's in-memory cache; plus fixes on transaction metadata synchronization
    
    1. Collapsed the `ownedPartitions`, `pendingTxnMap` and the `transactionMetadataCache` into a single in-memory structure, which is a two-layered map: first keyed by the transactionTxnLog, and then valued with the current coordinatorEpoch of that map plus another map keyed by the transactional id.
    
    2. Use `transactionalId` across the modules in transactional coordinator, attach this id with the transactional marker entries.
    
    3. Use two keys: `transactionalId` and `txnLogPartitionId` in the writeMarkerPurgatory as well as passing it along with the TxnMarkerEntry, so that `TransactionMarkerRequestCompletionHandler` can use it to access the two-layered map upon getting responses.
    
    4. Use one queue per `broker-id` and `txnLogPartitionId`. Also when there is a possible update on the end point associated with the `broker-id`, update the Node without clearing the queue but relying on the requests to retry in the next round.
    
    5. Centralize the error handling callback for appending-metadata-to-log and sending-markers-to-brokers in `TransactionStateManager#appendTransactionToLog`, and `TransactionMarkerChannelManager#addTxnMarkersToSend`.
    
    6. Always update the in-memory transaction metadata AFTER the txn log has been appended and replicated, and then double check on the cache to make sure nothing has changed since log appending. The only exception is when initializing the pid for the first time, in which we will put a dummy into the cache but set its pendingState as `Empty` (so it will be valid to transit from `Empty` to `Empty`) so that it can be updated after the log append has completed.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma, Damian Guy, Jason Gustafson, Jun Rao
    
    Closes #2964 from guozhangwang/K5130-refactor-tc-inmemory-cache

commit 7baa58d797126b6fb2b1de30e72428895d2bcb40
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri May 12 12:07:22 2017 -0700

    KAFKA-5196; Make LogCleaner transaction-aware
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #3008 from hachikuji/KAFKA-5196

commit 1c2bbaa501c2d0fd4db9c2dacacc3ff7f5236d3d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri May 12 10:36:44 2017 -0700

    MINOR: Fix consumer and producer to actually support metrics recording level
    
    Also add tests and a few clean-ups.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2937 from ijuma/metrics-recording-level-producer

commit 4951849163b1defea91129472b5354531407deb9
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri May 12 10:36:02 2017 -0700

    KAFKA-5132: abort long running transactions
    
    Abort any ongoing transactions that haven't been touched for longer than the transaction timeout
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Jason Gustafson, Apurva Mehta, Ismael Juma, Guozhang Wang
    
    Closes #2957 from dguy/kafka-5132

commit 766dea94e477a2f84afc57c4d3091ec1688c35c5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri May 12 16:48:04 2017 +0100

    MINOR: Set min isr to avoid race condition in ReplicationBytesIn initialisation
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3033 from ijuma/fix-transient-test-failure-in-test-broker-topic-metrics-bytes-in-out

commit e2fafddbbf335a96e828b00c6ace0a0921803ad3
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Fri May 12 13:11:20 2017 +0100

    MINOR: Improve doc for num.x.threads configs
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2847 from edoardocomar/MINOR-server.prop.threads.comments

commit d96866243990a4d739ec8fc239f0c2758bba66e8
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Fri May 12 11:50:19 2017 +0100

    KAFKA-5194; Include only client traffic in BytesOutPerSec metric (KIP-153)
    
    Also added 2 new metrics to account for incoming/outgoing traffic due to internal replication
    - ReplicationBytesInPerSec
    - ReplicationBytesOutPerSec
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3003 from mimaison/KAFKA-5194

commit 911c768bcc3ba950d63536ce4e6ba2542542d573
Author: Dong Lin <lindong28@gmail.com>
Date:   Thu May 11 20:03:30 2017 -0700

    KAFKA-5078; PartitionRecords.fetchRecords(...) should defer exception to the next call if iterator has already moved across any valid record
    
    Suppose there are two valid records followed by one invalid records in the FetchResponse.PartitionData(). As of current implementation, PartitionRecords.fetchRecords(...) will throw exception without returning the two valid records. The next call to PartitionRecords.fetchRecords(...) will not return that two valid records either because the iterator has already moved across them.
    
    We can fix this problem by defering exception to the next call of PartitionRecords.fetchRecords(...) if iterator has already moved across any valid record.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2864 from lindong28/KAFKA-5078

commit 12aa70d55bc422226255ab18e69e4bc6f24be2d9
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri May 12 00:43:35 2017 +0100

    KAFKA-5713; Shutdown brokers in tests
    
    Add broker shutdown for `LeaderEpochIntegrationTest`.
    Move broker shutdown in other tests to `tearDown` to
    ensure brokers are shutdown even if tests fail.
    Also added assertion to `ZooKeeperTestHarness` to
    verify that controller event thread is not running
    since this thread may load JAAS configuration if ZK
    ports are reused.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3026 from rajinisivaram/KAFKA-5173

commit b6effcbba50eaa3abf91e24f0ae83abb53881add
Author: dan norwood <norwood@confluent.io>
Date:   Thu May 11 18:16:25 2017 -0700

    KAFKA-4343: Expose Connector type in REST API (KIP-151)
    
    https://cwiki.apache.org/confluence/display/KAFKA/KIP-151+Expose+Connector+type+in+REST+API
    
    Author: dan norwood <norwood@confluent.io>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2960 from norwood/KIP-151

commit 27107ee34d1df89035eb9b9b4e11036fca6cf723
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Thu May 11 16:17:34 2017 -0400

    MINOR: JoinGroupRequest V0 invalid rebalance timeout
    
    A JoinGroupRequest V0 built with the Builder had
    a rebalance timeout  = -1 rather than equal to session timeout
    as it would have been if coming from the wire and deserialized
    from a V0 Struct
    
    fix developed with mimaison
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Rajini Sivaram
    
    Closes #2936 from edoardocomar/MINOR-JoinGroupRequestV0

commit 24a4e6146a83c3ce188f6ee2f56d763a58b88b8b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu May 11 13:59:48 2017 +0100

    HOTFIX: change compression codec in TransactionStateManager to UncompressedCodec
    
    Change the compression code used for the transaction log to UncompressedCoded as it fails during creation when the codec is set to NoCompressionCodec.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #3022 from dguy/hotfix-tsm

commit 3085d4f435bba74fc9aa077e23a4da3475b4d2ec
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu May 11 13:16:57 2017 +0100

    KAFKA-5182; Close txn coordinator threads during broker shutdown
    
    Shutdown delayed delete purgatory thread, transaction marker purgatory thread and
    send thread in `TransactionMarkerChannelManager` during broker shutdown.
    Made `InterBrokerSendThread` interruptible so that it is shutdown.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #3014 from rajinisivaram/KAFKA-5182

commit bcf447e93ec15c70156d5a17bd1c7c28b7188e43
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 11 08:08:11 2017 +0100

    KAFKA-4422; Drop support for Scala 2.10 (KIP-119)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #2956 from ijuma/kafka-4422-drop-support-scala-2.10

commit 970c00eab80d82b97456e276ee0f5615cb1ccfa1
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed May 10 18:15:54 2017 -0700

    KAFKA-5213; Mark a MemoryRecordsBuilder as full as soon as the append stream is closed
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #3015 from apurvam/KAFKA-5213-illegalstateexception-in-ensureOpenForAppend

commit 0bede30ada6d5719950ad35a69c586f0ba9c4f7e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed May 10 22:38:30 2017 +0100

    KAFKA-5184 KAFKA-5173; Various improvements to SASL tests
    
    1. Call `closeSasl` in `MultipleListenersWithSameSecurityProtocolBaseTest`
    2. Refactor the code to make it easier to reason about
    3. Add an assert that may possibly help us narrow down how KAFKA-5184
    can happen (it seems impossible).
    4. Remove SaslTestHarness to make it easier to reason about setUp
    and tearDown methods.
    5. Fix *AdminClientIntegrationTest to have a single `tearDown`
    6. Remove a *ReplicaFetcherTest and *TopicMetadataTest secure variants.
    They are redundant from a security perspective given the consumer and
    producer tests.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #3010 from ijuma/kafka-5184-kafka-5173-sasl-issues

commit a420d20c0e3da2c9637820f7d1a344706fd835fa
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Wed May 10 13:45:32 2017 -0700

    KAFKA-5099; Replica Deletion Regression from KIP-101
    
    Replica deletion regressed from KIP-101. Replica deletion happens when a broker receives a StopReplicaRequest with delete=true. Ever since KAFKA-1911, replica deletion has been async, meaning the broker responds with a StopReplicaResponse simply after marking the replica directory as staged for deletion. This marking happens by moving a data log directory and its contents such as /tmp/kafka-logs1/t1-0 to a marked directory like /tmp/kafka-logs1/t1-0.8c9c4c0c61c44cc59ebeb00075a2a07f-delete, acting as a soft-delete. A scheduled thread later actually deletes the data. It appears that the regression occurs while the scheduled thread is actually trying to delete the data, which means the controller considers operations such as partition reassignment and topic deletion complete. But if you look at the log4j logs and data logs, you'll find that the soft-deleted data logs actually won't get deleted.
    
    The bug is that upon log deletion, we attempt to flush the LeaderEpochFileCache to the original file location instead of the moved file location. Restarting the broker actually allows for the soft-deleted directories to get deleted.
    
    This patch avoids the issue by simply not flushing the LeaderEpochFileCache upon log deletion.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2986 from onurkaraman/KAFKA-5099

commit 0eedd6d806ffc2f8e1e2a704d831bc5ac865ce3e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed May 10 13:09:25 2017 -0700

    MINOR: Add a release script that helps generate release candidates.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #2795 from ewencp/release-script and squashes the following commits:
    
    f1d0590 [Ewen Cheslack-Postava] Don't expose promotion to the user since it is not implemented yet.
    1a6947a [Ewen Cheslack-Postava] Handle cleanup if there's a failure during generation of release notes.
    fa58401 [Ewen Cheslack-Postava] Fix hard-coded uses of trunk
    639bcca [Ewen Cheslack-Postava] Try to cleanup after most failures.
    a3a7245 [Ewen Cheslack-Postava] Fix SCRIPT_DIR to be an absolute path so git clones against the REPO work when it is also your cwd
    de54c97 [Ewen Cheslack-Postava] Load/save preferences in a .release-settings.json file so you don't have to keep entering the same info repeatedly
    b559a61 [Ewen Cheslack-Postava] Check that the user doesn't have any oustanding diffs before starting the rest of the script
    ff0b330 [Ewen Cheslack-Postava] Store original starting branch to switch back to instead of using a default.
    b793562 [Ewen Cheslack-Postava] Use 2.12 instead of specific Scala version so we use the default 2.12 version.
    382b7f9 [Ewen Cheslack-Postava] MINOR: Add a release script that helps generate release candidates.

commit 7371bf7f65d1245b084f17e534b5728d5929e207
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue May 9 14:35:57 2017 -0700

    KAFKA-5063: Fix flaky o.a.k.streams.integration.ResetIntegrationTest
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2931 from mjsax/kafka-5140-flaky-reset-integration-test

commit b982eefd37595b30600b7a979915db5da22271fe
Author: Wim Van Leuven <wim.vanleuven@bigboards.io>
Date:   Tue May 9 14:31:50 2017 -0700

    KAFKA-4927: Fix KStreamsTestDriver to not throw NPE when KStream.to() sinks are used
    
    a KStream.to() sink is also a topic
    ... so the KStreamTestDriver to fetch it when required
    
    Author: Wim Van Leuven <wim.vanleuven@bigboards.io>
    Author: Wim Van Leuven <wim.vanleuven@highestpoint.biz>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2716 from wimvanleuven/KAFKA-4927

commit 8ace736f7121161518953b4ce2a03f36a8306e18
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue May 9 14:02:30 2017 -0700

    HOTFIX: Increase kafkatest startup wait time on ConnectDistributed service
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Magesh Nandakumar <magesh.n.kumar@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #3006 from kkonstantine/HOTFIX-Align-startup-wait-time-for-ConnectDistributed-service-with-ConnectStandalone-in-kafkatests

commit c69842336d87cc321a58171c517c46cdddfe1a64
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue May 9 10:15:40 2017 -0700

    KAFKA-5126: Implement KIP-98 transactional methods in the MockProducer
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2951 from mjsax/kafka-5126-add-transactions-to-mock-producer

commit 5b36adde4f158d9d3b47bb98123a0bcca8028288
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue May 9 09:23:35 2017 -0700

    KAFKA-4222: Adjust timeout in low resource environments
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2996 from enothereska/KAFKA-4222-queryOnRebalance

commit 78ace3725151dc056e83a8ec389141fc8809d4c0
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue May 9 02:10:24 2017 +0100

    KAFKA-5176; AdminClient: add controller and clusterId methods to DescribeClusterResults
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: dan norwood <norwood@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2977 from cmccabe/KAFKA-5176

commit 59b918ec2be5ec69fd5b62613e7665510f5217c0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 8 10:29:31 2017 -0700

    KAFKA-3763; Remove deprecated APIs for 0.11.0.0
    
    This only removes deprecated methods,
    fields and constructors in a small number of classes.
    
    Deprecated producer configs is tracked via KAFKA-3353
    and the old clients and related (tools, etc.) won't
    be removed in 0.11.0.0.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2995 from ijuma/kafka-3763-remove-deprecated-0.11

commit 3bcadbfb474f6caccc939fb3775a6f969d136af7
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 8 10:00:04 2017 -0700

    KAFKA-3353; Remove deprecated producer configs
    
    These configs have been deprecated since 0.9.0.0:
    block.on.buffer.full, metadata.fetch.timeout.ms and timeout.ms
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2987 from ijuma/kafka-3353-remove-deprecated-producer-configs

commit 2554a8dd4dd07b0ac844839b51533bd1e67eed85
Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
Date:   Mon May 8 09:42:44 2017 -0700

    KAFKA-4839; Throw NoOffsetForPartitionException from poll once for all TopicPartitions affected
    
    Signed-off-by: radai-rosenblatt <radai.rosenblattgmail.com>
    
    Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2637 from radai-rosenblatt/KAFKA-4839

commit 257ad524d305bd052feb8bf81d6736f74a19983f
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon May 8 09:40:57 2017 -0700

    KAFKA-5174: Have at least 2 threads for compaction and flushing in RocksDB
    
    This fix needs to be backported to 0.10.2 as well.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Ismael Juma, Guozhang Wang
    
    Closes #2982 from enothereska/KAFKA-5174-1-core

commit e472ee7b613dbcab2ba1f5b6b384fa713f3906d0
Author: Kyle Winkelman <kyle.winkelman@optum.com>
Date:   Sun May 7 22:15:40 2017 -0700

    KAFKA-5172: Fix fetchPrevious to find the correct session
    
    Change fetchPrevious to use findSessions with the proper key and timestamps rather than using fetch.
    
    Author: Kyle Winkelman <kyle.winkelman@optum.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2972 from KyleWinkelman/CachingSessionStore-fetchPrevious

commit e71dce89c0da50f3eccc47d0fc050c92d5a99b88
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat May 6 11:49:35 2017 -0700

    KAFKA-5121; Implement transaction index for KIP-98
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2910 from hachikuji/eos-txn-index

commit 29994dd10de5c58166e7aa248beab78cab3c9b86
Author: amethystic <huxi_2b@hotmail.com>
Date:   Fri May 5 16:53:32 2017 -0700

    KAFKA-5143: add kafka-broker-api-version.bat for Windows platform
    
    Added kafka-broker-api-versions.bat for Windows platform
    
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Vahid Hashemian, Ismael Juma, Guozhang Wang
    
    Closes #2943 from amethystic/kafka-5143_offer_broker_api_versions_bat

commit 715eae6da92d5d1db7ac65e3c8ff753e15b5c0ca
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri May 5 08:51:02 2017 +0100

    KAFKA-5169; KafkaConsumer.close should be idempotent
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2968 from mjsax/kafka-5169-consumer-close

commit 05ea454dfb1c68e9026b74fe443279e3a4bc5182
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri May 5 08:36:04 2017 +0100

    KAFKA-5170; KafkaAdminClientIntegrationTest should wait until metadata is propagated to all brokers
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2976 from cmccabe/KAFKA-5170

commit 95b48b157aca44beec4335e62a59f37097fe7499
Author: amethystic <huxi_2b@hotmail.com>
Date:   Thu May 4 22:12:28 2017 -0700

    KAFKA-5161: add code in reassign-partitions to check broker existence
    
    Added code to check existence of the brokers in the proposed plan.
    
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2962 from amethystic/kafka5161_reassign_check_invalid_brokerID

commit 2448343edd0ea2e1f1a4cdc325d361913e48ff14
Author: umesh chaudhary <umesh9794@gmail.com>
Date:   Fri May 5 05:11:43 2017 +0100

    KAFKA-5137; Controlled shutdown timeout message improvement
    
    Provide correct config details in the log message.
    
    Author: umesh chaudhary <umesh9794@gmail.com>
    
    Reviewers: Dustin Cote <dustin@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2932 from umesh9794/local

commit 124ddf5779b845cb220f622d3b4233e586db4888
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri May 5 05:03:59 2017 +0100

    KAFKA-5162; Add a reference to AdminClient to docs/api.html
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2958 from cmccabe/KAFKA-5162

commit 8c872762f7ef47a4a2d2c7d49993cedacd50d8b4
Author: Amit Daga <adaga@adobe.com>
Date:   Fri May 5 04:58:11 2017 +0100

    KAFKA-4996; Fix findBugs warning in getOrCreateSegment
    
    The code was correct since the method is only called from
    one thread, but the change is worthwhile anyway.
    
    Author: Amit Daga <adaga@adobe.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2966 from amitdaga/findbugs-streams-multithread

commit 1816e29981b0e9df67d416c8cfccc4f2ee1241fa
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri May 5 04:51:51 2017 +0100

    MINOR: Temporarily disable a few flaky tests
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #2978 from ijuma/disable-some-flaky-tests

commit 41fead3acf6b70f829eb61688d31b0914adedadc
Author: Xi Hu <huxi_2b@hotmail.com>
Date:   Thu May 4 12:32:22 2017 -0700

    KAFKA-5104: DumpLogSegments should not open index files with `rw`
    
    Add a parameter 'writable' for AbstractIndex and set its default value to true for its children classes.
    
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2905 from amethystic/kafka-5104_DumpLogSegments_should_not_open_index_files_with_rw

commit a6728f6ee7a87da2859baca95b50e00dd6368431
Author: Xi Hu <huxi_2b@hotmail.com>
Date:   Thu May 4 11:46:06 2017 -0700

    KAFKA-5118: Improve message for Kafka failed startup with non-Kafka data in data.dirs
    
    Explicitly throwing clear exceptions when starting up a Kafka with some non-Kafka data in data.dirs.
    
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2907 from amethystic/kafka-5118_improve_msg__for_failed_startup_with_nonKafka_data

commit ed59f742b0b2c7920444d56c44d0bc79dbc8a2ad
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu May 4 11:14:28 2017 -0700

    KAFKA-4925: delay initial rebalance of consumer group
    
    Add new broker config, `group.initial.rebalance.delay.ms`, with a default of 3 seconds.
    When a consumer creates a new group, set the group's state to InitialRebalance and delay the rebalance until `min(group.initial.rebalance.delay.ms, rebalanceTimeout)`. As other members join the group further delay the rebalance by `min(group.initial.rebalance.delay.ms, remainingRebalanceTimeout)`. Once `rebalanceTimeout` is hit or no new members join the group within the delay, complete the rebalance.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #2758 from dguy/kafka-4925

commit 24e6423424bf0e41dc05c4a67226e92011e34968
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu May 4 00:20:16 2017 -0700

    HOTFIX: fix potentially hanging test shouldAddStateStoreToRegexDefinedSource
    
    …dSource
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2783 from bbejeck/HOTFIX_potentially_hanging_test_in_RegexSourceIntegrationTest

commit ec9e4eafa406fec897713310bafdedf6bbb3c0c5
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed May 3 16:15:54 2017 -0700

    KAFKA-5045: Clarify on KTable APIs for queryable stores
    
    This is the implementation of KIP-114: KTable state stores and improved semantics:
    - Allow for decoupling between querying and materialisation
    - consistent APIs, overloads with queryableName and without
    - depreciated several KTable calls
    - new unit and integration tests
    
    In this implementation, state stores are materialized if the user desires them to be queryable. In subsequent versions we can offer a second option, to have a view-like state store. The tradeoff then would be between storage space (materialize) and re-computation (view). That tradeoff can be exploited by later query optimizers.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #2832 from enothereska/KAFKA-5045-ktable

commit a3952aee49c5eb11cd38c1bc2fb95e9a285ff158
Author: Davor Poldrugo <dpoldrugo@gmail.com>
Date:   Wed May 3 14:19:25 2017 -0700

    KAFKA-5055: Fix Kafka Streams skipped-records-rate sensor bug
    
    Fix as described in the [KAFKA-5055 Jira comment](https://issues.apache.org/jira/browse/KAFKA-5055?focusedCommentId=15990086&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15990086).
    
    mjsax guozhangwang take a look
    
    Author: dpoldrugo <dpoldrugo@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2949 from dpoldrugo/KAFKA-5055-skipped-records-rate-sensor-bug

commit bc65c62e661c2829a30ad6b08fc9fa34303ad386
Author: Michal Borowiecki <mbor81@gmail.com>
Date:   Wed May 3 13:43:20 2017 -0700

    KAFKA-5144: renamed variables in MinTimestampTracker and added comments
    
    The descendingSubsequence is a misnomer. The linked list is actually arranged so that the lowest timestamp is first and larger timestamps are added to the end, therefore renamed to ascendingSubsequence.
    The minElem variable was also misnamed. It's actually the current maximum element as it's taken from the end of the list.
    Added comment to get() to make it clear it's returning the lowest timestamp.
    
    Author: mihbor <mihbor@users.noreply.github.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2948 from mihbor/patch-4

commit cfb2386743cc1981d7eb5c042ae8cbad70f99370
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed May 3 13:26:08 2017 -0700

    MINOR: Fix error logged if not enough alive brokers for transactions state topic
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2954 from ijuma/fix-error-message-if-transactions-topic-replication-factor-too-low

commit a7671c7f3723113e716b99471e7be3499fde1b15
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Wed May 3 21:08:30 2017 +0100

    KAFKA-4703: Test with two SASL_SSL listeners with different JAAS contexts
    
    Tests broker with multiple SASL mechanisms with different endpoints for different mechanisms. Each endpoint uses its own JAAS context.
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Rajini Sivaram, Ismael Juma
    
    Closes #2506 from baluchicken/KAFKA-4703

commit 8d749201632618e66fbc7077d730e5fac5e157a5
Author: Ryan P <ryan.n.pridgeon@gmail.com>
Date:   Wed May 3 10:43:34 2017 +0100

    KAFKA-3754; Add GC log retention policy to limit size of log
    
    Add a default log retention policy to keep GC logs from growing too large
    
    Author: Ryan P <ryan.n.pridgeon@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1431 from rnpridgeon/KAFKA-3754

commit 4a6bbd5f1386562262193b5054b44894a196997b
Author: Bernard Leach <leachbj@bouncycastle.org>
Date:   Wed May 3 09:28:52 2017 +0100

    KAFA-4378: Fix Scala 2.12 "eta-expansion of zero-argument method" warnings
    
    Author: Bernard Leach <leachbj@bouncycastle.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2098 from leachbj/4378-eta-expansion

commit f60009b14dae33168009290e549e4e9544595685
Author: dan norwood <norwood@confluent.io>
Date:   Wed May 3 02:26:02 2017 +0100

    MINOR: Handle 0 futures in all()
    
    If we pass in 0 futures to an AllOfAdapter, we should complete immediately
    
    Author: dan norwood <norwood@confluent.io>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2953 from norwood/handle-all-of-0

commit 0e7cc4aa384372d1e08d7bd444b5e23510f447d9
Author: Apurva Mehta <apurva@confluent.io>
Date:   Wed May 3 01:19:35 2017 +0100

    MINOR: Serialize the real isolationLevel in FetchRequest
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2961 from apurvam/MINOR-serialize-isolation-level-in-fetch-request

commit 619fd7aeb62b2c1a68938a341ff81f728fc60090
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed May 3 01:01:39 2017 +0100

    KAFKA-5131; WriteTxnMarkers and complete commit/abort on partition immigration
    
    Write txn markers and complete the commit/abort for transactions in PrepareXX
    state during partition immigration.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2926 from dguy/kafka-5059

commit b2fcf73b68d7ad3b0b4fb90371298e7163c630c6
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue May 2 08:41:19 2017 -0700

    KAFKA-5107; remove preferred replica election state from ControllerContext
    
    KAFKA-5028 moves the controller to a single-threaded model, so we would no longer have work interleaved between preferred replica leader election, meaning we don't need to keep its state.
    
    This patch additionally addresses a bug from KAFKA-5028 where it made onPreferredReplicaElection keep the line calling topicDeletionManager.markTopicIneligibleForDeletion but removes the line calling topicDeletionManager.resumeDeletionForTopics
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2927 from onurkaraman/KAFKA-5107

commit 46da01a4a7d12243a7f8b1d5a51f7815a9162320
Author: sharad-develop <sharad.develop@gmail.com>
Date:   Tue May 2 16:07:25 2017 +0100

    KAFKA-4623; Default unclean.leader.election.enabled to false (KIP-106)
    
    Author: sharad.develop <sharad.develop@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2625 from sharad-develop/KAFKA-4623

commit 64ea193ceee931ee42c3fce27341980ee7c50d15
Author: dan norwood <norwood@confluent.io>
Date:   Mon May 1 23:43:04 2017 -0700

    MINOR: Describe topics should describe, not delete
    
    Author: dan norwood <norwood@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2952 from norwood/describe-not-delete

commit 94a35fd93684ea5713777c6b4e1631642de5f377
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 1 17:16:42 2017 -0700

    HOTFIX: fix unit tests for KAFKA-5136

commit 324b475eca48502fb16c8efd0de99756f68437bf
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon May 1 17:15:32 2017 -0700

    KAFKA-5136: move coordinatorEpoch from WriteTxnMarkerRequest to TxnMarkerEntry
    
    Moving the coordinatorEpoch from WriteTxnMarkerRequest to TxnMarkerEntry will generate fewer broker send requests
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #2925 from dguy/tc-write-txn-request-follow-up

commit 67f1f4d270c279480cea5e6120ca157637910cba
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue May 2 01:09:13 2017 +0100

    MINOR: Some cleanups in the transactional producer
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2933 from hachikuji/minor-transactional-client-cleanup

commit 1f2451d4e7e3766540d3650d177e304fcddf49b8
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon May 1 16:47:08 2017 -0700

    KAFKA-5059 Follow-up: Remove broken locking and fix handleAddPartitions
    
    remove broken locking. fix handleAddPartitions after complete commit/abort
    respond with CONCURRENT_TRANSACTIONS in initPid
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2934 from dguy/follow-up-tc-work

commit 4aed28d1897c6c5293f372cb4fc44ab363dfc365
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue May 2 00:16:01 2017 +0100

    KAFKA-3265; Add a public AdminClient API in Java (KIP-117)
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Dan Norwood <norwood@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2472 from cmccabe/KAFKA-3265

commit c96656efb3718f8b2badc30e56c7f179c0658de8
Author: amethystic <huxi_2b@hotmail.com>
Date:   Mon May 1 11:17:30 2017 -0700

    KAFKA-5091; ReassignPartitionsCommand should protect against empty replica list assignment
    
    ReassignPartitionsCommand should protect against empty replica list assignment.
    
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2904 from amethystic/kafka-5901_ReassignPartitionsCommand_protect_against_empty_replica_list

commit 0104b657a154fb15e716d872a0e6084f9da650bf
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon May 1 09:13:31 2017 -0700

    KAFKA-4954; Request handler utilization quotas
    
    See KIP-124 (https://cwiki.apache.org/confluence/display/KAFKA/KIP-124+-+Request+rate+quotas) for details
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2744 from rajinisivaram/KAFKA-4954

commit 6185bc0276c03075022c30d3c36f7f5c09ef19c6
Author: Michael Andre Pearce <Michael.Andre.Pearce@me.com>
Date:   Fri Apr 28 19:17:57 2017 -0700

    KAFKA-4208; Add Record Headers
    
    As per KIP-82
    
    Adding record headers api to ProducerRecord, ConsumerRecord
    Support to convert from protocol to api added Kafka Producer, Kafka Fetcher (Consumer)
    Updated MirrorMaker, ConsoleConsumer and scala BaseConsumer
    Add RecordHeaders and RecordHeader implementation of the interfaces Headers and Header
    
    Some bits using are reverted to being Java 7 compatible, for the moment until KIP-118 is implemented.
    
    Author: Michael Andre Pearce <Michael.Andre.Pearce@me.com>
    
    Reviewers: Radai Rosenblatt <radai.rosenblatt@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2772 from michaelandrepearce/KIP-82

commit ca6ae811662fd291421c5e064dda067517fc624e
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Apr 28 11:05:59 2017 +0100

    MINOR: Make assignment expectation explicit in testConsumptionWithBrokerFailures
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2930 from hachikuji/bouncetest-assert-assignment

commit f0152a7fdac2ae4dcac65d5ed24fa201f3d30120
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Apr 27 23:40:33 2017 -0700

    KAFKA-5097; Add testFetchAfterPartitionWithFetchedRecordsIsUnassigned
    
    I verified that the test would trigger an `IllegalStateException` if the
    `position` call was added back.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2887 from ijuma/kafka-5097-unit-test

commit a931e9954d27f4c9f12fd89afd6f0fe523cf35e8
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Apr 27 23:28:50 2017 -0700

    KAFKA-4986 Follow-up: cleanup unit tests and further comments addressed
    
     - addressing open Github comments from #2773
     - test clean-up
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2854 from mjsax/kafka-4986-producer-per-task-follow-up

commit bc10f5f173383ae4593d4742a16060faa88d7fb6
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Fri Apr 28 02:17:16 2017 +0100

    Use zkUtils instead of zkClient in AdminUtils
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2888 from baluchicken/KAFKA-5103

commit 4b9de871df1b2574a7e5d1159b45ae9e4ba31955
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Apr 27 17:41:21 2017 -0700

    MINOR: adding global store must ensure unique names
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2909 from mjsax/minor-fix-add-global-store

commit ee8c5e2dc391222b618b8a48dde9e407031ea85b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Apr 27 17:19:06 2017 -0700

    KAFKA-4379; Follow-up to avoid sending to changelog while restoring InMemoryLRUCache
    
    1. Added a flag to indicate if it is restoring or not in the LRU Store; since we only have a restore callback we have to set it each time applying the change.
    2. Fixed the corresponding unit test, plus some minor cleaning up.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2908 from guozhangwang/K4379-remove-listener

commit 6753af270c8a966411f5574afa57f6e5ffe43dbe
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Apr 27 17:11:46 2017 -0700

    KAFKA-5111: Code cleanup and improved log4j on StreamThread and Task
    
     - mainly moving methods
     - also improved logging
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2917 from mjsax/kafka-5111-code-cleanup-follow-up

commit 36aef1c2682169571b410a4986680361db5eec01
Author: Armin Braun <me@obrown.io>
Date:   Thu Apr 27 16:38:28 2017 -0700

    KAFKA-5005: IntegrationTestUtils to override consumer configs and reuse consumer
    
    * Producer and Consumer `close` calls were not handled via `try-with-resources`
    * `cleanRun` unused field removed
    * Refactored handling of Consumer configuration in `IntegrationTestUtils` to ensure auto-committing of offsets and starting from `earliest`
      * As a result reverted https://github.com/apache/kafka/pull/2921 since it's redundant now
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2920 from original-brownbear/cleanup-it-utils-closing

commit efa479736c041f7c311fbb26664d91a739ac4040
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Fri Apr 28 00:06:35 2017 +0100

    KAFKA-5101; Remove unused zkClient parameter in incrementControllerEpoch
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2886 from baluchicken/KAFKA-5101

commit 909cf9bb9778e3ba240fbcd4073a1642b79a6c23
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Apr 28 00:01:34 2017 +0100

    KAFKA-5119; Ensure global metrics are empty before running testMetricCollectionAfterShutdown
    
    Depending on the test execution order, the global registry would
    contain some metrics causing the test to fail.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #2915 from ijuma/socket-server-test-metric-collection-after-shutdown

commit 5b5efd4b5cb092813d878b080e0657f40fc1f72c
Author: Dong Lin <lindong28@gmail.com>
Date:   Thu Apr 27 23:01:01 2017 +0100

    KAFKA-5086: Update topic expiry time in Metadata every time the topic metadata is requested
    
    Update topic expiry time after every metadata update to handle max.block.ms greater than 5 minutes
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Manikumar Reddy <manikumar.reddy@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2869 from lindong28/KAFKA-5086

commit a82f194b21a6af2f52e36e55e2c6adcdba942c08
Author: Apurva Mehta <apurva@confluent.io>
Date:   Thu Apr 27 14:11:17 2017 -0700

    KAFKA-4818; Exactly once transactional clients
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2840 from apurvam/exactly-once-transactional-clients

commit bb663d04febcadd4f120e0ff5c5919ca8bf7e971
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Thu Apr 27 08:51:23 2017 -0700

    KAFKA-5028; convert kafka controller to a single-threaded event queue model
    
    The goal of this ticket is to improve controller maintainability by simplifying the controller's concurrency semantics. The controller code has a lot of shared state between several threads using several concurrency primitives. This makes the code hard to reason about.
    
    This ticket proposes we convert the controller to a single-threaded event queue model. We add a new controller thread which processes events held in an event queue. Note that this does not mean we get rid of all threads used by the controller. We merely delegate all work that interacts with controller local state to this single thread. With only a single thread accessing and modifying the controller local state, we no longer need to worry about concurrent access, which means we can get rid of the various concurrency primitives used throughout the controller.
    
    Performance is expected to match existing behavior since the bulk of the existing controller work today already happens sequentially in the ZkClient’s single ZkEventThread.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2816 from onurkaraman/KAFKA-5028

commit f69d94158ce72f4ef2df5b98f2395c2b2e61251e
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Apr 26 14:10:38 2017 -0700

    KAFKA-5059: Implement Transactional Coordinator
    
    Author: Damian Guy <damian.guy@gmail.com>
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Guozhang Wang, Jason Gustafson, Apurva Mehta, Jun Rao
    
    Closes #2849 from dguy/exactly-once-tc

commit 8d8ab2ebcd498982a9dd6be873f4d7cc032c65d8
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Apr 26 13:46:35 2017 -0700

    KAFKA-5108; Add support for reading PID snapshot files to DumpLogSegments
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2922 from hachikuji/KAFKA-5108

commit d06f2cc7ac8d214edbefa57addc82312fbae884f
Author: Armin Braun <me@obrown.io>
Date:   Wed Apr 26 12:27:24 2017 -0700

    KAFKA-5124: autocommit reset earliest fixes race condition
    
    Fixes `org.apache.kafka.streams.integration.utils.IntegrationTestUtils#readKeyValues` potentially starting to `poll` for stream output after the stream finished sending the test data and hence missing it when working with `latest` offsets.
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2921 from original-brownbear/KAFKA-5124

commit f7b7b4745541a576eb0219468263487b07bac959
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Apr 25 18:10:49 2017 -0700

    KAFKA-5111: Improve internal Task APIs of Streams
    
     Refactors Task with proper interface methods `init()`, `resume()`, `commit()`, `suspend()`, and `close()`. All other methods for task handling are internal now. This allows to simplify `StreamThread` code, avoid code duplication and allows for easier reasoning of control flow.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2895 from mjsax/kafka-5111-cleanup-task-code

commit c43eb856d16e648c2a6ab1f87b58f59035fce065
Author: Sean McCauliff <smccauliff@linkedin.com>
Date:   Tue Apr 25 10:31:16 2017 -0700

    KAFKA-4840; BufferPool errors can cause buffer pool to go into a bad state
    
    Author: Sean McCauliff <smccauliff@linkedin.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2659 from smccauliff/kafka-4840

commit 4815323be73e4e207fcf7079714bd1fd82fd8f6b
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Apr 24 10:17:03 2017 +0100

    MINOR: Replication system tests should cover compressed path
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2745 from hachikuji/add-replication-testcase-for-compression

commit b15422177460a8f928a2ba93c429de426ae68076
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Apr 23 16:28:05 2017 +0100

    MINOR: ProducerPerformance should work with older client jars
    
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2896 from junrao/minor

commit 1fbb8cfafa64307f94de09e4a14217a69f01cea0
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun Apr 23 16:23:48 2017 +0100

    KAFKA-4564; Follow-up to fix test_timeout_on_pre_010_brokers system test failure
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2897 from mjsax/KAFKA-4564-follow-up

commit 19f266d4075a8c56d56f6b8c7e95773378b95211
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Apr 22 13:57:27 2017 -0700

    MINOR: Move `Os` class to utils package and rename it to OperatingSystem
    
    The `common` package is public and this class is
    internal.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2759 from ijuma/move-os-to-utils

commit d7b5eadb92e514857754f8599f3d902093651f25
Author: Michal Borowiecki <mbor81@gmail.com>
Date:   Fri Apr 21 13:27:11 2017 -0700

    MINOR: fix javadoc comment of Transformer
    
    Here's where it's called:
    https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/kstream/internals/KStreamTransform.java#L64-L67
    
    Author: mihbor <mbor81@gmail.com>
    
    Reviewers: Matthias J. Sax, Damian Guy, Guozhang Wang
    
    Closes #2884 from mihbor/patch-3

commit 3d8506a3ac5e4176ea1f2f0be97bef2712f46464
Author: Michal Borowiecki <mbor81@gmail.com>
Date:   Fri Apr 21 13:25:12 2017 -0700

    KAFKA-5090: Fix Kafka Streams SessionStore.findSessions javadoc broken
    
    Author: mihbor <mbor81@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2874 from mihbor/patch-1

commit cba0094f5a9833194bf2a13965eda678bd4a05ea
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Apr 21 13:10:05 2017 -0700

    MINOR: improve test cleanup for Streams
    
     - call close() on Metrics to join created threads
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska, Damian Guy, Guozhang Wang
    
    Closes #2788 from mjsax/minor-improve-test-metric-cleanup

commit 80e0548e2b1620c25f4fddc69550d00dd460961c
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Apr 21 12:52:38 2017 -0700

    KAFKA-5100; ProducerPerformanceService failing due to parsing error
    
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2890 from junrao/kafka-5100

commit 72be1df5984a8d2df7b4d2ea8f386c69fe31f4d2
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Apr 21 10:53:29 2017 -0700

    KAFKA-4564: Add system test for pre-0.10 brokers
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2837 from mjsax/kafka-4564-fail-fast-test-stream-compatibility

commit 3bedcce01b9d3e8ba0516fa33eb59d57817ce27e
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Apr 21 10:47:28 2017 -0700

    MINOR: fix record collector to stick with streams partitioner behavior if it is specified
    
    If `partition==null` and `partitioner!=null` we should not fall back to default partitioner (as we do before the patch if `producer.partitionsFor(...)` returns empty list. Falling back to default partitioner might corrupt hash partitioning.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska, Damian Guy, Guozhang Wang
    
    Closes #2868 from mjsax/minor-fix-RecordCollector

commit 93fbda4c577870c96c3ab86c29b60c04dc9183b9
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Apr 21 10:35:33 2017 -0700

    MINOR: Remove redundant CRC validation for non-compressed records in older message formats
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2881 from hachikuji/fix-redundant-crc-check

commit c82118b196687cf5f523dfd733bfe575a127c315
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Fri Apr 21 14:05:14 2017 +0100

    MINOR: Fix logging in ControlRecordType
    
    - typo error corrected (spelling)
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2885 from Kamal15/log

commit d53e99736550b37edc89d1a220cab43604fa3f03
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Apr 21 11:29:22 2017 +0100

    MINOR: findbugs should generate XML reports in Jenkins
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2842 from cmccabe/findbugs-xml

commit d18de0e9547728e4fa0df985c1778aab5ffec751
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Apr 21 10:27:51 2017 +0100

    KAFKA-5094; Replace SCRAM credentials in broker logs with tag hidden
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2879 from rajinisivaram/KAFKA-5094

commit fc5ad22e33cb9f757f645cec9d4afe9e65292712
Author: Lihua Xin <xin.lihua1@zte.com.cn>
Date:   Thu Apr 20 21:43:08 2017 -0700

    KAFKA-5088: some spelling error in code comment
    
    fix some spelling errors
    
    Author: xinlihua <xin.lihua1@zte.com.cn>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2871 from auroraxlh/fix_spellingerror

commit f18a14af361f24851664b428b46d5789f51a80ea
Author: Eno Thereska <eno@confluent.io>
Date:   Thu Apr 20 14:55:43 2017 -0700

    KAFKA-5095: Adjust accepted overhead for ThreadCacheTest
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2877 from enothereska/KAFKA-5095-cacheOverheads

commit 49230625736d30cb4d0467ac0a103b23de5c266b
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Apr 20 14:34:45 2017 -0700

    KAFKA-5073: Kafka Streams stuck rebalancing after exception thrown in rebalance listener
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Eno Thereska, Guozhang Wang
    
    Closes #2856 from mjsax/kafka-5073

commit 3c471d25b97b9a867ec6a2a1ed9467b8e4ba6b66
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Apr 20 14:24:47 2017 -0700

    KAFKA-5047: NullPointerException while using GlobalKTable in KafkaStreams
    
    Skip null keys when initializing GlobalKTables. This is inline with what happens during normal processing.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll, Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2834 from dguy/kafka-5047

commit 14ab3dcc6c70d5bd4b21d99e0b97332ea332ac07
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Apr 20 14:11:49 2017 -0700

    MINOR: reduce commit interval and cache size for integration test
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2789 from mjsax/minor-improve-integration-test

commit 2aa339de1135e110bba9c345e809bebf27ce3178
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Apr 20 14:07:58 2017 -0700

    KAFKA-5014; NetworkClient.leastLoadedNode should check if channel is ready
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2813 from ijuma/kafka-5014-least-loaded-node-should-check-if-channel-is-ready

commit 779874fb14f5a2f60016546059576e8ae936b14c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Apr 20 13:49:06 2017 -0700

    MINOR: improve test stability for Streams broker-compatibility test
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Magnus Edenhill, Eno Thereska, Damian Guy, Guozhang Wang
    
    Closes #2836 from mjsax/minor-broker-comp-test

commit 98d62a880d91ac1b552ac3a049c5d202c2d63520
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Apr 20 13:36:52 2017 -0700

    KAFKA-4937: Batch offset fetches in the Consumer
    
    change `consumer.position` so that it always updates any partitions that need an update. Keep track of partitions that `seekToBeginning` in `StoreChangeLogReader` and do the `consumer.position` call after all `seekToBeginning` calls.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang, Jason Gustafson, Ismael Juma
    
    Closes #2769 from dguy/kafka-4937

commit 588ed4644fe8842e4217c8e2add39f6e08e07db9
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Apr 20 13:01:46 2017 -0700

    MINOR: Improvements to PID snapshot management
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2866 from hachikuji/improve-snapshot-management

commit 6af876b94dc588c8d6098a7fef7a18c46625d1d5
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Apr 20 11:07:26 2017 +0100

    MINOR: Fix open file leak in log cleaner integration tests
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2870 from hachikuji/fix-log-cleaner-test-leak

commit 63f01a8af897ee9510ab0364f2d026e4bf5472ef
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Apr 20 09:26:04 2017 +0100

    KAFKA-4814; Enable ZK ACLs only when zookeeper.set.acl is set
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2845 from rajinisivaram/KAFKA-4814

commit c2d17c830ca309a4e3989981a47790209955273c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Apr 20 08:55:42 2017 +0100

    MINOR: Update dependencies for 0.11
    
    Worth special mention:
    
    1. Update Scala to 2.11.11 and 2.12.2
    2. Update Gradle to 3.5
    3. Update ZooKeeper to 3.4.10
    4. Update reflections to 0.9.11, which:
        * Switches to jsr305 annotations with a provided scope
        * Updates Guava from 18 to 20
        * Updates javaassist from 3.18 to 3.21
    
    There’s a separate PR for updating RocksDb, so
    I didn’t include that here.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2872 from ijuma/update-deps-for-0.11

commit 609e9b0b2f46ce72ed91965f7e43c512b26a609b
Author: huxi <huxi@zhenrongbao.com>
Date:   Wed Apr 19 09:53:13 2017 -0700

    KAFKA-5068; Optionally print out metrics after running the perf tests
    
    junrao added a config `--print.metrics` to control whether ProducerPerformance prints out metrics at the end of the test. If its okay, will add the code counterpart for consumer.
    
    Author: huxi <huxi@zhenrongbao.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2860 from amethystic/kafka-5068_print_metrics_in_perf_tests

commit 7c436d38890083cd833091971e40f0c977993570
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Apr 19 16:17:53 2017 +0100

    MINOR: Fix some re-raising of exceptions in system tests
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2852 from ewencp/minor-re-raise-exceptions

commit 41c0f8addeef44be23524bade61bcb2ab6077706
Author: anukin <anukin2611@gmail.com>
Date:   Wed Apr 19 11:25:30 2017 +0100

    KAFKA-5049; Chroot check should be done for each ZkUtils instance
    
    Author: anukin <anukin2611@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2857 from anukin/KAFKA_5049_zkroot_check

commit c4e59a338a045fc9d9b726ad68641e93582a8642
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue Apr 18 16:39:47 2017 -0700

    KAFKA-5069; add controller integration tests
    
    Test the various controller protocols by observing zookeeper and broker state.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2853 from onurkaraman/KAFKA-5069

commit 020ca7903669306862950260b8d63177402322c3
Author: Ben Stopford <benstopford@gmail.com>
Date:   Mon Apr 17 17:24:45 2017 -0700

    KAFKA-5036; Second part: Points 2 -> 5): Refactor caching of Latest Epoch
    
    This PR covers point (2) and point (5) from KAFKA-5036:
    
    **Commit 1:**
    2. Currently, we update the leader epoch in epochCache after log append in the follower but before log append in the leader. It would be more consistent to always do this after log append. This also avoids issues related to failure in log append.
    5. The constructor of LeaderEpochFileCache has the following:
    lock synchronized { ListBuffer(checkpoint.read(): _*) }
    But everywhere else uses a read or write lock. We should use consistent locking.
    This is a refactor to the way epochs are cached, replacing the code to cache the latest epoch in the LeaderEpochFileCache by reusing the cached value in Partition. There is no functional change.
    
    **Commit 2:**
    Adds an assert(epoch >=0) as epochs are written. Refactors tests so they never hit this assert.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2831 from benstopford/KAFKA-5036-part2-second-try

commit 17ce2a7307222d7476eb60318fab2e672eebe559
Author: Dong Lin <lindong28@gmail.com>
Date:   Sun Apr 16 23:23:25 2017 -0700

    KAFKA-5075; Defer exception to the next pollOnce() if consumer's fetch position has already increased
    
    Author: Dong Lin <lindong28@gmail.com>
    Author: Dong Lin <lindong28@users.noreply.github.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2859 from lindong28/KAFKA-5075

commit 148f8c25453e453f56ef429f8ef607de808de679
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Apr 14 15:07:49 2017 +0100

    KAFKA-4986; Producer per StreamTask support (KIP-129)
    
    Enable producer per task if exactly-once config is enabled.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2773 from mjsax/exactly-once-streams-producer-per-task

commit 1e93c3b9a3b8cbf069c57b46737fc02c818cb286
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Apr 12 16:33:58 2017 +0100

    KAFKA-5038; Throw correct exception of locking of state directory fails
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2848 from enothereska/KAFKA-5038-trunk

commit 0be835dde50611277504a4ddd93cc62f39e6defe
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Apr 12 13:04:36 2017 +0100

    KAFKA-4965; set internal.leave.group.on.close to false in StreamsConfig
    
    Set the internal consumer config internal.leave.group.on.close in
    `StreamsConfig`. This is to reduce the number of rebalances we get
    during bounces.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2750 from dguy/kafka-4965

commit 3c93fa321ba7c0027169685beade2082c041a60e
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Apr 12 11:08:09 2017 +0100

    HOTFIX: HTML formatting error in upgrade docs
    
    Introduced in PR #2824. Already fixed in the
    website github.
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2844 from gwenshap/docs-hotfix
    
    (cherry picked from commit 5f728532aceb0132e3a312e2b427bc29f6c85f64)
    Signed-off-by: Ismael Juma <ismael@juma.me.uk>

commit a74f0358444160516990a8d6585fb95734381301
Author: Eno Thereska <eno@confluent.io>
Date:   Tue Apr 11 17:07:53 2017 -0700

    MINOR: Added changes in 0.10.2.1
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #2824 from enothereska/minor-docs-0.10.2.1
    
    (cherry picked from commit 5a68fa7e4e1315801c3128f95deedc0b2221ffaa)
    Signed-off-by: Gwen Shapira <cshapi@gmail.com>

commit 1d25369d22f47567a7117dede14b62b8586f394a
Author: jozi-k <jozef.koval@protonmail.ch>
Date:   Wed Apr 12 00:57:08 2017 +0100

    MINOR: Make LeaderAndIsr immutable case class
    
    Also include a few code readability improvements.
    
    Author: jozi-k <jozef.koval@protonmail.ch>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2731 from jozi-k/immutable_LeaderAndIsr

commit 256f8d5662bcaf0804a4b328de1466d2b57d039e
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Apr 11 23:37:57 2017 +0100

    KAFKA-5013; Fail the build when findbugs fails
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2805 from cmccabe/KAFKA-5013

commit 8e7516ea2e6b99a6e9a3fb5a958e62b1fb186cf9
Author: huxi <huxi@zhenrongbao.com>
Date:   Tue Apr 11 11:31:11 2017 +0100

    KAFKA-4866; Console consumer `print.value` property is ignored
    
    This property is mentioned in the quickstart.
    
    Author: huxi <huxi@zhenrongbao.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2661 from amethystic/kafka4866_consoleconsumer_ignore_printvalue

commit d2f5589afc4505c2e2c11e125ad1be69eb9fe645
Author: sunnykrgupta <sunnygupta.kr@gmail.com>
Date:   Tue Apr 11 11:28:51 2017 +0100

    MINOR: Fix typo in consumer ACL example
    
    Author: sunnykrgupta <sunnygupta.kr@gmail.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2839 from sunnykrGupta/trunk

commit 7c58351e9e7d109a54dfa319437ca5f891164e5b
Author: Michael G. Noll <michael@confluent.io>
Date:   Tue Apr 11 09:50:02 2017 +0100

    MINOR: Document ordering contract of iterator for window stores and session stores
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2751 from miguno/trunk-streams-window-iterator-doc-fixes

commit d0e7c6b9304b23ced046934c799df0cba39c28e5
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Apr 11 09:05:09 2017 +0100

    KAFKA-5043; Rename GroupCoordinator to FindCoordinator (KIP-98)
    
    Also:
    1. FindCoordinator is more general and takes a coordinator_type
    so that it can be used for the group and transaction coordinators.
    2. Include an error message in FindCoordinatorResponse to make the
    errors at the client side more informative. We have just added the
    field to the protocol in this PR, a subsequent PR will update the
    code to use it.
    3. Rename `Errors` names for FindCoordinator to be more generic. This
    is a compatible change as the ids remain the same.
    4. Since the exception classes for the error codes are in a public
    package, we introduce new ones and deprecate the old ones.
    The classes were not thrown back to the user (KAFKA-5052 aside),
    so this is a compatible change.
    5. Update InitPidRequest for transactions. Since this protocol API
    was introduced recently and is not used by default, we did not bump
    its version.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2825 from apurvam/exactly-once-rpc-stubs

commit 749e9e14c7a1b8a97f79a2d852d8c8647b55b38e
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Apr 11 01:21:07 2017 +0100

    KAFKA-5052; Don't pass underlying internal exception to RetriableCommitFailedException
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2838 from apurvam/KAFKA-5052-dont-send-uderlying-exception-to-retriableoffsetcommitfailed

commit c31958eb0d547b10a388fc63fcc3cbe00dec27f2
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Apr 10 09:16:49 2017 -0700

    HOTFIX: Use a true sentinel for `UseDefaultAcls`
    
    In 67fc2a91a6, we are using an empty collection and comparing via
    value equality, so if a user passes an empty collection, they will
    get the default ACLs instead of no ACLs. We fix that issue here.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram
    
    Closes #2829 from ijuma/zk-utils-default-acls-improvement and squashes the following commits:
    
    0846172 [Ismael Juma] Add missing import
    2dc84f3 [Ismael Juma] Simplify logic in `sensitivePath`
    8122f27 [Ismael Juma] Use a true sentinel instead of an empty collection for `UseDefaultAcls`

commit 82a8e83de622f777a81e9ea0c01d6832f44e7956
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Apr 8 01:03:49 2017 +0100

    MINOR: Fix incorrect pattern matching on `version` in `CheckpointFile`
    
    Also add test and refactor things a little to make testing easier.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ben Stopford <benstopford@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2822 from ijuma/hotfix-checkpoint-file

commit 67fc2a91a6e80bfda30537c7c95cd9ce396d4e7d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Apr 7 11:07:06 2017 -0700

    KAFKA-4943: Make /config/users with SCRAM credentials not world-readable
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma, Jun Rao
    
    Closes #2733 from rajinisivaram/KAFKA-4943

commit 5cf64f06a877a181d12a2ae2390516ba1a572135
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Apr 7 18:29:55 2017 +0100

    MINOR: Log append validation improvements
    
    - Consistent validation across different code paths in LogValidator
    - Validate baseOffset for message format V2
    - Flesh out LogValidatorTest to check producerId, baseSequence, producerEpoch and partitionLeaderEpoch.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2802 from ijuma/validate-base-offset

commit a4c50687f6a5a5a7ea9e523df7c55355441c7ffa
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Apr 7 10:14:06 2017 -0700

    KAFKA-5042: InFlightRequests#isEmpty() always returns false
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #2823 from ijuma/kafka-5042-fix-inflight-requests-is-empty

commit e19bf3f24466cd8dcd6c11f2d7cbc5796600fb88
Author: Eno Thereska <eno@confluent.io>
Date:   Fri Apr 7 13:39:32 2017 +0100

    KAFKA-5040; Increase number of retries from the default of 0
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2819 from enothereska/minor-increase-retries

commit ab148f39ae64ecbaa84f49c38b3cab8a0a0fd846
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Apr 7 12:29:48 2017 +0100

    KAFKA-4899; Fix findbugs warnings in kafka-core
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jozef Koval <jozef.koval@protonmail.ch>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2687 from cmccabe/KAFKA-4899

commit 359a68510801a22630a7af275c9935fb2d4c8dbf
Author: Ben Stopford <benstopford@gmail.com>
Date:   Fri Apr 7 12:11:25 2017 +0100

    MINOR: CollectionUtils.groupDataByTopic in OffsetsForLeaderEpochRequest/Response
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2821 from benstopford/kip-101-cleanup-group-by

commit 865d82af2cc050d10544d70b95468da90c1d800b
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Apr 7 11:22:09 2017 +0100

    KAFKA-4990; Request/response classes for transactions (KIP-98)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2799 from mjsax/kafka-4990-add-api-stub-config-parameters-request-types

commit 2f4f3b957d753debd8d10c98a2c867211064503e
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Apr 6 23:59:16 2017 +0100

    KAFKA-4995; Fix remaining findbugs warnings in Kafka Streams
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2780 from cmccabe/KAFKA-4995

commit 76a10e23f0a3d89e4a0a88854d0ec3926e7f6827
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Apr 6 15:57:21 2017 -0700

    HOTFIX: Remove duplicate entry from ApiVersion
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2818 from ijuma/fix-api-version

commit 0baea2ac13532981f3fea11e5dfc6da5aafaeaa8
Author: Ben Stopford <benstopford@gmail.com>
Date:   Thu Apr 6 14:51:09 2017 -0700

    KIP-101: Alter Replication Protocol to use Leader Epoch rather than High Watermark for Truncation
    
    This PR replaces https://github.com/apache/kafka/pull/2743 (just raising from Confluent repo)
    
    This PR describes the addition of Partition Level Leader Epochs to messages in Kafka as a mechanism for fixing some known issues in the replication protocol. Full details can be found here:
    
    [KIP-101 Reference](https://cwiki.apache.org/confluence/display/KAFKA/KIP-101+-+Alter+Replication+Protocol+to+use+Leader+Epoch+rather+than+High+Watermark+for+Truncation)
    
    *The key elements are*:
    - Epochs are stamped on messages as they enter the leader.
    - Epochs are tracked in both leader and follower in a new checkpoint file.
    - A new API allows followers to retrieve the leader's latest offset for a particular epoch.
    - The logic for truncating the log, when a replica becomes a follower, has been moved from Partition into the ReplicaFetcherThread
    - When partitions are added to the ReplicaFetcherThread they are added in an initialising state. Initialising partitions request leader epochs and then truncate their logs appropriately.
    
    This test provides a good overview of the workflow `EpochDrivenReplicationProtocolAcceptanceTest.shouldFollowLeaderEpochBasicWorkflow()`
    
    The corrupted log use case is covered by the test
    `EpochDrivenReplicationProtocolAcceptanceTest.offsetsShouldNotGoBackwards()`
    
    Remaining work: There is a do list here: https://docs.google.com/document/d/1edmMo70MfHEZH9x38OQfTWsHr7UGTvg-NOxeFhOeRew/edit?usp=sharing
    
    Author: Ben Stopford <benstopford@gmail.com>
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2808 from benstopford/kip-101-v2

commit b611cfa5c0f4941a491781424afd9b699bdb894e
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Apr 6 14:44:40 2017 +0100

    MINOR: Clarify ReadOnlyWindowStore's time range behaviour
    
    Highlight that the range in `fetch` is inclusive of both `timeFrom` and `timeTo`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2811 from dguy/minor-window-fetch-java-doc

commit 6ba98f6e5ad8776b7268441b5392330496565814
Author: Michael G. Noll <michael@confluent.io>
Date:   Thu Apr 6 12:34:19 2017 +0100

    MINOR: Improve topic management instructions for Kafka Streams examples
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Eno Thereska <eno@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2812 from miguno/trunk-streams-examples-docs

commit afeadbef50ee8cb5c23de26c1b2a5ad2c7ad941e
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Apr 6 11:54:53 2017 +0100

    KAFKA-5003; StreamThread should catch InvalidTopicException
    
    We should catch `InvalidTopicException` and not just
    `NoOffsetForPartitionException`. Also, we need to step through
    all partitions that might be affected and reset those.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Bill Bejeck <bbejeck@gmail.com>, Eno Thereska <eno@confluent.io>, Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2747 from mjsax/minor-fix-reset

commit d5fb7364aebf293c621b804a4585eb9ef1001864
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Apr 5 22:17:32 2017 +0100

    KAFKA-4993; Fix findbugs warnings in kafka-clients
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2779 from cmccabe/KAFKA-4993

commit 97e61d4ae2feaf0551e75fa8cdd041f49f42a9a5
Author: Armin Braun <armin.braun@1und1.de>
Date:   Wed Apr 5 11:38:52 2017 +0100

    MINOR: Fix multiple KafkaStreams.StreamStateListener being instantiated
    
    There should only be a single `KafkaStreams.StreamStateListener` to
    ensure synchronization of operations on
    `KafkaStreams.StreamStateListener#threadState`.
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2801 from original-brownbear/fix-stream-state-listener

commit d4c4bcf017a1b770dca71868b97d37ec7327ea00
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Apr 5 11:34:32 2017 +0100

    MINOR: Make ConfigDef safer by not using empty string for NO_DEFAULT_VALUE.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2660 from ewencp/minor-make-configdef-safer

commit 0df910c0345ce7a667aa3276a9fea15851df50f1
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Apr 5 10:42:08 2017 +0100

    MINOR: Fix flaky StateDirectoryTest
    
    This fixes:
    ```
    java.lang.AssertionError: expected:<2> but was:<3>
            at org.junit.Assert.fail(Assert.java:88)
            at org.junit.Assert.failNotEquals(Assert.java:834)
            at org.junit.Assert.assertEquals(Assert.java:645)
            at org.junit.Assert.assertEquals(Assert.java:631)
            at org.apache.kafka.streams.processor.internals.StateDirectoryTest.shouldCleanUpTaskStateDirectoriesThatAreNotCurrentlyLocked(StateDirectoryTest.java:145)
    ```
    
    While running test in infinite loop, hit other problems:
     - fixed file management (release all locks and close everything)
     - increased sleep time for `shouldCleanupStateDirectoriesWhenLastModifiedIsLessThanNowMinusCleanupDelay` too (was flaky as well)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2781 from mjsax/minor-fix-stateDirectoryTest

commit aea14651184476940c69238535de5143e61f4c31
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Apr 5 10:31:06 2017 +0100

    HOTFIX: WindowedStreamPartitioner does not provide topic name to serializer
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2777 from mjsax/hotfix-window-serdes-trunk

commit 49f80b2360ab55274ad28405352596f9d560ec1c
Author: Eno Thereska <eno@confluent.io>
Date:   Tue Apr 4 18:32:58 2017 -0700

    KAFKA-4916: test streams with brokers failing
    
    Several fixes for handling broker failures:
    - default replication value for internal topics is now 3 in test itself (not in streams code, that will require a KIP.
    - streams producer waits for acks from all replicas in test itself (not in streams code, that will require a KIP.
    - backoff time for streams client to try again after a failure to contact controller.
    - fix bug related to state store locks (this helps in multi-threaded scenarios)
    - fix related to catching exceptions property for network errors.
    - system test for all the above
    
    Author: Eno Thereska <eno@confluent.io>
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Dan Norwood <norwood@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2719 from enothereska/KAFKA-4916-broker-bounce-test

commit 9160810072e540a3a037481505aaaa23e3b50546
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Apr 4 15:07:32 2017 -0700

    KAFKA-4837: Fix class name comparison in connector-plugins REST endpoint
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2798 from kkonstantine/KAFKA-4837-Config-validation-in-Connector-plugins-need-to-compare-against-both-canonical-and-simple-class-names

commit 54bf2fb5ff8f1841aea2df2e6fa76f8a05fddfba
Author: Vitaly Pushkar <vitaly.pushkar@gmail.com>
Date:   Tue Apr 4 14:58:45 2017 -0700

    KAFKA-4810: Make Kafka Connect SchemaBuilder more lax about checking that fields are unset
    
    https://issues.apache.org/jira/browse/KAFKA-4810
    
    > Currently SchemaBuilder is strict when checking that certain fields have not been set yet (e.g. version, name, doc). It just checks that the field is null. This is intended to protect the user from buggy code that overwrites a field with different values, but it's a bit too strict currently. In generic code for converting schemas (e.g. Converters) you will sometimes initialize a builder with these values (e.g. because you get a SchemaBuilder for a logical type, which sets name & version), but then have generic code for setting name & version from the source schema.
    
    Changed the validation method to not only check if a field is null but also to check if the new value that is being set is the same as the current value of the field.
    ewencp
    
    Author: Vitaly Pushkar <vitaly.pushkar@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2806 from vitaly-pushkar/KAFKA-4810-schema-builder-default-fields-validation

commit 75e213e55036850abef77e4641af9b9071465f80
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Mon Apr 3 20:07:47 2017 -0700

    KAFKA-4855: Struct SchemaBuilder should not allow duplicate fields
    
    ewencp can you please review.
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2732 from baluchicken/KAFKA-4855

commit f812a8fd93c37cb27db07505dd5f8f29463906a1
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Mon Apr 3 17:57:12 2017 -0700

    KAFKA-4977: Fix findbugs issues in connect/runtime
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2763 from cmccabe/KAFKA-4977

commit ca2979f847ead39b4480f31085c5cf26bb102080
Author: Shun Takebayashi <shun@takebayashi.asia>
Date:   Tue Apr 4 00:16:30 2017 +0100

    MINOR: Suppress ProducerConfig warning in MirrorMaker
    
    Though MirrorMaker uses the `producer.type` value of the
    producer properties, ProducerConfig show the warning:
    `The configuration 'producer.type' was supplied but
    isn't a known config.`
    
    Author: Shun Takebayashi <shun@takebayashi.asia>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2676 from takebayashi/suppress-mirrormaker-warning

commit b9b2cfc28c055745f606ba1a20c5e8e428acefcf
Author: Apurva Mehta <apurva@confluent.io>
Date:   Tue Apr 4 00:13:47 2017 +0100

    MINOR: Close the producer batch append stream when the batch gets full to free up resources
    
    Of particular importance are compression buffers (64 KB for LZ4, for example).
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2796 from apurvam/idempotent-producer-close-data-stream

commit 040fde8ec1f94856799c6bb47fa23a73c20bda66
Author: Armin Braun <me@obrown.io>
Date:   Mon Apr 3 13:09:10 2017 -0700

    KAFKA-4878: Improved Invalid Connect Config Error Message
    
    Addresses for https://issues.apache.org/jira/browse/KAFKA-4878
    
    * Adjusted the error message to explicitly state errors and their number
    * Dried up the logic for generating the message between standalone and distributed
    
    Example
    
    messed up two config keys in the file source config:
    ````
    namse=local-file-source
    connector.class=FileStreamSource
    tasks.max=1
    fisle=test.txt
    topic=connect-test
    ```
    
    Produces:
    
    ```
    [2017-03-22 08:57:11,896] ERROR Stopping after connector error (org.apache.kafka.connect.cli.ConnectStandalone:99)
    java.util.concurrent.ExecutionException: org.apache.kafka.connect.runtime.rest.errors.BadRequestException: Connector configuration is invalid and contains the following 2 error(s):
    Missing required configuration "file" which has no default value.
    Missing required configuration "name" which has no default value.
    You can also find the above list of errors at the endpoint `/{connectorType}/config/validate`
    ```
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Gwen Shapira, Konstantine Karantasis, Ewen Cheslack-Postava
    
    Closes #2722 from original-brownbear/KAFKA-4878

commit 800d29648bc370643d6dd1ead861792d7585c843
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Apr 3 09:54:16 2017 -0700

    MINOR: fix cleanup phase for KStreamWindowAggregateTest
    
    fixes:
    ```
    java.nio.file.NoSuchFileException: /tmp/test7863510415433793941/topic2-Canonized/topic2-Canonized-197001010000/000015.sst
            at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
            at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
            at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
            at sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(UnixFileAttributeViews.java:55)
            at sun.nio.fs.UnixFileSystemProvider.readAttributes(UnixFileSystemProvider.java:144)
            at sun.nio.fs.LinuxFileSystemProvider.readAttributes(LinuxFileSystemProvider.java:97)
            at java.nio.file.Files.readAttributes(Files.java:1686)
            at java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:105)
            at java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:199)
            at java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:199)
            at java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:199)
            at java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:69)
            at java.nio.file.Files.walkFileTree(Files.java:2602)
            at java.nio.file.Files.walkFileTree(Files.java:2635)
            at org.apache.kafka.common.utils.Utils.delete(Utils.java:555)
            at org.apache.kafka.streams.kstream.internals.KStreamWindowAggregateTest.testJoin(KStreamWindowAggregateTest.java:320)
    ```
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Damian Guy <damian.guy@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2778 from mjsax/minor-fix-kstreamWindowAggregateTest

commit f54b61909d525547d65123c02bbd36d92ccee5da
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Apr 3 09:40:38 2017 -0700

    HOTFIX: Set `baseOffset` correctly in `RecordAccumulator`
    
    The bug meant that the base offset was the same as the batch size instead of 0 so the broker would always recompress batches.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2794 from ijuma/fix-records-builder-construction

commit 1ba8b40b3421ad0d23787ba9a1a4b635d8f11d91
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Apr 3 12:57:34 2017 +0100

    MINOR: Fix potential deadlock in consumer close test
    
    Fixes deadlock scenario found during local test run:
    The main thread was waiting for the coordinator lock.
    The thread performing close() was holding the
    coordinator lock and polling to find coordinator.
    The test expected close() to timeout, but for timing
    out, the main thread had to update time, which it
    couldn't since it was waiting for the lock. This fix
    avoids using coordinator in the main thread during
    the close task.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2792 from rajinisivaram/MINOR-closetest-deadlock

commit 3364f12bc240e3fefa6a467519ef608fa768917c
Author: Armin Braun <me@obrown.io>
Date:   Mon Apr 3 12:50:51 2017 +0100

    MINOR: Fix deadlock between StreamThread and KafkaStreams
    
    This may be a reason why we see Jenkins jobs time out at times.
    I can reproduce it locally.
    
    With current trunk there is a possibility to run into this:
    
    ```sh
    "kafka-streams-close-thread" #585 daemon prio=5 os_prio=0 tid=0x00007f66d052d800 nid=0x7e02 waiting for monitor entry [0x00007f66ae2e5000]
       java.lang.Thread.State: BLOCKED (on object monitor)
            at org.apache.kafka.streams.processor.internals.StreamThread.close(StreamThread.java:345)
            - waiting to lock <0x000000077d33c538> (a org.apache.kafka.streams.processor.internals.StreamThread)
            at org.apache.kafka.streams.KafkaStreams$1.run(KafkaStreams.java:474)
            at java.lang.Thread.run(Thread.java:745)
    
    "appId-bd262a91-5155-4a35-bc46-c6432552c2c5-StreamThread-97" #583 prio=5 os_prio=0 tid=0x00007f66d052f000 nid=0x7e01 waiting for monitor entry [0x00007f66ae4e6000]
       java.lang.Thread.State: BLOCKED (on object monitor)
            at org.apache.kafka.streams.KafkaStreams.setState(KafkaStreams.java:219)
            - waiting to lock <0x000000077d335760> (a org.apache.kafka.streams.KafkaStreams)
            at org.apache.kafka.streams.KafkaStreams.access$100(KafkaStreams.java:117)
            at org.apache.kafka.streams.KafkaStreams$StreamStateListener.onChange(KafkaStreams.java:259)
            - locked <0x000000077d42f138> (a org.apache.kafka.streams.KafkaStreams$StreamStateListener)
            at org.apache.kafka.streams.processor.internals.StreamThread.setState(StreamThread.java:168)
            - locked <0x000000077d33c538> (a org.apache.kafka.streams.processor.internals.StreamThread)
            at org.apache.kafka.streams.processor.internals.StreamThread.setStateWhenNotInPendingShutdown(StreamThread.java:176)
            - locked <0x000000077d33c538> (a org.apache.kafka.streams.processor.internals.StreamThread)
            at org.apache.kafka.streams.processor.internals.StreamThread.access$1600(StreamThread.java:70)
            at org.apache.kafka.streams.processor.internals.StreamThread$RebalanceListener.onPartitionsRevoked(StreamThread.java:1321)
            at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.onJoinPrepare(ConsumerCoordinator.java:406)
            at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:349)
            at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:310)
            at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:296)
            at org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1037)
            at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1002)
            at org.apache.kafka.streams.processor.internals.StreamThread.pollRequests(StreamThread.java:531)
            at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:669)
            at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:326)
    
    ```
    
    In a nutshell: `KafkaStreams` and `StreamThread` are both
    waiting for each other since another intermittent `close`
    (eg. from a test) comes along also trying to lock on
    `KafkaStreams` :
    
    ```sh
    "main" #1 prio=5 os_prio=0 tid=0x00007f66d000c800 nid=0x78bb in Object.wait() [0x00007f66d7a15000]
       java.lang.Thread.State: WAITING (on object monitor)
            at java.lang.Object.wait(Native Method)
            at java.lang.Thread.join(Thread.java:1249)
            - locked <0x000000077d45a590> (a java.lang.Thread)
            at org.apache.kafka.streams.KafkaStreams.close(KafkaStreams.java:503)
            - locked <0x000000077d335760> (a org.apache.kafka.streams.KafkaStreams)
            at org.apache.kafka.streams.KafkaStreams.close(KafkaStreams.java:447)
            at org.apache.kafka.streams.KafkaStreamsTest.testCannotStartOnceClosed(KafkaStreamsTest.java:115)
    ```
    
    => causing a deadlock.
    
    Fixed this by softer locking on the state change, that guarantees
    atomic changes to the state but does not lock on the whole object
    (I at least could not find another method that would require more
    than atomicly-locked access except for `setState`).
    
    Also qualified the state listeners with their outer-class to make
    the whole code-flow around this more readable (having two
    interfaces with the same naming for interface and method and then
    using them between their two outer classes is crazy hard to read
    imo :)).
    
    Easy to reproduced yourself by running
    `org.apache.kafka.streams.KafkaStreamsTest` in a loop for a bit
    (save yourself some time by running 2-4 in parallel :)). Eventually
    it will lock on one of the tests (for me this takes less than 1 min
    with 4 parallel runs).
    
    Author: Armin Braun <me@obrown.io>
    Author: Armin <me@obrown.io>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2791 from original-brownbear/fix-streams-deadlock

commit bdf4cba047334943aa8357585c4fb379b27e9ffd
Author: Apurva Mehta <apurva@confluent.io>
Date:   Sun Apr 2 19:41:44 2017 -0700

    KAFKA-4817; Add idempotent producer semantics
    
    This is from the KIP-98 proposal.
    
    The main points of discussion surround the correctness logic, particularly the Log class where incoming entries are validated and duplicates are dropped, and also the producer error handling to ensure that the semantics are sound from the users point of view.
    
    There is some subtlety in the idempotent producer semantics. This patch only guarantees idempotent production upto the point where an error has to be returned to the user. Once we hit a such a non-recoverable error, we can no longer guarantee message ordering nor idempotence without additional logic at the application level.
    
    In particular, if an application wants guaranteed message order without duplicates, then it needs to do the following in the error callback:
    
    1. Close the producer so that no queued batches are sent. This is important for guaranteeing ordering.
    2. Read the tail of the log to inspect the last message committed. This is important for avoiding duplicates.
    
    Author: Apurva Mehta <apurva@confluent.io>
    Author: hachikuji <jason@confluent.io>
    Author: Apurva Mehta <apurva.1618@gmail.com>
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: fpj <fpj@apache.org>
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2735 from apurvam/exactly-once-idempotent-producer

commit 1ce6aa550324f74c41fc404ce9f4a9e51f7c862e
Author: shuguo zheng <zheng.shuguo@zte.com.cn>
Date:   Fri Mar 31 11:06:41 2017 +0100

    KAFKA-4964; Use correct keystore/trustore name in documentation
    
    Author: shuguo zheng <zheng.shuguo@zte.com.cn>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2749 from zhengsg/local

commit 5f88cf79fb51996e77614aafdfbb15e4989e159b
Author: Eno Thereska <eno@confluent.io>
Date:   Thu Mar 30 15:58:24 2017 -0700

    MINOR: Increase max.poll time for streams consumers
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #2770 from enothereska/minor-increase-max-poll

commit 93d451ceeb00a150bbbdae3f0601620b902b7c87
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Mar 30 23:52:03 2017 +0100

    KAFKA-4689; Disable system tests for consumer hard failures
    
    See the JIRA for the full details. Essentially the test assertions depend on receiving reliable events from the consumer processes, but this is not generally possible in the presence of a hard failure (i.e. `kill -9`). Until we solve this problem, the hard failure scenarios will be turned off.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2771 from hachikuji/KAFKA-4689

commit 15e0234a5f4976facd4cfe61b91cfcdec6f6083c
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu Mar 30 15:44:56 2017 -0700

    KAFKA-4791: unable to add state store with regex matched topics
    
    Fix for adding state stores with regex defined sources
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Matthias J. Sax, Damian Guy, Guozhang Wang
    
    Closes #2618 from bbejeck/KAFKA-4791_unable_to_add_statestore_regex_topics

commit 4e92fd5f7411da155aeec166901f5f6f89ca7ba2
Author: Magnus Edenhill <magnus@edenhill.se>
Date:   Thu Mar 30 14:40:54 2017 -0700

    MINOR: Vagrant provisioning fixes
    
    Author: Magnus Edenhill <magnus@edenhill.se>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2767 from edenhill/harden_provision

commit dd71e4a8d830c9de40b5ec3f987f60a1d2f26b39
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Mar 30 22:39:28 2017 +0100

    MINOR: Ensure streaming iterator is closed by Fetcher
    
    Author: Jason Gustafson <jason@confluent.io>
    Author: Ismael Juma <github@juma.me.uk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2762 from hachikuji/ensure-decompression-stream-closed

commit f9772d5fb26b0a375729a88db5e7ee199f85c8b3
Author: Eno Thereska <eno@confluent.io>
Date:   Thu Mar 30 13:47:11 2017 -0700

    MINOR: reduce amount of verbose printing
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2764 from enothereska/minor-remove-verboseprint

commit 92b7d7570027cdc4e069862472ce6ec6b3dad04a
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Mar 30 13:30:10 2017 -0700

    KAFKA-4980: testReprocessingFromScratch unit test failure
    
    We got test error `org.apache.kafka.common.errors.TopicExistsException: Topic 'inputTopic' already exists.` in some builds. Can reproduce reliably at local machine. Root cause it async "topic delete" that might not be finished before topic gets re-created.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Damian Guy, Guozhang Wang
    
    Closes #2757 from mjsax/minor-fix-resetintegrationtest

commit 2e075fe6a47221b24abc49c25a4a69a447362eeb
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Mar 30 11:24:01 2017 -0700

    MINOR: Update possible errors in OffsetFetchResponse
    
    Note: None of the use cases for offset fetch would lead to a `TOPIC_AUTHORIZATION_FAILED` error (fetching offset of an unauthorized partition would return an `UNKNOWN_TOPIC_OR_PARTITION` error). That is why it is being removed from the `PARTITION_ERRORS` list.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2653 from vahidhashemian/minor/update_possible_errors_in_offset_fetch_response

commit 4b3ea062be515bc173f6c788c4c1e14f77935aef
Author: Dong Lin <lindong28@gmail.com>
Date:   Thu Mar 30 10:50:38 2017 -0700

    KAFKA-4973; Fix transient failure of AdminClientTest.testDeleteRecordsWithException
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2760 from lindong28/KAFKA-4973

commit a3e13776e6c0889131ddfdaa8b10cd2ef2498603
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Mar 30 13:52:22 2017 +0100

    MINOR: Fix typos in javadoc and code comments
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2595 from vahidhashemian/minor/fix_typos_1702

commit 81721f8c535d9b32c518bb8f74611ead50826d4c
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Thu Mar 30 13:50:46 2017 +0100

    MINOR: Doc change related to ZK sasl configs
    
    Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2620 from omkreddy/MINOR-ZK-CHANGE

commit d345d53e4e5e4f74707e2521aa635b93ba3f1e7b
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Mar 30 13:34:52 2017 +0100

    KAFKA-4902; Utils#delete should correctly handle I/O errors and symlinks
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2691 from cmccabe/KAFKA-4902

commit 43fb2df7a4b2bc7637dcba9436a5435cdcb4fb27
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Thu Mar 30 13:17:09 2017 +0100

    MINOR: Map `mkString` format updated to default java format
    
    This is a minor change but it helps to improve the log readability.
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2709 from Kamal15/util

commit c808e8955f23c551c86ec0f51683c88486ad394e
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Thu Mar 30 12:33:59 2017 +0100

    MINOR: FetchRequest.Builder maxBytes for version <3
    
    The maxBytes field should be set to DEFAULT_RESPONSE_MAX_BYTES,
    the same way as the constructor using the Struct does.
    
    codeveloped with mimaison
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2694 from edoardocomar/MINOR-FetchRequest

commit 84a14fec299749a208251bce1a0eb9c1a8241d08
Author: Eno Thereska <eno@confluent.io>
Date:   Wed Mar 29 15:00:26 2017 -0700

    KAFKA-4843: More efficient round-robin scheduler
    
    - Improves streams efficiency by more than 200K requests/second (small 100 byte requests)
    - Gets streams efficiency very close to pure consumer (see results in https://jenkins.confluent.io/job/system-test-kafka-branch-builder/746/console)
    
    - Maintains same fairness across tasks
    - Schedules all records in the queue in-between poll() calls, not just one per task.
    
    Author: Eno Thereska <eno@confluent.io>
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #2643 from enothereska/minor-schedule-round-robin

commit 6feaa8a581daaa76ff7c85e4a0b9c9aa4284fe99
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 29 11:10:43 2017 -0700

    KAFKA-1449; Use CRC32C for checksum of V2 message format
    
    I manually tested that Crc32CTest and AbstractChecksums pass with JDK 9. I also verified that `Java9ChecksumFactory` is used in that case.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2739 from ijuma/kafka-1449-crc32c

commit aea5989d988cd1b46c95409989a7c12c7cf52b5f
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Mar 29 16:26:29 2017 +0100

    KAFKA-4944; Fix an "unread field" findbugs warning in streams examples
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2727 from cmccabe/KAFKA-4944

commit 7adf1e4148a1b709f9bc754b08129c390e725cdf
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Mar 29 16:22:39 2017 +0100

    KAFKA-4945; Suppress findbugs warnings about machine-generated code in jmh-benchmarks
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2729 from cmccabe/KAFKA-4945

commit 42284960dab4724445a4a3a7831b3b48f0ddcb48
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Mar 29 16:07:15 2017 +0100

    KAFKA-4903; Remove dead code in Shell
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2692 from cmccabe/KAFKA-4903

commit 4ce65d65dff3e185bdfd387b6fd4b730e69adec4
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 29 02:30:30 2017 +0100

    KAFKA-4574; Ignore test_zk_security_upgrade until KIP-101 lands
    
    The transient failures make it harder to spot real failures and we can live without what is being tested (adding security to ZK via a rolling upgrade) until KIP-101 lands.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #2742 from ijuma/disable-zk-upgrade-test

commit a0b8e435c9419a9402d08408260bea0c1d95cff0
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Mar 28 17:47:10 2017 -0700

    MINOR: Support streaming decompression of fetched records for new format
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2738 from hachikuji/streaming-compressed-iterator

commit edb372dcaf34312b5c1c91c4df5e5ff87586e73b
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue Mar 28 23:20:20 2017 +0100

    KAFKA-4959; Remove controller concurrent access to non-threadsafe NetworkClient, Selector, and SSLEngine
    
    This brought down a cluster by causing continuous controller moves.
    
    ZkClient's ZkEventThread and a RequestSendThread can concurrently use objects that aren't thread-safe:
    * Selector
    * NetworkClient
    * SSLEngine (this was the big one for us. We turn on SSL for interbroker communication).
    
    As per the "Concurrency Notes" section from https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/SSLEngine.html:
    > two threads must not attempt to call the same method (either wrap() or unwrap()) concurrently
    
    SSLEngine.wrap gets called in:
    * SslTransportLayer.write
    * SslTransportLayer.handshake
    * SslTransportLayer.close
    
    It turns out that the ZkEventThread and RequestSendThread can concurrently call SSLEngine.wrap:
    * ZkEventThread calls SslTransportLayer.close from ControllerChannelManager.removeExistingBroker
    * RequestSendThread can call SslTransportLayer.write or SslTransportLayer.handshake from NetworkClient.poll
    
    Suppose the controller moves for whatever reason. The former controller could have had a RequestSendThread who
    was in the middle of sending out messages to the cluster while the ZkEventThread began executing
    KafkaController.onControllerResignation, which calls ControllerChannelManager.shutdown, which sequentially cleans
    up the controller-to-broker queue and connection for every broker in the cluster. This cleanup includes the call
    to ControllerChannelManager.removeExistingBroker as mentioned earlier, causing the concurrent call to SSLEngine.wrap.
    This concurrent call throws a BufferOverflowException which ControllerChannelManager.removeExistingBroker catches so
    the ControllerChannelManager.shutdown moves onto cleaning up the next controller-to-broker queue and connection,
    skipping the cleanup steps such as clearing the queue, stopping the RequestSendThread, and removing the entry from its
    brokerStateInfo map.
    
    By failing out of the Selector.close, the sensors corresponding to the broker connection has not been cleaned up. Any
    later attempt at initializing an identical Selector will result in a sensor collision and therefore cause Selector
    initialization to throw an exception. In other words, any later attempts by this broker to become controller again
    will fail on initialization. When controller initialization fails, the controller deletes the /controller znode and
    lets another broker take over.
    
    Now suppose the controller moves enough times such that every broker hits the BufferOverflowException concurrency
    issue. We're now guaranteed to fail controller initialization due to the sensor collision on every controller
    transition, so the controller will move across brokers continuously.
    
    This patch avoids the concurrent use of non-threadsafe classes in ControllerChannelManager.removeExistingBroker
    by shutting down the RequestSendThread before closing the NetworkClient.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2746 from onurkaraman/KAFKA-4959

commit 23a0f0986319cc0061a0ea149f23f5b5d696d1c1
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Mar 28 12:16:32 2017 -0700

    Minor: Remove the accidentally checked in file which broke checkStyle.

commit 8b05ad406d4cba6a75d1683b6d8699c3ab28f9d6
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Mar 28 09:59:44 2017 -0700

    KAFKA-4586; Add purgeDataBefore() API (KIP-107)
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2476 from lindong28/KAFKA-4586

commit f3f9a9eafb9aee9d87dd188521a4fd72466abfeb
Author: Armin Braun <me@obrown.io>
Date:   Mon Mar 27 16:01:15 2017 -0700

    KAFKA-4569; Check for wakeup on every call to KafkaConsumer.poll
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2699 from original-brownbear/KAFKA-4569

commit 1abed91bd2915226cf6320395e1a5877ea0705d7
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Mar 27 10:30:38 2017 -0700

    KAFKA-4881: add internal leave.group.on.close config to consumer
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #2650 from dguy/consumer-leave-group-config

commit d27e09e60c53520bd24872f8b7dbfee87b523d04
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Mar 27 09:28:46 2017 -0700

    MINOR: Use method handles instead of reflection for creating Snappy and LZ4 streams
    
    1. Use Initialization-on-demand holder idiom that relies on JVM lazy-loading instead of explicit initialization check.
    2. Method handles were designed to be faster than Core Reflection, particularly if the method handle can be stored in a static final field (the JVM can then optimise the call as if it was a regular method call). Since the code is of similar complexity (and simpler if we consider the whole PR), I am treating this as a clean-up instead of a performance improvement (which would require doing benchmarks).
    3. Remove unused `ByteBufferReceive`.
    4. I removed the snappy library from the classpath and verified that `CompressionTypeTest` (which uses LZ4) still passes. This shows that the right level of laziness is achieved even if we use one of the lazily loaded compression algorithms.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2740 from ijuma/use-method-handles-for-compressed-stream-supplier

commit d348ac92c80b6426864e3ed68b89bad341b3bda5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Mar 25 14:03:40 2017 -0700

    MINOR: Fix deserialization of abortedTransactions and lastStableOffset in FetchResponse
    
    Thanks to Dong Lin for finding the lastStableOffset issue.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2737 from ijuma/fix-fetch-response-lso

commit 462767660baf49fb63550e60cd9a418705831715
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Mar 24 19:42:55 2017 -0700

    HOTFIX: Fix unsafe dependence on class name in VerifiableClientJava
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2736 from hachikuji/hotfix-verifiable-clients

commit 5bd06f1d542e6b588a1d402d059bc24690017d32
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Mar 24 19:38:36 2017 +0000

    KAFKA-4816; Message format changes for idempotent/transactional producer (KIP-98)
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Apurva Mehta <apurva@confluent.io>, Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2614 from hachikuji/exactly-once-message-format

commit f615c9e9d2c59542665edd95cd7152f17e61f026
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Mar 23 10:04:58 2017 -0700

    MINOR: only log first exception in RecordCollectorImpl producer callback
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2726 from dguy/producer-send-exception

commit 2269eed242d9ccd4cc3e9ae3211d01f166f6e234
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Mar 23 09:47:45 2017 -0700

    KAFKA-4919: Document that stores must not be closed when Processors are closed
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll, Eno Thereska, Matthias J. Sax, Elias Levy, Guozhang Wang
    
    Closes #2725 from dguy/minor-processor-java-doc

commit 95ef40dd31b6b0ee403413184ef974c6c051ddeb
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Mar 22 23:06:26 2017 -0700

    MINOR: Adding example to SMT documentation
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2721 from gwenshap/improve_smt_docs

commit 57278aa82da5dc9d040eb3dcf4a182e0731a621b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Mar 22 14:33:34 2017 -0700

    MINOR: Improvements on Streams log4j
    
    1. add thread id as prefix in state directory classes; also added logs for lock activities.
    2. add logging for task creation / suspension.
    3. add more information in rebalance listener logging.
    4. add restored number of records into changlog reader.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska, Damian Guy, Ewen Cheslack-Postava
    
    Closes #2702 from guozhangwang/KMinor-streams-task-creation-log4j-improvements

commit 763ea5aad191b09ed3deefaa12ce7b9925ebe7dc
Author: Bruce Szalwinski <bruce.szalwinski@cdk.com>
Date:   Wed Mar 22 16:02:09 2017 -0500

    KAFKA-4929: Transformation Key/Value type references should be to class name(), not canonicalName()
    
    Changing getCanonicalName() references to getName() so that docs update with "$" instead of ".".  Also added a connect-plugin-discovery.sh CLI to list all of the transformations available.
    
    Author: Bruce Szalwinski <bruce.szalwinski@cdk.com>
    
    Reviewers: Gwen Shapira
    
    Closes #2720 from bruce-szalwinski/transforms and squashes the following commits:
    
    ec3b5b9 [Bruce Szalwinski] remove connect-plugin-discovery.  will submit in a different PR
    eba0af7 [Bruce Szalwinski] Key / Value transformations are static nested classes and so are referenced using OuterClass$Key and OuterClass$Value.

commit 666beecec83db755335eac9cef2433d0b4870a05
Author: Michael G. Noll <michael@confluent.io>
Date:   Wed Mar 22 12:23:07 2017 -0700

    MINOR: MyProcessor doc example should implement, not extend `Processor`
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2723 from miguno/trunk-streams-docs-typo-fix

commit d5cec01f2aeb37823d1a158683da0809a0c54818
Author: Magnus Edenhill <magnus@edenhill.se>
Date:   Tue Mar 21 22:24:17 2017 -0700

    MINOR: Pluggable verifiable clients
    
    This adds support for pluggable VerifiableConsumer and VerifiableProducers test client implementations
    allowing third-party clients to be used in-place of the Java client in kafkatests.
    
    A new VerifiableClientMixin class is added and the standard Java Verifiable{Producer,Consumer}
    classes have been changed to use it.
    
    While third-party client drivers may be implemented with a complete class based on the Mixin, a simpler
    alternative which requries no kafkatest class implementation is available through the VerifiableClientApp class that uses ducktape's global param to specify the client app to use (passed to ducktape through the `--globals <json>` command line argument).
    
    Some existing kafkatest clients for reference:
    Go: https://github.com/confluentinc/confluent-kafka-go/tree/master/kafkatest
    Python: https://github.com/confluentinc/confluent-kafka-python/tree/master/confluent_kafka/kafkatest
    C++: https://github.com/edenhill/librdkafka/blob/0.9.2.x/examples/kafkatest_verifiable_client.cpp
    C#/.NET: https://github.com/confluentinc/confluent-kafka-dotnet/tree/master/test/Confluent.Kafka.VerifiableClient
    
    This PR also contains documentation for the simplex JSON-based verifiable\* client protocol.
    
    There are also some minor improvements that makes troubleshooting failing client tests easier.
    
    Author: Magnus Edenhill <magnus@edenhill.se>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2048 from edenhill/pluggable_verifiable_clients

commit 83824089f2371d6375c2713d494f276aec27c1a1
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Mar 21 19:18:41 2017 -0700

    MINOR: improve hanging ResetIntegrationTest
    
    Sometimes `ResetIntegrationTest` hangs and thus the build times out. We suspect, that this happens if no data is written into the input topics. Right now, input data is written once and reused for both test cases. If for some reason, the broker gets recreated (between both test cases), no data will be available for the second test method and thus the test hangs.
    
    This change ensures, that input data is written for each test case individually.
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Eno Thereska, Guozhang Wang
    
    Closes #2630 from mjsax/minor-reset-integration-test

commit b3beaebd4481dc94a36949dbb87e02c28272adb0
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Mar 21 19:13:57 2017 -0700

    MINOR: log start and end offsets for state store restoration
    
    Debug loggin of the start and end offsets used during state store restoration
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2718 from dguy/log-restore-offsets

commit a7e3679d22504b0808e970ac9c481a3ee62f9243
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Mar 21 16:48:26 2017 -0700

    KAFKA-4924: Fix Kafka Connect API findbugs warnings
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2715 from cmccabe/KAFKA-4924

commit 6f7780cf127c8f4bb0edabaa5cb228fc566681f2
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Mar 21 16:21:28 2017 -0700

    MINOR: updated incorrect JavaDocs for joins
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2670 from mjsax/fixJavaDocsRepartitioning

commit c2653754d9dbc232ae5f2052993611b26ed62693
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Mar 21 16:17:17 2017 -0700

    MINOR: remove unused log field from KStreamTransformValuesProcessor
    
    remove unused log field from KStreamTransformValuesProcessor
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2717 from dguy/remove-unused-log-para

commit c74eec96c5e8828a88df67f6eb21d2369b340a22
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Mar 21 16:11:50 2017 -0700

    KAFKA-4863 Follow-up: Querying window store may return unwanted keys
    
    iterate over all keys returned from the rocksdb iterator so we don't miss any results
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Xavier Léauté, Guozhang Wang
    
    Closes #2713 from dguy/window-iter

commit fef7fca2af7fd00bc6b0889062da3f8b56b2224e
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Mar 21 09:55:46 2017 +0000

    KAFKA-4594; Annotate integration tests and provide gradle build targets to run subsets of tests
    
    This uses JUnit Categories to identify integration tests. Adds 2 new build targets:
    `integrationTest` and `unitTest`.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska <eno@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2695 from dguy/junit-categories

commit 05690f0c851007fb60ebd96c43c1141bddd510c1
Author: Ryan P <ryan.n.pridgeon@gmail.com>
Date:   Tue Mar 21 09:52:16 2017 +0000

    MINOR: Fix zookeeper-security-migration documentation example
    
    Incorrect option in example
    
    https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/admin/ZkSecurityMigrator.scala#L71
    
    Author: Ryan P <ryan.n.pridgeon@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2714 from rnpridgeon/patch-1

commit 197a5d5a6d160e9f3f1642caf85bad968a35f109
Author: Sachin Mittal <sjmittal@gmail.com>
Date:   Mon Mar 20 21:56:15 2017 -0700

    KAFKA-4848: Fix retryWithBackoff deadlock issue
    
    Fixes related to handling of MAX_POLL_INTERVAL_MS_CONFIG during deadlock and CommitFailedException on partition revoked.
    
    Author: Sachin Mittal <sjmittal@gmail.com>
    
    Reviewers: Matthias J. Sax, Damian Guy, Guozhang Wang
    
    Closes #2642 from sjmittal/trunk

commit 5a2fcdd6d480e9f003cc49a59d5952ba4c515a71
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Mon Mar 20 13:52:35 2017 -0700

    KAFKA-4894; Fix findbugs "default character set in use" warnings
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2683 from cmccabe/KAFKA-4894

commit 783900c259511f86f5af03cbd96f2e74833447b9
Author: Michael G. Noll <michael@confluent.io>
Date:   Fri Mar 17 15:18:06 2017 -0700

    MINOR: Guard against NPE when throwing StreamsException on serializer mismatch
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2696 from miguno/trunk-sinknode-NPE

commit 9e787716b013595851b4a6c1ddf8b8af1ec0f42e
Author: Nikki Thean <nthean@etsy.com>
Date:   Fri Mar 17 12:03:02 2017 -0700

    KAFKA-4607: Validate the names of auto-generated internal topics
    
    I considered catching errors to add further information about naming internal state stores. However, Topic.validate() will throw an error that prints the offending name, so I decided not to add too much complexity.
    
    Author: Nikki Thean <nthean@etsy.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang, Eno Thereska, Damian Guy, Ismael Juma
    
    Closes #2331 from nixsticks/internal-topics

commit ec8feb766f0fc560200a326941632033600c141e
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Mar 17 13:59:35 2017 +0000

    KAFKA-4895; Fix findbugs "format string should use %n rather than \n" in tools
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2684 from cmccabe/KAFKA-4895

commit 01768e3321cfce19bf558ad0fe7bf6ca84ada8f6
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Fri Mar 17 13:49:19 2017 +0000

    MINOR: Fix non-null check in the constructor of ListenerName
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2700 from Kamal15/precondition

commit 6b11fb7af81390789ba449c0cd5daa81c8ee9cb5
Author: Ben Stopford <benstopford@gmail.com>
Date:   Fri Mar 17 12:39:53 2017 +0000

    MINOR: Increase Throttle lower bound assertion in throttling_test
    
    Improves the reliability of this test by decreasing the lower bound (this is to be expected as throttling  takes the first fetch to stabilise and will "over-fetch" for this first request)
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2698 from benstopford/throttling-test-fix

commit c5adf17aeae763d9e8a4e802d988a464fef5d5e8
Author: Eno Thereska <eno@confluent.io>
Date:   Fri Mar 17 09:57:03 2017 +0000

    MINOR: Log error if offsets topic creation fails
    
    This problem is hard to debug otherwise as there error
    returned to the client (“Coordinator not available”) is not
    very informative.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2652 from enothereska/minor-warning-enforcement-offset

commit cfda0368dbb7ddd014780e1ed1dedcae2778f403
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 16 22:36:06 2017 -0700

    KAFKA-4859: Set shorter commit interval for integration tests with caching
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Armin Braun, Damian Guy, Jason Gustafson
    
    Closes #2682 from guozhangwang/K4859-cache-commit-interval

commit b8fe2bb56c25715de1602c1f00ab720af085f2e5
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 16 22:33:50 2017 -0700

    KAFKA-4885: Add client.close as exception handler in streams system tests
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska, Damian Guy, Jason Gustafson
    
    Closes #2693 from guozhangwang/K4885-system-test-unexpected-exception-handler

commit 1659ca1773596b5889fe8b2f163196f7b32ea70a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Mar 16 09:13:58 2017 -0700

    KAFKA-4901; Make ProduceRequest thread-safe
    
    If request logging is enabled, `ProduceRequest` can be accessed
    and mutated concurrently from a network thread (which calls
    `toString`) and a request handler thread (which calls
    `clearPartitionRecords()`).
    
    That can lead to a `ConcurrentModificationException` when iterating
    the `partitionRecords` map.
    
    The underlying thread-safety issue has existed since the server
    started using the Java implementation of ProduceRequest in 0.10.0.
    However, we were incorrectly not clearing the underlying struct until
    0.10.2, so `toString` itself was thread-safe until that change. In 0.10.2,
    `toString` is no longer thread-safe and we could potentially see a
    `NullPointerException` given the right set of interleavings between
    `toString` and `clearPartitionRecords` although we haven't seen that
    happen yet.
    
    In trunk, we changed the requests to have a `toStruct` method
    instead of creating a struct in the constructor and `toString` was
    no longer printing the contents of the `Struct`. This accidentally
    fixed the race condition, but it meant that request logging was less
    useful.
    
    A couple of days ago, `AbstractRequest.toString` was changed to
    print the contents of the request by calling `toStruct().toString()`
    and reintroduced the race condition. The impact is more visible
    because we iterate over a `HashMap`, which proactively
    checks for concurrent modification (unlike arrays).
    
    We will need a separate PR for 0.10.2.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Onur Karaman <okaraman@linkedin.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2689 from ijuma/produce-request-thread-safety

commit be11272818a06eea157ab7f6eee8905855f1cede
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Mar 15 11:50:57 2017 -0700

    MINOR: Fix a documentation typo
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #2674 from vahidhashemian/minor/fix_typos_1703

commit b9f812491f5eb06ffe5b68f5e53df4302d2f68a8
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Mar 15 10:46:57 2017 -0700

    MINOR: Improve log4j on stream thread and stream process
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Eno Thereska <eno@confluent.io>, Damian Guy <damian.guy@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2685 from guozhangwang/KMinor-improve-log4j

commit 962c378cc6cdb178541155af419c24e463516a5d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 15 14:46:17 2017 +0000

    HOTFIX: Fix header in ByteArrayConverter
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Closes #2690 from ijuma/fix-header-in-byte-array-converter

commit 52a15d7c0b88da11409954321463b8b57b133a23
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Mar 14 17:20:49 2017 -0700

    KAFKA-4783: Add ByteArrayConverter (KIP-128)
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2599 from ewencp/kafka-4783-byte-array-converter

commit 9e4548df30d50a56ae99cb3383f1a3f97bbe77bb
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Mar 14 14:21:03 2017 -0700

    KAFKA-4863; Querying window store may return unwanted keys
    
    Make sure that the iterator returned from `WindowStore.fetch(..)` only returns matching keys, rather than all keys that are a prefix match.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2662 from dguy/kafka-4863

commit d3b8ff02437e735801e36cc4970b794344400058
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Mar 13 13:47:17 2017 -0700

    HOTFIX: Fix apache headers in float serde class files
    
    hachikuji
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2679 from guozhangwang/KHotfix-serde-headers

commit 2a9c18a87d4374d03f8a07b37a4e66d74325f1c2
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Mon Mar 13 13:00:53 2017 -0700

    KAFKA-4891; kafka.request.logger TRACE regression
    
    Both the headers and requests have regressed to just show object ids instead of their contents from their underlying structs. I'm guessing this regression came from commit [fc1cfe475e8ae8458d8ddf119ce18d0c64653a70](https://github.com/apache/kafka/commit/fc1cfe475e8ae8458d8ddf119ce18d0c64653a70)
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2678 from onurkaraman/KAFKA-4891

commit 85e7a0a2b0d56891c13c15fc88a3011877f9c9e9
Author: Andrey Dyachkov <andrey.dyachkov@zalando.de>
Date:   Mon Mar 13 12:05:47 2017 -0700

    KAFKA-4657: Improve test coverage of CompositeReadOnlyWindowStore
    
    This commmit brings improved test coverage for window store fetch method
    and WindowStoreIterator
    
    Author: Andrey Dyachkov <andrey.dyachkov@zalando.de>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2672 from adyach/trunk

commit cd69daa4150631e9cea4e299c5ea08e12359118d
Author: Michael G. Noll <michael@confluent.io>
Date:   Mon Mar 13 11:49:49 2017 -0700

    KAFKA-4769: Add Float serializer, deserializer, serde
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Dongjin Lee, Eno Thereska, Damian Guy, Colin P. McCabe, Matthas J. Sax, Guozhang Wang
    
    Closes #2554 from miguno/KAFKA-4769

commit 046519d0714591785cd984ab2d57e193b54a2f19
Author: Aaron Coburn <acoburn@amherst.edu>
Date:   Fri Mar 10 16:48:48 2017 -0800

    MINOR: incorrect javadoc formatting
    
    When wrapped in a `{code ...}` block, `&lt;&gt;` are not formatted as `<>`.
    
    For instance, see the formatting of the example in https://kafka.apache.org/0102/javadoc/org/apache/kafka/streams/KafkaStreams.html
    
    Author: Aaron Coburn <acoburn@amherst.edu>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2671 from acoburn/javadoc_formatting

commit 0011a3dc337a41ceb21b1567db7bdc3219a07552
Author: Eno Thereska <eno@confluent.io>
Date:   Fri Mar 10 13:43:04 2017 -0800

    MINOR: increase RocksDb parallelism
    
    Author: Eno Thereska <eno@confluent.io>
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2663 from enothereska/minor-rocksdb-parallel

commit dfa2ef4837259cd127b013e63ce26acdec8b94c5
Author: sharad.develop <sharad.develop@gmail.com>
Date:   Fri Mar 10 11:28:06 2017 -0800

    KAFKA-4738: Remove generic type of class ClientState
    
    Remove generic type of class ClientState and generic T inTaskAssignor.
    
    Author: sharad.develop <sharad.develop@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2616 from sharad-develop/KAFKA-4738

commit c063561ce815ec066851e480b7f70a84d6ccd371
Author: Michael G. Noll <michael@confluent.io>
Date:   Fri Mar 10 07:51:42 2017 -0800

    MINOR: KStream: fix typo in javadoc
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Guozhang Wang, Damian Guy
    
    Closes #2668 from miguno/trunk-kstream-javadoc-typo

commit 7565dcd8b0547f91a5d9d19771d9cd6693079d01
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Mar 9 16:45:41 2017 -0800

    KAFKA-4861; GroupMetadataManager record is rejected if broker configured with LogAppendTime
    
    The record should be created with CreateTime (like in the producer). The conversion to
    LogAppendTime happens automatically (if necessary).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2657 from ijuma/kafka-4861-log-append-time-breaks-group-data-manager

commit dbcbd7920f7056c80d55453ad543ea9ba87da9be
Author: Raghav Kumar Gautam <raghav@apache.org>
Date:   Thu Mar 9 16:24:38 2017 -0800

    KAFKA-4467: Run tests on travis-ci using docker
    
    ijuma ewencp cmccabe harshach Please review.
    Here is a sample run:
    https://travis-ci.org/raghavgautam/kafka/builds/191714520
    
    In this run 214 tests were run and 144 tests passed.
    
    I will open separate jiras for fixing failures.
    
    Author: Raghav Kumar Gautam <raghav@apache.org>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2376 from raghavgautam/trunk

commit 65650ba4dcba8a9729cb9cb6477a62a7b7c3714e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Mar 9 09:27:33 2017 -0800

    MINOR: Introduce NetworkClient.hasInFlightRequests
    
    It’s a minor optimisation, but simple enough.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2658 from ijuma/has-in-flight-requests

commit 294018a578cbbc187ac123a6b99990468186e349
Author: simplesteph <stephane.maarek@gmail.com>
Date:   Wed Mar 8 21:41:38 2017 -0800

    KAFKA-4864; added correct zookeeper nodes for security migrator
    
    Author: simplesteph <stephane.maarek@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2655 from simplesteph/fix-security-migrator-tool

commit 537f98a5d64b86022ac2125c75d079c26e4b9830
Author: Will Droste <william.droste@arris.com>
Date:   Thu Mar 9 01:00:33 2017 +0000

    KAFKA-4745; Remove unnecessary flush in KafkaLZ4BlockOutputStream.close()
    
    Remove unnecessary 'flush', the underlying stream should handle it on close.
    
    Author: Will Droste <william.droste@arris.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2528 from wdroste/trunk

commit 022bf129518e33e165f9ceefc4ab9e622952d3bd
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Mar 8 23:16:53 2017 +0000

    MINOR: Use ConcurrentMap for ConsumerNetworkClient UnsentRequests
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2656 from hachikuji/minor-cleanup-unsent-requests

commit f7354e779cb058985dd385b2b1209db71eb7a5e8
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Mar 8 22:25:58 2017 +0000

    MINOR: Add varint serde utilities for new message format
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2647 from hachikuji/add-varint-serdes

commit 29084a9b27b959532813141591ce03be2921e860
Author: sharad.develop <sharad.develop@gmail.com>
Date:   Wed Mar 8 11:40:40 2017 -0800

    KAFKA-4722: Add application.id to StreamThread name
    
    Add application.id to StreamThread name
    
    Author: sharad.develop <sharad.develop@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2617 from sharad-develop/KAFKA-4722

commit c6bccddb94affe8f85110004341f75bd66b839eb
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Mar 8 00:44:28 2017 +0000

    KAFKA-4841; NetworkClient should only consider a connection to have failed after attempt to connect
    
    Also fix a potential reordering bug and include a few clean-ups.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>, Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2641 from lindong28/KAFKA-4820-followup

commit 146edd530a6dfa534fd8cb924fd2336e27872c2a
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Mar 7 15:31:22 2017 -0800

    KAFKA-4851: only search available segments during Segments.segments(from, to)
    
    restrict the locating of segments in `Segments#segments(..)` to only the segments that are currently available, i.e., rather than searching the hashmap for many segments that don't exist.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2645 from dguy/session-windows-testing

commit 81f9e1376cefed57022de62cd3abf5641c46e4aa
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Mar 7 01:29:56 2017 +0000

    MINOR: Rename RecordBatch to ProducerBatch to free the name for KIP-98
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2646 from hachikuji/rename-record-batch

commit 5cf491c2765b4912ff5f7f69f0b992a67005b983
Author: Armin Braun <me@obrown.io>
Date:   Mon Mar 6 20:10:45 2017 +0000

    KAFKA-3155; Avoid long overflow in RecordBatch#maybeExpire
    
    `Long.MaxValue` for the linger overflows in `RecordBatch#maybeExpire` when added to
    the current timestamp.
    
    Then causes an error to be set for the batch by `Sender` (not happening every time since
    it depends on the timing of `Sender`):
    
    That error then causes a call to `ProduceRequestResult#done` on the batch, which then
    makes the check for "not done" fail.
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2639 from original-brownbear/KAFKA-3155

commit 2064a2a55dde9ae4e263eb7c78da3b4ac2896201
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Mar 6 09:52:17 2017 -0800

    HOTFIX: fix broken link for wordcount demo example
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2644 from mjsax/hotfixBrokerLink

commit 63010cbfe5d07df5db060888afd348fab5cbe62c
Author: Ben Stopford <benstopford@gmail.com>
Date:   Mon Mar 6 12:42:43 2017 +0000

    KAFKA-4266; ReassignPartitionsClusterTest: ensure ZK publication is completed before start
    
    Increase the reliability of the one temporal comparison in ReassignPartitionsClusterTest by imposing a delay after ZK is updated. This should be more reliable than just increasing the amount of data.
    
    This relates to a previous PR: https://github.com/apache/kafka/pull/1982
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1997 from benstopford/KAFKA-4266

commit 79f85039d7be1b4266f06715a487f3635558ded6
Author: bbejeck <bbejeck@gmail.com>
Date:   Mon Mar 6 10:47:36 2017 +0000

    KAFKA-3989; Initial support for adding a JMH benchmarking module
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1712 from bbejeck/KAFKA-3989_create_jmh_benchmarking_module

commit f111f2a7167f3abcb0b0e53ac22f9f7bb367766e
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Mar 6 10:46:04 2017 +0000

    MINOR: additional refactoring around the use of Errors
    
    A couple of updates were missed in the [PR](https://github.com/apache/kafka/pull/2475) that replaced the use of error codes with Errors objects.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2635 from vahidhashemian/minor/Errors_refactoring_leftover

commit 5b013d9cd28d86b50109e8e08f813c3b5af0054b
Author: Hamidreza Afzali <hrafzali@gmail.com>
Date:   Sun Mar 5 22:42:16 2017 -0800

    KAFKA-4828: ProcessorTopologyTestDriver does not work when using through
    
    This resolves the following issues in the ProcessorTopologyTestDriver:
    
    - It should not create an internal changelog topic when using `through()` and `table()`
    - It should forward the produced record back into the topology if it is to a source topic
    
    Jira ticket: https://issues.apache.org/jira/browse/KAFKA-4828
    
    The contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Hamidreza Afzali <hrafzali@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2629 from hrafzali/KAFKA-4828_ProcessorTopologyTestDriver_through

commit b1272500bd7a80931d9571b426afb6a2de7ddeca
Author: Sönke Liebau <soenke.liebau@opencore.com>
Date:   Sun Mar 5 10:28:36 2017 -0800

    KAFKA-4567 - Connect Producer and Consumer ignore ssl parameters…
    
    KAFKA-4567 - Connect Producer and Consumer ignore ssl parameters configured for worker
    
    Added brief explanation to the docs about parameter inheritance of Kafka consumers and producers from the worker config.
    
    Author: Sönke Liebau <soenke.liebau@opencore.com>
    
    Reviewers: Gwen Shapira
    
    Closes #2511 from soenkeliebau/KAFKA-4567

commit 3e69ef6e3c41a83bdec1e2a37073a6af2f44e2a2
Author: Akhilesh Naidu <akhilesh_naidu@persistent.com>
Date:   Sun Mar 5 10:21:04 2017 -0800

    KAFKA-4276: Add REST configuration in connector properties
    
    Addition of REST configuration in connect-distributed.properties config file
    gwenshap ewencp - Please review.
    
    Author: Akhilesh Naidu <akhilesh_naidu@persistent.com>
    
    Reviewers: Gwen Shapira
    
    Closes #2505 from akhilesh1194/JIRA_KAFKA-4276

commit 580bebe09798b8f0062a2a1566a1d5836ecad4bb
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sun Mar 5 10:01:30 2017 -0800

    KAFKA-4826: Fix some findbugs warnings in Kafka Streams
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2623 from cmccabe/KAFKA-4826

commit b7378d567fffd06395f5babc36cebd64bdf539d1
Author: Eno Thereska <eno@confluent.io>
Date:   Sat Mar 4 20:55:16 2017 -0800

    MINOR: Standardised benchmark params for consumer and streams
    
    There were some minor differences in the basic consumer config and streams config that are now rectified. In addition, in AWS environments the socket size makes a big difference to performance and I've tuned it up accordingly. I've also increased the number of records now that perf is higher.
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2634 from enothereska/minor-standardize-params

commit adb70da13e18eb652e734887b430ac0ecbc5f9e6
Author: Dong Lin <lindong28@gmail.com>
Date:   Sat Mar 4 11:38:57 2017 -0800

    KAFKA-4820; ConsumerNetworkClient.send() should not require global lock
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2619 from lindong28/KAFKA-4820

commit 5781feb527766fbb3620cb601ed453dd8086e0c2
Author: Armin Braun <armin.braun@1und1.de>
Date:   Sat Mar 4 15:22:06 2017 +0000

    KAFKA-3182; Fix testSocketsCloseOnShutdown transient failures
    
    * Turned off Nagle on the sending sockets to force the socket to physically acknowledge after the first write in `sendRequest`
    * Added a `200ms` delay between write attempts (necessary on Linux, but not Mac)
    
    Author: Armin Braun <armin.braun@1und1.de>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2632 from original-brownbear/KAFKA-3182

commit d9b784e1470714c8b04e7c3d74f626a96ca1591e
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sat Mar 4 00:52:26 2017 +0000

    KAFKA-4796; Fix some findbugs warnings in Kafka Java client
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2593 from cmccabe/KAFKA-4796

commit d2792e356ff9d3ed8b0484bf62ac98e85fdc26fa
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Mar 4 00:47:35 2017 +0000

    KAFKA-2857; MINOR: Follow up to
    MINOR: Fix ResetIntegrationTest test failures
    
    KAFKA-2857 follow-up.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2636 from vahidhashemian/minor/kafka-2857-followup

commit 4b1415c109fa75a01a11460aa80f0404baecac51
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Mar 3 16:40:25 2017 -0800

    MINOR: Fix tests/docker/Dockerfile
    
    Fix tests/docker/Dockerfile to put the old Kafka distributions in the
    correct spot for tests.  Also, run_tests.sh should exit with an error
    code if image rebuilding fails, rather than silently falling back to an
    older image.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2613 from cmccabe/dockerfix

commit 2e92f9b2e4ab367f89a055a32a64915a38274065
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Mar 3 22:23:20 2017 +0000

    MINOR: Bump version to 0.11.0.0-SNAPSHOT
    
    There won't be a 0.10.3.0.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2628 from ijuma/bump-version-to-0.11.0.0-SNAPSHOT

commit 573a6f39863061a6f38a0aca35f11470c3e8538e
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Mar 3 11:22:42 2017 -0800

    KAFKA-2857; Retry querying the consumer group while initializing
    
    This applies to new-consumer based groups and would avoid scenarios in which user issues a `--describe` query while the group is initializing.
    Example: The following could occur for a newly created group.
    ```
    kafkakafka:~/workspace/kafka$ bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --describe --group g
    Note: This will only show information about consumers that use the Java consumer API (non-ZooKeeper-based consumers).
    
    Error: Executing consumer group command failed due to The group coordinator is not available.
    ```
    
    With this PR the group is queried repeatedly at specific intervals within a preset (and configurable) timeout `group-init-timeout` to circumvent unfortunate situations like above.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2538 from vahidhashemian/KAFKA-2857

commit a3c45b0c9263ca4481b1af7af3f7d8ae8cb5d5cd
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Mar 2 17:49:01 2017 -0800

    KAFKA-4631; Request metadata in consumer if topic/partitions unavailable
    
    If leader node of one more more partitions in a consumer subscription are temporarily unavailable, request metadata refresh so that partitions skipped for assignment dont have to wait for metadata expiry before reassignment. Metadata refresh is also requested if a subscribe topic or assigned partition doesn't exist.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2622 from rajinisivaram/KAFKA-4631

commit 670980ef29fb70838dcd462d11789c2519981164
Author: Clemens Valiente <clemens.valiente@trivago.com>
Date:   Thu Mar 2 13:26:30 2017 -0800

    KAFKA-4800: Streams State transition ASCII diagrams need fixing and polishing
    
    added \<pre> tags to not break javadoc display of the ASCII diagrams.
    see broken ascii here:
    https://kafka.apache.org/0102/javadoc/org/apache/kafka/streams/KafkaStreams.State.html
    
    fix can be checked with gradle :streams:javadoc and then checking streams/build/docs/javadoc/org/apache/kafka/streams/KafkaStreams.State.html
    
    I also fixed the diagram in StreamThread.java however currently no javadoc is generated for that one (since it's internal)
    
    enothereska please have a look
    
    Author: Clemens Valiente <clemens.valiente@trivago.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2621 from cvaliente/KAFKA-4800-ASCII-diagrams

commit 59779aa1546c6039ea145c6e21706cbf68cad4a2
Author: Michael G. Noll <michael@confluent.io>
Date:   Thu Mar 2 13:23:54 2017 -0800

    MINOR: Fix typo in GlobalKTable javadocs
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Matthias J. Sax, Damian Guy, Guozhang Wang
    
    Closes #2626 from miguno/trunk-globalktable-typos

commit 9e65b25e9fca6c26cef3498ff747879d4f527700
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu Mar 2 13:19:08 2017 -0800

    KAFKA-4652: Added tests for KStreamBuilder
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2597 from bbejeck/KAFKA-4652_improve_kstream_builder_test_coverage

commit ca06862a7005ca476f900bd9c2373021422d695b
Author: Stevo Slavic <sslavic@gmail.com>
Date:   Thu Mar 2 13:12:59 2017 -0800

    KAFKA-2358: Cluster collection returning methods never return null
    
    See https://issues.apache.org/jira/browse/KAFKA-2358
    
    Author: Stevo Slavic <sslavic@gmail.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #96 from sslavic/feature/KAFKA-2358

commit 1b902b4ed39e78066fab163d1b6d54dd435b1d7b
Author: huxi <huxi@zhenrongbao.com>
Date:   Thu Mar 2 09:55:01 2017 -0800

    KAFKA4811; ReplicaFetchThread may fail to create due to existing metric
    
    Have fetcherThreadMap keyed off brokerId + fetcherId instead of broker + fetcherId, but did not consider the case where port is changed.
    
    Author: huxi <huxi@zhenrongbao.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2606 from amethystic/kafka4811_ReplicaFetchThread_fail_create

commit ef92bb4e00da10728cf74c2d81f8f2bbec4c9c02
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Mar 1 14:36:08 2017 -0800

    MINOR: Minor reduce unnecessary calls to time.millisecond (part 2)
    
    Avoid calling time.milliseconds more often than necessary. Cleaning and committing logic can use the timestamp at the start of the loop with minimal consequences. 5-10% improvements noticed with request rates of 450K records/second.
    
    Also tidy up benchmark code a bit more.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Matthias J. Sax, Damian Guy, Guozhang Wang
    
    Closes #2603 from enothereska/minor-reduce-milliseconds2

commit b380a82d5be7c68141590467911ecb61db45ed1e
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Mar 1 12:07:46 2017 -0800

    MINOR: improve MinTimestampTrackerTest and fix NPE when null element removed
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2611 from dguy/testing

commit 0fba529608a5eb829feb66a499c89ead40b79694
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Mar 1 11:21:41 2017 -0800

    KAFKA-4677 Follow Up: add optimization to StickyTaskAssignor for rolling rebounce
    
    Detect when a rebalance has happened due to one or more existing nodes bouncing. Keep assignment of previous active tasks the same and only assign the tasks that were not active to the new clients.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2609 from dguy/kstreams-575

commit c9872cb2142bbee12e4657af9a84627a1684fddd
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Feb 28 23:04:02 2017 +0000

    KAFKA-4773; The Kafka build should run findbugs
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2557 from cmccabe/KAFKA-4773

commit de05c9d3a0d79a555088afe9344b52e002d287f2
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Feb 28 22:55:46 2017 +0000

    MINOR: Add code quality checks (and suppressions) to checkstyle.xml
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <me@ewencp.org>, Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2594 from dguy/checkstyle

commit a10d7b1b765a2ac4af3e219b7c344f67a93de487
Author: Hamidreza Afzali <hrafzali@gmail.com>
Date:   Tue Feb 28 13:31:32 2017 -0800

    KAFKA-4789: Added support to ProcessorTopologyTestDriver to forward timestamps to internal topics
    
    This resolves the issue in the ProcessorTopologyTestDriver that the extracted timestamp is not forwarded with the produced record to the internal topics.
    
    JIRA ticket: https://issues.apache.org/jira/browse/KAFKA-4789
    
    The contribution is my original work and I license the work to the project under the project's open source license.
    
    guozhangwang dguy
    
    Author: Hamidreza Afzali <hrafzali@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2590 from hrafzali/KAFKA-4789_ProcessorTopologyTestDriver_timestamp

commit e31c0c9bdbad432bc21b583bd3c084f05323f642
Author: Michael G. Noll <michael@confluent.io>
Date:   Tue Feb 28 13:30:10 2017 -0800

    MINOR: Fix typo in javadoc of `flatMapValues`
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #2607 from miguno/trunk-flatMapValues-docstring

commit d0e436c471ba4122ddcc0f7a1624546f97c4a517
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Feb 28 12:35:04 2017 -0800

    MINOR: improve license header check by providing head file instead of (prefix) header regex
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2303 from mjsax/licenseHeader

commit f3fab2e476cf5101ba6ae68e4d61ae9ab957b26c
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Feb 28 12:21:46 2017 -0800

    KAFKA-4809: docker/run_tests.sh should set up /opt/kafka-dev to be the source directory
    
    …0.x and not 0.8
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2602 from cmccabe/KAFKA-4809

commit 8e6fbe8fed592e7cc15731a0827c350794413767
Author: Chris Egerton <fearthecellos@gmail.com>
Date:   Tue Feb 28 11:49:16 2017 -0800

    MINOR: Make asJsonSchema() and asConnectSchema() methods public
    
    Want to use these methods in an external project.
    
    Author: Chris Egerton <fearthecellos@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2610 from C0urante/public-json-schema-conversion

commit 9231cc439e58d6ac252ca960e15c703366e32e1a
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Feb 27 11:19:09 2017 -0800

    KAFKA-4744: Increased timeout for bounce test
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma, Matthias J. Sax, Guozhang Wang
    
    Closes #2601 from enothereska/KAFKA-4744-bounce

commit 9260e8563c19cc1c5ac2d47ad05955774138036d
Author: Marco Ebert <marco_ebert@icloud.com>
Date:   Mon Feb 27 11:48:50 2017 +0000

    KAFKA-4806; Prevent double logging of ConsumerConfig
    
    The consumer properties get logged twice since two instances
    of ConsumerConfig are created during creation of KafkaConsumer.
    
    I added a constructor of ConsumerConfig accepting the boolean
    parameter doLog which is already passable in AbstractConfig
    and set it to false during the second ConsumerConfig creating
    in the KafkaConsumer constructor.
    
    Author: Marco Ebert <marco_ebert@icloud.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2600 from Gacko/trunk

commit 5b682baad546e41fe7aa27be0865ea6adaca2d2a
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Feb 25 18:44:32 2017 -0800

    MINOR: Use API hyperlinks in 'Kafka Protocol Guide' to facilitate navigation
    
    Finding the protocol associated with an API key can be a challenge in the lengthy [web page](http://kafka.apache.org/protocol.html#protocol_api_keys).
    Adding hyperlinks would definitely help with that.
    
    Co-authored with imandhan.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2467 from vahidhashemian/minor/hyperlinks_in_kafka_protocol_guide

commit 5b22b53f0e581e3239ca6bbeceec6c01ce0f8ce0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Feb 24 16:41:51 2017 -0800

    MINOR: Fix potential integer overflow and String.format issue
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2585 from ijuma/overflow-and-format-fixes

commit 3749832637b58b291a45076658feb8cd6e830247
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Feb 24 15:49:13 2017 -0800

    MINOR: Ensure consumer calls poll() if requests are outstanding
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2596 from hachikuji/ensure-poll-with-inflight-requests

commit b917af19014c6a8860d6523d24c87783c51bab4e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Feb 24 15:12:32 2017 -0800

    MINOR: Make it impossible to invoke `Request.body` without an explicit type parameter
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2579 from ijuma/safer-body

commit 43524442dc10c5dc731248674eb1a811287e88f7
Author: Armin Braun <me@obrown.io>
Date:   Fri Feb 24 14:37:18 2017 -0800

    MINOR: Fixed Non-Final Close Method + its Duplication
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2582 from original-brownbear/cleanup-nonfinal-close

commit 0483a0b0b70e1ec7cd12c17f622f91ebc3932fc4
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Feb 24 11:04:37 2017 -0800

    MINOR: Fix transient failure of testCannotSendToInternalTopic
    
    It’s a simple matter of creating the internal topic before trying to send
    to it. Otherwise, we could get an `UnknownTopicOrPartitionException`
    in some cases.
    
    Without the change, I could reproduce a failure in less than
    5 runs. With the change, 30 consecutive runs succeeded.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2584 from ijuma/test-cannot-send-to-internal-topic-transient-failure

commit 151b23689ea1c2e13a1d38f403bf5839eddbe377
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Feb 24 10:34:21 2017 -0800

    KAFKA-4494: Reduce startup and rebalance time by batching restoration of stores
    
    Replace one-by-one initialization of state stores with bulk initialization.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2560 from dguy/kafka-4494

commit 2a7b18a2ac1213b189df8585671b713373dae383
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Feb 24 17:24:07 2017 +0000

    KAFKA-4779; Fix security upgrade system test to be non-disruptive
    
    The phase_two security upgrade test verifies upgrading inter-broker and client protocols to the same value as well as different values. The second case currently changes inter-broker protocol without first enabling the protocol, disrupting produce/consume until the whole cluster is updated. This commit changes the test to be a non-disruptive upgrade test that enables protocols first (simulating phase one of upgrade).
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2589 from rajinisivaram/KAFKA-4779

commit 0be3a7226f816bd4b612477ea3b9916bddade290
Author: Jean-Philippe Daigle <jdaigle@tripadvisor.com>
Date:   Fri Feb 24 15:31:36 2017 +0000

    MINOR: fixed javadoc typo in KafkaProducer.partitionsFor
    
    Author: Jean-Philippe Daigle <jdaigle@tripadvisor.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2592 from jpdaigle/minor_typo_fix

commit 01898ebbadec6d9df72bd9a89752d7f5bd128a7d
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Fri Feb 24 13:42:33 2017 +0000

    MINOR: Code quality improvements to Config classes
    
    - Minor Javadoc fixes
    - Used final modifier if possible
    - Unnecessary type casts removed
    - Other minor clean-ups
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2578 from Kamal15/config

commit 1ed4b48d5a43af743229fafc22f78846c9c3134d
Author: Armin Braun <me@obrown.io>
Date:   Fri Feb 24 11:44:31 2017 +0000

    KAFKA-4198; Fix race condition in KafkaServer.shutdown()
    
    It contained this step:
    
          val canShutdown = isShuttingDown.compareAndSet(false, true)
          if (canShutdown && shutdownLatch.getCount > 0) {
    
    without any fallback for the case of `shutdownLatch.getCount == 0`. So in the case
    of `shutdownLatch.getCount == 0` (when a previous call to the shutdown method
    was right about to finish) you would set `isShuttingDown` to true again without any
    possibility of ever getting the server started (since `startup` will check
    `isShuttingDown` before setting up a new latch with count 1).
    
    Long story short: concurrent calls to shutdown can get the server locked in a broken state.
    
    This fixes the reported error:
    
    java.lang.IllegalStateException: Kafka server is still shutting down, cannot re-start!
            at kafka.server.KafkaServer.startup(KafkaServer.scala:184)
            at kafka.integration.KafkaServerTestHarness$$anonfun$restartDeadBrokers$2.apply$mcVI$sp(KafkaServerTestHarness.scala:117)
            at kafka.integration.KafkaServerTestHarness$$anonfun$restartDeadBrokers$2.apply(KafkaServerTestHarness.scala:116)
            at kafka.integration.KafkaServerTestHarness$$anonfun$restartDeadBrokers$2.apply(KafkaServerTestHarness.scala:116)
            at scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)
            at scala.collection.immutable.Range.foreach(Range.scala:160)
            at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:732)
            at kafka.integration.KafkaServerTestHarness$class.restartDeadBrokers(KafkaServerTestHarness.scala:116)
            at kafka.api.ConsumerBounceTest.restartDeadBrokers(ConsumerBounceTest.scala:34)
            at kafka.api.ConsumerBounceTest$BounceBrokerScheduler.doWork(ConsumerBounceTest.scala:158)
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2568 from original-brownbear/KAFKA-4198

commit 6a55d41fe326d72052ca8214809c2e346f8ae775
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Feb 23 13:21:49 2017 -0800

    HOTFIX: add js template to upgrade.html
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2591 from guozhangwang/KHotfix-explicit-version

commit 3428bc1a2549778378ffeb781ad62ca719ca3b7f
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Feb 23 10:04:34 2017 -0800

    MINOR: Reduce stream thread metrics overhead
    
    Reduces overheads by avoiding re-calling time.milliseconds().
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2583 from enothereska/minor-reduce-milliseconds

commit 5a2abc51821fab4d3834b615e577d97e0f0e6494
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Feb 23 16:28:38 2017 +0000

    KAFKA-4788: Revert "KAFKA-4092: retention.bytes should not be allowed to be less than segment.bytes"
    
    The intent is good, but it needs to take into account broker configs as well.
    See KAFKA-4788 for more details.
    
    This reverts commit 4ca5abe8ee7578f602fb7653cb8a09640607ea85.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2588 from ijuma/kafka-4788

commit 015f1d73811e52b3b7a578cf4c1ca4c48b6c2f5c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Feb 22 15:11:12 2017 -0800

    MINOR: Move ProtoUtils methods to ApiKeys
    
    Also move `requireTimestamp` to `minVersion` logic from `Fetcher` to
    `ListOffsetRequest.Builder.forConsumer()`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2580 from ijuma/move-proto-utils-to-api-keys

commit 5916ef0227d099e5fa05341db3f918f5ef035816
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Feb 22 12:08:09 2017 -0800

    KAFKA-4786; Wait for heartbeat thread to terminate in consumer close
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2586 from rajinisivaram/KAFKA-4786

commit 913c09e4a94447a953cb55ccd702d7131d1764a8
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Feb 22 11:00:45 2017 +0000

    KAFKA-4708; Fix transient failure in BrokerApiVersionsCommandTest.checkBrokerApiVersionCommandOutput
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Dong Lin <lindong28@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2489 from cmccabe/KAFKA-4708

commit 696b1d311c89671cdebd6e8ade4d2c2e55a0696c
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Feb 21 20:41:55 2017 -0800

    KAFKA-4757; NetworkClient should log request details at trace level when a request is cancelled because of disconnection
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Apurva Mehta <apurva.1618@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2563 from cmccabe/KAFKA-4757

commit 7b302add35762139c265b7658add144cd12c8278
Author: Eno Thereska <eno@confluent.io>
Date:   Tue Feb 21 09:25:06 2017 -0800

    KAFKA-4752: Fixed bandwidth calculation
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2551 from enothereska/KAFKA-4752-join-bw

commit 8bd06482d0562a518bce67dd06c590da4391d12a
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Feb 21 14:02:17 2017 +0000

    MINOR: Remove unused MessageWriter and CompressionFactory
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2543 from hachikuji/remove-message-writer

commit f48e8c1a88404c9ef386707c5ac79e21dc8df5af
Author: Christopher L. Shannon <christopher.l.shannon@gmail.com>
Date:   Tue Feb 21 13:59:25 2017 +0000

    MINOR: Add build_eclipse to .gitignore
    
    build_eclipse is the configured output directory for eclipse when using
    the gradle eclipse plugin and should be ignored
    
    Author: Christopher L. Shannon <christopher.l.shannon@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2569 from cshannon/eclipse-gitignore

commit 3b8b7a4be39cb4a3f7257f8a17f74a887572e627
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Feb 21 13:52:18 2017 +0000

    MINOR: Fix NPE handling unknown APIs in NodeApiVersions.toString
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2561 from hachikuji/fix-npe-api-version-tostring

commit e41e782006d807a1ca8098dbfb95b8ab2295d6af
Author: Jason Gustafson <jason@confluent.io>
Date:   Sun Feb 19 20:53:19 2017 -0800

    KAFKA-4776; Implement graceful handling for improperly formed compressed message sets
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2572 from hachikuji/KAFKA-4776

commit 3db3d73de6bc1fbb846d0943a8fe73dcca96b78a
Author: Armin Braun <me@obrown.io>
Date:   Sun Feb 19 16:39:36 2017 -0800

    MINOR: Fixed 3 inner classes without instance reference to be static
    
    * Turned 3 inner classes that weren't static but could be into `static` ones.
    * Turned one `public` inner class that wasn't used publicly into a `private`.
    
    Trivial but imo worthwhile to explicitly keep visibility and "staticness" correct in syntax (if only to be nice to the GC) :)
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2574 from original-brownbear/cleanup-inner-nonstatic

commit d24d932efb980b1fc15bb4dbba4d67d464e97ab3
Author: Armin Braun <me@obrown.io>
Date:   Sat Feb 18 10:02:52 2017 -0800

    HOTFIX: ClassCastException in Request error logging
    
    Fixed ClassCastException resulting from missing type hint in request logging.
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2571 from original-brownbear/fix-logging-err-response

commit dcea49856805a039f0859facf169a87a574c06d3
Author: Allen Xiang <allen.xiang@monsanto.com>
Date:   Sat Feb 18 09:25:28 2017 -0800

    KAFKA-4777; Backoff properly in consumer heartbeat thread if no brokers are available
    
    Author: Allen Xiang <allen.xiang@monsanto.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2564 from allenxiang/client-heartbeat-fix

commit 916edc3a4ed0b44e64d0a0410137bf96e2a5558d
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sat Feb 18 06:40:35 2017 -0800

    KAFKA-4774; Inner classes which don't need a reference to the outer c…
    
    …lass should be static
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2558 from cmccabe/KAFKA-4774

commit c6fcc721e2973f0bf2610d76bee4072bc30d48c9
Author: Apurva Mehta <apurva@confluent.io>
Date:   Sat Feb 18 06:38:35 2017 -0800

    MINOR: Increase consumer init timeout in throttling test
    
    The throttling system test sometimes fail because it takes longer than the current 10 second time out for partitions to get assigned to the consumer.
    
    Author: Apurva Mehta <apurva@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2567 from apurvam/increase-timeout-for-partitions-assigned

commit d734f4e56d276f84b8c52b602edd67d41cbb6c35
Author: Prabhat Kashyap <prabhat.kashyap@knoldus.in>
Date:   Sat Feb 18 06:22:08 2017 -0800

    MINOR: Replace for with foreach loop in common module
    
    Author: Prabhat Kashyap <prabhat.kashyap@knoldus.in>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2530 from PKOfficial/refactored-code

commit a515e93570c5c117ca29fb05137898817f058fb9
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Feb 17 16:31:00 2017 -0800

    HOTFIX: ClassCastException in request logging
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Colin P. Mccabe <cmccabe@confluent.io>, Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #2566 from hachikuji/hotfix-request-logging

commit 1f1e794ad0025bb2a33b7d8378a481f224b3bccc
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Feb 17 14:41:28 2017 -0800

    KAFKA-4317: Regularly checkpoint StateStore changelog offsets
    
    Currently the checkpoint file is deleted at state store initialization and it is only ever written again during a clean shutdown. This can result in significant delays during restarts as the entire store needs to be loaded from the changelog.
    We can mitigate against this by frequently checkpointing the offsets. The checkpointing happens only during the commit phase, i.e, after we have manually flushed the store and the producer. So we guarantee that the checkpointed offsets are never greater than what has been flushed.
    In the event of hard failure we can recover by reading the checkpoints and consuming from the stored offsets.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2471 from dguy/kafka-4317

commit fc1cfe475e8ae8458d8ddf119ce18d0c64653a70
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Feb 17 14:19:01 2017 -0800

    MINOR: Remove Struct from Request/Response classes
    
    More details:
    * Replaced `struct` field in Request/Response with a `toStruct` method. This
    makes the performance model (including memory usage) easier to understand.
    Note that requests have `toStruct()` while responses have `toStruct(version)`.
    * Replaced mutable `version` field in `Request.Builder` with an immutable
    field `desiredVersion` and a `version` parameter passed to the `build` method.
    * Optimised `handleFetchRequest` to avoid unnecessary creation of `Struct`
    instances (from 4 to 2 in the worst case and 2 to 1 in the best case).
    * Various clean-ups in request/response classes and their test. In particular,
    it is now clear what we are testing. Previously, it looked like we were testing
    more than we really were.
    
    With this in place, we could remove `AbstractRequest.Builder` in the future by
    doing the following:
    * Change `AbstractRequest.toStruct` to accept a version (like responses).
    * Change `AbstractRequest.version` to be `desiredVersion` (like `Builder`).
    * Change `ClientRequest` to take `AbstractRequest`.
    * Move validation from the `build` methods to the request constructors or
    static factory methods.
    * Anything else required for the code to compile again.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2513 from ijuma/separate-struct

commit 1f2ee5f0a9dfc33e34362f7cd4ac45edaabe421b
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Feb 17 02:19:33 2017 -0800

    KAFKA-4340; Follow-up fixing system test failures and handling non default log.retention.ms
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2544 from becketqin/KAFKA-4340_follow_up

commit a88737929e880d5c6892a306d3c9b1358853b76b
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Feb 17 01:46:14 2017 -0800

    KAFKA-4775; Fix findbugs warnings in kafka-tools
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2559 from cmccabe/KAFKA-4775

commit 505af6bfdafa4719e4faeefab4d334cb0eebf784
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Feb 16 15:35:32 2017 -0800

    KAFKA-4484: Set more conservative default values on RocksDB for memory usage
    
    Lowered the default RocksDB settings for the block cache and write buffers
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2525 from dguy/kafka-4484

commit 022d2017a781286d223d80d8eae505fbc3fb369c
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 16 15:22:55 2017 -0800

    MINOR: Move compression stream construction into CompressionType
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2536 from hachikuji/minor-move-compression-io-construction

commit 6c839395b7b43d8e9c0dfbb3c12470fc9284a94a
Author: Aegeaner <xihuke@gmail.com>
Date:   Thu Feb 16 13:44:08 2017 -0800

    KAFKA-4709：Error message from Struct.validate() should include the name of the offending field.
    
    https://issues.apache.org/jira/browse/KAFKA-4709
    
    Author: Aegeaner <xihuke@gmail.com>
    
    Reviewers: Dong Lin, Guozhang Wang
    
    Closes #2521 from Aegeaner/KAFKA-4709

commit a1900ada7fdc3318f24e94e4aac956dca3463bbf
Author: Armin Braun <me@obrown.io>
Date:   Thu Feb 16 06:37:45 2017 -0800

    KAFKA-4765; Fixed Intentionally Broken Hosts Resolving to 127.0.53.53 in tests
    
    We are now using  artificially broken hosts that are not resolved as potential
    collisions (127.0.53.53s) by some DNS servers.
    
    This change is the only way to build while using Google's `8.8.8.8` (at least in my network).
    
    Author: Armin Braun <me@obrown.io>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2552 from original-brownbear/KAFKA-4765

commit cb725c6a2d21651fe8b2e50225635209aa949bb5
Author: Steven Schlansker <sschlansker@opentable.com>
Date:   Wed Feb 15 21:19:15 2017 -0800

    KAFKA-4720: Add a KStream#peek(ForeachAction<K, V>) in DSL
    
    https://issues.apache.org/jira/browse/KAFKA-4720
    
    Peek is a handy method to have to insert diagnostics that do not affect the stream itself, but some external state such as logging or metrics collection.
    
    Author: Steven Schlansker <sschlansker@opentable.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Eno Thereska, Guozhang Wang
    
    Closes #2493 from stevenschlansker/kafka-4720-peek

commit af182480d2f31f8ef44764fc8cfa250ec76a878f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Feb 15 17:02:15 2017 -0800

    MINOR: fix indention in <pre> tags
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2553 from mjsax/hotfixDocs2

commit abe5e0e489a1d93867098da8d472060055b31b72
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Feb 15 16:39:52 2017 -0800

    MINOR: add session windows doc to streams.html
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll, Matthias J. Sax, Guozhang Wang
    
    Closes #2547 from dguy/session-window-doc

commit 2e1b00f262947c4c3211df205df259ef517763f4
Author: Eno Thereska <eno@confluent.io>
Date:   Wed Feb 15 16:32:02 2017 -0800

    MINOR: Stream metrics documentation
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2542 from enothereska/minor-streams-metrics

commit 2c91b324d4798138dd479f54269bdc4f39339817
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Feb 15 13:17:29 2017 -0800

    HOTFIX: fixed section incompatible Steams API changes
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2492 from mjsax/hotfixDocs

commit 4db048d61206bc6efbd143d6293216b7cb4b86c5
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Feb 14 10:40:39 2017 -0800

    MINOR: don't throw CommitFailedException during suspendTasksAndState
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2535 from dguy/minor-commit-failed

commit 3b36d5cff0b7a51e737a97144d6d479af708b2d7
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Feb 13 14:07:19 2017 -0800

    KAFKA-4761; Fix producer regression handling small or zero batch size
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2545 from hachikuji/KAFKA-4761

commit ed91af512fcb5c0ea3032ed259451817c96b5ee1
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Mon Feb 13 13:46:37 2017 -0800

    KAFKA-4756; The auto-generated broker id should be passed to MetricRe…
    
    …porter.configure
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2540 from cmccabe/KAFKA-4756

commit 5dabca02594e4b71fb6ff275283a3851f1c62d60
Author: rnpridgeon <ryan.n.pridgeon@gmail.com>
Date:   Sun Feb 12 16:01:20 2017 -0800

    KAFKA-4758; Connect missing checks for NO_TIMESTAMP
    
    Author: rnpridgeon <ryan.n.pridgeon@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Jason Gustafson <jason@confluent.io>
    
    Closes #2533 from rnpridgeon/no_timestamp

commit 260d487cdd689c9689b7f4ddcc67978ed72ab413
Author: Dustin Cote <dustin@confluent.io>
Date:   Sun Feb 12 07:08:46 2017 -0800

    MINOR: Update comment in SimpleAclAuthorizer to have correct JSON format
    
    `ConsumerGroup` should be `Group`.
    
    Author: Dustin Cote <dustin@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2534 from cotedm/acl-znode-correction

commit 8bc9d583930110cf209f8ab20f9ff640ace3ed35
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Sat Feb 11 21:33:55 2017 -0800

    KAFKA-4340; Change default message.timestamp.difference.max.ms to the same as log.retention.ms
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    Author: Jiangjie (Becket) Qin <becket.qin@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2071 from becketqin/KAFKA-4340

commit 601d4040d446599bb01c45389b3e90645245e9af
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Feb 10 15:06:54 2017 -0800

    MINOR: Fix quickstart in docs
    
    Reverting some of the recent changes to quickstart doc. Further explanation is provided inline.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2539 from vahidhashemian/doc/fix_quickstart_issues

commit 1c45f79c91a9f2b98f9549f51f80de2e89146490
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Feb 10 09:45:13 2017 -0800

    MINOR: add GlobalKTable doc to streams.html
    
    Update streams.html with GlobalKTable docs
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll, Matthias J. Sax, Guozhang Wang
    
    Closes #2516 from dguy/global-tables-doc

commit 253dfcf4756e8e0d434da69516993ea784f830c9
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Feb 10 09:32:52 2017 -0800

    MINOR: update KafkaStreams.metadataForKey(...) javadoc
    
    Add a note to `KafkaStreams.metadataForKey(String, K, Serializer<K>)` to point out that in the case of a Window Store the Serializer should still be the record key serializer and not a window serializer
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Xavier Léauté, Guozhang Wang
    
    Closes #2532 from dguy/minor-docs

commit 516d3284943b3fdb0bf1f6208b84210def9a8a9b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Feb 10 09:15:12 2017 -0800

    MINOR: update README with how to run code coverage on module. add reportCoverage at subProject level
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2527 from dguy/code-coverage

commit 9898d665d1ab201405d66c70e3ea9710d9dcecd7
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Feb 9 21:03:46 2017 -0800

    MINOR: Use an explicit `Errors` object when possible instead of a numeric error code
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2475 from vahidhashemian/minor/use_explicit_Errors_type_when_possible

commit a15fcea799a843c1b4888fffbb2d382ee2e2ee36
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Feb 9 19:12:50 2017 -0800

    MINOR: add architecture section and configure / execution for streams
    
    1. Added an architecture section.
    2. Added a configuration / execution sub-section to developer guide.
    
    Minor tweaks and a bunch of missing fixes from `kafka-site` repo.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Derrick Or <derrickor@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2488 from guozhangwang/KMinor-streams-docs-second-pass

commit b5dd39dda68e8bab555eea1b80de8f969f8641ea
Author: Grant Henke <ghenke@cloudera.com>
Date:   Fri Feb 10 02:55:02 2017 +0000

    KAFKA-4525; Kafka should not require SSL truststore password
    
    Author: Grant Henke <ghenke@cloudera.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2246 from granthenke/truststore-password

commit b6c34e2df5dc4e3f6cda9b64786d7e929acb963b
Author: Dhwani Katagade <dhwani_katagade@persistent.com>
Date:   Fri Feb 10 02:37:32 2017 +0000

    KAFKA-4617; Improve configuration of Gradle’s eclipse task
    
    Generate core project with correct source folders. In addition
    set output folders same as command line build. Don't generate
    unnecessary projects.
    
    Author: Dhwani Katagade <dhwani_katagade@persistent.com>
    
    Reviewers: Edoardo Comar <ecomar@uk.ibm.com>, Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2382 from dhwanikatagade/gradle_eclipse_plugin_path_fix

commit d24616777ade24a37c5e7e517bcd1d8912eaf19d
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu Feb 9 17:20:30 2017 -0800

    KAFKA-4654: Improve test coverage for MemoryLRUCacheStore
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2500 from bbejeck/KAFKA-4654_improve_MemroryLRUCache_test_coverage

commit b865a8b1dcae642b80280b8a7b5e23e82666061b
Author: Eno Thereska <eno@confluent.io>
Date:   Thu Feb 9 14:01:13 2017 -0800

    KAFKA-4716: send create topics to controller in internaltopicmanager
    
    This PR fixes a blocker issue, where the streams client code cannot talk to the controller. It also enables a system test that was previously failing.
    
    This PR is for trunk only. A separate PR with just the fix (but not the tests) will be created for 0.10.2.
    
    Author: Eno Thereska <eno@confluent.io>
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Ismael Juma, Matthias J. Sax, Guozhang Wang
    
    Closes #2522 from enothereska/KAFKA-4716-metadata

commit f8c11eb0c34b0c2b4330aea9181ccb0452a62ce7
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Feb 9 15:13:31 2017 +0000

    HOTFIX: Add missing default arguments to __init__
    
    This caused the bounce and smoke tests to fail on trunk.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2524 from enothereska/hotfix-tests

commit 69d3af8be26c8f3abb2c9dfd43d2462d5aa27c69
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Feb 9 15:11:18 2017 +0000

    MINOR: fix integer overflow in simple benchmark MB/sec calculation
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2523 from dguy/minor-streams-bench

commit 6c1478d19f5a9c8dede9e7c3b047533ba61cc731
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Wed Feb 8 18:41:14 2017 -0800

    KAFKA-4749; Fix join-time-max and sync-time-max MeasurableStat type
    
    GroupCoordinatorMetrics currently sets up join-time-max and sync-time-max incorrectly as a "new Avg()" MeasurableStat instead of "new Max()"
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2520 from onurkaraman/KAFKA-4749

commit 8bd8751aa776990d1847e4d6ab187a0aea90c051
Author: Alex Loddengaard <alexloddengaard@gmail.com>
Date:   Wed Feb 8 17:18:55 2017 -0800

    MINOR: changes to the production broker configuration docs.
    
    Author: Alex Loddengaard <alexloddengaard@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2519 from alexlod/production-config-docs

commit 13a82b48cab5f13feeb9d3597b24d26416eb4033
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Feb 8 13:06:09 2017 -0800

    KAFKA-4702: Parametrize streams benchmarks to run at scale
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    Author: Eno Thereska <eno@confluent.io>
    Author: Ubuntu <ubuntu@ip-172-31-22-146.us-west-2.compute.internal>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2478 from enothereska/minor-benchmark-args

commit c7c113af63d8b4c49f16297af22b3a02528a500c
Author: Jonathan Monette <jmonette@homeaway.com>
Date:   Wed Feb 8 12:58:46 2017 -0800

    MINOR: Add logging when commitSync fails in StreamTask
    
    When `consumer.commitSync` fails in `StreamTask`, the `CommitFailedException` bubbles up to [here](https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/StreamThread.java#L780) and swallowed.  It'd be great if we knew which offsets failed to commit so that we may rewind our consumer.
    
    Author: J$ <jmonette@homeaway.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2514 from jmoney8080/jsm.addCommitLogLogging

commit e7c869e65d25dcf2d0a8f949da31c15d1d843950
Author: Eno Thereska <eno@confluent.io>
Date:   Wed Feb 8 12:50:04 2017 -0800

    HOTFIX: renamed test so it is picked up by ducktape
    
    Author: Eno Thereska <eno@confluent.io>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2517 from enothereska/hotfix-broker-test

commit b621703706118b383153da60937c1d31d518d5b8
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Feb 8 11:26:45 2017 -0800

    KAFKA-4648: Improve test coverage StreamTask
    
    Provide test coverage for exception paths in: `schedule()`, `closeTopology()`, and `punctuate()`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2451 from dguy/kafka-4640

commit effa19c045b15c0f82568e91d7f485ae564123a2
Author: Satish Duggana <sduggana@hortonworks.com>
Date:   Wed Feb 8 12:58:43 2017 +0000

    KAFKA-4741; Fix potential buffer leak in RecordAccumulator in case of exception
    
    Author: Satish Duggana <sduggana@hortonworks.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2509 from satishd/buffer-cleanup

commit 2e662a061608a0755274da3e2ccf87401936febf
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Feb 8 00:08:07 2017 -0800

    KAFKA-4733: Improve Streams Reset Tool console output
    
    Added general explanation of the tool and what it does. Also added few details to the arguments.
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Matthias J. Sax, Michael G. Noll, Guozhang Wang
    
    Closes #2503 from gwenshap/KAFKA-4733

commit 7f6bf5d44796ac14665d5ba8c2243f5d7f5d30bd
Author: Tim Carey-Smith <tim@spork.in>
Date:   Tue Feb 7 15:12:47 2017 -0800

    KAFKA-4725; Stop leaking messages in produce request body when requests are delayed
    
    This change is in response to [KAFKA-4725](https://issues.apache.org/jira/browse/KAFKA-4725).
    
    When a produce request is received, if the user/client is exceeding their produce quota, the response will be delayed until the quota is refilled appropriately.
    
    Unfortunately, the request body is still referenced in the callback which in turn leaks the messages contained within the request.
    
    This change allows the `KafkaApis` method to take ownership of the request body from the `RequestChannel.Request` object.
    
    I am not sure whether this breaks other invariants which are assumed within other parts of Kafka.
    
    Author: Tim Carey-Smith <tim@spork.in>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2496 from halorgium/fix-throttled-response-leak

commit 6cef4f5e4c3a73911a43378caf5cfc2736814333
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Feb 7 08:43:02 2017 -0800

    KAFKA-4734; Trim the time index on old segments
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2501 from becketqin/KAFKA-4734

commit be98865dfcddd38e3e411d41126fa6049c509cae
Author: huxi <huxi@zhenrongbao.com>
Date:   Tue Feb 7 08:40:30 2017 -0800

    KAFKA-4727; A Production server configuration needs to be updated
    
    1. Update value for queued.max.requests to 500
    2. Removed invalid config 'controller.message.queue.size'
    3. Removed flush configs including 'log.flush.interval.messages', 'log.flush.interval.ms' and 'log.flush.scheduler.interval.ms'
    
    Author: huxi <huxi@zhenrongbao.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2490 from amethystic/kafka4727_server_config_doc_update

commit 45d9fb3d5f13bef0bf6809ea71b2cbd73996a1b6
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Feb 6 16:01:59 2017 -0800

    KAFKA-4735; Fix deadlock issue during MM shutdown
    
    In https://issues.apache.org/jira/browse/KAFKA-4521 we fixed a potential message reorder bug in MM. However, the patch introduced another bug that can cause deadlock during MM shutdown. The deadlock will happen if zookeeper listener thread call requestAndWaitForCommit() after MirrorMaker thread has already exited loop of consuming and producing messages.
    
    This patch fixes the problem by setting `iter` to `null` in `MirrorMakerOldConsumer.cleanup()`. If zookeeper listener thread calls `requestAndWaitForCommit()` after `cleanup()`, then it will not block waiting for commit notification since `iter == null`. If zookeeper listener thread calls `requestAndWaitForCommit()` before `cleanup()`, then `cleanup()` will call `notifyAll()` to unblock zookeeper listener thread.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2504 from lindong28/KAFKA-4735

commit 2c0055e62fc6308e45ff8a9c1c386b43fa3a3905
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 6 14:55:00 2017 -0800

    HOTFIX: Do Not use unlimited num messages in IntegrationTestUtils
    
    Removed readKeyValues() that give UNLIMITED_MESSAGES which will doom to exhaust all wait time, as all its callers actually do provide the expected number of messages.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2507 from guozhangwang/KHotfix-not-use-limited-num-messages

commit 82e75b960737b50456e862f127f857832b22624e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Feb 6 13:53:22 2017 -0800

    MINOR: Fix import for streams broker compatibility test to use new DEV_BRANCH constant
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2508 from ewencp/minor-streams-compatibility-trunk-dev-branch

commit 48aec6ef1e8065bd14e54172d6443144fb80738b
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Mon Feb 6 12:23:24 2017 -0800

    KAFKA-4441; Monitoring incorrect during topic creation and deletion
    
    OfflinePartitionsCount PreferredReplicaImbalanceCount metrics check for
    topic being deleted
    
    Added integration test which polls the metrics while topics are being
    created and deleted
    
    Developed with mimaison
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2325 from edoardocomar/KAFKA-4441

commit b31a7a9022bfb645cb61e6fbc0b22829108b3a3f
Author: Jan Lukavsky <jan.lukavsky@o2.cz>
Date:   Mon Feb 6 11:47:45 2017 -0800

    KAFKA-4728; KafkaConsumer#commitSync should copy its input
    
    Author: Jan Lukavsky <jan.lukavsky@o2.cz>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2491 from je-ik/KAFKA-4728

commit 1f8a2ad2edc5d9de4dc3a3311a0650f25d2b9114
Author: Adrian McCague <amccague@gmail.com>
Date:   Mon Feb 6 11:37:48 2017 -0800

    KAFKA-4461: Added support to ProcessorTopologyTestDriver for internal topics
    
    This resolves an issue in driving tests using the ProcessorTopologyTestDriver when `groupBy()` is invoked downstream of a processor that flags repartitioning.
    
    Ticket: https://issues.apache.org/jira/browse/KAFKA-4461
    Discussion: http://search-hadoop.com/m/Kafka/uyzND1wbKeY1Q8nH1
    
    dguy guozhangwang
    
    The contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Adrian McCague <amccague@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2499 from amccague/KAFKA-4461_ProcessorTopologyTestDriver_map_groupbykey

commit 7de22453bbd05a7ac629543e09626ac6987ce306
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Feb 6 11:03:26 2017 -0800

    KAFKA-4724: Clean up of state directories can possibly remove stores that are about to be used by another thread
    
    Delay the cleanup of state directories that are not locked and not owned by the current thread such that we only remove the directory if its last modified is < now - cleanupDelayMs.
    This also helps to avoid a race between threads on the same instance, where during rebalance, one thread releases the lock on the state directory, and before another thread can take the lock, the cleanup runs and removes the data.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2486 from dguy/KAFKA-4724

commit d0932b0286d8e69a704211aeaba9fa9503c0fb42
Author: Apurva Mehta <apurva.1618@gmail.com>
Date:   Sun Feb 5 10:24:43 2017 +0000

    KAFKA-4558; throttling_test fails if the producer starts too fast
    
    With this change, the consumer will be considered initialized in the
    ProduceConsumeValidate tests once its partitions have been assigned.
    
    Author: Apurva Mehta <apurva.1618@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2347 from apurvam/KAFKA-4588-fix-race-between-producer-consumer-start

commit 88809b9b8eb7895f3756a39ee2ad7dffd0b4d516
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Feb 3 13:47:14 2017 -0800

    HOTFIX: Verifiable producer request timeout needs conversion to milliseconds
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2494 from hachikuji/hotfix-verifiable-producer-request-timeout

commit 7ebc5da606fb806bde8b7176fed0e60243e0f7f3
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Feb 3 11:12:49 2017 -0800

    KAFKA-3452 Follow-up: Optimize ByteStore Scenarios
    
    This is a refactoring follow-up of https://github.com/apache/kafka/pull/2166. Main refactoring changes:
    
    1. Extract `InMemoryKeyValueStore` out of `InMemoryKeyValueStoreSupplier` and remove its duplicates in test package.
    
    2. Add two abstract classes `AbstractKeyValueIterator` and `AbstractKeyValueStore` to collapse common functional logics.
    
    3. Added specialized `BytesXXStore` to accommodate cases where key value types are Bytes / byte[] so that we can save calling the dummy serdes.
    
    4. Make the key type in `ThreadCache` from byte[] to Bytes, as SessionStore / WindowStore's result serialized bytes are in the form of Bytes anyways, so that we can save unnecessary `Bytes.get()` and `Bytes.wrap(bytes)`.
    
    Each of these should arguably be a separate PR and I apologize for the mess, this is because this branch was extracted from a rather large diff that has multiple refactoring mingled together and dguy and myself have already put lots of efforts to break it down to a few separate PRs, and this is the only left-over work. Such PR won't happen in the future.
    
    Ping dguy enothereska mjsax for reviews
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Jun Rao
    
    Closes #2333 from guozhangwang/K3452-followup-state-store-refactor

commit d95f22c12c36a92f9c71a78cabf897d65ddef65f
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Feb 3 09:15:56 2017 -0800

    KAFKA-4646: Improve test coverage AbstractProcessorContext
    
    Exception paths in `register()`, `topic()`, `partition()`, `offset()`, and `timestamp()`, were not covered by any existing tests
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax
    
    Closes #2447 from dguy/KAFKA-4646

commit 47517da40dcb37d91925c1888ce01d06c28ce4cc
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Feb 3 09:10:58 2017 -0800

    KAFKA-4649: Improve test coverage GlobalStateManagerImpl
    
    Add coverage for exception paths in `initialize()`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2452 from dguy/kafka-4649

commit da082900b3d800ba43616706def611df7a00308f
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Fri Feb 3 08:50:20 2017 -0800

    KAFKA-4662: adding test coverage for addSource methods with AutoOffsetReset
    
    …tReset
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #2464 from bbejeck/KAFKA-4662_improve_topology_builder_test_coverage

commit ab4ebb4bb93fbaab432d3f91dbc362d18796c83c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Feb 2 21:36:27 2017 -0800

    MINOR: added upgrade and API changes to docs
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Will Marshall, Damian Guy, Guozhang Wang, Michael G. Noll
    
    Closes #2461 from mjsax/addStreamsUpdateSecton

commit ea70a9bcfc8a9ce317e8fa9b8cc4f7cb1aba26a9
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 2 22:34:53 2017 +0000

    MINOR: Ensure timestamp type is provided when up-converting messages
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2483 from hachikuji/minor-upconvert-timestamp-safety

commit cb674e5487f3f56647546b323dfe4fd45ccf0186
Author: Maysam Yabandeh <myabandeh@dropbox.com>
Date:   Thu Feb 2 22:22:31 2017 +0000

    KAFKA-4039; Fix deadlock during shutdown due to log truncation not allowed
    
    Author: Maysam Yabandeh <myabandeh@dropbox.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2474 from ijuma/kafka-4039-deadlock-during-shutdown

commit 76550dd8956b07f24713f10992fc15aeedabe2c9
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 2 10:49:11 2017 -0800

    KAFKA-4719: Consumption timeout should take into account producer request timeout
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2479 from hachikuji/KAFKA-4719

commit c8baf28545984ef8c88d43899004224c6ef54013
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Feb 2 10:35:58 2017 -0800

    MINOR: Update Streams docs: quickstart and concepts
    
    Added figures for topology and table-stream duality; added sections about aggregations; misc code fixes.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy, Sriram Subramanian
    
    Closes #2482 from guozhangwang/KMinor-streams-docs-first-pass

commit 7436d28a243295ae7c8c3723e97ea43a10f2771c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Feb 2 10:33:33 2017 -0800

    KAFKA-3896: Fix KStream-KStream leftJoin in RepartitionIntegrationTest
    
    The issue of transiently having duplicates is due to the bad design of the left join itself: in order to ignore the partial joined results such as `A:null`, it lets the producer to potentially send twice to source stream one and rely on all the following conditions to be true in order to pass the test:
    
    1. `receiveMessages` happen to have fetched all the produced results and have committed offsets.
    2. streams app happen to have completed sending all result data.
    3. consumer used in `receiveMessages` will complete getting all messages in a single poll().
    
    If any of the above is not true, the test fails.
    
    Fixed this test to add a filter right after left join to filter out partial joined results. Minor cleanup on integration test utils.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy, Ewen Cheslack-Postava
    
    Closes #2485 from guozhangwang/K3896-duplicate-join-results

commit 35cd008e5a1ec89d09f956a6f9952ad834e556d7
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Feb 1 20:30:04 2017 -0800

    KAFKA-4645: Improve test coverage of ProcessorTopology
    
    the toString method prints the topology, but had no tests making sure it works and/or doesn't cause exceptions
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Eno Thereska, Guozhang Wang
    
    Closes #2444 from dguy/KAFKA-4645

commit da70316a588172585a3960f2b0edb0e2d4ba5461
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Feb 1 20:20:31 2017 -0800

    KAFKA-4647: Improve test coverage of GlobalStreamThread
    
    Add a test to ensure a `StreamsException` is thrown when an exception other than `StreamsException` is caught
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2450 from dguy/KAFKA-4647

commit 3e85f131e6af5d2ef34499d0b2aca7afca85d79c
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Feb 1 20:17:06 2017 -0800

    KAFKA-4642: Improve test coverage of ProcessorStateManager
    
    Most of the exception paths weren't covered. Now they are.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2442 from dguy/KAFKA-4642

commit 063d534c5160316cdf22e476d128e872a1412783
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Wed Feb 1 19:55:06 2017 -0800

    KAFKA-3959: enforce offsets.topic.replication.factor upon __consumer_offsets auto topic creation (KIP-115)
    
    Kafka brokers have a config called "offsets.topic.replication.factor" that specify the replication factor for the "__consumer_offsets" topic. The problem is that this config isn't being enforced. If an attempt to create the internal topic is made when there are fewer brokers than "offsets.topic.replication.factor", the topic ends up getting created anyway with the current number of live brokers. The current behavior is pretty surprising when you have clients or tooling running as the cluster is getting setup. Even if your cluster ends up being huge, you'll find out much later that __consumer_offsets was setup with no replication.
    
    The cluster not meeting the "offsets.topic.replication.factor" requirement on the internal topic is another way of saying the cluster isn't fully setup yet.
    
    The right behavior should be for "offsets.topic.replication.factor" to be enforced. Topic creation of the internal topic should fail with GROUP_COORDINATOR_NOT_AVAILABLE until the "offsets.topic.replication.factor" requirement is met. This closely resembles the behavior of regular topic creation when the requested replication factor exceeds the current size of the cluster, as the request fails with error INVALID_REPLICATION_FACTOR.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2177 from onurkaraman/KAFKA-3959

commit 3d9f34dd84a1c802b18874ba365c23713bfb189a
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Feb 1 12:35:59 2017 -0800

    MINOR: Change rocksdb logging to error level
    
    According to the java-doc: https://github.com/facebook/rocksdb/blob/master/java/src/main/java/org/rocksdb/Logger.java#L31 the rocksdb logging level should be set Error or Fatal for production usage.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2477 from dguy/rocks-db-logging

commit cea46135338150e409e140b8b96856e060be8780
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Feb 1 10:25:24 2017 -0800

    MINOR: Update docs for version 0.10.2.0
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2480 from ewencp/docs-version-0.10.2.0

commit 0b48ea1c81f22465cf32a19c012e0fb3c849afcc
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jan 31 20:16:47 2017 -0800

    KAFKA-4677: Avoid unnecessary task movement across threads during rebalance
    
    Makes task assignment more sticky by preferring to assign tasks to clients that had previously had the task as active task. If there are no clients with the task previously active, then search for a standby. Finally falling back to the least loaded client.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2429 from dguy/kafka-4677

commit 82744414d50d28a7bf7b0084118b68a4411c5781
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jan 31 16:06:10 2017 -0800

    KAFKA-4717: Use absolute paths to files in root directory so all jars include LICENSE and NOTICE files
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2473 from ewencp/kafka-4717-connect-license-and-notice-files

commit 5afe959647fcad9d01365427f4b455e1586b1fd5
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jan 31 12:27:00 2017 -0800

    MINOR: Logging improvements in consumer internals
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Manikumar reddy O <manikumar.reddy@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2469 from hachikuji/improve-consumer-logging

commit b948f43278e7641977c07df0069158a61fd3b443
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Tue Jan 31 09:30:29 2017 -0800

    KAFKA-2955; Add a simple ">" prompt to console producer
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang, Gwen Shapira
    
    Closes #1233 from omkreddy/KAFKA-2955

commit e108a8b4ed4512b021f9326cf079517523c83060
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Jan 30 16:32:31 2017 -0800

    KAFKA-4613: Follow-up to fix JavaDocs
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2468 from mjsax/kafka-4613-null-keys-follow-up

commit b559846f2f8151e41a6259e8a570b9422932c836
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Mon Jan 30 15:14:49 2017 -0800

    KAFKA-4613: Treat null-key records the same way for joins and aggreations
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax, Eno Thereska, Damian Guy, Guozhang Wang
    
    Closes #2420 from jeyhunkarimov/KAFKA-4613

commit 413444c0ec01ea51019df436cc1f2b664ac61e5a
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun Jan 29 14:05:34 2017 -0800

    MINOR: JavaDoc markup cleanup
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2462 from mjsax/javaDocImprovements9

commit 84323eea23aa8e1f2485b0ff43b3d316e7b0d06a
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Fri Jan 27 19:36:31 2017 -0800

    KAFKA-4679: Remove unstable markers from Connect APIs
    
    ewencp ignore this PR if you are already started to work on this ticket.
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2423 from baluchicken/KAFKA-4679
    
    (cherry picked from commit 1434b61d5d5511e5297d6ad81e2417db157986aa)
    Signed-off-by: Ewen Cheslack-Postava <me@ewencp.org>

commit 6264cc155757216c878bcce48e02099a9f5a7d6f
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sat Jan 28 01:40:10 2017 +0000

    KAFKA-4450; Add upgrade tests for 0.10.1 and rename TRUNK to DEV_BRANCH to reduce confusion
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2457 from ewencp/kafka-4450-upgrade-tests

commit 8827a5b34ed2a2a570219fb8f29d955918867796
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Sat Jan 28 00:58:35 2017 +0000

    KAFKA-4635; Client Compatibility follow-ups
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2414 from cmccabe/KAFKA-4635

commit 4c42654b1eecebae272dfe5ce018b85ad4db7709
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Jan 27 16:48:44 2017 -0800

    MINOR: update JavaDocs for Kafka Streams DSL helpers
    
     - also deprecate ZK config for Streams
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #2459 from mjsax/javaDocImprovements8

commit aef6927a42cde193dd6acc36cd4d9f32167da622
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jan 27 23:26:09 2017 +0000

    KAFKA-4557; Handle Producer.send correctly in expiry callbacks
    
    When iterating deque for expiring record batches, delay the
    invocation of the callback and deallocation until iteration is
    complete since callbacks invoked during expiry may send more
    records, modifying the deque, resulting in a
    ConcurrentModificationException in the iterator.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2449 from rajinisivaram/KAFKA-4557

commit 1b964396b88b3d6eea3148fe7c8b4b870910cd8b
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Jan 27 14:49:12 2017 -0800

    MINOR: Update copyright year in the NOTICE file.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2460 from ewencp/minor-update-notice-year

commit 4a14adbb63205e052b7620420b306e29320a4343
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Jan 27 12:30:10 2017 +0000

    KAFKA-4664; Update docs/protocol.html with KIP-97 information
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2387 from cmccabe/KAFKA-4664

commit 57f0cb29973bb40e76ed6deb64b934b4b2e0592a
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jan 27 20:30:00 2017 +0000

    KAFKA-4704; Coordinator cache loading fails if groupId is reused for offset storage after group is removed
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2455 from hachikuji/KAFKA-4704

commit 9213de8f14dfd2754d913667ae9a703f76277022
Author: Akash Sethi <akash.sethi@knoldus.in>
Date:   Fri Jan 27 09:45:01 2017 -0800

    MINOR: Replace for within for each; replace if-elseif with match
    
    In some Places for the loop was used but it can be replaced by the for each.
    In One file if else if else was used so I replaced the same with match.
    
    Author: Akash Sethi <akash.sethi@knoldus.in>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2435 from akashsethi24/trunk

commit 662c2f893c95128a9d5033f730f1538d368fd151
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Jan 27 08:47:19 2017 -0800

    KAFKA-4644: Improve test coverage of StreamsPartitionAssignor
    
    Some exception paths not previously covered. Extracted `ensureCopartitioning` into a static class.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2448 from dguy/KAFKA-4644

commit 1bd11b23ab55b25d5669813f47ad1d5670c6ec9c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Jan 27 08:40:53 2017 -0800

    MINOR: Update KTable JavaDoc
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #2438 from mjsax/ktableJavaDocs

commit ec76ea343616df27ae2a4e42f5078e081d5878e2
Author: Kamal C <kamal.chandraprakash@gmail.com>
Date:   Fri Jan 27 12:09:14 2017 +0000

    MINOR: Include more detail in `ConfigDef.parseType` exception message
    
    Author: Kamal C <kamal.chandraprakash@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2345 from Kamal15/trunk

commit 1956b462527972217447c5e2a5743df8547451c1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 27 11:10:28 2017 +0000

    KAFKA-4578; Upgrade notes for 0.10.2.0
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Michael G. Noll
    
    Closes #2445 from ijuma/kafka-4578-upgrade-notes-0.10.2

commit 4277645d25e3be0276cb443a36c7ebaa0638034c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jan 26 21:50:44 2017 -0800

    MINOR: Streams API JavaDoc improvements
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2437 from mjsax/javaDocImprovements7

commit 89fb02aa81fe67f5a506f579e463f30f3020dee5
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jan 26 21:46:37 2017 -0800

    MINOR: Add Streams system test for broker backwards compatibility
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2403 from mjsax/addStreamsClientCompatibilityTest

commit 2f9e9195abada7c2bcbd41147cb9d4c00f3a712d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jan 26 21:27:44 2017 -0800

    MINOR: Close create topics policy during shutdown and more tests
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2443 from ijuma/close-create-topics-policy-during-shutdown

commit a01b72236926d2bcc52dd7d0378147f8fae8117d
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jan 26 21:25:26 2017 -0800

    MINOR: Update JavaDoc for DSL PAPI-API
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2413 from mjsax/javaDocImprovements6

commit ca0c071c108c9fd31a759e1cd1c4f89bdc5ac47e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 27 01:24:39 2017 +0000

    KAFKA-4636; Per listener security settings overrides (KIP-103)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #2406 from ijuma/kafka-4636-per-listener-security-settings

commit 1eac3f33f5de3490046203a8e408970da161b84e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jan 26 16:45:34 2017 -0800

    MINOR: Change logging level for ignored maybeAddMetric from debug to trace
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Xavier Léauté <xavier@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2454 from guozhangwang/KMinor-trace-logging-add-metrics-twice

commit 0c83eddcda8ed1b483a869f0915815204e3faade
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Jan 26 15:04:35 2017 -0800

    MINOR: Escape '<' and '>' symbols in quickstart streams code snippet
    
    This was missing from [an earlier PR](https://github.com/apache/kafka/pull/2247) that escaped these symbols in another section of the doc.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2453 from vahidhashemian/doc/escape_lt_gt_in_streams_code

commit 31716590454e1bdd53a65836741f316bf4715c9d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jan 26 14:18:54 2017 -0800

    KAFKA-4700: Don't drop security configs in `StreamsKafkaClient`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Eno Thereska, Damian Guy, Guozhang Wang
    
    Closes #2441 from ijuma/streams-kafka-client-drops-security-configs

commit dc4d1bb81b37908725e3bcefd21bade9c2297ebd
Author: Jon Freedman <jon.freedman@zoho.com>
Date:   Thu Jan 26 14:17:09 2017 -0800

    MINOR: Update kafka-run-class.bat to handle spaces in classpath
    
    handle existing classpath with spaces
    list each lib dependency individually
    
    Author: Jon Freedman <jon.freedman@zoho.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2433 from jonfreedman/trunk

commit 8301cc608e0e3c334da96b546bf6d943a1704024
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jan 26 20:52:54 2017 +0000

    HOTFIX: Consumer offsets not properly loaded on coordinator failover
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2436 from hachikuji/hotfix-offset-deletion

commit 254e3b77d656a610f19efd1124802e073dfda4b8
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jan 26 09:50:25 2017 -0800

    KAFKA-4699; Invoke producer callbacks before completing the future
    
    This behaviour was changed in 8b3c6c0, but it caused interceptor
    test failures (which rely on callbacks) and since we’re so close to
    code freeze, it’s better to be conservative.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2440 from ijuma/kafka-4699-callbacks-invoked-before-future-is-completed

commit 5b4e299a46a8ee92e450c54880408713606e4f52
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Thu Jan 26 09:24:17 2017 +0000

    KAFKA-4630; Implement RecordTooLargeException when communicating with pre-KIP-74 brokers
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2390 from cmccabe/KAFKA-4630

commit 135488352cbe646334a274418d7014a91e92057f
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jan 26 02:53:59 2017 +0000

    MINOR: Refactor partition lag metric for cleaner encapsulation
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2416 from hachikuji/refactor-partition-lag-cleanup

commit 51e745ef30c777009c2d1f75965e63a3fe7bb474
Author: Will Marshall <wcm214@gmail.com>
Date:   Wed Jan 25 18:01:37 2017 -0800

    MINOR: Fix typo in WordCountProcessorDemo
    
    `bin-kafka-console-producer.sh` should be `bin/kafka-console-producer.sh`.
    
    Author: Will Marshall <wcm214@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2410 from wmarshall484/typo-fix

commit 9a7032720f4600099b130a0bb7b578cedc83e5ff
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Jan 25 18:00:14 2017 -0800

    MINOR: Clarify misleading comment in WordCount example
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2400 from gwenshap/wordcount-comment

commit e9426291aa989ac2624905b844724eeffa608773
Author: Xi Hu <huxi@zhenrongbao.com>
Date:   Wed Jan 25 17:53:51 2017 -0800

    KAFKA-4684: add kafka-configs.bat for Windows boxes
    
    Add kafka-configs.bat script for Windows.
    
    Author: huxi <huxi@zhenrongbao.com>
    
    Reviewers: Guozhang Wang, Vahid Hashemian
    
    Closes #2419 from amethystic/kafka4684_offer_kafkaconfigs_script

commit 8b3c6c0a1c1bb8f098a7013dbf9c2cb97720e106
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jan 25 17:25:10 2017 -0800

    KAFKA-4597; RecordMetadata should return log append time when appropriate
    
    There is a slight change of behaviour: we now complete the `Future` returned from `send`
    before the callbacks are invoked. This seems OK and perhaps a little better as the `Future`
    can make progress sooner (as it would typically be blocked on a different thread than the
    I/O thread that invokes the callbacks).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2318 from ijuma/kafka-4597-record-metadata-log-append-time

commit 23f6951961060ad9a07b42f392470a227269e65a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jan 25 16:51:58 2017 -0800

    KAFKA-4698; VerifyError in kafka/client/ClientUtils due to -target:jvm-1.7
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2434 from ijuma/kafka-4698-target-1.7-verify-error

commit 0971e62e50b94a74aae170fb49d1e532e39b2136
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Jan 25 11:40:17 2017 -0800

    HOTFIX: KIP-104 follow-up: remove duplicated per-processor-node throughput metrics, and also rename some other sensors
    
    This is the HOTFIX PR for any issues detected with KIP-104 until code freeze. Note: do not merge until close to code freeze.
    
    The name changes reflect feedback received while writing the documentation.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Dan Norwood, Guozhang Wang
    
    Closes #2398 from enothereska/hotfix-streams-metrics

commit 2ca3e59bb6054cc8ecf6926a74859efe3df000ba
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jan 25 11:11:21 2017 -0800

    KAFKA-3502: KStreamTestDriver needs to be closed after the test case
    
    Found a few recently added unit tests did not close KStreamTestDriver after the test itself is closed; this can cause RocksDB virtual function called if the contained topology has some persistent store since they will be initialized but not closed in time.
    
    MINOR fix: found that when closing KStreamTestDriver, we need to first flushing all stores before closing any of them; this is triggered from the `KTableKTableLeftJoin.shouldNotThrowIllegalStateExceptionWhenMultiCacheEvictions`.
    
    MINOR fix: in CachingXXXStore, the `name` field is actually used as the cache's namespace, not really the store name or its corresponding topic name. Fixed it by renaming it to `cacheName` and use `this.name()` elsewhere which will call the underlying store's name.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Eno Thereska, Damian Guy
    
    Closes #2432 from guozhangwang/K3502-kstream-builder-test

commit b22a4f0782d0f4d3e07075403e8e5dc318d8d387
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Jan 25 08:17:50 2017 -0800

    KAFKA-2000; Delete topic should also delete consumer offsets.
    
    Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #1850 from omkreddy/KAFKA-2700-DELETE

commit b8c3b7c964c6167be7f8ad72c96733dfa0d648a2
Author: Ben Stopford <benstopford@gmail.com>
Date:   Wed Jan 25 12:23:57 2017 +0000

    KAFKA-4596; Throttled reassignment should support partial JSON file
    
    Fixes a logic error in the Reassignment process which throws an exception
    if you don't rebalance all partitions.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2399 from benstopford/KAFKA-4596

commit 448c1a4114798892bef60d44199a07a86fc4505a
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Jan 24 19:36:08 2017 -0800

    HOTIFX: streams system test do not start up correctly
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang, Damian Guy, Eno Thereska
    
    Closes #2428 from mjsax/hotfixSystemTests

commit abe19fe693d81ea65a018041f157c58ebecd014d
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Tue Jan 24 16:36:31 2017 -0800

    KAFKA-3835; Streams is creating two ProducerRecords for each send via RecordCollector
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2417 from jeyhunkarimov/KAFKA-3835

commit 63cf0e58775b8f0b4abf907866bd7c955500902c
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Jan 24 16:24:19 2017 -0800

    MINOR: Update consumer group describe output in the documentation
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2409 from vahidhashemian/doc/update_consumer_group_describe_output

commit 675881b0f1138c6c09ff4700b17f008ea9053aa4
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jan 24 15:40:45 2017 -0800

    MINOR: close state store in CachingSessionStoreTest
    
    close the sessions store in `After` to release rocksdb resources.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2430 from dguy/minor-close-sesion-store

commit 2a5db4d6c46fbc9c42cdaef1da19cdbda945a3d3
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 24 15:17:26 2017 -0800

    trivial change to clarify comments in KAFKA-4229

commit 3f0168cd35c1baaa5a032e9a534f28a1bd9221b9
Author: pengwei-li <pengwei.li@huawei.com>
Date:   Tue Jan 24 13:56:30 2017 -0800

    KAFKA-4229; Controller can't start after several zk expired event
    
    Author: pengwei <pengwei.lihuawei.com>
    
    Reviewers: wangguoz.gmail.com
    
    Author: pengwei-li <pengwei.li@huawei.com>
    Author: c00353482 <c00353482@huaweiobz.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2175 from pengwei-li/trunk

commit 9b8d99b1b866a90b07c8a9a61fe79a75d01ae272
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jan 24 13:19:03 2017 -0800

    KAFKA-4673: Fix thread-safety of Python VerifiableConsumer class
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2427 from ewencp/kafka-4673-verifiable-consumer-thread-safety

commit 8dfb8afb93f3f1026f868466edb66a4cc63b4455
Author: Andrew Olson <aolson1@cerner.com>
Date:   Tue Jan 24 20:20:30 2017 +0000

    KAFKA-4687; Fix InvalidTopicException due to topic creation race condition
    
    We now throw the correct TopicExistsException instead.
    
    Author: Andrew Olson <aolson1@cerner.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2425 from noslowerdna/KAFKA-4687

commit 3df60e7eb8b6fb38cd560708f5b909a9b2e61de2
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Jan 24 20:06:35 2017 +0000

    KAFKA-4548; Add ClientCompatibilityTest to verify features against older brokers
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2262 from cmccabe/KAFKA-4548

commit 7837d3e54850fc6ecd16f9bc4dd28a02779572c2
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jan 24 12:00:35 2017 -0800

    KAFKA-3896: Fix KStreamRepartitionJoinTest
    
    The root cause of this issue is that in InternalTopicManager we are creating topics one-at-a-time, and for this test, there are 31 topics to be created, as a result it is possible that the consumer could time out during the assignment in rebalance, and the next leader has to do the same again because of "makeReady" calls are one-at-a-time.
    
    This patch batches the topics into a single create request and also use the StreamsKafkaClient directly to fetch metadata for validating the created topics. Also optimized a bunch of inefficient code in InternalTopicManager and StreamsKafkaClient.
    
    Minor cleanup: make the exception message more informative in integration tests.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Jason Gustafson
    
    Closes #2405 from guozhangwang/K3896-fix-kstream-repartition-join-test

commit b938c03b0aa7a0cebdaad0cbb22689cc719c6ebc
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Jan 24 11:02:34 2017 -0800

    MINOR: rework JavaDoc for windowing related public API
    
     - also some code refactoring and bug fixes
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2337 from mjsax/javaDocImprovements4

commit 3bb0d3cd888c29a002400253d9ff84ce73ebc03c
Author: Dana Powers <dana.powers@gmail.com>
Date:   Tue Jan 24 12:41:21 2017 +0000

    MINOR: Add expected Error Codes to ProduceResponse documentation
    
    This is a documentation-only patch discussed on the mailing list. The
    intent is to have these changes propagated to the protocol wiki
    (https://cwiki.apache.org/confluence/display/KAFKA/A+Guide+To+The+Kafka+Protocol) .
    
    Author: Dana Powers <dana.powers@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #918 from dpkp/produce_response_errors

commit 567180605c0a8cf74b8d2cad52e2873c83065a95
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Tue Jan 24 11:09:47 2017 +0000

    KAFKA-4688; Kafka 0.10.1.1 should be available in system tests
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2424 from cmccabe/KAFKA-4688

commit 337f576f5979bf8924c5707b338cf4d3c76a53fd
Author: huxi <huxi@zhenrongbao.com>
Date:   Tue Jan 24 10:04:42 2017 +0000

    KAFKA-4576; Log segments close to max size break on fetch
    
    `FileChannel.read` may not fill the destination buffer even if there
    are enough bytes in the channel to do so. Add a couple of utility
    methods that ensure this and use them from all the relevant places.
    
    Author: huxi <huxi@zhenrongbao.com>
    Author: amethystic <huxi_2b@hotmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2304 from amethystic/kafka4576_FileChannel_read

commit bf5aebadb54dd67d27e85cda0109bfc40f7e2883
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jan 23 16:42:50 2017 -0800

    MINOR: Add offset information to consumer_test error messages
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2426 from hachikuji/improve-consumer-test-error-messages

commit 79987590e3e96351ff75ce86718801ec605b2419
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Jan 23 16:31:36 2017 -0800

    KAFKA-4671: Fix Streams window retention policy
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2401 from mjsax/kafka-4671-window-retention-policy

commit 3400d0c3cc07d5d3136bf9a19142b36cca93f92d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jan 23 10:45:45 2017 -0800

    KAFKA-4633; Always using regex pattern subscription in StreamThread
    
    1. In StreamThread, always use subscribe(Pattern, ..) function in order to avoid sending MetadataRequest with specific topic names and cause brokers to possibly auto-create subscribed topics; the pattern is generated as "topic-1|topic-2..|topic-n".
    
    2. In ConsumerCoordinator, let the leader to refresh its metadata if the generated assignment contains some topics that is not contained in the subscribed topics; also in SubscriptionState, modified the verification for regex subscription to against the regex pattern instead of the matched topics since the returned assignment may contain some topics not yet created when joining the group but existed after the rebalance; also modified some unit tests in `KafkaConsumerTest` to accommodate the above changes.
    
    3. Minor cleanup: changed String[] to List<String> to avoid overloaded functions.
    
    4. Minor cleanup: enforced strong typing in SinkNodeFactory and removed unnecessary unchecked tags.
    
    5. Minor cleanup: augmented unit test error message and fixed a potential transient failure in KafkaStreamTest.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2379 from guozhangwang/K4633-regex-pattern

commit 62206de4e52dbec32b99baffa0ebf7f5303d7b7f
Author: Hojjat Jafarpour <hojjat@Hojjat-Jafarpours-MBP.local>
Date:   Mon Jan 23 10:21:06 2017 -0800

    KAFKA-4060 Follow-up: update docs accordingly
    
    Updated the docs with changes in KAFKA-4060.
    
    Author: Hojjat Jafarpour <hojjat@Hojjat-Jafarpours-MBP.local>
    Author: Hojjat Jafarpour <hojjat@HojjatJpoursMBP.attlocal.net>
    
    Reviewers: Ismael Juma, Matthias J. Sax, Guozhang Wang
    
    Closes #2377 from hjafarpour/KAFKA-4060-docs-update

commit dd897bdb2e9cc8790d1e0494fb7867a5cd09ecc6
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Jan 23 09:34:52 2017 -0800

    HOTFIX: KAFKA-4060 and KAFKA-4476 follow up
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2418 from mjsax/kafka-4060-zk-test-follow-up

commit a321750646733aa0a2e6346b5e785a4dd5d7675c
Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
Date:   Mon Jan 23 16:17:55 2017 +0000

    MINOR: Improve scaladoc for Authorizer
    
    Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2151 from reftel/feature/authorizer_name_reference

commit 1eb1e2f60ae006144757fc9fc10ab423c58970bb
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Jan 23 14:45:30 2017 +0000

    MINOR: Pass RecordingLevel to MetricConfig in the broker
    
    This is a KIP-104/105 follow-up. Thanks to ijuma for pointing out.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2350 from enothereska/minor-broker-level-config

commit 22782ccfc47af219ee50d61549558a5eeb83efe5
Author: Vogeti <svogeti@BANL149adbd9b.local>
Date:   Sun Jan 22 23:07:48 2017 +0000

    MINOR: Empty logDirs validation should include error message
    
    Author: Vogeti <svogeti@BANL149adbd9b.local>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2407 from vogetihrsh/KAFKA-4520

commit 20e957c9b1f389621bb8ae9e9f5554b66cd92a4f
Author: Xavier Léauté <xavier@confluent.io>
Date:   Sat Jan 21 14:10:01 2017 -0800

    KAFKA-4672; fix source compatibility for lambda expressions
    
    Variance changes introduced in KIP-100 cause compilation failures with lambda expression in Java 8. To my knowledge this only affects the following method
    
    `KStreams.transform(TransformerSupplier<...>, String...)`
    
    prior to the changes it was possible to write:
    
    `streams.transform(MyTransformer::new)`
    
    where `MyTransformer` extends `Transformer`
    
    After the changes the Java compiler is unable to infer correct return types for the lambda expressions. This change fixed this by reverting to invariant return types for transformer suppliers.
    
    please cherry-pick into 0.10.2.x
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ismael Juma, Damian Guy, Guozhang Wang
    
    Closes #2402 from xvrl/lambdas-oh-my

commit 0b99bea590842018e8e97e7fd1c71b1471db4d08
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sat Jan 21 13:18:39 2017 -0800

    KAFKA-4060 and KAFKA-4476 follow up: remove unnecessary InternalTopicManager branch and fixed one copartitioning bug
    
    ZK removed reveal a bug in `StreamPartitionAssigner` but did not fix it properly. This is a follow up bug fix.
    
    Issue:
     - If topic metadata is missing, `StreamPartitionAssigner` should not create any affected tasks that consume topics with missing metadata.
     - Depending downstream tasks should not be create either.
     - For tasks that are not created, no store changelog topics (if any) should get created
     - For tasks that write output to not-yet existing internal repartitioning topics, those repartitioning topics should not get created
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2404 from mjsax/kafka-4060-zk-test-follow-up

commit a8aa75616602363847848f004fd0b1a36d0de78c
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Fri Jan 20 16:15:15 2017 -0800

    KAFKA-3209: KIP-66: more single message transforms
    
    Renames `HoistToStruct` SMT to `HoistField`.
    
    Adds the following SMTs:
    `ExtractField`
    `MaskField`
    `RegexRouter`
    `ReplaceField`
    `SetSchemaMetadata`
    `ValueToKey`
    
    Adds HTML doc generation and updates to `connect.html`.
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2374 from shikhar/more-smt

commit 50e035dc341bb595decbac0851354a10c90b0e06
Author: Xavier Léauté <xavier@confluent.io>
Date:   Fri Jan 20 11:07:57 2017 -0800

    MINOR: reduce verbosity of cache flushes
    
    This log message tends to be extremely verbose when state stores are being restored
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2412 from xvrl/reduce-verbosity

commit a37bf5fffa4a607ded14ec055276d76f19df2d50
Author: Sandesh K <sandesh.karkera@flipkart.com>
Date:   Thu Jan 19 17:46:59 2017 -0800

    KAFKA-4432; Added support to supply custom message payloads to perf-producer script.
    
    Current implementation of ProducerPerformance creates static payload. This is not very useful in testing compression or when you want to test with production/custom payloads. So, we decided to add support for providing payload file as an input to producer perf test script.
    
    We made the following changes:
    1. Added support to provide a payload file which can have the list of payloads that you actually want to send.
    2. Moved payload generation inside the send loop for cases when payload file is provided.
    
    Following are the changes to how the producer-performance is evoked:
    1. You must provide "--record-size" or "--payload-file" but not both. This is because, record size cannot be guaranteed when you are using custom events.
      e.g. ./kafka-producer-perf-test.sh --topic test_topic --num-records 100000 --producer-props bootstrap.servers=127.0.0.1:9092 acks=0 buffer.memory=33554432 compression.type=gzip batch.size=10240 linger.ms=10 --throughput -1 --payload-file ./test_payloads --payload-delimiter ,
    2. Earlier "--record-size" was a required config, now you must provide exactly one of "--record-size" or "--payload-file". Providing both will result in an error.
    3. Support for an additional parameter "--payload-delimiter" has been added which defaults to "\n"
    
    Author: Sandesh K <sandesh.karkera@flipkart.com>
    
    Reviewers: dan norwood <norwood@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #2158 from SandeshKarkera/PerfProducerChanges

commit 813897a00653351710d37acbbb598235e86db824
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Jan 19 16:35:12 2017 -0800

    KAFKA-4547; Avoid incorrect reset of paused partitions to the committed offsets
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2341 from vahidhashemian/KAFKA-4547

commit 5fc530bc483db145e0cba3b63a57d6d6a7c547f2
Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
Date:   Thu Jan 19 09:47:34 2017 -0800

    KAFKA-4614; Forcefully unmap mmap of OffsetIndex to prevent long GC pause
    
    Issue: https://issues.apache.org/jira/browse/KAFKA-4614
    
    Fixes the problem that the broker threads suffered by long GC pause.
    When GC thread collects mmap objects which were created for index files, it unmaps memory mapping so kernel turns to delete a file physically. This work may transparently read file's metadata from physical disk if it's not available on cache.
    This seems to happen typically when we're using G1GC, due to it's strategy to left a garbage for a long time if other objects in the same region are still alive.
    See the link for the details.
    
    Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>,
    
    Closes #2352 from kawamuray/KAFKA-4614-force-munmap-for-index

commit 666abafcc54f8cab64912355dba4c8ada8e44827
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Jan 19 08:35:39 2017 -0800

    KAFKA-4589; SASL/SCRAM documentation
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Gwen Shapira <cshapi@gmail.com>, Sriharsha Chintalapani <harsha@hortonworks.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2369 from rajinisivaram/KAFKA-4589

commit 8e2cbae8b12cd71f99f13953b744163f68021323
Author: Hojjat Jafarpour <hojjat@Hojjat-Jafarpours-MBP.local>
Date:   Wed Jan 18 15:53:17 2017 -0800

    KAFKA-4060; Follow-up: Throw exceptions when internal topics to create already exist with unexpected number of partitions
    
    Re-branched the trunk and applied the changes to the new branch to simplify commit log.
    
    Author: Hojjat Jafarpour <hojjat@Hojjat-Jafarpours-MBP.local>
    
    Reviewers: Ismael Juma, Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2389 from hjafarpour/KAFKA-4060-Remove-ZkClient-dependency-in-Kafka-Streams-followup-from-trunk
    
    Address Ismael's comments upon merging

commit 4a6f2c6cc0647a08f016a2d712a01ec02630cf87
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Jan 18 22:45:57 2017 +0000

    KAFKA-4457; Add BrokerApiVersionsCommand
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Apurva Mehta <apurva.1618@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2184 from cmccabe/KAFKA-4457

commit d8a77560c2fa2c209353e3ba2366ad3d4cfdf22c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jan 18 11:55:23 2017 -0800

    MINOR: refactor streams system test class hierachy
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2392 from mjsax/minor-system-test-rework

commit 961ebca57fdd4f8f84df8cf26a835f07ea1718c9
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Jan 18 09:19:06 2017 -0800

    HOTFIX: ChangeLoggingKeyValueStore.name() returns null
    
    This class doesn't need to override this method as it is handled appropriately by the super class
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2397 from dguy/hotfix-npe-state-store

commit ccb183f9fca20a37b9b39761dedcd197e3cf2033
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Jan 18 15:17:05 2017 +0000

    MINOR: Fix javadoc typos in KStream#process
    
    interface for `Processor` in comments incorrectly had `transform` rather than `process`.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2396 from dguy/minor-javadoc

commit 4c492975a05e4a646f7140c560ed403c48925331
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jan 18 11:05:58 2017 +0000

    KAFKA-4568; Simplify test code for multiple SASL mechanisms
    
    Remove workaround for testing multiple SASL mechanisms using
    sasl.jaas.config and the new support for multiple client
    modules within a JVM.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2373 from rajinisivaram/KAFKA-4568

commit 1974e1b0e54abe5fdebd8ff3338df864b7ab60f3
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jan 17 20:29:55 2017 -0800

    KAFKA-3502; move RocksDB options construction to init()
    
    In RocksDBStore, options / wOptions / fOptions are constructed in the constructor, which needs to be dismissed in the close() call; however in some tests, the generated topology is not initialized at all, and hence the corresponding state stores are supposed to not be able to be closed as well since their `init` function is not called. This could cause the above option objects to be not released.
    
    This is fixed in this patch to move the logic out of constructor and inside `init` functions, so that no RocksDB objects will be created in the constructor only. Also some minor cleanups:
    
    1. In KStreamTestDriver.close(), we lost the logic to close the state stores but only call `flush`; it is now changed back to call both.
    2. Moved the forwarding logic from KStreamTestDriver to MockProcessorContext to remove the mutual dependency: these functions should really be in ProcessorContext, not the test driver.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2381 from guozhangwang/K3502-pure-virtual-function-unit-tests

commit fd6d7bcf335166a524dc9a29a50c96af8f1c1c02
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jan 18 02:43:10 2017 +0000

    KAFKA-4591; Create Topic Policy follow-up
    
    1. Added javadoc to public classes
    2. Removed `s` from config name for consistency with interface name
    3. The policy interface now implements Configurable and AutoCloseable as per the KIP
    4. Use `null` instead of `-1` in `RequestMetadata`
    5. Perform all broker validation before invoking the policy
    6. Add tests
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2388 from ijuma/create-topic-policy-docs-and-config-name-change

commit e3bdc84d864a5ca655f985473770f7b7cb24b79b
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Jan 17 18:14:43 2017 -0800

    MINOR: remove ZK from system tests
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2391 from mjsax/kafka-4060-zk-follow-up-system-tests

commit 73b7ae0019d387407375f3865e263225c986a6ce
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jan 17 14:13:46 2017 -0800

    KAFKA-3452 Follow-up: Refactoring StateStore hierarchies
    
    This is a follow up of https://github.com/apache/kafka/pull/2166 - refactoring the store hierarchies as requested
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2360 from dguy/state-store-refactor

commit 825f225bc5706b16af8ec44ca47ee1452c11e6f3
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jan 17 12:33:11 2017 -0800

    KAFKA-4588: Wait for topics to be created in QueryableStateIntegrationTest.shouldNotMakeStoreAvailableUntilAllStoresAvailable
    
    After debugging this i can see the times that it fails there is a race between when the topic is actually created/ready on the broker and when the assignment happens. When it fails `StreamPartitionAssignor.assign(..)` gets called with a `Cluster` with no topics. Hence the test hangs as no tasks get assigned. To fix this I added a `waitForTopics` method to `EmbeddedKafkaCluster`. This will wait until the topics have been created.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2371 from dguy/integration-test-fix

commit 3f6c4f63c9c17424cf717ca76c74554bcf3b2e9a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jan 17 18:42:55 2017 +0000

    KAFKA-4580; Use sasl.jaas.config for some system tests
    
    Switched console_consumer, verifiable_consumer and verifiable_producer to use new sasl.jaas_config property instead of static JAAS configuration file when used with SASL_PLAINTEXT.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2323 from rajinisivaram/KAFKA-4580

commit 7a84b241eeb8cb63400a9512b066c3f733f94b8c
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Jan 17 10:42:05 2017 -0800

    MINOR: Some cleanups and additional testing for KIP-88
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2383 from hachikuji/minor-cleanup-kip-88

commit 55abe65e0996008d54bd5bb8440906ac4a359937
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jan 17 12:55:07 2017 +0000

    KAFKA-4590; SASL/SCRAM system tests
    
    Runs sanity test and one replication test using SASL/SCRAM.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2355 from rajinisivaram/KAFKA-4590

commit b4d8668d6d47fca8cc6de4f550d703cd8926c436
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jan 17 11:16:29 2017 +0000

    KAFKA-4363; Documentation for sasl.jaas.config property
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2316 from rajinisivaram/KAFKA-4363

commit b62804a252b96932952006a483b3afd7da7363ab
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Jan 16 11:40:47 2017 -0800

    MINOR: Remove unused constructor param from ProcessorStateManager
    
    Remove applicationId parameter as it is no longer used.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2385 from dguy/minor-remove-unused-param

commit 6e42ce8fe8035872af2815368f707abf6e6ad8b5
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Jan 16 11:16:58 2017 -0800

    Bump version to 0.10.3.0-SNAPSHOT

commit a8eb1d13e0d962ca3bb3f7708cbf92bd97b54ffd
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Jan 16 11:24:20 2017 -0800

    KAFKA-4619: Dissallow to output records with unknown keys in TransformValues
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2346 from mjsax/kafka-4619-fixTransformValues

commit b712b8675d6977a9171edc6569cf382ffcd91354
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jan 16 10:56:03 2017 +0000

    KAFKA-4622; Consumer should handle group authorization errors in offset fetch
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2384 from hachikuji/KAFKA-4622

commit d2f6b934bcbd8feca561e050ff8e18d0a4db7d61
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun Jan 15 09:55:11 2017 +0000

    MINOR: replace remove() with delete() after 5.0.1 RocksDB upgrade
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2380 from guozhangwang/KMinor-remove-deprecated-rocksDB

commit da57bc27e7cb52cb1e817010ed5101188cbeb68e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 13 19:45:49 2017 -0800

    KAFKA-4591; Create Topic Policy (KIP-108)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Gwen Shapira <cshapi@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2361 from ijuma/kafka-4591-create-topic-policy

commit bc61d9bee67f7f6d403f834a80b517e59405930b
Author: Kiran Pillarisetty <pillarisetty@tivo.com>
Date:   Fri Jan 13 21:30:10 2017 -0500

    KAFKA-3857; Additional log cleaner metrics
    
    Fixes KAFKA-3857
    
    Changes proposed in this pull request:
    
    An additional log cleaner metric has been added:
    time-since-last-run-ms: Time since the last log cleaner run, in milliseconds.  This metric would be reset to 0 every time log cleaner thread runs. If this metric keeps constantly increasing, it indicates that the log cleaner thread is not alive.
    
    If you are creating alerts around log cleaner, you could monitor this metric. A high "time-since-last-run-ms" value (eg: 600000) indicates that the log cleaner hasn't been running since the last 10 minutes.
    
    The code has been tested. JMX metric has been verified.
    
    Note: This pull request is a continuation of the following pull request.  PR#1593 was quite old and I had some trouble rebasing it. Decided to start a fresh PR.
    
    https://github.com/apache/kafka/pull/1593/files/927b28cf41275874945beb7377f7f36c462f27c8#diff-ca1c127eee4b3c748ae73028f6abeab8
    
    Author: Kiran Pillarisetty <pillarisetty@tivo.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2378 from kiranptivo/log_cleaner_jmx_metric

commit c2d9b95f36a9bb853bb3851696161d7f7f790bec
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Jan 13 17:00:03 2017 -0800

    KAFKA-3853; Extend OffsetFetch API to allow fetching all offsets for a consumer group (KIP-88)
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2074 from vahidhashemian/KAFKA-3853

commit 88fdca26a0881d12e9f3ba942cd580c8e8154025
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Jan 13 11:38:25 2017 -0800

    KAFKA-4381: Add per partition lag metrics to the consumer
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2329 from becketqin/KAFKA-4381

commit e90db3e3af0718a80d729809186d45076e71a241
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jan 13 11:28:40 2017 -0800

    MINOR: Remove unnecessary store info from TopologyBuilder
    
    This PR is extracted from https://github.com/apache/kafka/pull/2333 as an incremental fix to ease the reviewing:
    
    1. Removed `storeToProcessorNodeMap` from ProcessorTopology since it was previously used to set the context current record, and can now be replaced with the dirty entry in the named cache.
    
    2. Replaced `sourceStoreToSourceTopic` from ProcessorTopology with `storeToChangelogTopic` map, which includes the corresponding changelog topic name for all stores that are changelog enabled.
    
    3. Modified `ProcessorStateManager` to rely on `sourceStoreToSourceTopic` when retrieving the changelog topic; this makes the second parameter `loggingEnabled` in `register` not needed any more, and we can deprecate the old API with a new one.
    
    4. Also fixed a minor issue in `KStreamBuilder`: if the storeName is not provided in the `table(..)` function, do not create the underlying materialized store. Modified the unit tests to cover this case.
    
    5. Fixed a bunch of other unit tests failures that are exposed by this refactoring, in which we are not setting the applicationId correctly when constructing the mocking processor topology.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Ewen Cheslack-Postava
    
    Closes #2338 from guozhangwang/KMinor-refactor-state-to-changelogtopic

commit fc0d612b0806032675b433a48f56ccd04f7e52cf
Author: Xi Hu <huxi@zhenrongbao.com>
Date:   Fri Jan 13 11:13:16 2017 -0800

    KAFKA-3739: Add no-arg constructor for WindowedSerdes in Streams
    
    Add default constructor for library provided serdes
    
    Author: huxi <huxi@zhenrongbao.com>
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2308 from amethystic/kafka3739_add_noarg_constructor_for_streaming_serdes

commit d1956d4b6c3ab30cba78bc6f6034ec20303e4801
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Jan 13 11:11:17 2017 -0800

    HOTFIX: Added another broker to smoke test
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2362 from enothereska/hotfix-smoke-test-2-brokers

commit f6fee34a2d6315cd25855b9805e2f4129e24e5c3
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jan 13 11:09:26 2017 -0800

    KAFKA-4627; Fix timing issue in consumer close tests
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2367 from rajinisivaram/KAFKA-4627

commit 6496271a11003195d703292a68c6a6c04e56d79d
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jan 13 19:04:57 2017 +0000

    MINOR: Remove unneeded client used API lists
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Gwen Shapira <cshapi@gmail.com>, Apurva Mehta <apurva.1618@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2372 from hachikuji/minor-cleanup-used-apis

commit 7a61ce4cf40c0a9c75fab4757722010576d3f18d
Author: Emanuele Cesena <emanuele.cesena@gmail.com>
Date:   Fri Jan 13 10:22:38 2017 -0800

    MINOR: Cluster file generator should produce valid json
    
    This way, if the ${KAFKA_NUM_CONTAINERS} is changed in docker/run_tests.sh, the json is still valid
    
    Author: Emanuele Cesena <emanuele.cesena@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2370 from 0x0ece/patch-1

commit d25671884bbbdf7843ada3e7797573a00ac7cd56
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 13 10:00:06 2017 -0800

    KAFKA-4565; Separation of Internal and External traffic (KIP-103)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2354 from ijuma/kafka-4565-separation-of-internal-and-external-traffic

commit 80d6c64c1b83c25e11e653abb0356f1cbcbba6e8
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jan 13 09:32:46 2017 -0800

    KAFKA-4626; Add KafkaConsumer#close change to upgrade notes
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2366 from rajinisivaram/KAFKA-4626

commit 8d9d847904e28759b44ffc87752802e8e6f1f659
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jan 13 10:34:15 2017 +0000

    KAFKA-4581; Fail early if multiple client login modules in sasl.jaas.config
    
    Validate and fail client connection if multiple login modules are specified in sasl.jaas.config to avoid harder-to-debug authentication failures later on.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2356 from rajinisivaram/KAFKA-4581

commit 2eb32d6a70bcdef86bf87f9afd56b70de9df505e
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jan 13 02:31:19 2017 +0000

    MINOR: Minor improvements in consumer close timeout handling
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2348 from hachikuji/minor-cleanup-for-kip-102

commit 2b6ba55c73b72fb3bfb6ebb2e2c8507cbacd5690
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Jan 13 02:20:58 2017 +0000

    MINOR: Remove unnecessary options in SCRAM test jaas config
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2353 from rajinisivaram/minor-scram

commit ad8ddf737aea629b607693dbb2ee631937db698f
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Thu Jan 12 17:09:30 2017 -0800

    MINOR: avoid closing over both pre & post-transform record in WorkerSourceTask
    
    Followup to #2299 for KAFKA-3209
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2365 from shikhar/2299-followup

commit b6011918fbc36bfaa465bdcc750e2435985d9101
Author: Xavier Léauté <xavier@confluent.io>
Date:   Thu Jan 12 16:20:05 2017 -0800

    MINOR: make methods introduced in KAFKA-4490 consistent with KIP-100
    
    and remove some unnecessary SuppressWarnings annotations
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #2363 from xvrl/kip-100-followup

commit 2f904883237c476fd82a202f7ddda93fe56eef36
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Thu Jan 12 16:14:53 2017 -0800

    KAFKA-3209: KIP-66: single message transforms
    
    Besides API and runtime changes, this PR also includes 2 data transformations (`InsertField`, `HoistToStruct`) and 1 routing transformation (`TimestampRouter`).
    
    There is some gnarliness in `ConnectorConfig` / `ConfigDef` around creating, parsing and validating a dynamic `ConfigDef`.
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2299 from shikhar/smt-2017

commit a1e8b507d274f03f542866d72b14d9d664acfad0
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jan 12 15:44:23 2017 -0800

    MINOR: fix JavaDoc in SegmentIterator
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2364 from mjsax/hotfix

commit 8079c980ac5c9c00d7577fa05857b4de6864dbb5
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Jan 12 11:46:02 2017 -0800

    KAFKA-4490: Add Global Table support to Kafka Streams
    
    Add Global Tables to KafkaStreams. Global Tables are fully replicated once-per instance of KafkaStreams. A single thread is used to update them. They can be used to join with KStreams, KTables, and other GlobalKTables. When participating in a join a GlobalKTable is only ever used to perform a lookup, i.e., it will never cause data to be forwarded to downstream processor nodes.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Eno Thereska, Guozhang Wang
    
    Closes #2244 from dguy/global-tables

commit c063172c23394db94320bf095f15f82999da321b
Author: dasl <dasl-@users.noreply.github.com>
Date:   Thu Jan 12 11:28:46 2017 -0800

    MINOR: Fix error in design docs
    
    Author: dasl <dasl-@users.noreply.github.com>
    
    Reviewers: Gwen Shapira
    
    Closes #2357 from dasl-/trunk

commit 7ff407eaa2761d8f86f39cf99e703634761e038c
Author: Lihua Xin <xin.lihua1@zte.com.cn>
Date:   Thu Jan 12 11:25:17 2017 -0800

    KAFKA-4603: Fixed the argument of shell in doc
    
        KAFKA-4603 the argument of shell in doc wrong and command parsed error
        In "7.6.2 Migrating clusters" of document security.html, the argument "--zookeeper.connection" of shell "zookeeper-security-migrat.sh"   is wrong  and the using of OptionParser is not correct
        This patch corrected the doc and changed the OptionParser constructor
    
    Author: auroraxlh <xin.lihua1@zte.com.cn>
    
    Reviewers: Xi Hu <huxi_2b@hotmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2322 from auroraxlh/my-issue

commit 3c60511655df3349323e394bdc3836300991352f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jan 11 20:33:42 2017 -0800

    KAFKA-3452; Follow-up: Add SessionWindows
    
     - TimeWindows represent half-open time intervals while SessionWindows represent closed time intervals
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2342 from mjsax/kafka-3452-session-window-follow-up

commit 23dff4b04a4c4cd338b5f39c9bb7d384857c482c
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Jan 11 20:30:47 2017 -0800

    KAFKA-4114: Allow different offset reset strategies
    
    mjsax
    
    Here's my first pass at finer grained auto offset reset strategies.
    
    I've left TODO comments about whether we want to consider adding this to `KGroupedTable.aggregate` and `KStreamImpl` when re-partitioning a source.
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2007 from bbejeck/KAFKA-4114_allow_different_offset_reset_strategies

commit 6508e63c7ab1fbabb322754fabf41eb75bbbcec2
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Wed Jan 11 22:01:34 2017 +0000

    KAFKA-4180; Support clients with different authentication credentials in the same JVM
    
    Changed caching in LoginManager to allow one LoginManager per client
    JAAS configuration.
    
    Added test to End2EndAuthorization for SASL Plain and GSSAPI with two
    consumers with different credentials.
    
    Developed with mimaison.
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2293 from edoardocomar/KAFKA-4180d

commit f72203ee9223d3b724ee67bdad9912612dd72f63
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jan 11 15:56:44 2017 -0800

    KAFKA-4426; Add close with timeout for KafkaConsumer (KIP-102)
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva.1618@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2285 from rajinisivaram/KAFKA-4426

commit ecff8544dd45e8cf0fcf04f5e0e716d3e21c9f20
Author: Eno Thereska <eno@confluent.io>
Date:   Wed Jan 11 11:34:58 2017 -0800

    KAFKA-3715: Add granular metrics to Kafka Streams and add hierarhical logging levels to Metrics
    
    Kafka Streams: add granular metrics per node and per task, also expose ability to register non latency metrics in StreamsMetrics
    Also added different recording levels to Metrics.
    
    This is joint contribution from Eno Thereska and Aarti Gupta.
    
    from https://github.com/apache/kafka/pull/1362#issuecomment-218326690-------
    We can consider adding metrics for process / punctuate / commit rate at the granularity of each processor node in addition to the global rate mentioned above. This is very helpful in debugging.
    
    We can consider adding rate / total cumulated metrics for context.forward indicating how many records were forwarded downstream from this processor node as well. This is helpful in debugging.
    
    We can consider adding metrics for each stream partition timestamp.
    This is helpful in debugging.
    ## Besides the latency metrics, we can also add throughput latency in terms of source records consumed.
    
    More discussions here https://issues.apache.org/jira/browse/KAFKA-3715, KIP-104, KIP-105
    
    Author: Eno Thereska <eno@confluent.io>
    Author: Aarti Gupta <aartiguptaa@gmail.com>
    
    Reviewers: Greg Fodor, Ismael Juma, Damian Guy, Guozhang Wang
    
    Closes #1446 from aartigupta/trunk

commit 3d60f1e64350710a5fd2a6036da353cc83195741
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Jan 11 19:18:49 2017 +0000

    KAFKA-4507; Clients should support older brokers (KIP-97)
    
    The client should send older versions of requests to the broker if necessary.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2264 from cmccabe/KAFKA-4507

commit d1733953742236e0430aff4e502bd8ee7c642591
Author: Jozef Koval <jozef.koval@protonmail.ch>
Date:   Wed Jan 11 09:37:06 2017 -0800

    MINOR: Update rocksDB dependency to 5.0.1
    
    Author: jozi-k <jozef.koval@protonmail.ch>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #2292 from jozi-k/update-rocksdb-4.13.5

commit 4b71c0bdc1acf244e3c96fa809a1a0e48471d586
Author: Hojjat Jafarpour <hojjat@Hojjat-Jafarpours-MBP.local>
Date:   Wed Jan 11 09:15:26 2017 -0800

    KAFKA-4060: Remove zk client dependency in kafka streams
    
    dguy guozhangwang This is a new PR for KAFKA-4060.
    
    Author: Hojjat Jafarpour <hojjat@Hojjat-Jafarpours-MBP.local>
    Author: Hojjat Jafarpour <hojjat@HojjatJpoursMBP.attlocal.net>
    
    Reviewers: Damian Guy, Matthias J. Sax, Isamel Juma, Guozhang Wang
    
    Closes #1884 from hjafarpour/KAFKA-4060-Remove-ZkClient-dependency-in-Kafka-Streams-new

commit a95170f822227c50414c57860e8547dc2e9d84cb
Author: Xavier Léauté <xavier@confluent.io>
Date:   Wed Jan 11 09:11:18 2017 -0800

    KAFKA-4481: relax streams api type contraints
    
    Make appropriate methods contravariant in key and value types.
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2205 from xvrl/streams-contravariance

commit 75469a3b602c26ea81d6fc0a409d39d321195ea4
Author: Prabhat Kashyap <prabhat.kashyap@knoldus.in>
Date:   Tue Jan 10 11:53:03 2017 -0800

    MINOR: Replacing for with foreach loop in stream test classes
    
    Author: Prabhat Kashyap <prabhat.kashyap@knoldus.in>
    
    Reviewers: Ismael Juma, Damian Guy, Guozhang Wang
    
    Closes #2305 from PKOfficial/code-refactor

commit fe82330f0be1d478b134732a9d29c229b37afe3b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jan 10 09:38:30 2017 -0800

    MINOR: rename SessionStore.findSessionsToMerge to findSessions
    
    Rename `SessionStore.findSessionsToMerge` to `findSessions`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2339 from dguy/minor-findsession-rename

commit 275c5e1df237808fe72b8d9933f826949d4b5781
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jan 10 08:05:07 2017 -0500

    KAFKA-3751; SASL/SCRAM implementation
    
    Implementation of KIP-84: https://cwiki.apache.org/confluence/display/KAFKA/KIP-84%3A+Support+SASL+SCRAM+mechanisms
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2086 from rajinisivaram/KAFKA-3751

commit 1fea1c390846673fd39452100e949be61c21b9ce
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Tue Jan 10 11:38:26 2017 +0000

    MINOR: Remove unnecessary semi-colons
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2326 from mimaison/minor-fixes

commit 044b56b8b5106f5115de7054ac95e199f1b621ea
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Jan 10 00:42:41 2017 -0800

    MINOR: Add Replication Quotas Test Rig
    
    This test rig lives in the other.kafka package so isn't part of our standard tests. It provides a convenient mechanism for measuring throttling performance over time. Measurements for each experiment are charted and presented to the user in an html file. The output looks like this:
    
    **Experiment4**
    - BrokerCount: 25
    - PartitionCount: 100
    - Throttle: 4,000,000 B/s
    - MsgCount: 1,000
    - MsgSize: 100,000
    - TargetBytesPerBrokerMB: 400
    
    ![image](https://cloud.githubusercontent.com/assets/1297498/19070450/3251bc52-8a23-11e6-88fe-94de6b9147c2.png)
    ![image](https://cloud.githubusercontent.com/assets/1297498/19070467/4c19f38e-8a23-11e6-986a-ba19d16819ca.png)
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1957 from benstopford/throttling-test-rig

commit 54e2bd210029b124be4835d5c50c56aa5edc5b38
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Jan 9 23:53:38 2017 -0800

    HOTFIX: Convert exception introduced in KAFKA-3637 to warning since clearly it is happening.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2283 from enothereska/hotfix-state-transition-warn

commit 5401a17ad7b9f0879cf66c4dbc6167512c2523a8
Author: Nikki Thean <nthean@etsy.com>
Date:   Mon Jan 9 22:53:48 2017 -0800

    MINOR: Fix small error in javadoc for persistent Stores
    
    Closed the last PR I made for this because I accidentally borked it with my other PR. Small error; I figure this is from copy-pasting the above doc
    
    Author: Nikki Thean <nthean@etsy.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2336 from nixsticks/trunk

commit e4720569bb5fc866351c0887a8a8dcd9b8f5bc32
Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
Date:   Mon Jan 9 22:11:58 2017 -0800

    TRIVIAL: Fix spelling of log message
    
    Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2335 from reftel/feature/triggering

commit 109aa353686cc0a9e4448c2b48da63f1d79acae6
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jan 9 20:17:16 2017 -0800

    MINOR: Maybe decorate inner topics for SourceNode
    
    When creating the source node in TopologyBuilder, we need to decorate its input topics if they are inner (i.e. repartition) topics with the prefix.
    
    Also did some minor cleanup in the printing function for better visualization in debugging.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska, Damian Guy, Eno Thereska, Jun Rao
    
    Closes #2320 from guozhangwang/KMinor-source-topic-fix

commit 64514ff5ec2ec9616dd7b11308d8da4f095edb37
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Jan 9 15:17:23 2017 -0800

    MINOR: some public JavaDoc cleanup
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2332 from mjsax/javaDocImprovements5

commit 52e397962b624f3c881b6f99e71c94da32cf6a33
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Jan 9 11:13:09 2017 -0800

    KAFKA-4551: StreamsSmokeTest.test_streams intermittent failure
    
    Remove use of TestTimestampExtractor as it causes the logs to roll and segments get deleted.
    Remove the wcnt example as it is dependent on the TestTimestampExtractor - windowed counting is covered elsewhere.
    Change all aggregate operations to use TimeWindow as use of UnlimitedWindow was causing logs to roll and segments being deleted.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang, Eno Thereska
    
    Closes #2319 from dguy/smoke-test

commit 42a6b7166348455482934f7845160d10cd435eaa
Author: yaojuncn <yaojuncn@users.noreply.github.com>
Date:   Sun Jan 8 20:07:40 2017 -0800

    KAFKA-4402: make the KafkaProducer true round robin per topic
    
    Author: yaojuncn <yaojuncn@users.noreply.github.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Vahid Hashemian <vahidhashemian@us.ibm.com>, Konstantin <konstantin@tubemogul.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2128 from yaojuncn/KAFKA-4402-client-producer-round-robin-fix

commit fa80093c067e6684e005bfd548770541b5b2778b
Author: Raghav Kumar Gautam <raghav@apache.org>
Date:   Sun Jan 8 16:14:16 2017 -0800

    KAFKA-4465: Create docker image and scripts for running tests locally
    
    Author: Raghav Kumar Gautam <raghav@apache.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <harsha@hortonworks.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2197 from raghavgautam/trunk

commit 10b330cf057a90038407a89fdb59d096da01bc55
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Jan 6 11:48:11 2017 -0800

    MINOR: cleanup Kafka Streams exception classes
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2314 from mjsax/javaDocImprovements

commit e0de3a4211a3701c98230b115fadfb67b655e3cf
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Jan 6 10:12:30 2017 -0800

    KAFKA-3452: Support session windows
    
    Add support for SessionWindows based on design detailed in https://cwiki.apache.org/confluence/display/KAFKA/KIP-94+Session+Windows.
    This includes refactoring of the RocksDBWindowStore such that functionality common with the RocksDBSessionStore isn't duplicated.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2166 from dguy/kafka-3452-session-merge

commit 00964ec74d0b3124c88958d5c0db4266e4e38f37
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Jan 6 08:24:09 2017 -0800

    MINOR: update JavaDoc for simple helper interfaces of KStream and KTable operators
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2321 from mjsax/javaDocImprovements3

commit b7da847f6ae5786925d65a673b7e80f2de8fe389
Author: Ben Stopford <benstopford@gmail.com>
Date:   Fri Jan 6 11:03:23 2017 +0000

    MINOR: Add unit tests to the ReassignPartitionsCommand
    
    Adds a bunch of tests to unit tests to the assignment command.
    Moves the Rack aware test into its own class as it makes use of ZooKeeperTestHarness and slows everything else down.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1950 from benstopford/os-rebalance-extra-unit-testing

commit 2e1bcf661df8f22ee05f5bd883a8b501588fc4e2
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Thu Jan 5 15:25:00 2017 -0800

    KAFKA-4575: ensure topic created before starting sink for ConnectDistributedTest.test_pause_resume_sink
    
    Otherwise in this test the sink task goes through the pause/resume cycle with 0 assigned partitions, since the default metadata refresh interval is quite long
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2313 from shikhar/kafka-4575

commit 050288ab121bfdf486fd94d1a4926e3a819d18d0
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jan 5 11:27:25 2017 -0800

    MINOR: Update JavaDoc for KTable helper interfaces
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2315 from mjsax/javaDocImprovements2

commit 77c4eb13a4edf82a7fa6850974673eb743c463c9
Author: steve <sniemitz@twitter.com>
Date:   Thu Jan 5 11:02:46 2017 +0000

    KAFKA-4523; Fix crash during shutdown due to group coordinator attempting to write to a closed log
    
    Shut down the group coordinator before shutting down the log manager to
    ensure that any delayed operations are completed before the logs are closed.
    
    Author: steve <sniemitz@twitter.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2311 from steveniemitz/KAFKA-4523

commit d3572648b6c3524784fc3f60964a7f28817cbd55
Author: Kamal <kamal@nmsworks.co.in>
Date:   Thu Jan 5 10:11:57 2017 +0000

    MINOR: Remove stray comma from PartitionInfo.toString
    
    Removed the extra ',' character while printing the replicas / in-sync replicas
    array.
    
    Author: Kamal <kamal@nmsworks.co.in>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2306 from Kamal15/trunk

commit 0cd5afdb611d6d35009b9806be6bdf9874999bb3
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Wed Jan 4 13:53:29 2017 +0000

    KAFKA-4508; System test that runs client against older versions of the broker
    
    In reality, we’ll only test older brokers after KAFKA-4462 is fully implemented.
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2263 from cmccabe/KAFKA-4508

commit 7959bf50696f309c7bf8022461b8cad113ceda8a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jan 4 11:58:54 2017 +0000

    KAFKA-4583; Fix KafkaConsumerTest.testGracefulClose transient failure
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2309 from rajinisivaram/KAFKA-4583

commit ac57d1751186967bcba6aceffa6857a4449fa70c
Author: huxi <huxi@zhenrongbao.com>
Date:   Wed Jan 4 09:41:14 2017 +0000

    KAFKA-4434; KafkaProducer configuration is logged twice
    
    ProducerConfig calls AbstractConfig.init where does the logs. KafkaProducer init will inovoke ProducerConfig.init twice that leads to logging twice.
    
    Author: huxi <huxi@zhenrongbao.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2307 from amethystic/kafka-4434_Kafkaproducer_log_twice

commit d62ef55252594bbfa1c26fab19207a9632f7bdd3
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Jan 3 21:41:14 2017 -0800

    KAFKA-4584: Fail the 'kafka-configs' command if the config to be removed does not exist
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2300 from vahidhashemian/KAFKA-4584

commit 6d6c77a7a9c102f7508e4bc48e0d6eba1fcbc9c6
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jan 3 19:53:20 2017 -0800

    MINOR: Improvements to Record related classes (part 1)
    
    Jason recently cleaned things up significantly by consolidating the Message/Record classes
    into the common Java code in the clients module. While reviewing that, I noticed a few things
    that could be improved a little more. To make reviewing easier, there will be multiple PRs.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Jason Gustafson <jason@confluent.io>
    
    Closes #2271 from ijuma/records-minor-fixes

commit ce1cb329d5aa788968e47d7dfe307128f2ddc2ff
Author: fpj <fpj@apache.org>
Date:   Tue Jan 3 14:49:33 2017 -0800

    KAFKA-4261: Provide debug option in vagrant-up.sh
    
    Author: fpj <fpj@apache.org>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1981 from fpj/vagrant-debug-option

commit b565dd7eb184da5ef3b08c88a8acc3df221aaa08
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Jan 3 13:54:40 2017 -0800

    KAFKA-4429; Consumer lag metric should be zero if FetchResponse is empty
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Jason Gustafson <jason@confluent.io>
    
    Closes #2155 from lindong28/KAFKA-4429

commit a565a77b1f9c42e5255afc096b58602869cb0cc5
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jan 3 11:02:20 2017 -0800

    KAFKA-4404; Add javadocs to document core Connect types, especially that integer types are signed
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2296 from ewencp/kafka-4404-document-connect-signed-integer-types

commit 7f22ab6550813124ce2bb5254a925c0da3eb1ab9
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jan 3 09:11:07 2017 -0800

    KAFKA-4528: Fix failure in ProducerTest.testAsyncSendCanCorrectlyFailWithTimeout
    
    I was able to reproduce the failure in less than 10 runs before the change. With the change,
    the test passed 70 times consecutively.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #2298 from ijuma/kafka-4528-fix-test-async-send-timeout

commit 9e9e6d8752646436cb836af03a8906605fa76471
Author: Andrew Olson <aolson1@cerner.com>
Date:   Tue Jan 3 08:57:30 2017 -0800

    KAFKA-2434: Remove identical topic subscription constraint for roundrobin strategy in old consumer API
    
    Author: Andrew Olson <aolson1@cerner.com>
    
    Reviewers: Onur Karaman
    
    Closes #145 from noslowerdna/KAFKA-2434

commit cea2a669b34b2f94d445aace2b6e95e70af7e2f6
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jan 3 08:34:15 2017 -0800

    KAFKA-4561; Ordering of operations in StreamThread.shutdownTasksAndState may void at-least-once guarantees
    
    In `shutdownTasksAndState` and `suspendTasksAndState` we commit offsets BEFORE we flush any state. This is wrong as if an exception occurs during a flush, we may violate the at-least-once guarantees, that is we would have committed some offsets but NOT sent the processed data on to other Sinks.
    Also during suspend and shutdown, we should try and complete all tasks even when exceptions occur. We should just keep track of the exception and rethrow it at the end if necessary. This helps with ensuring that StateStores etc are closed.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2281 from dguy/kafka-4561

commit 7411ed89be151be4b3df6f0d2adab956b79e2885
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Tue Jan 3 14:13:50 2017 +0000

    KAFKA-4318; Migrate ProducerSendTest to the new consumer
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2083 from baluchicken/KAFKA-4318

commit 252e7e958a2fabfa680d23a00e7f0ce7c74f6ad8
Author: Himani Arora <1himani.arora@gmail.com>
Date:   Tue Jan 3 11:07:43 2017 +0000

    MINOR: Scala code readability improvements
    
    Author: Himani Arora <1himani.arora@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2297 from himani1/refactored_code

commit 6f09bcb59cd42521152cd8439df94606036ad85f
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Dec 31 10:49:27 2016 -0800

    KAFKA-4480: Report an error in 'kafka-configs' command if the config to be removed does not exist
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2218 from vahidhashemian/KAFKA-4480

commit 29d456cd21d8f3430d52db50a8fd17cc8d700f36
Author: huxi <huxi@zhenrongbao.com>
Date:   Sat Dec 31 10:45:47 2016 +0000

    KAFKA-4351; MirrorMaker with new consumer should support comma-separated regex
    
    This makes it consistent with MirrorMaker with the old consumer.
    
    Author: huxi <huxi@zhenrongbao.com>
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2072 from amethystic/kafka-4351_Regex_behavior_change_for_new_consumer

commit 3d7e88456f14fbac66309973f1334cb32c10e3ea
Author: LoneRifle <LoneRifle@users.noreply.github.com>
Date:   Thu Dec 29 21:14:26 2016 -0800

    MINOR: Rephrase Javadoc summary for ConsumerRecord
    
    The original Javadoc description for `ConsumerRecord` is slightly confusing in that it can be read in a way such that an object is a key value pair received from Kafka, but (only) consists of the metadata associated with the record. This PR makes it clearer that the metadata is _included_ with the record, and moves the comma so that the phrase "topic name and partition number" in the sentence is more closely associated with the phrase "from which the record is being received".
    
    Author: LoneRifle <LoneRifle@users.noreply.github.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2290 from LoneRifle/patch-1

commit 64bab80520e4a5452cd60de8e982ffd2be806ff7
Author: Edward Ribeiro <edward.ribeiro@gmail.com>
Date:   Thu Dec 29 21:05:11 2016 -0800

    MINOR: Mx4jLoader always returns false even if mx4j is loaded & started
    
    Mx4jLoader.scala should explicitly `return true` if the class is successfully loaded and started, otherwise it will return false even if the class is loaded.
    
    Author: Edward Ribeiro <edward.ribeiro@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2295 from eribeiro/mx4jloader-bug

commit e79954637782c104171bad2a1227b0d7a12e2efa
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Dec 29 12:03:24 2016 -0500

    MINOR: Sync up 'kafka-run-class.bat' with 'kafka-run-class.sh'
    
    Some of the recent changes to `kafka-run-class.sh` have not been applied to `kafka-run-class.bat`.
    These recent changes include setting proper streams or connect classpaths. So any streams or connect use case that leverages `kafka-run-class.bat` would fail with an error like
    ```
    Error: Could not find or load main class org.apache.kafka.streams.???
    ```
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2238 from vahidhashemian/minor/sync_up_kafka-run-class.bat

commit dc550259ea04011b22501c82dd6510a29b5a9b0f
Author: huxi <huxi@zhenrongbao.com>
Date:   Wed Dec 28 13:13:17 2016 +0000

    KAFKA-4428; Kafka does not exit if port is already bound
    
    During Acceptor initialization, if "Address already in use" error is encountered,
    the shutdown latch in each Processor is never counted down. Consequently,
    the Kafka server hangs when `Processor.shutdown` is called.
    
    Author: huxi <huxi@zhenrongbao.com>
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2156 from amethystic/kafka-4428_Kafka_noexit_for_port_already_use

commit 88a439ed8e78803ae47783c3e5a75d4e4cad2a77
Author: MURAKAMI Masahiko <fossamagna2@gmail.com>
Date:   Wed Dec 28 12:36:45 2016 +0000

    KAFKA-4549; Call writeBlock before writeEndMark in KafkaLZ4BlockOutputStream.close()
    
    Author: MURAKAMI Masahiko <fossamagna2@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2265 from fossamagna/fix-lz4outputstream-close

commit 8e1395b1702fcf7465324a3f52b391245137fd54
Author: Jeff Widman <jeff@jeffwidman.com>
Date:   Wed Dec 28 11:56:35 2016 +0000

    Improve wording in GroupMinSessionTimeoutMsDoc
    
    Author: Jeff Widman <jeff@jeffwidman.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2291 from jeffwidman/patch-1

commit 4ca5abe8ee7578f602fb7653cb8a09640607ea85
Author: Dustin Cote <dustin@confluent.io>
Date:   Tue Dec 27 15:02:07 2016 -0500

    KAFKA-4092: retention.bytes should not be allowed to be less than segment.bytes
    
    adding a LogConfig value validator.  gwenshap or junrao would you mind taking a look?
    
    Author: Dustin Cote <dustin@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1796 from cotedm/retentionbytesvalidation

commit d092146247f3b3de061ecdb4ddfeac9321d8cf73
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Sat Dec 24 17:25:01 2016 -0500

    KAFKA-4527: task status was being updated before actual pause/resume
    
    h/t ewencp for pointing out the issue
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2277 from shikhar/kafka-4527

commit 9eb665c39af1950548f903ad959449f2e69d7671
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Dec 24 09:21:53 2016 +0000

    KAFKA-4259; Dynamic JAAS configuration for Kafka clients (KIP-85)
    
    Implementation of KIP-85: https://cwiki.apache.org/confluence/display/KAFKA/KIP-85%3A+Dynamic+JAAS+configuration+for+Kafka+clients
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1979 from rajinisivaram/KAFKA-4259

commit 76169f9e24fb62dbc6bcd6520bc910272c43aceb
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Dec 22 08:15:21 2016 -0800

    KAFKA-3284: Remove beta label from security documentation
    
    4 release cycles (0.9.0.0, 0.10.0.0, 0.10.1.0, 0.10.2.0) should be enough
    to remove the beta label.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2286 from ijuma/kafka-3284-security-beta-label

commit 8ff5a9f3cf1765674e21dc35e9d7570816954e25
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Dec 21 16:25:28 2016 -0800

    MINOR: Improve output format of `kafka_reassign_partitions.sh` tool
    
    The current output for the `--generate` option looks like this
    
    ```
    Current partition replica assignment
    
    {"version":1,"partitions":[{"topic":"t1","partition":0,"replicas":[0]}]}
    Proposed partition reassignment configuration
    
    {"version":1,"partitions":[{"topic":"t1","partition":0,"replicas":[1]}]}
    ```
    
    This PR simply changes it to
    
    ```
    Current partition replica assignment
    {"version":1,"partitions":[{"topic":"t1","partition":0,"replicas":[0]}]}
    
    Proposed partition reassignment configuration
    {"version":1,"partitions":[{"topic":"t1","partition":0,"replicas":[1]}]}
    ```
    
    to make it more readable.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1868 from vahidhashemian/minor/improve_output_format_of_reassign_partitions

commit 7599d5d78be2d67119e6e56b67acd50b1a8fba67
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Dec 21 13:33:39 2016 -0800

    MINOR: Fix document header/footer links
    
    Based on:  https://github.com/apache/kafka-site/pull/27
    
    I recommend also merging into 10.1.0.0 branch to avoid mishaps when re-publishing docs.
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2077 from gwenshap/protocol_doc_fix

commit 3c1df09cd50b8c4796f698d0ceec9160fad3f434
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Dec 21 12:36:54 2016 -0800

    MINOR: trivial logCleanerEnable doc cleanup
    
    Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1958 from omkreddy/MINOR-DOC-CHAGE

commit 05d76643174e64b183cb9c315e9dad94d5775d4f
Author: Scott Ferguson <smferguson@gmail.com>
Date:   Wed Dec 21 11:37:32 2016 -0800

    MINOR: fixup typo in ops.html
    
    pretty boring docfix, "no" -> "not"
    
    Author: Scott Ferguson <smferguson@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2269 from smferguson/fixup_typo_in_add_remove_topics

commit baab43f0d218e743693a933c0d6c44c428ebfc93
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Dec 21 09:38:52 2016 -0800

    MINOR: KStream JavaDoc fix
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2284 from mjsax/javaDoc

commit fc88bac66686ef963b5aec53a3eba717336e4ba7
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Dec 20 21:31:50 2016 -0800

    KAFKA-4485; Follower should be in the isr if its FetchRequest has fetched up to the logEndOffset of leader
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2208 from lindong28/KAFKA-4485

commit ecc0fc447a496494130648820e5b9c3536fc78f6
Author: Mark Rose <markrose@markrose.ca>
Date:   Tue Dec 20 17:39:07 2016 -0800

    MINOR: Clarify log deletion configuration options in server.properties
    
    I spent a bit of time tracking down why files were being deleted before they reached log.retention.hours of age. It turns out that the time and size log retention schemes function independently, and not as the original comment "The minimum age of a log file to be eligible for deletion" might indicate to a new user.
    
    Author: Mark Rose <markrose@markrose.ca>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #28 from MarkRose/fix_misleading_configuration_file_for_trunk

commit 68f204e01bb6fd8b9b6c56dff7a2b0daa448764d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 20 16:36:32 2016 -0800

    MINOR: Replace TopicAndPartition with TopicPartition in `Log` and `ReplicaManager`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2268 from ijuma/topicpartition-vs-topicandpartition

commit 0f86dbe89da19ed1cc9142a5362cfa2fe3bc48ee
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Dec 21 00:07:10 2016 +0000

    MINOR: Support auto-incrementing offsets in MemoryRecordsBuilder
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2282 from hachikuji/builder-autoincrement-offsets

commit 3930dd7e7502ab94a7594a0ca41f27638663ae7c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 20 11:01:46 2016 -0800

    KAFKA-4554; Fix ReplicaBuffer.verifyChecksum to use iterators instead of iterables
    
    This was changed in b58b6a1bef0 and caused the `ReplicaVerificationToolTest.test_replica_lags`
    system test to start failing.
    
    I also added a unit test and a couple of other minor clean-ups.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2280 from ijuma/kafka-4554-fix-replica-buffer-verify-checksum

commit 7f4b278c030f6e5cff8caca6428f0e631c8918ec
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Dec 20 10:35:52 2016 -0800

    MINOR: Add more exception information in ProcessorStateManager
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy, Jun Rao
    
    Closes #2276 from guozhangwang/KMinor-exception-message

commit 56c61745deeadd299e5ef24577c1bdf5d9d231a0
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Dec 20 10:30:33 2016 -0800

    KAFKA-4540: Suspended tasks that are not assigned to the StreamThread need to be closed before new active and standby tasks are created
    
    During `onPartitionsAssigned` first close, and remove, any suspended `StandbyTasks` that are no longer assigned to this consumer.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2266 from dguy/kafka-4540

commit 0321bf5aa67b52d7fab82a326b15ca8e058faee6
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Dec 20 09:59:25 2016 -0800

    KAFKA-4473: RecordCollector should handle retriable exceptions more strictly
    
    The `RecordCollectorImpl` currently drops messages on the floor if an exception is non-null in the producer callback. This will result in message loss and violates at-least-once processing.
    Rather than just log an error in the callback, save the exception in a field. On subsequent calls to `send`, `flush`, `close`, first check for the existence of an exception and throw a `StreamsException` if it is non-null. Also, in the callback, if an exception has already occurred, the `offsets` map should not be updated.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2249 from dguy/kafka-4473

commit a5c15ba0374acbb43f69b1a556077e4ad53332e8
Author: Rekha Joshi <rekhajoshm@gmail.com>
Date:   Tue Dec 20 12:40:00 2016 +0000

    KAFKA-4500; Code quality improvements
    
    - Removed redundant modifiers, not needed String.format()
    - Removed unnecessary semicolon, additional assignment, inlined return
    - Using StringBuilder for consistency across codebase
    - Using try-with-resources
    
    Author: Rekha Joshi <rekhajoshm@gmail.com>
    Author: Joshi <rekhajoshm@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2222 from rekhajoshm/KAFKA-4500

commit 135860225ecb579d77d6f364b33471fa261ae0b0
Author: Kamil Szymanski <kamil.szymanski.dev@gmail.com>
Date:   Tue Dec 20 10:46:12 2016 +0000

    MINOR: Remove incomplete gradle wrapper infrastructure
    
    Since jar files (including gradle-wrapper.jar) have to
    be excluded from source releases, current gradle wrapper
    infrastructure is incomplete rendering it unusable and
    confusing (I expected gradlew script to work without
    having to run default gradle task to download
    gradle-wrapper.jar).
    
    Author: Kamil Szymanski <kamil.szymanski.dev@gmail.com>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>, Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1722 from kamilszymanski/gradlew-cleanup

commit a786be94788816bbce32a6cd6ffcf8949ed95556
Author: Json Tu <kafkausr@126.com>
Date:   Mon Dec 19 18:35:30 2016 -0800

    KAFKA-4447; Controller resigned but it also acts as a controller for a long time
    
    Author: Ismael Juma <ismael@juma.me.uk>
    Author: xiguantiaozhan <kafkausr@126.com>
    Author: tuyang <tuyang@meituan.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Onur Karaman <okaraman@linkedin.com>
    
    Closes #2191 from xiguantiaozhan/avoid_swamp_controllerLog

commit 8b84d14c6fb338e9e6a6d41fe0a6298a63cfc5c0
Author: Kamil Szymanski <kamil.szymanski.dev@gmail.com>
Date:   Tue Dec 20 00:30:36 2016 +0000

    MINOR: Fix exception handling in case of file record truncation during write
    
    In case of file record truncation during write due to improper types usage
    (`AtomicInteger` in place of `int`) `IllegalFormatConversionException` would
    be thrown instead of `KafkaException`
    
    Author: Kamil Szymanski <kamil.szymanski.dev@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2275 from kamilszymanski/file_record_truncation_during_write

commit 8dbdc90bae940b47dfaf28a0066b061ebfa87b87
Author: Apurva Mehta <apurva.1618@gmail.com>
Date:   Mon Dec 19 23:41:56 2016 +0000

    KAFKA-4526; Disable throttling test until it can be fixed correctly.
    
    At present, the test is fragile in the sense that the console consumer
    has to start and be initialized before the verifiable producer begins
    producing in the produce-consume-validate loop.
    
    If this doesn't happen, the consumer will miss messages at the head of
    the log and the test will fail.
    
    At present, the consumer is considered inited once it has a PID. This is
    a weak assumption. The plan is to poll appropriate metrics (like
    partition assignment), and use those as a proxy for consumer
    initialization. That work will be tracked in a separate ticket. For now,
    we will disable the tests so that we can get the builds healthy again.
    
    Author: Apurva Mehta <apurva.1618@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2278 from apurvam/KAFKA-4526-throttling-test-failures

commit 529ca3293254cc84fef82dbe5931e98129f6dba3
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Dec 19 23:39:35 2016 +0000

    KAFKA-4166; Fix transient MM failure caused by slow old consumer shutdown
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2279 from hachikuji/KAFKA-4166

commit bc9ef716af8ac387d63b22ee973a9fc6f864bebb
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Dec 19 12:37:58 2016 -0800

    KAFKA-4553; Improve round robin assignment in Connect to avoid uneven distributions of connectors and tasks
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2272 from ewencp/kafka-4553-better-connect-round-robin

commit 65acff32d195a2ac6e3d7ca4542702065417ba66
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Dec 19 12:22:37 2016 -0800

    KAFKA-4534: StreamPartitionAssignor only ever updates the partitionsByHostState and metadataWithInternalTopics on first assignment
    
    partitionsByHostState and metadataWithInternalTopics need to be updated on each call to onAssignment() otherwise they contain invalid/stale metadata.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2256 from dguy/4534

commit d6b0b520fc0755fa560af84f5fc4c9f86699739c
Author: Ashish Singh <asingh@cloudera.com>
Date:   Sat Dec 17 04:21:54 2016 -0800

    KAFKA-3600; Use ApiVersions to check if broker supports required api versions
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Colin P. Mccabe <cmccabe@confluent.io>, Dana Powers <dana.powers@gmail.com>, Gwen Shapira <cshapi@gmail.com>, Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1251 from SinghAsDev/KAFKA-3600

commit e156f5179f18e045b8f47e8fe5c1e39eaee2afec
Author: Colin P. Mccabe <cmccabe@confluent.io>
Date:   Fri Dec 16 15:02:39 2016 -0800

    KAFKA-4552; README.md has org.gradle.project.maxParallelForms instead of maxParallelForks
    
    Author: Colin P. Mccabe <cmccabe@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2270 from cmccabe/KAFKA-4552

commit b58b6a1bef0ecdc2107a415e222af099fcd9bce3
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Dec 16 10:41:27 2016 -0800

    MINOR: Replace deepIterator/shallowIterator with deepEntries/shallowEntries
    
    The latter return `Iterable` instead of `Iterator` so that enhanced foreach can be used
    in Java.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2261 from ijuma/deepEntries-shallowEntries

commit e55205b810b6717c5135a463d2fe98975b117187
Author: Hikiko Murakami <ashishg@qburst.com>
Date:   Thu Dec 15 17:26:44 2016 -0800

    MINOR: Fix typo on introduction page
    
    Author: ash <ashishg@qburst.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2259 from ashishg-qburst/intro

commit 056ed86600ebf884057ea24daafc9e3b1ab85b81
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Dec 15 17:22:41 2016 -0800

    KAFKA-4539: StreamThread is not correctly creating StandbyTasks
    
    Tasks that don't have any `StateStore`s wont have a `StandbyTask`, so `createStandbyTask` can return `null`. We need to check for this in `StandbyTaskCreator.createTask(...)`
    
    Also, the checkpointed offsets for `StandbyTask`s are never loaded.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2255 from dguy/kafka-4539

commit 233cd4b18af83e9f9eadfaf048cdaa1888faf546
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Dec 15 16:49:35 2016 -0800

    KAFKA-4537: StreamPartitionAssignor incorrectly adds standby partitions to the partitionsByHostState map
    
    If a KafkaStreams app is using Standby Tasks then `StreamPartitionAssignor` will add the standby partitions to the partitionsByHostState map for each host. This is incorrect as the partitionHostState map is used to resolve which host is hosting a particular store for a key.
    The result is that doing metadata lookups for interactive queries can return an incorrect host
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2254 from dguy/KAFKA-4537

commit c2cfadf254c9d5da14db1db9a4a3889c20192f60
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Dec 15 15:54:29 2016 -0800

    MINOR: update KStream JavaDocs
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2258 from mjsax/minorKStreamJavaDoc

commit e36e8079d8a005550c5281ecebb4b7b622cc41b1
Author: Michael Schiff <schiff.michael@gmail.com>
Date:   Thu Dec 15 15:46:26 2016 -0800

    KAFKA-4451; Fix OffsetIndex overflow when replicating a highly compacted topic. OffsetIndex provides checks for overflow, used when deciding to roll a LogSegment
    
    Fix OffsetIndex overflow when replicating a highly compacted topic.
    https://issues.apache.org/jira/browse/KAFKA-4451
    
    Author: Michael Schiff <schiff.michael@gmail.com>
    Author: Michael Schiff <michael.schiff@tubemogul.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2210 from michaelschiff/bug/4451

commit 908b6d1148df963d21a70aaa73a7a87571b965a9
Author: Dong Lin <lindong28@gmail.com>
Date:   Thu Dec 15 13:23:01 2016 -0800

    KAFKA-4521; MirrorMaker should flush all messages before releasing partition ownership during rebalance
    
    Author: Dong Lin <lindong28@gmail.com>
    Author: Dong Lin <dolin@linkedin.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2241 from lindong28/KAFKA-4521

commit a9687bc0d8ddab27c83f7e6f3e87d9e74e32c8df
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu Dec 15 11:14:41 2016 -0800

    KAFKA-4529; LogCleaner should not delete the tombstone too early.
    
    cc junrao
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2260 from becketqin/KAFKA-4529-trunk

commit ea724497a85e922af6acccd02d7e7466871fb339
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Dec 15 09:44:09 2016 -0800

    HOTFIX: Streams fix state transition stuck on rebalance
    
    This fixes a problem where the Kafka instance state transition gets stuck on rebalance (Thanks to dguy for pointing out). Also adjusts the test in QueryableStateIntegration test.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #2252 from enothereska/hotfix_state_never_running

commit 70499381658e85cfdcfc4f0cd65424b92a8620cd
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Dec 14 13:01:43 2016 -0800

    MINOR: Reenable streams smoke test
    
    I ran it 3 times and it works again.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2257 from enothereska/minor-reenable-smoke-test

commit 53428694a624a1956cb8fa3a6a674638f9b09816
Author: Derrick Or <derrickor@gmail.com>
Date:   Tue Dec 13 17:59:49 2016 -0800

    Separate Streams documentation and setup docs with easy to set variables
    
    - Seperate Streams documentation out to a standalone page.
    - Setup templates to use handlebars.js
    - Create template variables to swap in frequently updated values like version number from a single file templateData.js
    
    Author: Derrick Or <derrickor@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2245 from derrickdoo/docTemplates

commit 448f194c70e7a66ae2f1a7e89c822032359b14c9
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Dec 13 12:34:46 2016 -0800

    KAFKA-4532: StateStores can be connected to the wrong source topic resulting in incorrect metadata returned from Interactive Queries
    
    When building a topology with tables and StateStores, the StateStores are mapped to the source topic names. This map is retrieved via TopologyBuilder.stateStoreNameToSourceTopics() and is used in Interactive Queries to find the source topics and partitions when resolving the partitions that particular keys will be in.
    There is an issue where by this mapping for a table that is originally created with builder.table("topic", "table");, and then is subsequently used in a join, is changed to the internal repartition topic. This is because the mapping is updated during the call to topology.connectProcessorAndStateStores(..).
    In the case that the stateStoreNameToSourceTopics Map already has a value for the state store name it should not update the Map.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2250 from dguy/kafka-4532

commit 859113786957a36381222f21287a940767e92f1c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Dec 13 12:11:09 2016 -0800

    KAFKA-4509: Task reusage on rebalance fails for threads on same host
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2233 from mjsax/kafka-4509-task-reusage-fix

commit 67f1e5b91bf073151ff57d5d656693e385726697
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Dec 13 10:26:25 2016 -0800

    KAFKA-4390; Replace MessageSet usage with client-side alternatives
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2140 from hachikuji/KAFKA4390

commit 6626b058c7893ce1192456b3fc7617f98da6f3cc
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Dec 13 09:44:11 2016 -0800

    MINOR: Fix Streams examples in documentation
    
    Performed minor cleanup and escaped `<` and `>` so code examples are shown correctly in the browser.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2247 from vahidhashemian/doc/fix_streams_doc

commit 21d7e6f19bd36a7ad16291294fc933f9abfac9b7
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Dec 12 18:00:00 2016 -0800

    KAFKA-4516: When a CachingStateStore is closed it should clear its associated NamedCache
    
    Clear and remove the NamedCache from the ThreadCache when a CachingKeyValueStore or CachingWindowStore is closed.
    Validate that the store is open when doing any queries or writes to Caching State Stores.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2235 from dguy/kafka-4516

commit efeaf129890c2195b4753d5b9eece4f1b7cdf756
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Dec 12 09:38:25 2016 -0800

    KAFKA-4405; Avoid unnecessary network poll in consumer if no fetches sent
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2193 from enothereska/KAFKA-4405-prefetch

commit f0acc4a0dd49c80929c36a073733c0147b2cd64a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Dec 12 03:08:12 2016 +0000

    KAFKA-4431; Make consumer heartbeat thread a daemon thread
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2234 from rajinisivaram/KAFKA-4431

commit 62e043a86565cc9bc485658d6c6d176e9aff620f
Author: Geoff Anderson <geoff@confluent.io>
Date:   Sun Dec 11 18:43:23 2016 -0800

    KAFKA-4140: Upgrade to ducktape 0.6.0 and make system tests parallel friendly
    
    Updates to take advantage of soon-to-be-released ducktape features.
    
    Author: Geoff Anderson <geoff@confluent.io>
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1834 from granders/systest-parallel-friendly

commit 6f7ed15dad8d914ae65a595eef327c0510f11469
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sat Dec 10 21:53:46 2016 -0800

    KAFKA-4510: StreamThread must finish rebalance in state PENDING_SHUTDOWN
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2227 from mjsax/kafka-4510-finish-rebalance-on-shutdown

commit 1d586cb50a94540f6b931a8d525ba75273f314f0
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sat Dec 10 21:48:44 2016 -0800

    KAFKA-4476: Kafka Streams gets stuck if metadata is missing
    
     - break loop in StreamPartitionAssigner.assign() in case partition metadata is missing
     - fit state transition issue (follow up to KAFKA-3637: Add method that checks if streams are initialised)
     - some test improvements
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska, Ismael Juma, Guozhang Wang
    
    Closes #2209 from mjsax/kafka-4476-stuck-on-missing-metadata

commit 8e9e1776790abb0a9b103f75d0231dd66d09e68f
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Sat Dec 10 12:48:51 2016 -0800

    HOTFIX: Fix HerderRequest.compareTo()
    
    With KAFKA-3008 (#1788), the implementation does not respect the contract that 'sgn(x.compareTo(y)) == -sgn(y.compareTo(x))'
    
    This fix addresses the hang with JDK8 in DistributedHerderTest.compareTo()
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Konstantine Karantasis <konstantine@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2232 from shikhar/herderreq-compareto

commit 7c7becd4cb88b372d199b05661f8efb1e1d022e6
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Dec 9 17:17:55 2016 -0800

    KAFKA-4486: Don't commit offsets on exception
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Matthias J. Sax, Damian Guy, Guozhang Wang
    
    Closes #2225 from enothereska/KAFKA-4486-exception-commit

commit 9bed8fbcfc52ced719f2dcafa3f30cbfd5e6bd57
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Dec 9 16:17:36 2016 -0800

    KAFKA-4393: Improve invalid/negative TS handling
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll, Eno Thereska, Damian Guy, Guozhang Wang
    
    Closes #2117 from mjsax/kafka-4393-improveInvalidTsHandling

commit 7f8edbc8e848d22b1cb016a7208bee1e52a65b73
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Dec 9 14:54:30 2016 -0800

    KAFKA-4000; Collect and record per-topic consumer metrics
    
    Improve consumer metric collection by collecting and recording metrics per topic.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1684 from vahidhashemian/KAFKA-4000

commit 055ca9b7a235564f6766d1f2505e900db2d17a4f
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Dec 9 11:40:50 2016 -0800

    KAFKA-4272; Add missing 'connect' Windows batch scripts
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2146 from vahidhashemian/KAFKA-4272

commit 9684487b43234b0800d31f689bde48422b7faf87
Author: Stig Rohde Døssing <sdo@it-minds.dk>
Date:   Fri Dec 9 11:18:34 2016 -0800

    KAFKA-4375; Reset interrupt state in a few places where InterruptedException is caught
    
    See https://issues.apache.org/jira/browse/KAFKA-4375
    
    Author: Stig Rohde Døssing <sdo@it-minds.dk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2100 from srdo/KAFKA-4375

commit 36528df088a28b4373f148627627d7c116297209
Author: Jeff Widman <jeff@jeffwidman.com>
Date:   Fri Dec 9 09:46:55 2016 -0800

    MINOR: Fix typos in KafkaConsumer docs
    
    Author: Jeff Widman <jeff@jeffwidman.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2178 from jeffwidman/patch-1

commit 01d58ad8e039181ade742cf896a08199e3cb7483
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Dec 8 23:46:05 2016 +0000

    MINOR: Upgrade Gradle to 3.2.1 and Scala to 2.12.1
    
    There were a couple of important issues fixed in Gradle 3.2.1:
    * [GRADLE-3582] - Gradle wrapper fails to escape arguments with nested quotes
    * [GRADLE-3583] - Newlines in JAVA_OPTS breaks application plugin shell script in Gradle 3.2
    
    And a lot of important issues fixed in Scala 2.12.1:
    * http://www.scala-lang.org/news/2.12.1
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #2216 from ijuma/gradle-3.2.1-and-scala-2.12.1

commit 006630fd93d8efb823e5b5f7d61584138df984a6
Author: Xavier Léauté <xavier@confluent.io>
Date:   Thu Dec 8 22:26:25 2016 +0000

    MINOR: Fix metric collection NPE during shutdown
    
    Collecting socket server metrics during shutdown may throw NullPointerException
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2221 from xvrl/fix-metrics-npe-on-shutdown

commit 1949a76bc4189534b853e21c476bb11172fa3fc9
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Dec 8 11:07:59 2016 -0800

    MINOR: Update JavaDoc of KStream interface
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #2153 from mjsax/javaDocKStreams

commit 600859e77c8e9a93212815ac26a6ae8b778fee6f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Dec 8 15:50:24 2016 +0000

    KAFKA-4392; Handle NoSuchFileException gracefully in StateDirectory
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2121 from guozhangwang/K4392-race-dir-cleanup

commit e9a67a8daaf4be35f292dd06ae3c7797200658fa
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Dec 7 12:08:34 2016 -0800

    KAFKA-4492: Make the streams cache eviction policy tolerable to reentrant puts
    
    The NamedCache wasn't correctly dealing with its re-entrant nature. This would result in the LRU becoming corrupted, and the above exception occurring during eviction. For example:
    Cache A: dirty key 1
    eviction runs on Cache A
    Node for key 1 gets marked as clean
    Entry for key 1 gets flushed downstream
    Downstream there is a processor that also refers to the table fronted by Cache A
    Downstream processor puts key 2 into Cache A
    This triggers an eviction of key 1 again ( it is still the oldest node as hasn't been removed from the LRU)
    As the Node for key 1 is clean flush doesn't run and it is immediately removed from the cache.
    So now we have dirtyKey set with key =1, but the value doesn't exist in the cache.
    Downstream processor tries to put key = 1 into the cache, it fails as key =1 is in the dirtyKeySet.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2226 from dguy/cache-bug

commit 56e5627da5bfa01d1fa95e760a6f45949f89996a
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Dec 7 10:08:46 2016 -0800

    KAFKA-4445; PreferredLeaderElectionCommand should query zookeeper only once per topic
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2170 from lindong28/KAFAK-4445

commit 9e72c12e9811811997b6ca99a6dc56a9af46e43d
Author: Xavier Léauté <xavier@confluent.io>
Date:   Wed Dec 7 00:28:56 2016 +0000

    KAFKA-4458; add per partition in-sync and assigned replica count (KIP-96)
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2186 from xvrl/per-partition-replica-metrics

commit b6af35161caa7629ee8c75ab400556cb1ea9c1fd
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Dec 7 00:23:32 2016 +0000

    HOTFIX: Disable test until fixed
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2217 from enothereska/hotfix-disable-smoke-test

commit c9e99f297f3090cd348e231dbeaf69c388de1234
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Dec 6 14:34:52 2016 -0800

    KAFKA-4306: Shutdown distributed herder with a timeout.
    
    Resolves
    
    KAFKA-4306: Connect workers won't shut down if brokers are not available
    KAFKA-4154: Kafka Connect fails to shutdown if it has not completed startup
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Shikhar Bhushan <shikhar@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2201 from kkonstantine/KAFKA-4306-Connect-workers-will-not-shut-down-if-brokers-are-not-available

commit 39f62ddcec9f3f915b3ca5941429e79190c93e7b
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Dec 6 13:57:27 2016 -0800

    MINOR: Update ducktape version to 0.5.3
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2220 from ewencp/update-ducktape

commit a4592a18641f84a1983c5fe7e697a8b0ab43eb25
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Dec 6 11:49:54 2016 -0800

    KAFKA-4488: UnsupportedOperationException during initialization of StandbyTask
    
    Instead of throwing `UnsupportedOperationException` from `StandbyTask.recordCollector()` return a No-op implementation of `RecordCollector`.
    Refactored `RecordCollector` to have an interface and impl.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2212 from dguy/standby-task

commit 8fd5b6a6669b5e2ba921904596a14936b1317304
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Dec 6 15:03:01 2016 +0000

    HOTFIX: Temporary suspension of 2 tests
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2199 from enothereska/hotfix-streams-test-reset-ignore

commit f4f0f8222276b630b61355b30827bf1b50160712
Author: Kim Christensen <kich@mvno.dk>
Date:   Tue Dec 6 11:15:58 2016 +0000

    KAFKA-4472; offsetRetentionMs miscalculated in GroupCoordinator
    
    Fix possible integer overflow.
    
    Author: Kim Christensen <kich@mvno.dk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2200 from kichristensen/MiscalculatedOffsetRetention

commit 34aa538bf3e0a38fe61de66a4536dfe48a6cdc57
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Mon Dec 5 14:34:14 2016 -0800

    HOTFIX: Fix bug in readToLogEnd in KafkaBasedLog.
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2211 from kkonstantine/HOTFIX-Correctly-read-to-end-of-offsets-log-in-Connect-KafkaBasedLog

commit a55e2963116eb11252b957304b4f399eff3df9c2
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Dec 5 11:12:03 2016 -0800

    KAFKA-3994: Fix deadlock in Watchers by calling tryComplete without any locks
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Jun Rao, Jiangjie Qin, Guozhang Wang
    
    Closes #2195 from hachikuji/KAFKA-3994-linked-queue

commit 2d19ad4bb07b4f10f2a314e86bbf4171cdcd7765
Author: Anton Karamanov <ataraxer@yandex-team.ru>
Date:   Sun Dec 4 10:51:16 2016 -0800

    KAFKA-4205; KafkaApis: fix NPE caused by conversion to array
    
    NPE was caused by `log.logSegments.toArray` resulting in array containing `null` values. The exact reason still remains somewhat a mystery to me, but it seems that the culprit is `JavaConverters` in combination with concurrent data structure access.
    
    Here's a simple code example to prove that:
    ```scala
    import java.util.concurrent.ConcurrentSkipListMap
    // Same as `JavaConversions`, but allows explicit conversions via `asScala`/`asJava` methods.
    import scala.collection.JavaConverters._
    
    case object Value
    val m = new ConcurrentSkipListMap[Int, Value.type]
    new Thread { override def run() = { while (true) m.put(9000, Value) } }.start()
    new Thread { override def run() = { while (true) m.remove(9000) } }.start()
    new Thread { override def run() = { while (true) { println(m.values.asScala.toArray.headOption) } } }.start()
    ```
    
    Running the example will occasionally print `Some(null)` indicating that there's something shady going on during `toArray` conversion.
    
    `null`s magically disappear by making the following change:
    ```diff
    - println(m.values.asScala.toArray.headOption)
    + println(m.values.asScala.toSeq.headOption)
    ```
    
    Author: Anton Karamanov <ataraxer@yandex-team.ru>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2204 from ataraxer/KAFKA-4205

commit e43bbce493192ea5f936867e8cdae163ab850650
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Dec 2 20:09:33 2016 -0800

    KAFKA-4483; Fix NPE in `Log` constructor if log level is INFO or finer
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2207 from ijuma/kafka-4483-npe-in-log-constructor

commit b06fc322bf008f55bb8b14c5b02c9af5a90a92ed
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Dec 2 11:02:04 2016 -0800

    MINOR: Improvements in group metadata cleanup and test coverage
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #2202 from hachikuji/group-expiration-cleanup

commit 93804d50ffc40fb6cdc61c073f4a62f0931f042d
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Dec 2 10:02:50 2016 -0800

    2198
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2198 from enothereska/hotfix-stream-states

commit 128d0ff91d84a3a1f5a5237133f9ec01caf18d66
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Dec 2 14:00:58 2016 +0000

    KAFKA-2247; Merge kafka.utils.Time and kafka.common.utils.Time
    
    Also:
    * Make all implementations of `Time` thread-safe as they are accessed from multiple threads in some cases.
    * Change default implementation of `MockTime` to use two separate variables for `nanoTime` and `currentTimeMillis` as they have different `origins`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Shikhar Bhushan <shikhar@confluent.io>, Jason Gustafson <jason@confluent.io>, Eno Thereska <eno.thereska@gmail.com>, Damian Guy <damian.guy@gmail.com>
    
    Closes #2095 from ijuma/kafka-2247-consolidate-time-interfaces

commit ea370be518a783f3a5d8d834f78c82e36bf968b3
Author: Alexey Ozeritsky <aozeritsky@yandex-team.ru>
Date:   Thu Dec 1 19:09:06 2016 -0800

    KAFKA-4399; Fix deadlock between cleanupGroupMetadata and offset commit
    
    Author: Alexey Ozeritsky <aozeritsky@yandex-team.ru>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2125 from resetius/KAFKA-4399

commit b45a67ede9021985c8df87c633b225231092c0c9
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Thu Dec 1 15:01:09 2016 -0800

    KAFKA-4161: KIP-89: Allow sink connectors to decouple flush and offset commit
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2139 from shikhar/kafka-4161-deux

commit b65f9a777d46fbe4edfed8a4c7216dd1e741be53
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Thu Dec 1 14:42:15 2016 -0800

    KAFKA-3008: Parallel start and stop of connectors and tasks in Connect
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    Author: Konstantine Karantasis <k.karantasis@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Shikhar Bhushan <shikhar@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1788 from kkonstantine/KAFKA-3008-Parallel-start-and-stop-of-connectors-and-tasks

commit 88d8508b85bb11d452658ff5c32afcb12c314f9a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Dec 1 15:39:06 2016 +0000

    KAFKA-4443; Minor comment clean-up
    
    Removed stale comment left behind, minor fixes (UpdateMetadataRequest instead of MetadataUpdateRequest) and remove redundant comments.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>, Dong Lin <lindong28@gmail.com>
    
    Closes #2194 from ijuma/kafka-4443-minor-follow-up

commit ea42d65354b5905668d45dedae1cd1f7f39c888c
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Nov 30 22:23:31 2016 -0800

    KAFKA-3637: Added initial states
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma, Dan Norwood, Xavier Léauté, Damian Guy, Michael G. Noll, Matthias J. Sax, Guozhang Wang
    
    Closes #2135 from enothereska/KAFKA-3637-streams-state

commit f9d7808bab52a0a6fa879aaac0b1da80e0f33adb
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Nov 30 13:18:04 2016 -0800

    KAFKA-4469; Fix consumer performance regression from inefficient list removal and copy
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2190 from hachikuji/KAFKA-4469

commit 8d188c9110f7f2a6f9f16f1340d9d254bf583741
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Nov 30 12:19:23 2016 -0800

    KAFKA-4271: Fix the server start script for Windows 32-bit OS
    
    Without this fix the new consumer fails to run on a 32-bit Windows OS.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #2189 from vahidhashemian/KAFKA-4271

commit 497e669dd806fc984f5dceaede4a1f40f4e77c48
Author: Mayuresh Gharat <gharatmayuresh15@gmail.com>
Date:   Wed Nov 30 10:40:31 2016 -0800

    KAFKA-1911; Async delete topic - contributed by Mayuresh Gharat <gharatmayuresh15@gmail.com> and Sumant Tambe <sutambe@yahoo.com>
    
    The last patch submitted by MayureshGharat (back in Dec 15) has been rebased to the latest trunk. I took care of a couple of test failures (MetricsTest) along the way. jjkoshy , granders , avianey , you may be interested in this PR.
    
    Author: Sumant Tambe <sutambe@yahoo.com>
    Author: Mayuresh Gharat <mgharat@mgharat-ld1.linkedin.biz>
    Author: MayureshGharat <gharatmayuresh15@gmail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #1664 from sutambe/async-delete-topic

commit 1503f7603c1d5e0511bf71175d84bde555c80e9a
Author: Stig Rohde Døssing <sdo@it-minds.dk>
Date:   Tue Nov 29 19:44:57 2016 -0800

    KAFKA-4387; KafkaConsumer should properly handle interrupts
    
    See https://issues.apache.org/jira/browse/KAFKA-4387
    
    Author: Stig Rohde Døssing <sdo@it-minds.dk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2110 from srdo/KAFKA-4387

commit 5819b06fafd8a1a32276018560e0ff731191caf5
Author: Balint Molnar <balintmolnar91@gmail.com>
Date:   Tue Nov 29 19:04:24 2016 -0800

    KAFKA-4403; Update KafkaBasedLog to use new endOffsets consumer API
    
    ewencp plz review
    
    Author: Balint Molnar <balintmolnar91@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2176 from baluchicken/KAFKA-4403

commit d98ca230a14b0aedae752fa97f5d55b3a0c49b9c
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Tue Nov 29 15:30:40 2016 -0800

    KAFKA-4397: Refactor Connect backing stores for thread safety
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Shikhar Bhushan <shikhar@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2123 from kkonstantine/KAFKA-4397-Refactor-connect-backing-stores-for-thread-safety

commit f37dab76f494e313eafc4f64d0eeaed82ddad0f7
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Nov 29 12:17:27 2016 -0800

    KAFKA-4415; Reduce time to create and send UpdateMetadataRequest
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2169 from lindong28/KAFKA-4415-2nd

commit b11ead58041f6618b4d585dda32f2d71ef0da46a
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Nov 29 11:36:06 2016 -0800

    MINOR: Make release notes script check resolutions to avoid spurious inclusion of non-fix 'fixes' in release notes.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2174 from ewencp/release-notes-resolution-filters

commit 7d0f3e75ad2934b8ad5b84f81707b01285022523
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Nov 29 11:07:39 2016 -0800

    KAFKA-4427: Skip topic groups with no tasks
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2171 from enothereska/KAFKA-4427-topicgroups-with-no-tasks

commit 7d3aa01ced15d30cd1c5390e76a68a06403cd2c1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Nov 29 10:32:32 2016 -0800

    MINOR: Remove unused code in `LeaderAndIsr`, `ApiUtils` and `TopicMetadataRequest`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2145 from ijuma/unused-code-in-leader-and-isr

commit 7ed3768fb6e16ec97815e1676d27833569ec2a98
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Nov 29 10:03:17 2016 -0800

    KAFKA-4443; Controller should send UpdateMetadataRequest prior to LeaderAndIsrRequest during failover
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #2168 from lindong28/KAFKA-4443

commit 6f0cbe7212ba9124488d13e00a24a23e083cb918
Author: Alex Loddengaard <alexloddengaard@gmail.com>
Date:   Tue Nov 29 09:57:22 2016 -0800

    MINOR: doc fix related to monitoring consumer lag
    
    Author: Alex Loddengaard <alexloddengaard@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1814 from alexlod/consumer-lag-doc-fix

commit a5d28149fb67ab68d9de7d8de63c0de93b80a82c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Nov 29 09:11:21 2016 -0800

    Revert "KAFKA-4345; Run decktape test for each pull request"
    
    This reverts commit e035fc039598127e88f31739458f705290b1fdba for the
    following reasons:
    
    1. License files are missing causing local builds to fail during the
    rat task (rat is not being run in Jenkins for some reason, filed
    KAFKA-4459 for that)
    2. It renames a number of system test files when there's a better
    way to achieve the goal of running a subset of system tests to stay
    under the Travis limit.
    3. It adds the gradle wrapper binary even though this was removed
    intentionally a while back.
    
    A new PR will be submitted for KAFKA-4345 without the undesired
    changes.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2187 from ijuma/kafka-4345-revert

commit 3e3b7a010be9959ac6f205a0ea66a2595bb62ae6
Author: Jun He <jun.he@airbnb.com>
Date:   Thu Nov 24 13:10:19 2016 +0000

    KAFKA-4384; ReplicaFetcherThread stops after ReplicaFetcherThread receives a corrupted message
    
    Author: Jun He <jun.he@airbnb.com>
    
    Reviewers: Jiangjie (Becket) Qin <becket.qin@gmail.com>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2127 from jun-he/KAFKA-4384

commit e035fc039598127e88f31739458f705290b1fdba
Author: Raghav Kumar Gautam <raghav@apache.org>
Date:   Wed Nov 23 20:48:58 2016 -0800

    KAFKA-4345; Run decktape test for each pull request
    
    As of now the ducktape tests that we have for kafka are not run for pull request. We can run these test using travis-ci. Here is a sample run:
    https://travis-ci.org/raghavgautam/kafka/builds/170574293
    
    Author: Raghav Kumar Gautam <raghav@apache.org>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #2064 from raghavgautam/trunk

commit 724cddbc56fec227727db4caf75c77adb62438e6
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Nov 23 17:31:34 2016 -0800

    KAFKA-4331: Kafka Streams resetter is slow because it joins the same group for each topic
    
      - bug-fix follow up
      - Resetter fails if no intermediate topic is used because seekToEnd() commit ALL partitions to EOL
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll, Roger Hoover, Guozhang Wang
    
    Closes #2138 from mjsax/kafka-4331-streams-resetter-bugfix

commit 0ea540552a52b3265c48aacbb9790ea6e71431a5
Author: Sumant Tambe <sutambe@yahoo.com>
Date:   Wed Nov 23 10:02:47 2016 +0000

    KAFKA-4395; Break static initialization order dependency between KafkaConfig and Logconfig
    
    Fixes static initialization order dependency between KafkaConfig and LogConfig. jjkoshy please take a look.
    
    Author: Sumant Tambe <sutambe@yahoo.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2120 from sutambe/logconfig-static-init

commit 4b003d8bcfffded55a00b8ecc9eed8eb373fb6c7
Author: MayureshGharat <gharatmayuresh15@gmail.com>
Date:   Tue Nov 22 20:32:42 2016 -0800

    KAFKA-4362; Consumer can fail after reassignment of the offsets topic partition
    
    Author: MayureshGharat <gharatmayuresh15@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2116 from MayureshGharat/KAFKA-4362

commit dcea5f83888bb346c8ae20887b57904e046463a7
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Nov 22 09:54:54 2016 -0800

    KAFKA-4355: Skip topics that have no partitions
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #2133 from enothereska/KAFKA-4355-topic-not-found

commit 44f61ba4f96df995265f9cfa004aa49c82b02374
Author: Antony Stubbs <antony.stubbs@gmail.com>
Date:   Tue Nov 22 11:29:12 2016 +0000

    MINOR: Typo in KafkaConsumer javadoc
    
    Author: Antony Stubbs <antony.stubbs@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2157 from astubbs/trunk

commit bbe84051c724023171370f15d74188eecfeace49
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Sat Nov 19 09:38:47 2016 +0000

    HOTFIX: Hotfix streams smoke test
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2149 from enothereska/hotfix-streams-smoke-test

commit e53babab9cada20cc54a18c0fd63aa5ab84fd012
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Nov 19 09:33:48 2016 +0000

    KAFKA-3703; Graceful close for consumers and producer with acks=0
    
    Process requests received from channels before they were closed. For consumers, wait for coordinator requests to complete before returning from close.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1836 from rajinisivaram/KAFKA-3703

commit edfa2806712da9663998195c1a7eed0c96bfa509
Author: Dong Lin <lindong28@gmail.com>
Date:   Sat Nov 19 01:22:38 2016 +0000

    KAFKA-4420; Group StopReplicaRequests for partitions on the same broker into one StopReplicaRequest
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2148 from lindong28/KAFKA-4420

commit 0e7ba70008fa8961ae55861a4dd3a5370d1d5a69
Author: Bernard Leach <leachbj@bouncycastle.org>
Date:   Fri Nov 18 04:10:43 2016 +0000

    KAFKA-4377; remove deprecated scala.collection.JavaConversions calls
    
    JavaConversions are deprecated in 2.12 in favour of JavaConverters.
    
    Author: Bernard Leach <leachbj@bouncycastle.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2101 from leachbj/4377-java-converters

commit 079ea89b369f13d3c0edcab8dd3f6bd32a31983d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 17 14:43:00 2016 -0800

    KAFKA-4417: Update build dependencies for 0.10.2 cycle
    
    Notes on the updates:
    * Gradle to 3.2: better incremental build and faster IDE import times (https://docs.gradle.org/3.2/release-notes)
    * zkclient to 0.10: it now uses slf4j-api instead of log4j
    * zookeeper to 3.4.9: a few important bug fixes (http://zookeeper.apache.org/doc/r3.4.9/releasenotes.html)
    * jackson to 2.8.5: lots of updates (https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.6, https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.7, https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.8)
    * jersey to 2.24: bug fixes (https://jersey.java.net/release-notes/2.23.html, https://jersey.java.net/release-notes/2.24.html)
    * jopt to 5.0.3: minor improvements, the major version bump is due to requiring Java 7 instead of 6 (https://pholser.github.io/jopt-simple/changes.html)
    * argparse4j to 0.7.0: minor tweaks and improvements (https://github.com/tatsuhiro-t/argparse4j/blob/argparse4j-0.6.0/NEWS, https://github.com/tatsuhiro-t/argparse4j/blob/argparse4j-0.7.0/NEWS)
    * Gradle plugins
    * bcpkix to 1.55: quite a few additions, but nothing that matters to us (http://www.bouncycastle.org/releasenotes.html)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2144 from ijuma/gradle-3.2-and-deps

commit eaf0e4af341818b335d17400b0a02be87a7fff9b
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Thu Nov 17 12:52:50 2016 -0800

    KAFKA-3825: Allow users to specify different types of state stores in Streams DSL
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #1588 from jeyhunkarimov/KAFKA-3825

commit 2daa10d77f8f177a8db6ff5de5c511165fedc2f5
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Nov 17 12:49:20 2016 -0800

    KAFKA-4366: KafkaStreams.close() blocks indefinitely
    
    Added `timeout` and `timeUnit` to `KafkaStreams.close(..)`. Now do close on a thread and `join` that thread with the provided `timeout`.
    Changed `state` in `KafkaStreams` to use an enum.
    Added system test to ensure we don't deadlock on close when an uncaught exception handler that calls `System.exit(..)` is used and there is also a shutdown hook that calls `KafkaStreams.close(...)`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Eno Thereska, Guozhang Wang
    
    Closes #2097 from dguy/kafka-4366

commit f3aad3b54b7cbc5109d8398829a31100fd82b3e0
Author: Bernard Leach <leachbj@bouncycastle.org>
Date:   Thu Nov 17 02:58:13 2016 +0000

    KAFKA-4376; Cross compile to Scala 2.12.0
    
    Author: Bernard Leach <leachbj@bouncycastle.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2113 from leachbj/2.12.0-trunk-build

commit aad93840668ae895fce5762c2491b09c32bc3e0c
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Thu Nov 17 02:15:14 2016 +0000

    MINOR: Extract SCALA_BINARY_VERSION from SCALA_VERSION
    
    Will allow users to set one fewer environment variable if they need to
    change scala version. Still, SCALA_BINARY_VERSION can be explicitly set.
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2130 from kkonstantine/MINOR-Extract-SCALA_BINARY_VERSION-from-SCALA_VERSION

commit 249e4136852be49579eef53b2bce0b2506797666
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Nov 16 16:30:48 2016 -0800

    KAFKA-4211; Update system test services to use the new consumer by default
    
    Update system test method signatures and method calls to use the new consumer by default.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2060 from vahidhashemian/KAFKA-4211

commit 04a13e82a6cb6346589262faf65e8b484a1948b6
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Nov 16 12:46:32 2016 -0800

    KAFKA-4359: Remove commit interval in integration tests for testing caching effects
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2124 from enothereska/KAFKA-4359-intergration-tests-commit1

commit 39a1c42dfc78b1a55df1312c66daec4a491f0708
Author: Qian Zheng <00117553@zte.intra>
Date:   Wed Nov 16 11:36:05 2016 -0800

    MINOR: add a space to separate two words
    
    I think we should add a space here, otherwise the two words will join together.
    And replace the host string with a constant, otherwise when I need to modify the host, I need to modify several files.
    
    Author: 郑谦00117553 <00117553@zte.intra>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2132 from ZhengQian1/trunk

commit b902ef985a8d4ce304950fcb2c02499054fe6d24
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Nov 16 09:38:42 2016 -0800

    MINOR: Remove unused `ByteBoundedBlockingQueue` class and `zkSessionTimeout` parameter
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2136 from ijuma/remove-unused-code

commit 31203efcb20b7efcbad5984b377ad87c58673dbc
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Nov 15 14:23:36 2016 +0000

    MINOR: Clarify how to fix conversion issues when plain JSON data is used with schemas.enable=true
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2041 from ewencp/clarify-json-converter-failure

commit a32962af1427483eb103868497d3bfb6d5537fc6
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Mon Nov 14 17:07:39 2016 -0800

    HOTFIX: Remove failing ConnectDistributedTest.test_bad_connector_class
    
    Since #1911 was merged it is hard to externally test a connector transitioning to FAILED state due to an initialization failure, which is what this test was attempting to verify.
    
    The unit test added in #1778 already exercises exception-handling around Connector instantiation.
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2131 from shikhar/test_bad_connector_class

commit 3b4c347949c02b1e2b1dd473deda0f8d2304d027
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Nov 14 16:31:04 2016 -0800

    KAFKA-2066; Use client-side FetchRequest/FetchResponse on server
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2069 from hachikuji/KAFKA-2066

commit 1f1d4500623275ca05fe661b608a5119bde934ed
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Mon Nov 14 09:58:53 2016 -0800

    KAFKA-4409; Fix deadlock between topic event handling and shutdown in ZookeeperConsumerConnector
    
    The consumer can deadlock on shutdown if a topic event fires during shutdown. The shutdown acquires the rebalance lock and then the topic-event-watcher lock. The topic event watcher acquires these in the reverse order. Shutdown should not need to acquire the topic-event-watcher’s lock - all it does is unsubscribes from topic events.
    
    Author: Joel Koshy <jjkoshy@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #2129 from jjkoshy/KAFKA-4409

commit b7d36b7261ddefea68667a65cc5e2ee0734ed4a1
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Nov 12 16:11:04 2016 -0800

    KAFKA-3829: Ensure valid configuration prior to creating connector
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Shikhar Bhushan <shikhar@schmizz.net>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1911 from hachikuji/KAFKA-3829

commit 4f1d8c6859c5767c314de84bd654cb7e1153db4b
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Fri Nov 11 15:00:40 2016 -0800

    MINOR: Fix export command for additional env vars in connect system tests
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2126 from kkonstantine/MINOR-Fix-formatting-of-env-vars-in-connect-system-test-template

commit 7282de39f7b7cef1ca85f21771f2401a4a67eaec
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Fri Nov 11 10:21:46 2016 -0800

    KAFKA-4081; KafkaConsumer should not allow negative offsets to be committed
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1827 from mimaison/KAFKA-4081

commit 64a860c5853e21ff91109d0acb74b42f2dc20c7c
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Nov 11 10:21:03 2016 -0800

    KAFKA-4379: Remove caching of dirty and removed keys from StoreChangeLogger
    
    The `StoreChangeLogger` currently keeps a cache of dirty and removed keys and will batch the changelog records such that we don't send a record for each update. However, with KIP-63 this is unnecessary as the batching and de-duping is done by the caching layer. Further, the `StoreChangeLogger` relies on `context.timestamp()` which is likely to be incorrect when caching is enabled
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Eno Thereska, Guozhang Wang
    
    Closes #2103 from dguy/store-change-logger

commit 97839344601cc67256e871bd461e877eed974104
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Fri Nov 11 09:10:20 2016 -0800

    MINOR: Extend mirror maker test to include interceptors
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2081 from kkonstantine/MINOR-Extend-mirror-maker-test-to-include-interceptors

commit 0fc1898bf6b91ac5f79dbf3da7ebc90da410876d
Author: Dan Norwood <norwood@confluent.io>
Date:   Fri Nov 11 06:36:15 2016 -0800

    HOTFIX: failing to close this iterator causes leaks in rocksdb
    
    guozhangwang dguy
    
    Author: dan norwood <norwood@confluent.io>
    
    Reviewers: Damian Guy, Michael G. Noll, Guozhang Wang
    
    Closes #2122 from norwood/close-call

commit d8fa4006cb824aa2a8ab890b6754c920ac17182c
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Nov 10 17:06:36 2016 -0800

    MINOR: improve exception message for incompatible Serdes to actual key/value data types
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll, Guozhang Wang
    
    Closes #2118 from mjsax/hotfixImproveSerdeTypeMissmatchError

commit cc62b4f844ca16eee974e75b736af87b7532de0d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Nov 10 07:12:53 2016 -0800

    revert streams/src/main/java/org/apache/kafka/streams/processor/ConsumerRecordTimestampExtractor.java

commit 6972d9476fc036d5fdcc59fb82fb20f063091df8
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Nov 9 15:31:11 2016 -0800

    MINOR: add upgrade guide for Kafka Streams API
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll, Eno Thereska
    
    Closes #2114 from mjsax/updateDocUpgradeSection

commit da13b537871ee59d30fb82703de4b6b1fcb11dff
Author: rnpridgeon <ryan.n.pridgeon@gmail.com>
Date:   Wed Nov 9 14:57:31 2016 -0800

    KAFKA-4364: Remove secrets from DEBUG logging
    
    leverage fix from KAFKA-2690 to remove secrets from task logging
    
    Author: rnpridgeon <ryan.n.pridgeon@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2115 from rnpridgeon/KAFKA-4364

commit a66ca1624c692d30b7ae1e25c29915331cbf41e3
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Nov 9 11:22:28 2016 -0800

    MINOR: fix incorrect logging in StreamThread
    
    Fix incorrect logging when unable to create an active task. The output was: Failed to create an active task %s:
    It should have the taskId.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma, Eno Thereska
    
    Closes #2109 from dguy/minor-logging

commit f1e1b6e744cde036d75678575bd5e32c608ecdb1
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Nov 9 11:17:37 2016 -0800

    MINOR: remove unused fields from KTableImpl
    
    Remove `keySerde`, `valSerde`, `OUTERTHIS_NAME`, `OUTEROTHER_NAME`, `LEFTTHIS_NAME`, `LEFTOTHER_NAME` from `KTableImpl` as they are all unused fields
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2119 from dguy/minor-ktable-unused

commit 7c36fc377650dac8a9d6e5f2d0049a78cd93d2e5
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Nov 9 10:43:27 2016 -0800

    KAFKA-4311: Multi layer cache eviction causes forwarding to incorrect ProcessorNode
    
    Given a topology like the one below. If a record arriving in `tableOne` causes a cache eviction, it will trigger the `leftJoin` that will do a `get` from `reducer-store`. If the key is not currently cached in `reducer-store`, but is in the backing store, it will be put into the cache, and it may also trigger an eviction. If it does trigger an eviction and the eldest entry is dirty it will flush the dirty keys. It is at this point that a ClassCastException is thrown. This occurs because the ProcessorContext is still set to the context of the `leftJoin` and the next child in the topology is `mapValues`.
    We need to set the correct `ProcessorNode`, on the context, in the `ForwardingCacheFlushListener` prior to calling `context.forward`. We also need to  remember to reset the `ProcessorNode` to the previous node once `context.forward` has completed.
    
    ```
           final KTable<String, String> one = builder.table(Serdes.String(), Serdes.String(), tableOne, tableOne);
            final KTable<Long, String> two = builder.table(Serdes.Long(), Serdes.String(), tableTwo, tableTwo);
            final KTable<String, Long> reduce = two.groupBy(new KeyValueMapper<Long, String, KeyValue<String, Long>>() {
                Override
                public KeyValue<String, Long> apply(final Long key, final String value) {
                    return new KeyValue<>(value, key);
                }
            }, Serdes.String(), Serdes.Long())
                    .reduce(new Reducer<Long>() {..}, new Reducer<Long>() {..}, "reducer-store");
    
        one.leftJoin(reduce, new ValueJoiner<String, Long, String>() {..})
            .mapValues(new ValueMapper<String, String>() {..});
    
    ```
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2051 from dguy/kafka-4311

commit 8ab8f37b43e3274ad0d8fb3883e3f432992058ba
Author: Xavier Léauté <xavier@confluent.io>
Date:   Wed Nov 9 10:41:29 2016 -0800

    MINOR: fix typos and incorrect docs
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #2112 from xvrl/minor-doc-fixes

commit 6dbe202b6dc3ba638d3a55ff89b594bd334bb8b0
Author: Tu Yang <tuyang@meituan.com>
Date:   Wed Nov 9 10:37:59 2016 -0800

    KAFKA-4360：Controller may deadLock when autoLeaderRebalance encounter zk expired
    
    Author: tuyang <tuyang@meituan.com>
    Author: xiguantiaozhan <kafkausr@126.com>
    
    Reviewers: Ismael Juma, Jiangjie Qin, Guozhang Wang
    
    Closes #2094 from xiguantiaozhan/rebalance_deadlock

commit 11766ad31861e0350178f59127e471fde2b20970
Author: Dan Norwood <norwood@confluent.io>
Date:   Tue Nov 8 14:47:08 2016 -0800

    MINOR: some trace logging for streams debugging
    
    Author: Ubuntu <norwood@confluent.io>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1882 from norwood/streams-logging

commit 92287849e46ee0dad360fcd971c6207aa11777a7
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Nov 8 12:10:13 2016 -0800

    MINOR: remove commented out code and System.out.println
    
    Remove commented out code and System.out.println from KTableKTableJoinIntegrationTest
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Eno Thereska, Guozhang Wang
    
    Closes #2092 from dguy/cleanup-comments

commit 471a2ab17df66c52e0a98afa81e0b360560a5e9a
Author: Theo <theo@iconara.net>
Date:   Tue Nov 8 09:27:11 2016 -0800

    KAFKA-4284: Make Partitioner a Closeable and close it when closing the producer
    
    [KAFKA-4284](https://issues.apache.org/jira/browse/KAFKA-4284)
    
    Even though Partitioner has a close method it is not closed when the producer is closed. Serializers, interceptors and metrics are all closed, so partitioners should be closed to.
    
    To be able to use the same mechanism to close the partitioner as the serializers, etc. I had to make the `Partitioner` interface extend `Closeable`. Since this doesn't change the interface that feels ok and should be backwards compatible.
    
    Looking at [KAFKA-2091](https://issues.apache.org/jira/browse/KAFKA-2091) (d6c45c70fb9773043766446e88370db9709e7995) that introduced the `Partitioner` interface it looks like the intention was that the producer should close the partitioner.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Theo <theo@iconara.net>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2000 from iconara/kafka-4284

commit 8f2e0a5ec1dd285fcf47e2df396b897176c2008b
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 7 08:47:28 2016 -0800

    MINOR: Fix regex on connector path param in ConnectorsResource
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Shikhar Bhushan <shikhar@schmizz.net>, Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #2108 from ewencp/fix-rest-api-regex

commit 5307efe1ae447cc1ba01c699af002b154b3b04e3
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Nov 4 15:57:12 2016 -0700

    MINOR: Fix re-raise of python error in system tests
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2099 from ewencp/fix-python-reraise

commit 7868e657757d66aed13546dcdba97feeba8f1b14
Author: Shikhar Bhushan <shikhar@schmizz.net>
Date:   Fri Nov 4 13:29:31 2016 -0700

    MINOR: missing fullstop in doc for `max.partition.fetch.bytes`
    
    Author: Shikhar Bhushan <shikhar@schmizz.net>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1969 from shikhar/patch-2

commit 0a659e50f7d98c0a195a7dca4ef9f117ab2aa257
Author: Olivier Girardot <o.girardot@lateral-thoughts.com>
Date:   Fri Nov 4 10:44:05 2016 -0700

    KAFKA-4372: Kafka Connect REST API does not handle DELETE of connector with slashes in their names
    
    Kafka Connect REST API does not handle in many places connectors with slashes in their names because it expects PathParams, this PR intends to :
    * Reject as bad requests API calls trying to create connectors with slashes in their names
    * Add support for connector with slashes in their names in the DELETE part of the API to allow users to cleanup their connectors without dropping everything.
    
    This PR adds as well the Unit Test needed for the creation part and was tested manually for the DELETE part.
    
    Author: Olivier Girardot <o.girardot@lateral-thoughts.com>
    
    Reviewers: Shikhar Bhushan <shikhar@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2096 from ogirardot/fix/connectors-with-slashes-cannot-be-deleted

commit 5e7190cf83860190d54815aab957a58c26fd816e
Author: Stig Rohde Døssing <sdo@it-minds.dk>
Date:   Fri Nov 4 00:37:18 2016 -0700

    MINOR: Add description of how consumer wakeup acts if no threads are awakened
    
    I think the Javadoc should describe what happens if wakeup is called and no other thread is currently blocking. This may be important in some cases, e.g. trying to shut down a poll thread, followed by manually committing offsets.
    
    Author: Stig Rohde Døssing <sdo@it-minds.dk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2093 from srdo/minor-expand-wakeup-javadoc

commit e795ad96ca9f26cdef01d063b79483a6c9221f27
Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
Date:   Thu Nov 3 23:04:09 2016 -0700

    KAFKA-4024; Override client metadata backoff on topic changes and avoid unnecessary connections
    
    Fixes a bug that inappropriately applies backoff as interval between metadata updates even though the current one is outdated.
    
    Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #1707 from kawamuray/KAFKA-4024-metadata-backoff

commit 1a2ed8633d6d7194b398a4aa0f0b6f0b4fe4178e
Author: Himani Arora <1himani.arora@gmail.com>
Date:   Thu Nov 3 06:59:27 2016 -0400

    MINOR: Remove stray `%s` in `TopicMetadata.toString`
    
    This bug was recently introduced via 2959bc2ad.
    
    Author: Himani Arora <1himani.arora@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2091 from himani1/minor_fix

commit 508711d09e7c6070868aadfff1b2627e77f7f3d9
Author: Mathieu Fenniak <mathieu.fenniak@replicon.com>
Date:   Wed Nov 2 10:27:19 2016 -0700

    MINOR: Fix NPE when Connect offset contains non-primitive type
    
    When storing a non-primitive type in a Connect offset, the following NullPointerException will occur:
    
    ```
    07:18:23.702 [pool-3-thread-1] ERROR o.a.k.c.storage.OffsetStorageWriter - CRITICAL: Failed to serialize offset data, making it impossible to commit offsets under namespace tenant-db-bootstrap-source. This likely won't recover unless the unserializable partition or offset information is overwritten.
    07:18:23.702 [pool-3-thread-1] ERROR o.a.k.c.storage.OffsetStorageWriter - Cause of serialization failure:
    java.lang.NullPointerException: null
            at org.apache.kafka.connect.storage.OffsetUtils.validateFormat(OffsetUtils.java:51)
            at org.apache.kafka.connect.storage.OffsetStorageWriter.doFlush(OffsetStorageWriter.java:143)
            at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:319)
    ... snip ...
    ```
    
    The attached patch fixes the specific case where OffsetUtils.validateFormat is attempting to provide a useful error message, but fails to because the schemaType method could return null.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Mathieu Fenniak <mathieu.fenniak@replicon.com>
    
    Reviewers: Gwen Shapira
    
    Closes #2087 from mfenniak/fix-npr-with-clearer-error-message

commit 2959bc2ad382fa786bd6209fe742b8218edfa4a8
Author: himani1 <1himani.arora@gmail.com>
Date:   Tue Nov 1 22:20:19 2016 -0700

    MINOR: Replaced unnecessary isDefined and get on option values with fold
    
    Author: himani1 <1himani.arora@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2050 from himani1/refactored_code

commit c62dc28ceb215da003dba39fa845c29bbd7271fa
Author: Apurva Mehta <apurva.1618@gmail.com>
Date:   Tue Nov 1 18:17:42 2016 -0700

    MINOR: Fix documentation of compaction
    
    Removed a duplicate line and also cleaned up some of the language around compaction guarantees.
    
    Author: Apurva Mehta <apurva.1618@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #2089 from apurvam/fix-documentation-of-compaction and squashes the following commits:
    
    03c5bdd [Apurva Mehta] Fix line length to be consistent with the rest of the file
    0af1a86 [Apurva Mehta] MINOR: fix duplicate line in docs for compaction.

commit 94909a8f83bfe214726f85130ad04d867e022894
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Nov 1 11:36:12 2016 -0700

    KAFKA-4357; Fix consumer group describe output when there is no active member (old consumer)
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2075 from vahidhashemian/KAFKA-4357

commit fbbe5821c26d5e4c7d0dff130ea722fbf90169d8
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Nov 1 10:30:13 2016 -0700

    KAFKA-4352: instable ResetTool integration test
    
     - increased timeout to stabilize test
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2082 from mjsax/kafka-4352-hotfix

commit ba322e54203ffec5779944753f264d70b87a24fd
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Nov 1 10:07:58 2016 -0700

    KAFKA-4361: Streams does not respect user configs for "default" params
    
    Enable user provided consumer and producer configs to override the streams default configs.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2084 from dguy/kafka-4361

commit 979a7baa7b3039060d1a788ae179dc3593c6821e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Nov 1 08:41:58 2016 -0700

    MINOR: Fix issue in `AsyncProducerTest` where it expects the `port` config to be set
    
    This test fails locally when I run it, but somehow Jenkins builds are passed. Not clear how.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2073 from ijuma/async-producer-test-port-config

commit 76b070284142635d2be78e8f86e779dfdbb0a2e0
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun Oct 30 11:37:38 2016 -0700

    HOTFIX: improve error message on invalid input record timestamp
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang, Ismael Juma, Michael G. Noll, Eno Thereska
    
    Closes #2076 from mjsax/hotfixTSExtractor

commit 18223415b091b0c05af4767191bb97b366aa8fa5
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun Oct 30 11:34:17 2016 -0700

    KAFKA-4302: Simplify KTableSource
    
    KTableSource is always materialized since IQ:
      - removed flag KTableSource#materialized
      - removed MaterializedKTableSourceProcessor
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #2065 from mjsax/kafka-4302-simplify-ktablesource

commit 29ea4b0f1481aa2ee29694f2b469c16059f9c17e
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Sun Oct 30 11:21:44 2016 -0700

    KAFKA-3559: Recycle old tasks when possible
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2032 from enothereska/KAFKA-3559-onPartitionAssigned

commit a4ab9d02a22e77f0ebca0450e608898d83d4fe18
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sat Oct 29 10:48:17 2016 -0700

    KAFKA-4117: Stream partitionassignro cleanup
    
    1. Create a new `ClientMetadata` to collapse `Set<String> consumerMemberIds`, `ClientState<TaskId> state`, and `HostInfo hostInfo`.
    
    2. Stop reusing `stateChangelogTopicToTaskIds` and `internalSourceTopicToTaskIds` to access the (sub-)topology's internal repartition and changelog topics for clarity; also use the source topics num.partitions to set the num.partitions for repartition topics, and clarify to NOT have cycles since otherwise the while loop will fail.
    
    3. `ensure-copartition` at the end to modify the number of partitions for repartition topics if necessary to be equal to other co-partition topics.
    
    4. Refactor `ClientState` as well and update the logic of `TaskAssignor` for clarity as well.
    
    5. Change default `clientId` from `applicationId-suffix` to `applicationId-processId` where `processId` is an UUID to avoid conflicts of clientIds that are from different JVMs, and hence conflicts in metrics.
    
    6. Enforce `assignment` partitions to have the same size, and hence 1-1 mapping to `activeTask` taskIds.
    
    7. Remove the `AssignmentSupplier` class by always construct the `partitionsByHostState` before assigning tasks to consumers within a client.
    
    8. Remove all unnecessary member variables in `StreamPartitionAssignor`.
    
    9. Some other minor fixes on unit tests, e.g. remove `test only` functions with java field reflection.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Xavier Léauté, Matthias J. Sax, Eno Thereska, Jason Gustafson
    
    Closes #2012 from guozhangwang/K4117-stream-partitionassignro-cleanup

commit 0dd9607f9ca50a385e78af06b66e0e90c1f37076
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Oct 28 06:31:29 2016 -0400

    KAFKA-4326; Refactor LogCleaner for better reuse of common copy/compress logic
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2053 from hachikuji/KAFKA-4326

commit 34e9cc5dfae1f0a7b2cab51cb2939d48ba048964
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Oct 27 18:41:38 2016 -0700

    KAFKA-4349; Handle 'PreparingRebalance' and 'AwaitingSync' states in consumer group describe
    
    The edge case where consumer group state is `PreparingRebalance` or `AwaitingSync` will be separately handled as the group assignment is not yet determined.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2070 from vahidhashemian/KAFKA-4349

commit 53fc26723ec0a5dfe6b5ce5f17db8b306953a1fb
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Oct 27 09:17:34 2016 -0700

    MINOR: Increase zk connection timeout in tests for client created in `KafkaServer`
    
    We had already made this change to the client created in `ZooKeeperTestHarness`.
    I last saw this failure when `SaslPlaintextTopicMetadataTest.testAliveBrokerListWithNoTopics`
    was executed in Jenkins.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2066 from ijuma/increase-zk-timeout-in-kafka-server

commit dab3617e1af6efe9898b2675d7266272107d9105
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Oct 26 12:57:57 2016 -0700

    MINOR: improve JavaDoc for Streams window retention time
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2068 from mjsax/hotfixImproveWindowRetentionTimeJavaDoc

commit a4413fc8a42b0222107cad20835e4461141c2ea2
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Oct 25 13:11:04 2016 +0100

    KAFKA-4301; Add more trace for SSL handshake
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2027 from rajinisivaram/KAFKA-4301

commit 2ac332e9c9015964d993692c99c5ad19c9e2d56b
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Oct 25 13:07:50 2016 +0100

    KAFKA-4339; Update system tests to accommodate the new consumer group describe output
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2061 from vahidhashemian/KAFKA-4339

commit 986c15450df8fce4a57bb606959c4ccfb4cde080
Author: wangzzu <wangm92@163.com>
Date:   Tue Oct 25 11:26:31 2016 +0100

    Parameters zkSessionTimeOutMs and zkConnectionTimeoutMs are reversed in SimpleAclAuthorizer
    
    Also use named parameters in KafkaServer for clarity (even though it was correct previously).
    
    Author: Matt <wangm92@163.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1646 from wangzzu/wangzzu

commit d092673838173d9dedbf5acf3f4e2cd8c736294f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Oct 25 02:55:55 2016 +0100

    MINOR: A bunch of clean-ups related to usage of unused variables
    
    There should be only one cases where these clean-ups have a functional impact: replaced repeated identical logs with a single log for the stale controller epoch case.
    
    The rest should just make the code easier to read and make it a bit less wasteful. I did this exercise because unused variables sometimes mask bugs.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1985 from ijuma/remove-unused

commit 1fc450fdb5f7b16c3bfb39832d7fe348995e2cf4
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Oct 24 16:18:23 2016 -0700

    KAFKA-2089; Increase metadata wait time in unit test
    
    Increase timeout in test to avoid transient failures due to long GC or slow machine.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #2057 from rajinisivaram/KAFKA-2089

commit b2fa0d75df6ae2959da8c3dbe7d83f692043e577
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Oct 24 13:44:27 2016 -0700

    KAFKA-4331: Kafka Streams resetter is slow because it joins the same group for each topic
    
    - reworked to use a sinlge KafkaConsumer and subscribe only once
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2049 from mjsax/improveResetTool

commit ed5076923483bba36df6d4b70575ee0ffd6a046c
Author: Andrew Stevenson <andrew@datamountaineer.com>
Date:   Sun Oct 23 22:32:03 2016 -0700

    MINOR: Check for null timestamp rather than value in hashcode
    
    Author: Andrew Stevenson <andrew@datamountaineer.com>
    
    Reviewers: Shikhar Bhushan <shikhar@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2055 from andrewstevenson/kafka-4334

commit 63da487213765cb543a4255a83acb876a57d3634
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sun Oct 23 21:31:34 2016 -0700

    KAFAK-4058: Failure in org.apache.kafka.streams.integration.ResetIntegrationTest.testReprocessingFromScratchAfterReset
    
     - fixed consumer group dead condition
     - disabled state store cache
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2056 from mjsax/KAFKA-4058-instableResetToolTest

commit 7afdad8c37cde4a32ad7ce66ca7a878cf730495e
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Oct 21 19:19:04 2016 -0700

    KAFKA-3144; Report members with no assigned partitions in ConsumerGroupCommand
    
    This PR makes a couple of enhancements to the `--describe` option of `ConsumerGroupCommand`:
    1. Listing members with no assigned partitions.
    2. Showing the member id along with the owner of each partition (owner is supposed to be the logical application id and all members in the same group are supposed to set the same owner).
    3. Printing a warning indicating whether ZooKeeper based or new consumer API based information is being reported.
    
    It also adds unit tests to verify the added functionality.
    
    Note: The third request on the corresponding JIRA (listing active offsets for empty groups of new consumers) is not implemented as part of this PR, and has been moved to its own JIRA (KAFKA-3853).
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1336 from vahidhashemian/KAFKA-3144

commit 74014af8332c6ec95133cd7fda3848bcd7fb4ce6
Author: Xavier Léauté <xavier@confluent.io>
Date:   Fri Oct 21 14:52:06 2016 -0700

    MINOR: add list_topics command to help debug tests
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2052 from xvrl/test-add-list-topics

commit 302a246c72677b1045696f4d6dda51da8c6a1da0
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Oct 21 14:41:04 2016 -0700

    KAFKA-4296; Fix LogCleaner statistics rolling
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2016 from hachikuji/KAFKA-4296

commit 2ac70c0b744780c8a7af1f9c8be27a45059da6cc
Author: Ben Stopford <benstopford@gmail.com>
Date:   Fri Oct 21 10:12:08 2016 +0100

    KAFKA-4309; Allow "pluggable" properties in KafkaService in System Tests
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2034 from benstopford/throttling-system-test-kafka-changes

commit 5cf579a7e43e0d2e6a2a26ede88ee850127aa4a1
Author: Magnus Edenhill <magnus@edenhill.se>
Date:   Thu Oct 20 16:18:25 2016 -0700

    MINOR: Fix vagrant rsync exclude argument
    
    Existing VMs will need to be re-provisioned or re-created to pick up this change.
    
    Reference docs:
    https://www.vagrantup.com/docs/synced-folders/rsync.html
    
    Author: Magnus Edenhill <magnus@edenhill.se>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2047 from edenhill/fix_vm_rsync_exclude

commit 62c0972efc525cc0677bd3fd470bd9fbbd70b004
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Oct 20 13:06:25 2016 -0700

    KAFKA-4001: Improve Kafka Streams Join Semantics (KIP-77)
    
     - fixed leftJoin -> outerJoin test bug
     - simplified to only use values
     - fixed inner KTable-KTable join
     - fixed left KTable-KTable join
     - fixed outer KTable-KTable join
     - fixed inner, left, and outer left KStream-KStream joins
     - added inner KStream-KTable join
     - fixed left KStream-KTable join
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1777 from mjsax/kafka-4001-joins

commit 24067e40764d91e1a6b2d80be45407841bbb72a2
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Oct 20 10:38:11 2016 +0100

    KAFKA-4313; ISRs may thrash when replication quota is enabled
    
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Ben Stopford <benstopford@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2043 from junrao/kafka-4313

commit 4c295a78446be6eba24ca4a9b7e506657e55c875
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Oct 19 21:04:28 2016 -0700

    KAFKA-4269: Update topic subscription when regex pattern specified out of topicGroups method
    
    …d out of topicGroups method. The topicGroups method only called from StreamPartitionAssignor when KafkaStreams object  is the leader, needs to be executed for clients.
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2005 from bbejeck/KAFKA-4269_multiple_kstream_instances_mult_consumers_npe

commit 17cb4fe52f74fcc1b7c43baa4649e0a4aba80fa3
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Oct 19 20:58:18 2016 -0700

    HOTFIX: follow up on KAFKA-4275
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2039 from mjsax/hotfix-ktableLeftJoin

commit 46666a1f64af3617d7f47f50fedf3b9a6ae5cddb
Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
Date:   Wed Oct 19 16:34:29 2016 -0700

    KAFKA-4250; Make ProducerRecord and ConsumerRecord extensible
    
    Signed-off-by: radai-rosenblatt <radai.rosenblattgmail.com>
    
    Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #1961 from radai-rosenblatt/extensibility

commit b51002c576ea9758132d75a8a0fe454e1bc270a2
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Oct 19 14:29:53 2016 -0700

    KAFKA-4312: If filePath is empty string writeAsText should have more meaningful error message
    
    …eaningful error message
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2042 from bbejeck/KAFKA-4312_write_as_text_throws_NPE_empty_string

commit c2a8b86117ede2ffda4cc4a8800b46f65ef9922d
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Oct 19 14:21:53 2016 -0700

    MINOR: Added more basic concepts to the documentation
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Michael G. Noll, Matthias J. Sax, Guozhang Wang
    
    Closes #2030 from enothereska/minor-kip63-docs

commit 6bd866b92fc5cf6e7a669e2d66c92c18b0ce869e
Author: Jozef Koval <jozef.koval@protonmail.ch>
Date:   Wed Oct 19 14:17:33 2016 -0700

    MINOR: Update rocksDB dependency to 4.11.2
    
    There are 32 failing tests on both trunk and my branch.
    
    Author: jozi-k <jozef.koval@protonmail.ch>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2036 from jozi-k/update-rocksdb-4.11.2

commit 179d4dc0f2a23d7e67caf4875a0563e74027933a
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Oct 19 14:01:23 2016 -0700

    HOTFIX: Fix putAll and putIfAbsent logic for correct eviction behavior
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #2038 from enothereska/hotfix-put-cache

commit 332b8b9afd04b975a42b91775edebdef5c27ff6b
Author: Alexey Ozeritsky <aozeritsky@yandex-team.ru>
Date:   Wed Oct 19 09:43:03 2016 -0700

    KAFKA-4319; Parallelize shutdown of fetchers in AbstractFetcherManager to speedup shutdown
    
    Author: Alexey Ozeritsky <aozeritsky@yandex-team.ru>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #2023 from resetius/AbstractFetcherManager-shutdown-speedup

commit 2965f50e0de755cd36cf5e13bd9968493a0f8279
Author: himani1 <1himani.arora@gmail.com>
Date:   Tue Oct 18 22:12:08 2016 -0700

    MINOR: Replaced unnecessary map and getOrElse with exists
    
    Author: himani1 <1himani.arora@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2035 from himani1/code_refactored

commit b8cfa167edfefbae52bec98eb357121e6437cef6
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Oct 18 14:24:52 2016 -0700

    DOC: Documentation for Throttled Replication
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao, Gwen Shapira
    
    Closes #2033 from benstopford/throttling-docs

commit 3c02e5a20f2c4f1112e9ba79560f0afcd6b09e5d
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Tue Oct 18 14:07:51 2016 -0700

    MINOR: Remove duplicate doc headers
    
    Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2021 from omkreddy/LATEST-DOC-CHANGE

commit 6f842c1e9e2b95c3faa81c0822bae88dc9ac9899
Author: amethystic <huxi_2b@hotmail.com>
Date:   Tue Oct 18 11:08:10 2016 -0700

    KAFKA-4310; Add missing Windows script `kafka-consumer-groups.bat`
    
    add file 'kafka-consumer-groups.bat' for Windows platform
    
    Author: amethystic <huxi_2b@hotmail.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2037 from amethystic/kafka-4310_add_consumer_groups_script

commit 925310aac0b6a0fb32e3e2d614198ffc78f34f96
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Oct 17 21:48:40 2016 -0700

    KAFKA-4275: Check of State-Store-assignment to Processor-Nodes is not enabled
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #1992 from mjsax/kafka-4275-stateStoreCheck

commit 4e0b0b83a7af8fd7d6041d39275e9f82dba9d606
Author: Ishita Mandhan <imandha@us.ibm.com>
Date:   Mon Oct 17 16:58:21 2016 -0700

    MINOR: Code refactor - cleaning up some boolean assignments
    
    Author: Ishita Mandhan <imandha@us.ibm.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #2013 from imandhan/KAFKA-refactor

commit 6199c62776bf3ce9467703ca651a0119b261e60e
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Oct 14 15:36:43 2016 -0700

    KAFKA-4303; Ensure commitSync does not block unnecessarily in poll without in-flight requests
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #2031 from hachikuji/KAFKA-4303

commit e7663a306f40e9fcbc3096d17fb0f99fa3d11d1d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Oct 14 13:54:01 2016 -0700

    MINOR: Improve on Streams log4j
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Dan Norwood, Matthias J. Sax, Jason Gustafson, Eno Thereska
    
    Closes #2026 from guozhangwang/KMinor-improve-logging

commit 9662e466d90093c9bc5315d0b9949dfbf353b988
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Oct 14 10:04:13 2016 -0700

    MINOR: Some images should be centered in the documentation
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #2029 from hachikuji/center-some-images

commit d09043637d5ea4094e3ee9808f29d037e8afaba6
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Oct 13 21:08:28 2016 -0700

    KAFKA-4298; Ensure compressed message sets are not converted when log cleaning
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #2019 from hachikuji/KAFKA-4298

commit 1a67739c2f3d0418a8f2d8f7b15d5af2ed3a324a
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Thu Oct 13 20:17:43 2016 -0700

    KAFKA-4254; Update producer's metadata before failing on non-existent partitions
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #1995 from kkonstantine/KAFKA-4254-Update-producers-metadata-before-failing-on-non-existent-partition

commit 65f6a7964f5e59e789eae3cdd4d301bb6a649064
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Oct 13 13:15:26 2016 -0700

    KAFKA-4300: NamedCache throws an NPE when evict is called and the cache is empty
    
    If evict is called on a NamedCache and the cache is empty an NPE is thrown. This was reported on the user list from a developer running 0.10.1.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2024 from dguy/cache-bug

commit 83116c733d09f5c85ced56701cdb614ce6efc847
Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
Date:   Wed Oct 12 16:28:29 2016 -0700

    KAFKA-4025; make sure file.encoding system property is set to UTF-8 when calling rat
    
    https://issues.apache.org/jira/browse/KAFKA-4025
    this patch sets the file.encoding system property to UTF-8 before invoking rat during the build process and resets it to the original value afterwards
    
    Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #1710 from radai-rosenblatt/fix-build-on-windows

commit c04486f4a5ec1101e6f1344658db359647ffa791
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Oct 12 12:45:00 2016 -0700

    HOTFIX: Increase number of retries in smoke test
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #2014 from enothereska/hotfix-smoke-test

commit 704308a6352461f09ac5adc37028b6c7b9f4f83f
Author: Radai Rosenblatt <radai.rosenblatt@gmail.com>
Date:   Wed Oct 12 12:55:44 2016 +0100

    KAFKA-4289; moved short-lived loggers to companion objects
    
    Signed-off-by: radai-rosenblatt <radai.rosenblattgmail.com>
    
    Author: radai-rosenblatt <radai.rosenblatt@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Onur Karaman <okaraman@linkedin.com>, Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #2006 from radai-rosenblatt/omgsrsly

commit ae9532c6b3befe2b18d336004bb0976e9d27d08e
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Oct 11 20:25:35 2016 -0700

    MINOR: Fixed broken links in the documentation
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2010 from vahidhashemian/doc/fix_hyperlinks

commit 93b940016348fcf64034f36e4b4f3fc53a966f74
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Oct 11 13:57:30 2016 -0700

    KAFKA-4283: records deleted from CachingKeyValueStore still appear in range and all queries
    
    Records that are deleted/removed from the CachingKeyValueStore shouldn't appear in range and all queries.
    Modified the iterator such that it skips over the deleted records.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Guozhang Wang
    
    Closes #2001 from dguy/kafka-4283

commit 9179bbc067cef5211107d19f96e0d836c3a007e1
Author: Andrea Cosentino <ancosen@gmail.com>
Date:   Tue Oct 11 09:32:13 2016 -0700

    KAFKA-4130; Link to Varnish architect notes is broken
    
    Author: Andrea Cosentino <ancosen@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1835 from oscerd/KAFKA-4130

commit c1e840050c11d2f1d20118273c572e4c8491866d
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Oct 10 23:02:19 2016 -0700

    KAFKA-4290: Fix timeout overflow in WorkerCoordinator.poll
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2009 from hachikuji/KAFKA-4290

commit 72d5675a7cfc64a5547b921672856ea4afc4f4c2
Author: Joshi <rekhajoshm@gmail.com>
Date:   Mon Oct 10 20:02:04 2016 -0700

    KAFKA-4010: add ConfigDef toEnrichedRst() for additional fields in output
    
    followup on https://github.com/apache/kafka/pull/1696
    
    cc rekhajoshm
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    Author: Joshi <rekhajoshm@gmail.com>
    
    Reviewers: Shikhar Bhushan <shikhar@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1964 from shikhar/kafka-4010

commit 2e82bc0a105be5d19e3f6960184659db6eb4e74b
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Oct 10 19:58:47 2016 -0700

    MINOR: Add images missing from documentation
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #2008 from hachikuji/add-missing-images

commit 8e9e63138d96a607c1f0482c395e7f9d1005a182
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Oct 10 17:09:52 2016 -0700

    MINOR: Fix table of contents and section numbers in the documentation
    
    Removed a non-existing reference in table of contents and fixed some section numbers.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2004 from vahidhashemian/doc/fix_toc

commit e972d2afd31913acdef8979c6cac7cf48f99da7b
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Oct 10 15:58:37 2016 -0700

    MINOR: Fix typos in documentation
    
    And improve readability by adding proper punctuations.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2002 from vahidhashemian/doc/fix_typos

commit 06d6d98bed616a66799585fc1f9166dc87247f8c
Author: Derrick Or <derrickor@gmail.com>
Date:   Mon Oct 10 14:46:36 2016 -0700

    MINOR: Make documentation follow latest template
    
    Make the latest version of our docs follow the latest site template structure.
    
    Author: Derrick Or <derrickor@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #2003 from derrickdoo/docs-updates

commit 1bce0d1b5120743a9a0559a6c9a98249d463fe02
Author: MayureshGharat <gharatmayuresh15@gmail.com>
Date:   Mon Oct 10 14:06:12 2016 -0700

    KAFKA-3175; Topic not accessible after deletion even when delete.topic.enable is disabled
    
    Remove topics under /admin/delete_topics path in zk if deleteTopic is disabled. The topic should never be enqueued for deletion.
    
    Author: MayureshGharat <gharatmayuresh15@gmail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #846 from MayureshGharat/kafka-3175

commit bf98c47389baa735aab9cfbf513190a8205447f9
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Oct 10 13:35:11 2016 -0700

    KAFKA-4244; Fix formatting issues in documentation
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1966 from gwenshap/KAFKA-4244

commit 7a5133d5545fbffa5bea89818a5b6b3e2175e418
Author: Jakub Dziworski <jakub.dziworski@gmail.com>
Date:   Mon Oct 10 10:15:47 2016 -0700

    MINOR: Fixed introduction doc - wrong streams api link
    
    Author: Jakub Dziworski <jakub.dziworski@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1996 from JakubDziworski/doc_fix_streams_link

commit fb22685fa9e2df7793605ea6f41181ad51c76686
Author: Jakub Dziworski <jakub.dziworski@gmail.com>
Date:   Mon Oct 10 09:26:37 2016 -0700

    MINOR: Fixed incomplete sentence in introduction docs
    
    Author: Jakub Dziworski <jakub.dziworski@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1994 from JakubDziworski/doc_fix

commit 179d0698573bfc75b2c91185bdcb8b4d2f3038e0
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sun Oct 9 10:30:52 2016 -0700

    MINOR: Update Quickstart in documentation to account for Windows platforms
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1990 from vahidhashemian/doc/quickstart_update_windows

commit 44d18d273c36bb76fa16baec68a9294d697a1c9b
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Oct 8 12:22:34 2016 +0100

    KAFKA-4265; Run replication quotas test with producer acks=1
    
    Test expects all records to be published successfully, which cannot be guaranteed with acks=0 since failures are not retried.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ben Stopford <benstopford@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1991 from rajinisivaram/KAFKA-4265

commit 6b91f83fbaef26fefb9ec221529c29872a04c004
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Oct 7 18:43:24 2016 -0700

    KAFKA-4274; Consumer `offsetForTimes` times out on empty map
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #1993 from becketqin/KAFKA-4274

commit e876df8b37fc6ea54b0a0571306c4a833c919cda
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Oct 7 13:13:27 2016 -0700

    HOTFIX: recreate state.dir after cleanup
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1940 from mjsax/hotfix-resetTool

commit 454f6845b34d0e3faabd9427f3cd8bbe6209c30d
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Oct 7 11:30:00 2016 -0700

    HOTFIX: move restoreConsumer.assign() to shutdownTasksAndState
    
    restoreConsumer.assign(..) in removeStandbyTasks was logging an (ignorable) exception due to the restoreConsumer being closed. Moved the restoreConsumer.assign(..) to shutdownTasksAndState as this is done prior to the closing of consumers.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1986 from dguy/hotfix-assign

commit 615cd4fd3ad7abe7600e4f80ce6c36f7125f599e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Oct 7 09:00:12 2016 -0700

    MINOR: Use `hiResClockMs` in `testRequestExpiry` to fix transient test failure
    
    We recently switched `SystemTimer` to use `hiResClockMs` (based on `nanoTime`), but we
    were still using `System.currentTimeMillis` in the test. That would sometimes mean
    that we would measure elapsed time as lower than expected.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1890 from ijuma/fix-test-request-satisfaction-transient-failure

commit 5e4600ae469559b9cdb36c17efb90cc6b6388826
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Oct 7 15:02:26 2016 +0100

    KAFKA-4262; Increase data volume in replication test
    
    To prevent test from completing without throttling before config change takes effect, produce more messages in the test.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ben Stopford <benstopford@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1982 from rajinisivaram/KAFKA-4262

commit 8b75a016db16e20c5d5180deb6859bf0ad4c48fd
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Oct 7 12:10:53 2016 +0100

    KAFKA-4267; Quota initialization for <user, clientId> uses incorrect ZK path
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1987 from rajinisivaram/quota-init-test

commit 3c8925946ddfe7be8bea521c7d08a56aec756a2d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Oct 6 11:19:43 2016 -0700

    KAFKA-4252; Fix purgatory metric name in documentation
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1980 from rajinisivaram/KAFKA-4252

commit c9da62794547ee75a7e2ade1aa8bbf4a1443c49c
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Oct 6 09:43:39 2016 -0700

    KAFKA-4253: Fix Kafka Stream thread shutting down process ordering
    
    Changed the ordering in `StreamThread.shutdown`
    1. commitAll (we need to commit so that any cached data is flushed through the topology)
    2. close all tasks
    3. producer.flush() - so any records produced during close are flushed and we have offsets for them
    4. close all state managers
    5. close producers/consumers
    6. remove the tasks
    
    Also in `onPartitionsRevoked`
    1. commitAll
    2. close all tasks
    3. producer.flush
    4. close all state managers
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1970 from dguy/kafka-4253

commit 4efa833f45c5765ce3a5179f20fd384e2f2e210c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Oct 6 09:39:26 2016 -0700

    MINOR: Clarify 0.10.1.0 upgrade docs
    
    This is a minor change to fix the most glaring issues. We have another JIRA to revamp the upgrade docs.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jeff Klukas <jeff@klukas.net>, Jiangjie Qin <becket.qin@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1971 from ijuma/kafka-4257-upgrade-docs-inconsitencies

commit b049606aebbb6c08120e53a6bf3d9519bb14b076
Author: Flavio Junqueira <fpj@apache.org>
Date:   Wed Oct 5 23:01:30 2016 +0100

    KAFKA-3985; Transient system test failure ZooKeeperSecurityUpgradeTest.test_zk_security_upgrade.security_protocol
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Geoff Anderson <geoff@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1973 from fpj/KAFKA-3985

commit 3e9f357fb56fd2b030a616b0d9d475cfa481e149
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Oct 5 08:30:05 2016 -0700

    KAFKA-4176: Only call printStream.flush for System.out
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Bill Bejeck, Damian Guy
    
    Closes #1965 from guozhangwang/K4176-only-flush-for-standardoutput

commit 305fb59b13da8b0b0a1a657688c0fa5f5916c91f
Author: Xavier Léauté <xavier@confluent.io>
Date:   Tue Oct 4 14:45:09 2016 -0700

    KAFKA-4251: fix test driver not launching in Vagrant 1.8.6
    
    custom ip resolver in test driver makes incorrect assumption when calling vm.communicate.execute, causing driver to fail launching with Vagrant 1.8.6, due to https://github.com/mitchellh/vagrant/pull/7676
    
    Author: Xavier Léauté <xavier@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1962 from xvrl/fix-vagrant-resolver

commit b3eef7bc72743b006d068ae6c3edf71d413ef433
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Oct 4 11:12:56 2016 -0700

    KAFKA-4165; Add 0.10.0.1 as a source for compatibility tests
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1959 from hachikuji/KAFKA-4165

commit d8d2f3aac44562d2eec0911a44aec6b699dd0212
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Oct 4 10:38:49 2016 -0700

    MINOR: Tweak upgrade note on KIP-62 to include request.timeout.ms
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1960 from hachikuji/add-note-on-request-timeout

commit 1a396c9cf22441a7afa8ec9c4a94a48f881cdd90
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Oct 3 21:17:11 2016 -0700

    MINOR: Add upgrade notes for KIP-62
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1956 from hachikuji/add-kip-62-upgrade-notes

commit 672dfaa243850a835c1b01da4fb20311ba6455bc
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Oct 3 20:02:47 2016 -0700

    KAFKA-4019; Update log cleaner to handle max message size of topics
    
    Grow read and write buffers of cleaner up to the maximum message size of the log being cleaned if the topic has larger max message size than the default config of the broker.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1758 from rajinisivaram/KAFKA-4019

commit 91d025e063e9f2b8e5799f84f6f3f7f1e9b0916c
Author: pilo <jakub.pilimon@4finance.com>
Date:   Mon Oct 3 19:29:53 2016 -0700

    MINOR: Clarify doc on consumption of topics
    
    In doc it stays:
    
    _"Our topic is divided into a set of totally ordered partitions, each of which is consumed by one consumer at any given time."_
    
    And consumer is described as:
    
    _"We'll call **processes** that subscribe to topics and process the feed of published messages **consumers**."_
    
    Which might lead to a wrong conclusion - that each partition can be read by one process at any given time.
    
    I think this statements misses information about **consumer groups**, so i propose:
    
    _"Our topic is divided into a set of totally ordered partitions, each of which is consumed by exactly one consumer (from each subscribed consumer groups) at any given time"_
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: pilo <jakub.pilimon@4finance.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1900 from pilloPl/minor/doc-fix

commit cf0bf7c7a24aa5a19069b6e8456353c9b498dffc
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Oct 4 02:18:19 2016 +0100

    MINOR: Tweak implementation of `FetchRequest.shuffle` and upgrade.html improvements
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1955 from ijuma/kip-74-follow-up

commit 7115c66aefb11efa802e61a42bcc13fadf92598d
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Oct 3 16:49:50 2016 -0700

    MINOR: Follow-up minor improvements/cleanup for KAFKA-3396
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1946 from hachikuji/followup-for-kafka-3396

commit a23859e5686bf93ed7e0d310f949757694d47a1b
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Oct 3 16:19:41 2016 -0700

    KAFKA-4248; Consumer should rematch regex immediately in subscribe
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1954 from hachikuji/rematch-regex-on-subscribe

commit 496594a12c67d468c5ab58d83bf31caea3154e56
Author: Ben Stopford <benstopford@gmail.com>
Date:   Mon Oct 3 18:21:57 2016 +0100

    MINOR: Rename Throttling config variables to match config name
    
    ThrottledLeaderReplicationRate* => LeaderReplicationThrottledRate*
    ThrottledFollowerReplicationRate* => FollowerReplicationThrottledRate* LeaderThrottledReplicasList* => LeaderReplicationThrottledReplicas*
    FollowerThrottledReplicasList* => FollowerReplicationThrottledReplicas*
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1951 from benstopford/rename-ThrottledLeaderReplicationRateProp

commit 9e8934065a85437767617d06d922a4f6591bb63d
Author: Yang Wei <yangvlive@gmail.com>
Date:   Mon Oct 3 09:54:30 2016 -0700

    MINOR: Fix typo in Vagrant README
    
    the wrong word in this sentence " allows us to bring machies up in parallel on AWS." .
    “machies” change to "machines".
    
    Author: Yang Wei <yangvlive@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1949 from yangwei71/trunk

commit c78a3b173d019e8bb58f4e31c94bf4dd3f7ab614
Author: Damian Guy <damian.guy@gmail.com>
Date:   Sat Oct 1 21:57:49 2016 -0700

    KAFKA-4241: StreamsConfig doesn't pass through custom consumer and producer properties to ConsumerConfig and ProducerConfig
    
    pass through user-defined consumer and producer properties from StreamsConfig to ConsumerConfig and ProducerConfig.
    For example, consumer interceptor support, i.e, consumer.interceptor.classes=SomeClass
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1943 from dguy/interceptor

commit 33c7b88ffe3fc0de9f0154c5667b20ea34c94849
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Oct 1 17:21:19 2016 -0700

    HOTFIX: Avoid mutable default arguments in system test services
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Apurva Mehta <apurva.1618@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1947 from hachikuji/hotfix-producer-perf-service

commit 8124f6e0996cb673760750b3aba004ae11e34c6a
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Fri Sep 30 23:07:51 2016 -0700

    KAFKA-3396; Ensure Describe access is required to detect topic existence
    
    Reopening of https://github.com/apache/kafka/pull/1428
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #1908 from edoardocomar/KAFKA-3396

commit f8b69aacd4ed1af1263e46b93879cea2d855df3b
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 30 17:25:42 2016 -0700

    KAFKA-3824; Clarify autocommit delivery semantics for consumer
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Jiangjie Qin <becket.qin@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1936 from hachikuji/KAFKA-3824

commit 788989158a466aa89f030940a28d4f868e275ed7
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 30 17:05:37 2016 -0700

    HOTFIX: Revert async change in ProduceConsumeValidateTest
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1945 from hachikuji/hotfix-produce-consume-validate

commit 20322446aa261dec8b51e6e4514307e926a29ba5
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Sep 30 13:13:24 2016 -0700

    KAFKA-4234; Revert automatic offset commit behavior in consumer's `unsubscribe()`
    
    Temporarily disable the offset commit (when auto commit is enabled) in the new consumer's `unsubscribe()` method towards a workaround for the issue reported in [KAFKA-3491](https://issues.apache.org/jira/browse/KAFKA-3491).
    For now, a call to `unsubscribe()` can be made to reset the offsets in case processing the batch received from the most recent `poll()` is interrupted (due to some exception).
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1944 from vahidhashemian/KAFKA-4234

commit 095475d481a230b81f312f94034a8d4d2b581eb9
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Sep 30 12:39:44 2016 -0700

    KAFKA-3930; Ensure ipv6 addresses are quoted properly in metrics tags
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Sriharsha Chintalapani <harsha@hortonworks.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1848 from rajinisivaram/KAFKA-3930

commit 451d263bb4df844bc4a359c320e7265ea25f3c8e
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Sep 30 20:06:18 2016 +0100

    KAFKA-4058; improved test condition evaluation
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1938 from mjsax/kafka-4058-resetIntegartionTest

commit 5a989d1748426004212d44abad4567f9034a04ef
Author: Apurva Mehta <apurva.1618@gmail.com>
Date:   Fri Sep 30 19:58:58 2016 +0100

    KAFKA-4213; System tests for replication throttling (KIP-73)
    
    In this patch, we test `kafka-reassign-partitions` when throttling is active.
    
    This patch also fixes the following:
    
      1. KafkaService.verify_reassign_partitions did not check whether
    partition reassignment actually completed successfully (KAFKA-4204).
    This patch works around those shortcomings so that we get the right
    signal from this method.
    
      2. ProduceConsumeValidateTest.annotate_missing_messages would call
    `pop' on the list of missing messages, causing downstream methods to get
    incomplete data. We fix that in this patch as well.
    
    Author: Apurva Mehta <apurva.1618@gmail.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ben Stopford <benstopford@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1904 from apurvam/throttling-tests

commit 5f3746d135697f364aaacf877ce288267d00b9a2
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 30 11:55:32 2016 -0700

    KAFKA-4233: StateDirectory fails to create directory if any parent directory does not exist
    
    Change the creation of the directories, in the StateDirectory constructor, to use mkdirs so any parents get created. Throw an exception if the directory doesn't exist and couldn't be created
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Michael G. Noll, Eno Thereska, Guozhang Wang
    
    Closes #1942 from dguy/kafka-4233

commit 18a0812618a151e8ac700545699173b10caf692b
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Sep 30 11:49:37 2016 -0700

    KAFKA-4235; Fix race condition in Sender.initiateClose that may cause missed callbacks
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy.w@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1939 from becketqin/KAFKA-4235

commit 4292243009c066c9ab5477ce886d8eb00534587e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Sep 30 09:36:46 2016 -0700

    HOTFIX: do not call partitioner if num partitions is non-positive
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska, Damian Guy
    
    Closes #1929 from guozhangwang/KMinor-check-zero-num-partitions and squashes the following commits:
    
    c8edc2d [Guozhang Wang] fix unit test
    3127f9c [Guozhang Wang] do not call partitioner if num partitions is non-positive

commit 43c30b8c3970d6a6252490c42b3300c445d80d37
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 30 11:26:17 2016 +0100

    HOTFIX: turn off auto topic creation in embedded kafka cluster
    
    Turning off auto topic creation in the EmbeddedKafkaCluster used by Streams as it can cause race conditions that lead to build hangs.
    Fixed the couple of tests that needed to have some topics manually created
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1941 from dguy/disable-auto-topic-create

commit 0bc1f41fc02062ff224f12ffac053ea3753ecb98
Author: Ben Stopford <benstopford@gmail.com>
Date:   Fri Sep 30 10:06:09 2016 +0100

    KAFKA-4225; Replication Quotas: Control Leader & Follower Limit Separately
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1932 from benstopford/KAFKA-4225-over-KAFKA-4216

commit 9edc71230ee7b77fd512f6d923e76469508c3280
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 30 09:41:28 2016 +0100

    KAFKA-4223; RocksDBStore should close all open iterators on close
    
    Keep track of open Rocks DB iterators. When a store is closed, close all open iterators.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1917 from dguy/kafka-4223

commit d2a267b111d23d6b98f2784382095b9ae5ddf886
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Sep 29 19:37:20 2016 -0700

    KAFKA-3697; Clean up website documentation of client usage
    
    This is to imply that the Java consumer/producer are the recommended consumer/producer now.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1921 from vahidhashemian/KAFKA-3697

commit 7c6d70655a7de6a3b688a3e869a091f863de2eef
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu Sep 29 16:36:42 2016 -0700

    KAFKA-3965; MirrorMaker should not commit offset when exception is thrown from producer.send
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #1915 from becketqin/KAFKA-3965

commit 0c8c167e844e53f64df80fca52b9b9b1d3dba8b7
Author: Konstantine Karantasis <konstantine@confluent.io>
Date:   Thu Sep 29 13:39:01 2016 -0700

    MINOR: Allow for asynchronous start of producer consumer in validation test
    
    Author: Konstantine Karantasis <konstantine@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1909 from kkonstantine/MINOR-Async-start-in-produce-consume-validate

commit 2ca9177f499a07262db0072bbbb252d3ca2dfb58
Author: Ben Stopford <benstopford@gmail.com>
Date:   Thu Sep 29 07:55:05 2016 +0100

    KAFKA-4216; Control Leader & Follower Throttled Replicas Separately
    
    Splits the throttled replica configuration (the list of which replicas should be throttled for each topic) into two. One for the leader throttle, one for the follower throttle.
    
    So:
     quota.replication.throttled.replicas
    =>
    quota.leader.replication.throttled.replicas & quota.follower.replication.throttled.replicas
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1906 from benstopford/KAFKA-4216-seperate-leader-and-follower-throttled-replica-lists

commit a6f3cf56b3ce5c97e89f4b80c34d54ea608950ee
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Sep 29 07:48:40 2016 +0100

    HOTFIX: Tools for releases prior to 0.10.1 need --new-consumer flag
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1931 from hachikuji/fix-broken-upgrade-tests

commit 67e99d0869dd49358d7ca549ac715b722fda89f5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Sep 28 19:15:00 2016 -0700

    MINOR: Set JVM parameters for the Gradle Test executor processes
    
    We suspect that the test suite hangs we have been seeing are
    due to PermGen exhaustion. It is a common reason for
    hard JVM lock-ups.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1926 from ijuma/test-jvm-params

commit aa506a6919e8ec0381657db2c2f15dc1f62b00f6
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Sep 28 17:45:08 2016 -0700

    KAFKA-4194; Follow-up improvements/testing for ListOffsets v1 (KIP-79)
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #1897 from becketqin/KAFKA-4194

commit 71036527e949c5c165e866163c55df9678327044
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Sep 29 01:03:44 2016 +0100

    KAFKA-4209; Reduce run time for quota integration tests
    
    Run quota tests which expect throttling only until the first produce/consume request is throttled.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1902 from rajinisivaram/KAFKA-4209

commit 16f85e84ce8c01329b3298d5fca8b27cfcacddb6
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Sep 28 16:30:21 2016 -0700

    MINOR: Improve introduction section in docs to better cover connect and streams. Make uses and ecosystem pages stand alone.

commit 281fac9ed626b16190d56e609c9bf04a3188374a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Sep 28 20:18:20 2016 +0100

    KAFKA-4227; Shutdown AdminManager when KafkaServer is shutdown
    
    Terminate topic purgatory thread in AdminManager during server shutdown to avoid threads being left around in unit tests.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1927 from rajinisivaram/KAFKA-4227

commit d83cde7cabe4e86951c6760e68e65b99752cfe0e
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 28 11:07:44 2016 -0700

    KAFKA-3708: Better exception handling in Kafka Streams
    
    KafkaExceptions currently thrown from within StreamThread/StreamTask currently bubble up without any additional context. This makes it hard to figure out where something went wrong, i.e, which topic had the serialization exception etc
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1819 from dguy/kafka-3708 and squashes the following commits:
    
    d6feaa8 [Damian Guy] address comments
    15b89e7 [Damian Guy] merge trunk
    6b8a8af [Damian Guy] catch exceptions in various places and throw more informative versions
    c86eeda [Damian Guy] fix conflicts
    8f37e2c [Damian Guy] add some context to exceptions

commit c526c0c3f6f153ef8f84a3e66d9f997d8c31e20c
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Sep 27 17:43:36 2016 -0700

    MINOR: add test to make sure ProcessorStateManager can handle State Stores with logging disabled
    
    Adding the test so we know that the State Stores with logging disabled or without a topic don't throw any exceptions.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1916 from dguy/state-store-logging-disabled

commit 0c4cc5a4466d0dfce01903c29d97af3e428597f3
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Sep 27 17:37:12 2016 -0700

    MINOR: fixes a few error logging formats
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>
    
    Closes #1919 from guozhangwang/minor-error-message-fixes

commit 0c25c73782e6e70b8f37e3dda2fa2a5b0b1c8c65
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Sep 27 17:35:24 2016 -0700

    HOTFIX: fix npe in StreamsMetadataState when onChange has not been called
    
    If some StreamsMetadataState methods are called before the onChange method is called a NullPointerException was being thrown. Added null check for cluster in isInitialized method
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1920 from dguy/fix-npe-streamsmetadata

commit 61d3378bc84914a521a65cdfffb7299928fa8671
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 27 16:49:46 2016 -0700

    MINOR: Remove no longer required --new-consumer switch in docs
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1905 from ijuma/no-new-consumer-switch-in-examples

commit 3db752a565071c78e4b11eaafa739844fa785b04
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Sep 27 21:35:29 2016 +0100

    MINOR: Make new consumer default for Mirror Maker
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1914 from hachikuji/mm-default-new-consumer

commit b8ed4a51134ca8b98d1445871a55ed33b6ad5b92
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Sep 27 20:27:20 2016 +0100

    KAFKA-4177; Remove ThrottledReplicationRateLimit from Server Config
    
    This small PR pulls ThrottledReplicationRateLimit out of KafkaConfig and puts it in a class that defines Dynamic Configs. Client configs are also placed in this class and validation added.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1864 from benstopford/KAFKA-4177

commit 5d6408f6cfda3f8ab366195f69e90de048cde25d
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Sep 27 14:00:44 2016 +0100

    KAFKA-4200; Fix throttle argument in kafka-reassign-partitions.sh
    
    Simple jira which alters two things:
    
    1. kafka-reassign-partitions --verify prints Throttle was removed regardless of whether a throttle was applied. It should only print this if the value was actually changed.
    
    2. --verify should exception if the —throttle argument. (check generate too)
    
    To test this I extracted all validation logic into a separate method and added a test which covers the majority of combinations. The validation logic was retained as is, other than implementing (2) and adding validation to the --broker-list option which you can currently apply to any of hte main actions (where it is ignored). Requirement 1 was tested manually (as it's just println).
    
    Testing:
    - Build passes locally.
    - System test reassign_partitions_test.py also passes.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1896 from benstopford/KAFKA-4200

commit a208478f37f216324a87b530f18f30ecd79601c8
Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
Date:   Mon Sep 26 21:15:25 2016 -0700

    MINOR: Fix Javadoc of @throws AuthorizationException for KafkaConsumer.poll
    
    Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1901 from reftel/feature/poll_javadoc

commit 60ad6d727861a87fa756918a7be7547e9b1f4c3d
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Sep 26 19:04:22 2016 -0700

    KAFKA-3831; Prepare for updating new-consumer-based Mirror Maker's default partition assignment strategy to round robin
    
    This patch adds proper warning message and necessary doc updates for updating the default partition assignment strategy of Mirror Maker from range to round robin. The actual switch would occur as part of a major release cycle (to be scheduled).
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1499 from vahidhashemian/KAFKA-3831

commit be6056abc9970600347c95c4c8658799b76dbe6b
Author: Apurva Mehta <apurva.1618@gmail.com>
Date:   Mon Sep 26 17:18:18 2016 -0700

    KAFKA-4214; kafka-reassign-partitions fails all the time when brokers are bounced during reassignment
    
    There is a corner case bug, where during partition reassignment, if the
    controller and a broker receiving a new replica are bounced at the same
    time, the partition reassignment is failed.
    
    The cause of this bug is a block of code in the KafkaController which
    fails the reassignment if the aliveNewReplicas != newReplicas, ie. if
    some of the new replicas are offline at the time a controller fails
    over.
    
    The fix is to have the controller listen for ISR change events even for
    new replicas which are not alive when the controller boots up. Once the
    said replicas come online, they will be in the ISR set, and the new
    controller will detect this, and then mark the reassignment as
    successful.
    
    Interestingly, the block of code in question was introduced in
    KAFKA-990, where a concern about this exact scenario was raised :)
    
    This bug was revealed in the system tests in https://github.com/apache/kafka/pull/1904.
    The relevant tests will be enabled in either this or a followup PR when PR-1904 is merged.
    
    Thanks to junrao identifying the issue and providing the patch.
    
    Author: Apurva Mehta <apurva.1618@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1910 from apurvam/KAFKA-4214

commit b75245cfbbefc712103b9329da0f27a205baa6aa
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Sep 26 14:54:01 2016 -0700

    MINOR: Wakeups propagated from commitOffsets in WorkerSinkTask should be caught
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1907 from hachikuji/catch-wakeup-worker-sink-task

commit c0a62b70a8eadc550c937bb18e0203ab691618f5
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sun Sep 25 17:01:45 2016 -0700

    KAFKA-4055; System tests for secure quotas
    
    Fix existing client-id quota test which currently don't configure quota overrides correctly. Add new tests for user and (user, client-id) quota overrides and default quotas.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1860 from rajinisivaram/KAFKA-4055

commit 1d055f7551d138324d2540095a1cfc1c8f74d76f
Author: Arun Mahadevan <aiyer@hortonworks.com>
Date:   Sun Sep 25 08:44:56 2016 +0100

    KAFKA-3282; Change tools to use new consumer if zookeeper is not specified
    
    Author: Arun Mahadevan <aiyer@hortonworks.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1376 from arunmahadevan/cons-consumer-fix

commit 36242b846a42b33d7d4c1931f2dae93ebe1547c7
Author: Sumit Arrawatia <sumit.arrawatia@gmail.com>
Date:   Sat Sep 24 10:16:49 2016 +0100

    KAFKA-4151; Update public docs for Cluster Id (KIP-78)
    
    - Updated implementation docs with details on Cluster Id generation.
    - Mention cluster id in "noteworthy changes for 0.10.1.0" in upgrade docs.
    
    Author: Sumit Arrawatia <sumit.arrawatia@gmail.com>
    Author: arrawatia <sumit.arrawatia@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1895 from arrawatia/kip-78-docs

commit 0de807357be4d776747e960b5fd17ddeae9a6cad
Author: Ryan Pridgeon <ryan.n.pridgeon@gmail.com>
Date:   Fri Sep 23 22:20:41 2016 +0100

    KAFKA-3719; Allow underscores in hostname
    
    Technically this does not strictly adhere to RFC-952 however it is valid for domain names, urls and uris so we should loosen the requirements a tad.
    
    Author: Ryan Pridgeon <ryan.n.pridgeon@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1856 from rnpridgeon/KAFKA-3719

commit 6a13a3dbaddf99850b2583007577fa2a6e1e6d3a
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 23 13:13:29 2016 -0700

    KAFKA-3590; Handle not-enough-replicas errors when writing to offsets topic
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1859 from hachikuji/KAFKA-3590

commit 106a7456060750ab0604d290b8c1e33a57adbf20
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Sep 22 23:03:49 2016 +0100

    MINOR: Add test cases for delays in consumer rebalance listener
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1866 from hachikuji/rebalance-delay-test-cases

commit d32f3f2828c199a5a09bbba779d07430e43fb190
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Sep 22 14:53:40 2016 -0700

    MINOR: Increase `zkConnectionTimeout` and timeout in `testReachableServer`
    
    We had a number of failures recently due to these timeouts being too low. It's a particular problem if multiple forks are used while running the tests.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1889 from ijuma/increase-zk-timeout-in-tests

commit 4112bc3af7bec63ae1248c1b9db745ba8ac4c63c
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Sep 22 12:45:43 2016 -0700

    HOTFIX: Decrease commit interval
    
    The original commit interval of 30 seconds might be too large in some cases, e.g., when the verifier finishes before those 30 seconds have elapsed.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #1899 from enothereska/hotfix-smoke-test-commit-interval

commit 27e3edc791760dea7ff4d048f87d1585f9e235d7
Author: Elias Levy <fearsome.lucidity@gmail.com>
Date:   Thu Sep 22 10:33:23 2016 -0700

    MINOR: Fix comments in KStreamKStreamJoinTest
    
    Minor comment fixes.
    
    Author: Elias Levy <fearsome.lucidity@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #1885 from eliaslevy/fix-test-comments

commit 732fabf94ebc9631d31f2feb2116ee8b63beabef
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Sep 22 10:07:50 2016 -0700

    KAFKA-3782: Ensure heartbeat thread restarted after rebalance woken up
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #1898 from hachikuji/KAFKA-3782

commit a632716a3c9a871f325c6f13aefa9aed0add4b82
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 21 11:13:39 2016 -0700

    MINOR: remove unused code from InternalTopicManager
    
    Remove isValidCleanupPolicy and related fields as they are never used.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1888 from dguy/minor-remove-unused

commit 24f81ea764a493b4422b6a3ef6b3e771d0e4d63b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 21 11:11:12 2016 -0700

    MINOR: add javadoc comment to PersistenKeyValueFactory.enableCaching
    
    missing javadoc on public API method PersistenKeyValueFactory.enableCaching
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1891 from dguy/minor-java-doc

commit 4f821830bc6b726cddf90999fff76006745b1a3f
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Sep 20 15:41:14 2016 +0100

    KAFKA-4197; Make ReassignPartitionsTest System Test move data
    
    The ReassignPartitionsTest system tests doesn't reassign any replicas (i.e. move data).
    
    This is a simple issue. It uses a 3 node cluster with replication factor of 3, so whilst the replicas are jumbled around, nothing actually is moved from machine to machine when the assignment is executed.
    
    This fix just ups the number of nodes to 4 so things move.
    
    Tests pass locally.
    There are runs pending on the two branch builders
    
    Passes:
    https://jenkins.confluent.io/job/system-test-kafka-branch-builder/551/
    https://jenkins.confluent.io/job/system-test-kafka-branch-builder-2/94/
    https://jenkins.confluent.io/job/system-test-kafka-branch-builder/553/
    https://jenkins.confluent.io/job/system-test-kafka-branch-builder/554/
    https://jenkins.confluent.io/job/system-test-kafka-branch-builder-2/95
    
    Failures:
    https://jenkins.confluent.io/job/system-test-kafka-branch-builder/552 => _RuntimeError: There aren't enough available nodes to satisfy the resource request. Total cluster size: 1, Requested: 4, Already allocated: 1, Available: 0._ Which I assume to do with the test env.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1892 from benstopford/fix_reassignment_test

commit 3663275cf066b7715cc11b26fd9c144bbff1c373
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Sep 20 14:53:48 2016 +0100

    KAFKA-4184; Intermittent failures in ReplicationQuotasTest.shouldBootstrapTwoBrokersWithFollowerThrottle
    
    Build is unstable, so it's hard to validate this change. Of the various builds up until 11am BST the test ran twice and passed twice.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1873 from benstopford/KAFKA-4184

commit c195003cb6e05f2d8c49285ff7e77b1cb3aa4361
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Sep 20 11:33:50 2016 +0100

    HOTFIX: Added check for metadata unavailable
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1887 from enothereska/hotfix-metadata-unavailable

commit f396fdac197409fb955f00a6f642f04e4926ba41
Author: Ben Stopford <benstopford@gmail.com>
Date:   Mon Sep 19 23:17:23 2016 -0700

    KAFKA-4193; Fix for intermittent failure in FetcherTest
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1881 from benstopford/KAFKA-4193

commit 6acbf27aebbe5b6b4f230ce44ea5151c4c53ffbd
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Sep 19 19:59:03 2016 -0700

    MINOR: Bump to version 0.10.2

commit eaaa433fc97b86450833d8fcc8c9289ea35d47c0
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Mon Sep 19 18:38:17 2016 -0700

    KAFKA-4148; Support ListOffsetRequest v1 and search offsets by timestamp in consumer (KIP-79)
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>
    
    Closes #1852 from becketqin/KAFKA-4148

commit cf8f4a713b64f010c15a4a7b8dae616edb8a1b74
Author: Elias Levy <fearsome.lucidity@gmail.com>
Date:   Mon Sep 19 17:13:47 2016 -0700

    KAFKA-4153: Fix incorrect KStream-KStream join behavior with asymmetric time window
    
    The contribution is my original work and I license the work to the project under the project's open source license.
    
    guozhangwang
    
    Author: Elias Levy <fearsome.lucidity@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Guozhang Wang
    
    Closes #1846 from eliaslevy/KAFKA-4153

commit 4e1c7d844f743e5b439447e645fa41d2f92b8b5f
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Sep 19 16:42:43 2016 -0700

    KAFKA-4135; Consumer poll with no subscription or assignment should raise an error
    
    When the consumer is not subscribed to any topic or, in the case of manual assignment, is not assigned any partition, calling `poll()` should raise an exception.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1839 from vahidhashemian/KAFKA-4135

commit 3281b3c9043edec0b1f8cadfb137851a60d509ef
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 19 14:26:26 2016 -0700

    KAFKA-3283; Remove beta from new consumer documentation
    
    Include a few clean-ups (also in producer section), mention deprecation plans and reorder so that the new consumer documentation is before the old consumers.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1880 from ijuma/remove-beta-from-new-consumer-documentation

commit 57ee6ffc897a26fea381a13b6e2b00d024c49ee8
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 19 13:08:07 2016 -0700

    MINOR: Add KafkaServerStartable constructor overload for compatibility
    
    We added the `reporters` parameter as part of KIP-74: Cluster Id.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1878 from ijuma/add-kafka-startable-overload-for-compat

commit 431c3b0937da103b6e79e9f970c0862898205909
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Mon Sep 19 12:49:38 2016 -0700

    KAFKA-4183; Centralize checking for optional and default values in JsonConverter
    
    Cleaner to just check once for optional & default value from the `convertToConnect()` function.
    
    It also helps address an issue with conversions for logical type schemas that have default values and null as the included value. That test case is _probably_ not an issue in practice, since when using the `JsonConverter` to serialize a missing field with a default value, it will serialize the default value for the field. But in the face of JSON data streaming in from a topic being [generous on input, strict on output](http://tedwise.com/2009/05/27/generous-on-input-strict-on-output) seems best.
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Randall Hauch <rhauch@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1872 from shikhar/kafka-4183

commit 896ad63f14c5240207daeedea304c62c8fc7bb7e
Author: Dan Norwood <norwood@confluent.io>
Date:   Mon Sep 19 12:37:21 2016 -0700

    MINOR: Allow creation of statestore without logging enabled or explicit source topic
    
    guozhangwang
    
    Author: dan norwood <norwood@confluent.io>
    
    Reviewers: Eno Thereska, Damian Guy, Guozhang Wang
    
    Closes #1828 from norwood/manual-store

commit f27a6f319ac058288a8cd3d7f95247cf45fea817
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Sep 19 12:16:45 2016 -0700

    KAFKA-4079; Documentation for secure quotas
    
    Details in KIP-55.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1847 from rajinisivaram/KAFKA-4079

commit 3d74196f205c53946b6fc3dd0501aa2095f0031a
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Sep 19 11:00:53 2016 -0700

    KAFKA-4163: NPE in StreamsMetadataState during re-balance operations
    
    During rebalance operations the Cluster object gets set to Cluster.empty(). This can result in NPEs when doing certain operation on StreamsMetadataState. This should throw a StreamsException if the Cluster is empty as it is not yet (re-)initialized
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1845 from dguy/streams-meta-hotfix

commit 70afd5f9dd2eddc784a24fa2518992ef3371f0a4
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Sep 19 10:30:58 2016 -0700

    KAFKA-4175: Can't have StandbyTasks in KafkaStreams where NUM_STREAM_THREADS_CONFIG > 1
    
    standby tasks should be assigned per consumer not per process
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1862 from dguy/kafka-4175

commit 8c07e0f31d6a7b6bfa119bc557da6781324758bf
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Sep 19 10:28:58 2016 -0700

    HOTFIX: logic in QuerybaleStateIntegrationTest.shouldBeAbleToQueryState incorrect
    
    The logic in `verifyCanGetByKey` was incorrect. It was
    ```
    windowState.size() < keys.length &&
    countState.size() < keys.length &&
    System.currentTimeMillis() < timeout
    ```
    but should be:
    ```
    (windowState.size() < keys.length || countState.size() < keys.length) && System.currentTimeMillis() < timeout
    ```
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1879 from dguy/minor-fix-test

commit d9206500bf2f99ce93f6ad64c7a89483100b3b5f
Author: Luke Zaparaniuk <luke.zaparaniuk@gmail.com>
Date:   Sun Sep 18 22:59:00 2016 +0100

    MINOR: Fix reference to argument in `LogSegment.translateOffset`
    
    Changed the lowerBound argument reference in the summary comment of the translateOffset method to match the actual argument name: startingFilePosition.
    
    Author: Luke Zaparaniuk <luke.zaparaniuk@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1876 from lukezaparaniuk/patch-1

commit d04b0998c043a6a430921585ffd4c42572a3bf5a
Author: Andrey Neporada <neporada@gmail.com>
Date:   Sun Sep 18 09:12:53 2016 -0700

    KAFKA-2063; Bound fetch response size (KIP-74)
    
    This PR is implementation of [KIP-74](https://cwiki.apache.org/confluence/display/KAFKA/KIP-74%3A+Add+Fetch+Response+Size+Limit+in+Bytes) which is originally motivated by [KAFKA-2063](https://issues.apache.org/jira/browse/KAFKA-2063).
    
    Author: Andrey Neporada <neporada@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #1812 from nepal/kip-74

commit 6fb25f080fc07948ce2ea620b15b934d91b67d16
Author: Jaikiran Pai <jaikiran.pai@gmail.com>
Date:   Sat Sep 17 23:01:32 2016 +0100

    MINOR: Update the README.md to include a note about GRADLE_USER_HOME
    
    Trying to build the source and publish it to internal Maven repo, I ran into an issue that I explain in the mailing list discussion here https://www.mail-archive.com/devkafka.apache.org/msg56359.html.
    
    The commit here updates the README.md to make a note that the GRADLE_USER_HOME environment variable plays a role in deciding which file to add the maven configs to.
    
    Author: Jaikiran Pai <jaikiran.pai@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1837 from jaikiran/readme-update-grade-user-home

commit b5bc1a1caaa8a4ad3b10bfdfa9c2250ef8e09b1d
Author: Grant Henke <granthenke@gmail.com>
Date:   Sat Sep 17 22:47:56 2016 +0100

    KAFKA-4157; Transient system test failure in replica_verification_test.test_replica_lags
    
    …t.test_replica_lags
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ashish Singh <asingh@cloudera.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1849 from granthenke/replica-verification-fix

commit b8683026ea7ebfddcec41274b12e8a579dc4ca71
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Sat Sep 17 22:45:29 2016 +0100

    HOTFIX: changed quickstart donwload from 0.10.0.0 to 0.10.0.1
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1869 from mjsax/hotfix-doc

commit 932e4d7ba781b9ea920d34b49810381afe5069b4
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Sat Sep 17 22:43:43 2016 +0100

    HOTFIX: Increase timeout for bounce test
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1874 from enothereska/hotfix-bounce-test

commit 69356fbc6e76ab4291ff4957f0d6ea04e7245909
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Sep 17 10:06:05 2016 -0700

    KAFKA-3492; Secure quotas for authenticated users
    
    Implementation and tests for secure quotas at <user> and <user, client-id> levels as described in KIP-55. Also adds dynamic default quotas for <client-id>, <user> and <user-client-id>. For each client connection, the most specific quota matching the connection is used, with user quota taking precedence over client-id quota.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1753 from rajinisivaram/KAFKA-3492

commit ecc1fb10fad39c2da82731a36552cb5dd9ac2858
Author: Sumit Arrawatia <sumit.arrawatia@gmail.com>
Date:   Sat Sep 17 04:10:13 2016 +0100

    KAFKA-4093; Cluster Id (KIP-78)
    
    This PR implements  KIP-78:Cluster Identifiers [(link)](https://cwiki.apache.org/confluence/display/KAFKA/KIP-78%3A+Cluster+Id#KIP-78:ClusterId-Overview) and includes the following changes:
    
    1. Changes to broker code
            - generate cluster id and store it in Zookeeper
            - update protocol to add cluster id to metadata request and response
            - add ClusterResourceListener interface, ClusterResource class and ClusterMetadataListeners utility class
            - send ClusterResource events to the metric reporters
    2. Changes to client code
            - update Cluster and Metadata code to support cluster id
            - update clients for sending ClusterResource events to interceptors, (de)serializers and metric reporters
    3. Integration tests for interceptors, (de)serializers and metric reporters for clients and for protocol changes and metric reporters for broker.
    4. System tests for upgrading from previous versions.
    
    Author: Sumit Arrawatia <sumit.arrawatia@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1830 from arrawatia/kip-78

commit d7bffebca05aa91a69da03fe29add4f29b964fd9
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Fri Sep 16 15:54:33 2016 -0700

    KAFKA-4173; SchemaProjector should successfully project missing Struct field when target field is optional
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Konstantine Karantasis <konstantine@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #1865 from shikhar/kafka-4173

commit 567cc3d78746391a3b050d4eea76571e4bf20e89
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Sep 16 14:55:46 2016 -0700

    KAFKA-4183; Corrected Kafka Connect's JSON Converter to properly convert from null to logical values
    
    The `JsonConverter` class has `LogicalTypeConverter` implementations for Date, Time, Timestamp, and Decimal, but these implementations fail when the input literal value (deserialized from the message) is null.
    
    Test cases were added to check for these cases, and these failed before the `LogicalTypeConverter` implementations were fixed to consider whether the schema has a default value or is optional, similarly to how the `JsonToConnectTypeConverter` implementations do this. Once the fixes were made, the new tests pass.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Shikhar Bhushan <shikhar@confluent.io>, Jason Gustafson <jason@confluent.io>
    
    Closes #1867 from rhauch/kafka-4183

commit 86aa0eb0f274c6e44eb190ce250433419e011a67
Author: Damian Guy <damian.guy@gmail.com>
Date:   Fri Sep 16 09:58:36 2016 -0700

    KAFKA-3776: Unify store and downstream caching in streams
    
    This is joint work between dguy and enothereska. The work implements KIP-63. Overview of main changes:
    
    - New byte-based cache that acts as a buffer for any persistent store and for forwarding changes downstream.
    - Forwarding record path changes: previously a record in a task completed end-to-end. Now it may be buffered in a processor node while other records complete in the task.
    - Cleanup and state stores and decoupling of cache from state store and forwarding.
    - More than 80 new unit and integration tests.
    
    Author: Damian Guy <damian.guy@gmail.com>
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #1752 from enothereska/KAFKA-3776-poc

commit 143a33bc506c703ea02fe5daa61f90b7094da13c
Author: Ben Stopford <benstopford@gmail.com>
Date:   Thu Sep 15 22:25:56 2016 -0700

    KAFKA-1464; Add a throttling option to the Kafka replication
    
    This applies to Replication Quotas
    based on KIP-73 [(link)](https://cwiki.apache.org/confluence/display/KAFKA/KIP-73+Replication+Quotas) originally motivated by KAFKA-1464.
    
    System Tests Run: https://jenkins.confluent.io/job/system-test-kafka-branch-builder/544/
    
    **This first PR demonstrates the approach**.
    
    **_Overview of Change_**
    The guts of this change are relatively small. Throttling occurs on both leader and follower sides. A single class tracks the throttled throughput in and out of each broker (**_ReplicationQuotaManager_**).
    
    On the follower side, the Follower Throttled Rate is calculated as fetch responses arrive. Then, before the next fetch request is sent, we check to see if the quota is violated, removing throttled partitions from the request if it is. This is all encapsulated in a few lines of code in the **_ReplicaFetcherThread_**. There is existing code to handle temporal back off, if the request ends up being empty.
    
    On the leader side it's a little more complex. When a fetch request arrives in the leader, it is built, partition by partition, in **_ReplicaManager.readFromLocalLog_**. As we put each partition into the fetch response, we check if the total size fits in the current quota. If the quota is exceeded, the partition will not be added to the fetch response. Importantly, we don't increase the quota at this point, we just check to see if the bytes will fit.
    
    Now, if there aren't enough bytes to send the response immediately, which is common if we're catching up and throttled, then the request will be put in purgatory. I've added some simple code to **_DelayedFetch_** to handle throttled partitions (throttled partitions are checked against the quota, rather than the messages available in the log).
    
    When the delayed fetch completes, and exits purgatory, _**ReplicaManager.readFromLocalLog**_ will be called again. This is why _**ReplicaManager.readFromLocalLog**_ does not actually increase the quota, it just checks whether enough bytes are available for a partition.
    
    Finally, when there are enough bytes to be sent, or the delayed fetch times out, the response will be sent. Before it is sent the throttled-outbound-rate is increased, based on the size of throttled partitions being sent. This is at the end of _**KafkaApis.handleFetchRequest**_, exactly where client quotas are recorded.
    
    There is an acceptance test which asserts the whole throttling process stabilises on the desired value. This covers a number of use cases including many-to-many replication. See **_ReplicationQuotaTest_**.
    
    Note:
    It should be noted that this protocol can over-request. The request is built, based on the quota at time t1 (_ReplicaManager.readFromLocalLog_). The bytes in the response are recorded at time t2 (end of _KafkaApis.handleFetchRequest_), where t2 > t1. For this reason I originally included an OverRequestedRate as a JMX metric, but testing has not seen revealed any obvious issue. Over-requesting is quickly compensated by subsequent requests, stabilising close to the quota value.
    
    _**Main stuff left to do:**_
    - The fetch size is currently unbounded. This will be addressed in KIP-74, but we need to ensure this ensures requests don’t go beyond the throttle window.
    - There are two failures showing up in the system tests on this branch:  StreamsSmokeTest.test_streams (which looks like it fails regularly) and OffsetValidationTest.test_broker_rolling_bounce (which I need to look into)
    
    _**Stuff left to do that could be deferred:**_
    - Add the extra metrics specified in the KIP.
    - There are no system tests.
    - There is no validation for the cluster size / throttle combination that could lead to ISR dropouts
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Apurva Mehta <apurva@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #1776 from benstopford/rep-quotas-v2

commit d4366610241321a58d62c0b919d60ccfe3c3d698
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Thu Sep 15 17:08:00 2016 -0700

    KAFKA-4131; Multiple Regex KStream-Consumers cause Null pointer exception
    
    Fix for bug outlined in KAFKA-4131
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #1843 from bbejeck/KAFKA-4131_mulitple_regex_consumers_cause_npe

commit f3bb10413d11525a396851eb7e6b9d75b8c6fe23
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 15 08:57:48 2016 -0700

    HOTFIX: fix KafkaStreams SmokeTest
    
    Set the NUM_STREAM_THREADS_CONFIG = 1 in SmokeTestClient as we get locking issues when we have NUM_STREAM_THREADS_CONFIG > 1 and we have Standby Tasks, i.e., replicas. This is because the Standby Tasks can be assigned to the same KafkaStreams instance as the active task, hence the directory is locked
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1861 from dguy/fix-smoketest

commit f197ad4997032a848540a7d577b5846f76a26bfb
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Sep 14 22:31:52 2016 -0700

    KAFKA-4160: Ensure rebalance listener not called with coordinator lock
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1855 from hachikuji/KAFKA-4160

commit 084a19e9acb43666cfcaa2ca155a775d47cd8b39
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Sep 14 18:04:58 2016 -0700

    KAFKA-4172; Ensure fetch responses contain the requested partitions
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1857 from hachikuji/KAFKA-4172

commit c1bce2d757c5a93bebc1abaf1304bf84375a4cc9
Author: David Chen <mvjome@gmail.com>
Date:   Wed Sep 14 10:38:40 2016 -0700

    KAFKA-4162: Fixed typo "rebalance"
    
    Author: David Chen <mvjome@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1853 from mvj3/KAFKA-4162

commit f2cd17010267b0e219d339d4bbc1157f5290cdfe
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Sep 14 09:16:29 2016 -0700

    MINOR: Give a name to the coordinator heartbeat thread
    
    Followed the same naming pattern as the producer sender thread.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson
    
    Closes #1854 from ijuma/heartbeat-thread-name

commit 41e676d29587042994a72baa5000a8861a075c8c
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Sep 13 17:33:54 2016 -0700

    KAFKA-4158; Reset quota to default value if quota override is deleted
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #1851 from lindong28/KAFKA-4158

commit 2a660f13d2a805f0e27351996e904b1ea2365eba
Author: Tim Brooks <tim@uncontended.net>
Date:   Mon Sep 12 20:28:01 2016 -0700

    KAFKA-2311; Make KafkaConsumer's ensureNotClosed method thread-safe
    
    Here is the patch on github ijuma.
    
    Acquiring the consumer lock (the single thread access controls) requires that the consumer be open. I changed the closed variable to be volatile so that another thread's writes will visible to the reading thread.
    
    Additionally, there was an additional check if the consumer was closed after the lock was acquired. This check is no longer necessary.
    
    This is my original work and I license it to the project under the project's open source license.
    
    Author: Tim Brooks <tim@uncontended.net>
    
    Reviewers: Jason Gustafson <jason@confluent.io>
    
    Closes #1637 from tbrooks8/KAFKA-2311

commit a7ab9cb83d2c47d980b0b9f6b702e01bd1cf4139
Author: Damian Guy <damian.guy@gmail.com>
Date:   Sun Sep 11 21:00:32 2016 -0700

    MINOR: catch InvalidStateStoreException in QueryableStateIntegrationTest
    
    A couple of the tests may transiently fail in QueryableStateIntegrationTest as they are not catching InvalidStateStoreException. This exception is expected during rebalance.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1840 from dguy/minor-fix

commit 5f040cd77f4b8fbe12b3e3389fab1fc2565dda82
Author: Eric Wasserman <eric.wasserman@gmail.com>
Date:   Sun Sep 11 20:45:05 2016 -0500

    KAFKA-1981; Make log compaction point configurable
    
    Now uses LogSegment.largestTimestamp to determine age of segment's messages.
    
    Author: Eric Wasserman <eric.wasserman@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1794 from ewasserman/feat-1981

commit 1933f12a5368f1f60816d986a2777fa324754f80
Author: Jason Gustafson <jason@confluent.io>
Date:   Sun Sep 11 08:46:20 2016 +0100

    KAFKA-4147; Fix transient failure in ConsumerCoordinatorTest.testAutoCommitDynamicAssignment
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1841 from hachikuji/KAFKA-4147

commit ac99a3c86d5d8a56b61b1e0d1b2594e627016718
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Sep 10 08:16:23 2016 +0100

    KAFKA-4145; Avoid redundant integration testing in ProducerSendTests
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1842 from vahidhashemian/KAFKA-4145

commit 4af50bb8600c37ee2e3597fba9a54a29cef94afa
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 9 21:44:55 2016 +0100

    KAFKA-3807; Fix transient test failure caused by race on future completion
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Dan Norwood <norwood@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1821 from hachikuji/KAFKA-3807

commit 3759d7f764a94f27ba2d5f7f4eca58730a84b1b1
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Sep 9 15:22:29 2016 +0100

    HOTFIX: Temporarily ignoring this test until fixed
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1838 from enothereska/hotfix-ignore-smoke-test

commit 54767bbba5bf18c01f50bb40c339433bfed09627
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Sep 8 19:56:53 2016 -0700

    KAFKA-4033; Revise partition assignment semantics on consumer subscription changes (KIP-70)
    
    This PR changes topic subscription semantics so a change in subscription does not immediately cause a rebalance.
    Instead, the next poll or the next scheduled metadata refresh will update the assigned partitions.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson
    
    Closes #1726 from vahidhashemian/KAFKA-4033

commit eb59c8124e41fce176bfa6087d5aa4dce18f3642
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 8 10:53:29 2016 -0700

    MINOR: fix transient QueryableStateIntegration test failure
    
    The verification in verifyGreaterOrEqual was incorrect. It was failing when a new key was found.
    Set the TimeWindow to a large value so all windowed results fall in a single window
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1833 from dguy/minor-test-fix

commit 6cf2cb6f294d0d4766f57e9da660fb4efac7d258
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Sep 8 09:42:22 2016 -0700

    KAFKA-4139; Reset findCoordinatorFuture when brokers are unavailable
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma, Jason Gustafson
    
    Closes #1831 from rajinisivaram/KAFKA-4139

commit 69ebf6f7be2fc0e471ebd5b7a166468017ff2651
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 7 18:02:24 2016 -0700

    KAFKA-3595: window stores use compact,delete config for changelogs
    
    changelogs of window stores now configure cleanup.policy=compact,delete with retention.ms set to window maintainMs + StreamsConfig.WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG
    StoreChangeLogger produces messages with context.timestamp().
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1792 from dguy/kafka-3595

commit eba0ede878bd9c42431cc702bc58f56354c595a6
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Sep 7 17:42:35 2016 -0700

    KAFKA-4123: Queryable State returning null for key before all stores in instance have been initialized
    
    Mark the store as open after the DB has been restored from the changelog.
    Only add the store to the map in ProcessorStateManager post restore.
    Make RocksDBWindowStore.Segment override openDB(..) as it needs to mark the Segment as open.
    Throw InvalidStateStoreException if any stores in a KafkaStreams instance are not available.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1824 from dguy/kafka-4123

commit ca3f3a492c1f10eda965c8402075a3e666f47885
Author: Mathieu Fenniak <mathieu.fenniak@replicon.com>
Date:   Wed Sep 7 17:34:24 2016 -0700

    MINOR: Document that Connect topics should use compaction
    
    Update documentation for Kafka Connect distributed’s config.storage.topic, offset.storage.topic, and status.storage.topic configuration values to indicate that all three should refer to compacted topics.
    
    Author: Mathieu Fenniak <mathieu.fenniak@replicon.com>
    
    Reviewers: Jason Gustafson
    
    Closes #1832 from mfenniak/kafka-connect-topic-docs

commit 3a244b78372373ea1028fa77eef8b7c739001bd2
Author: Michael G. Noll <michael@confluent.io>
Date:   Wed Sep 7 15:27:58 2016 -0700

    MINOR: Fixes javadoc of Windows, fixes typo in parameter name of KGroupedTable
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Damian Guy, Ismael Juma, Guozhang Wang
    
    Closes #1823 from miguno/trunk-windowed-javadocs

commit 85c441023b2cfb0860115a52ad36075a618b0fc1
Author: Dustin Cote <dustin@confluent.io>
Date:   Wed Sep 7 16:07:52 2016 +0100

    KAFKA-3129; Console producer issue when request-required-acks=0
    
    change console producer default acks to 1, update acks docs.  Also added the -1 config to the acks docs since that question comes up often.  ijuma and vahidhashemian, does this look reasonable to you?
    
    Author: Dustin Cote <dustin@confluent.io>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1795 from cotedm/KAFKA-3129

commit 2586226a9a5300fea427ca001608ad86d393df1b
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Sep 6 23:02:41 2016 -0700

    KAFKA-4058: Failure in org.apache.kafka.streams.integration.ResetIntegrationTest.testReprocessingFromScratchAfterReset
    
     - use AdminTool to check for active consumer group
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1767 from mjsax/kafka-4058-trunk

commit 16469d7f94f0a7d82c2a74515ab0903ce6ca9c5e
Author: Jaikiran Pai <jaikiran.pai@gmail.com>
Date:   Wed Sep 7 02:05:25 2016 +0100

    MINOR: Reduce the log level when the peer isn't authenticated but is using SSL
    
    The commit here changes the log level of a log message from WARN to DEBUG.
    As noted in the mail discussion here https://www.mail-archive.com/devkafka.apache.org/msg56035.html,
    in a pretty straightforward/typical and valid setup, the broker logs get
    flooded with the following message:
    
    [2016-09-02 08:07:13,773] WARN SSL peer is not authenticated, returning ANONYMOUS instead (org.apache.kafka.common.network.SslTransportLayer)
    
    Author: Jaikiran Pai <jaikiran.pai@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1825 from jaikiran/ssl-log-level

commit d2acd676c3eb0c11d0042bc3b9ae314165c68443
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 6 17:34:46 2016 -0700

    MINOR: More graceful handling of buffers that are too small in Record's `isValid` and `ensureValid`
    
    Also add tests and make `Crc32.update` perform the same argument checks as
    `java.util.zip.CRC32`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1672 from ijuma/record-is-valid-should-be-more-robust

commit 286411cbb19ad267516c73e0a5a8a22e8341b9ad
Author: Tao Xiao <xiaotao183@gmail.com>
Date:   Wed Sep 7 01:17:29 2016 +0100

    KAFKA-4129; Processor throw exception when getting channel remote address after closing the channel
    
    Get channel remote address before calling ```channel.close```
    
    Author: Tao Xiao <xiaotao183@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1826 from xiaotao183/KAFKA-4129

commit 8248caf1ca514adcbc6130d6674cad39275fdd36
Author: Dana Powers <dana.powers@gmail.com>
Date:   Wed Sep 7 01:15:55 2016 +0100

    MINOR: Include TopicPartition in warning when log cleaner resets dirty offset
    
    Typically this error condition is caused by topic-level configuration issues, so it is useful to include which topic partition was reset for operator use when debugging the root cause.
    
    Author: Dana Powers <dana.powers@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1801 from dpkp/log_topic_partition_reset_dirty_offset

commit de1b853c3ed326cf296a56538ca9570b0ecc0636
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Sep 6 15:35:12 2016 -0700

    MINOR: changes embedded broker time to MockTime
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Damian Guy, Ismael Juma, Guozhang Wang
    
    Closes #1808 from mjsax/mockTime

commit ed639e8263d9409a9836a55938174122d6ff3ffa
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Tue Sep 6 11:38:53 2016 -0700

    KAFKA-4023: Add thread id and task id for logging prefix in Streams
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1803 from bbejeck/KAFKA-4023_add_thread_id_prefix_for_logging

commit a960faf5f48025548de71a84b16e0ccf2a1837ca
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Sun Sep 4 21:49:48 2016 -0700

    KAFKA-4105: Queryable state tests
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #1806 from enothereska/queryable-state-tests

commit af9fc503dea5058df890fbd79249abb7634e06bc
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Sep 2 12:49:34 2016 -0700

    KAFKA-4099; Fix the potential frequent log rolling
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1809 from becketqin/KAFKA-4099

commit 8f3462552fa4d6a6d70a837c2ef7439bba512657
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 1 21:21:42 2016 -0700

    KAFKA-4104: Queryable state metadata is sometimes invalid
    
    If the thread or process is not the coordinator the Cluster instance in StreamPartitionAssignor will always be null. This builds an instance of the Cluster with the metadata associated with the Assignment
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1804 from dguy/kafka-4104

commit 268cff704994693e177c38cd2a16bf5179765f33
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Sep 1 12:21:55 2016 -0700

    KAFKA-4112: Remove alpha quality label from Kafka Streams in docs
    
    Rephrase 'alpha quality' wording in Streams section of api.html.
    Couple of other minor fixes in streams.html
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang, Ismael Juma, Michael G. Noll
    
    Closes #1811 from dguy/kstreams-312

commit 3a161db57138b8001a66bef19dfc6e865f4fdfcd
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Sep 1 10:05:36 2016 -0700

    KAFKA-4077: Backdate system test certificates to cope with clock skew
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1810 from rajinisivaram/KAFKA-4077

commit c3b64cc8f1cd1958c4522aff8743624105fef0af
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Aug 31 13:39:59 2016 -0700

    KAFKA-4103: Fix regression in DumpLogSegments offsets decoder
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1807 from hachikuji/KAFKA-4103

commit bc397db0e13998160f0b4e723211d6662ca7e964
Author: ybyzek <ybyzek@users.noreply.github.com>
Date:   Wed Aug 31 12:08:59 2016 -0700

    MINOR: onCompletion: metadata valid only if no exception
    
    Modifies example in doc change
    
    Author: ybyzek <ybyzek@users.noreply.github.com>
    
    Reviewers: Guozhang Wang, Ismael Juma
    
    Closes #1805 from ybyzek/onComplete_doc

commit 2e731a9ee002298b4b90f97e9c876b330b005539
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Aug 31 09:14:59 2016 -0700

    KAFKA-3799: Enable SSL endpoint validation in system tests
    
    Generate certificates with hostname in SubjectAlternativeName and enable hostname validation.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1483 from rajinisivaram/KAFKA-3799

commit 2f20a398735f9c0d39487bedc2d5dd7f4d3eb179
Author: Dustin Cote <dustin@confluent.io>
Date:   Tue Aug 30 21:31:09 2016 -0700

    KAFKA-4062: Make --print-data-log implicit if --offsets-decoder is enabled for DumpLogSegments
    
    set print-data-log option when offset-decoder is set.  hachikuji we had talked about this one before, does this change look ok to you?
    
    Author: Dustin Cote <dustin@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1797 from cotedm/KAFKA-4062

commit b91eeac9438b8718c410045b0e9191296ebb536d
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Mon Aug 29 19:08:52 2016 -0700

    KAFKA-4100: Ensure 'fields' and 'fieldsByName' are not null for Struct schemas
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1800 from shikhar/kafka-4100

commit 9aaeb33c16d4a319967560215e2ea72082367f92
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Aug 29 13:13:08 2016 -0700

    KAFKA-4098: NetworkClient should not intercept user metdata requests on disconnect
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1798 from hachikuji/KAFKA-4098

commit 71f7e7c3a29e8f7339430837065126256907bd2a
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Fri Aug 26 14:00:16 2016 -0700

    KAFKA-4042: Contain connector & task start/stop failures within the Worker
    
    Invoke the statusListener.onFailure() callback on start failures so that the statusBackingStore is updated. This involved a fix to the putSafe() functionality which prevented any update that was not preceded by a (non-safe) put() from completing, so here when a connector or task is transitioning directly to FAILED.
    
    Worker start methods can still throw if the same connector name or task ID is already registered with the worker, as this condition should not happen.
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1778 from shikhar/distherder-stayup-take4

commit 190239441878d73ad0c50d59c73bcc8717a12ed6
Author: Mathieu Fenniak <mathieu.fenniak@replicon.com>
Date:   Fri Aug 26 12:40:18 2016 -0700

    MINOR: Fix ProcessorTopologyTestDriver to support multiple source topics
    
    There's a minor bug in ProcessorTopologyTestDriver that prevents it from working with a topology that contains multiple sources.  The bug is that ```consumer.assign()``` is called while looping through all the source topics, but, consumer.assign resets the state of the MockConsumer to only consume from the topics passed in.  This patch fixes the issue by calling consumer.assign once with all the TopicPartition instances.  Unit test (testDrivingSimpleMultiSourceTopology) included.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Mathieu Fenniak <mathieu.fenniak@replicon.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1782 from mfenniak/ProcessorTopologyTestDriver-multiple-source-bugfix

commit d4c379832b525d1a9c20c5cb84f0e586b9d977e0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Aug 26 11:12:25 2016 -0700

    MINOR: Include request header in exception when correlation of request/response fails
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1793 from ijuma/include-request-header-if-request-correlation-fails

commit b4ddd021b42225f8cb1d7049298f0e503cb09633
Author: Andrew Otto <acotto@gmail.com>
Date:   Thu Aug 25 20:32:08 2016 -0700

    MINOR: Update MirrorMaker docs to remove multiple --consumer.config options
    
    See:
    - https://issues.apache.org/jira/browse/KAFKA-1650
    - https://mail-archives.apache.org/mod_mbox/kafka-users/201512.mbox/%3CCAHwHRrUeTq_-EHXiUXdrbgHcRt-0E_t0+5kOYaF9Qy4aNVqYkAmail.gmail.com%3E
    
    Author: Andrew Otto <acotto@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1654 from ottomata/mirror-maker-doc-fix

commit 20155ef87e935a37779ee07d9605be9feabe2ad0
Author: Alex Loddengaard <alexloddengaard@gmail.com>
Date:   Thu Aug 25 20:29:20 2016 -0700

    MINOR: doc changes for QueueTimeMs JMX metrics.
    
    Author: Alex Loddengaard <alexloddengaard@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1706 from alexlod/doc-queuetimems-jmx

commit dca63fc0a50fe268b82ae5bdafa0b876f6389907
Author: 1ambda <1amb4a@gmail.com>
Date:   Thu Aug 25 20:23:05 2016 -0700

    KAFKA-3742: (FIX) Can't run bin/connect-*.sh with -daemon flag
    
    ## Problem
    
    Current connect scripts (`connect-distributed.sh`, `connect-standalone.sh`) do not support `-daemon` flag even if users specify the flag
    since `kafka-run-class.sh` requires that the`-daemon` flag should precede other arguments (e.g. class name)
    
    ## Solution
    
    Do the same thing like in `kafka-server-start.sh`
    
    - Parse a command
    - Add `-daemon` to `$EXTRA_ARGS` if exists
    
    Author: 1ambda <1amb4a@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1717 from 1ambda/KAFKA-3742-connect-running-as-daemon

commit c80649078bb38f8b3a32ace2c5d4aa328bb8246b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Aug 25 19:27:52 2016 -0700

    MINOR: Improve log message in `ReplicaManager.becomeLeaderOrFollower`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1789 from ijuma/improve-log-message-in-replica-manager

commit 08ad2be0da23afdaf6af05213005c9f765f39d8e
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Thu Aug 25 19:25:36 2016 -0700

    KAFKA-4070: implement Connect Struct.toString()
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #1790 from shikhar/add-struct-tostring

commit bf3dbcba4fe5fd8185a529ba216acf20f7e2d02d
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Aug 25 19:19:50 2016 -0700

    KAFKA-4052: Allow passing properties file to ProducerPerformance
    
    Tested by running on a kerberos enabled Kafka cluster.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira, Sriharsha Chintalapani
    
    Closes #1749 from SinghAsDev/KAFKA-4052

commit dddb79f3129497997dce9a0d3170eba169b72a57
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Aug 25 19:15:51 2016 -0700

    MINOR: Update Kafka configuration documentation to use kafka-configs.…
    
    …sh, instead of deprecated kafka-topics.sh --alter
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1772 from SinghAsDev/MinorKafkaConfigsDoc

commit 32feed25aefdda3a9f2b780d0709a3002777c9df
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Aug 26 00:41:23 2016 +0100

    MINOR: Move a few methods from the `ZKUtils` class to the companion object
    
    They don't require access to `ZkClient`.
    
    Also include a few obvious clean-ups in `ZKUtils`:
    * Remove redundant rethrows and braces
    * Use named arguments for booleans
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>
    
    Closes #1775 from ijuma/move-some-zk-utils-methods-to-companion-object

commit 53651937fa8a7750daf44d7e88e616f01e2e37d3
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Aug 26 00:05:22 2016 +0100

    HOTFIX: Fix verbose logging in ControllerChannelManager.brokerReady
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1786 from hachikuji/hotfix-ctrlchannelmgr-verbose-logging

commit 4cdb96f4c396e331ec98fe881ab0255e247bc62a
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Aug 26 00:02:50 2016 +0100

    HOTFIX: disabled application-reset-tool integration test
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1785 from mjsax/disableTest

commit 36044fdc544f1b6b4829558691e0e7d280abce99
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Aug 25 08:15:55 2016 -0700

    KAFKA-4015; Change cleanup.policy config to accept a list of valid policies
    
    Change cleanup.policy to accept a comma separated list of valid policies.
    Updated LogCleaner.CleanerThread to also run deletion for any topics configured with compact,delete.
    Ensure Log.deleteSegments only runs when delete is enabled.
    Additional Integration and unit tests to cover new option
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1742 from dguy/kafka-4015

commit 151288fe1f271391ebb53b14ff3146cfc3a4daee
Author: sven0726 <sven0726@gmail.com>
Date:   Thu Aug 25 04:31:08 2016 +0100

    MINOR: Fix wording in Metadata.add javadoc
    
    Author: sven0726 <sven0726@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1719 from sven0726/trunk

commit 08bdffbe4d13fff202b2598b3732ef041183a5f4
Author: Mathieu Fenniak <mathieu.fenniak@replicon.com>
Date:   Thu Aug 25 04:04:40 2016 +0100

    MINOR: Update rocksDB dependency to 4.9.0
    
    rocksdbjni version 4.9.0 now includes support for running on Windows; this PR updates Kafka Stream's dependency to that version.  Tests pass locally, except for a timeout in testReprocessingFromScratchAfterReset that doesn't seem related; it happens with and without this change.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Mathieu Fenniak <mathieu.fenniak@replicon.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1783 from mfenniak/update-rocksdb-4.9

commit 7a877895a1c8494d48bf2c18e2f74fb913ed036a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Aug 23 23:56:36 2016 +0100

    KAFKA-4082; Upgrade to Gradle 3.0
    
    Also upgrade scoverage (required for compatibility) and remove usage of
    `useAnt` which doesn't exist in Gradle 3.0
    
    It turns out that one cannot even run `gradle` to download the project Gradle version if `useAnt` is used in the build. This is unfortunate (the SBT launcher has much saner behaviour).
    
    Release notes: https://docs.gradle.org/3.0/release-notes
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #1774 from ijuma/kafka-4082-support-gradle-3.0

commit d85aaf95febca62cb03f4c2a2f84401cae4800d2
Author: William Yu <wyu@unified.com>
Date:   Tue Aug 23 22:20:14 2016 +0100

    KAFKA-3937; Kafka Clients Leak Native Memory For Longer Than Needed With Compressed Messages
    
    ijuma - Making the change against trunk based on your suggestions to have the stream closing handled in the private RecordIterator constructor which I understand is only to be used only if the block of message(s) are compressed.
    
    Author: William Yu <wyu@unified.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1760 from wiyu/compressor_memory_leak_in_fetcher

commit cec2769e2281ac731e8cfd12b5d8e34e0ebe38cd
Author: Konstantine Karantasis <k.karantasis@gmail.com>
Date:   Tue Aug 23 10:19:07 2016 -0700

    KAFKA-2894: WorkerSinkTask should rewind offsets on rebalance
    
    Author: Konstantine Karantasis <k.karantasis@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1771 from kkonstantine/KAFKA-2894-rewind-offsets-on-rebalance

commit 313aad423cb19618b8693af6f04b68138059c585
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Aug 23 10:31:29 2016 +0100

    KAFKA-3680; Enable Kafka clients to run in any classloader env
    
    Configure default classes using class objects instead of class names, enable configurable lists of classes to be specified as class objects, add tests for different classloader configurations.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1421 from rajinisivaram/KAFKA-3680

commit a1e0b2240dba0740135621d959441eefa6fd3124
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Aug 22 21:49:40 2016 -0700

    KAFKA-4073; MirrorMaker should handle messages without timestamp correctly
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1773 from ijuma/kafka-4073-mirror-maker-timestamps

commit a2bac70a6634e9a78734d23158fb7e45f290ea26
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Aug 22 21:33:47 2016 -0700

    MINOR: Refactor TopologyBuilder with ApplicationID Prefix
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1736 from guozhangwang/Kminor-topology-applicationID

commit 24fd025d407d42176847143d3a0dc416a75d8f35
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Aug 23 02:55:17 2016 +0100

    KAFKA-3916; Check for disconnects properly before sending from the controller
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1734 from hachikuji/KAFKA-3916

commit 05d00b5aca2e1e59ad685a3f051d2ab022f75acc
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Aug 23 00:14:44 2016 +0100

    KAFKA-4032; Uncaught exceptions when autocreating topics
    
    handled by adding a catch all for any unhandled exception. Because the jira specifically mentions the InvalidReplicationFactor exception, a test was added for that specific case.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1739 from granthenke/create-errors

commit f903215536af06b7b79739882d9286abc2e50000
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Aug 22 16:09:02 2016 -0700

    KAFKA-4049: Fix transient failure in RegexSourceIntegrationTest
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <me@ewencp.org>
    
    Closes #1746 from guozhangwang/K4049-RegexSourceIntegrationTest-failure

commit dedacd06e4d1e967261b9bca3e32ba0e44b52ba1
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Aug 22 15:58:32 2016 -0700

    KAFKA-4051: Use nanosecond clock for timers in broker
    
    Use System.nanoseconds instead of System.currentTimeMillis in broker timer tasks to cope with changes to wall-clock time.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1768 from rajinisivaram/KAFKA-4051

commit d903babb726bdf725bd473c0590f9826b6fa2f14
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Aug 22 23:52:50 2016 +0100

    MINOR: add slf4jlog4j to streams example
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1731 from guozhangwang/Kminor-log4j-streams-examples

commit d851ce76fdaa469dcaed7f66340574529d79a3cd
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Aug 22 15:45:29 2016 -0700

    MINOR: improve Streams application reset tool to make sure application is down
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1764 from mjsax/improveResetTool

commit f153407c42716f4f4d9abe8be39ab1112f36a8be
Author: Samuel Taylor <staylor@square-root.com>
Date:   Mon Aug 22 23:16:56 2016 +0100

    MINOR: Fix typos in security section
    
    1. I think the instructions in step 2 of the security section which describe adding the CA to server/client truststores are swapped. That is, the instruction that says to add the CA to the server truststore adds it to the client truststore (and vice versa).
    2. "clients keys" should be possessive ("clients' keys").
    
    This contribution is my original work, and I license the work to the project under the project's open source license.
    
    Author: Samuel Taylor <staylor@square-root.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1651 from ssaamm/trunk

commit 7b16b4731666ff321fbe46828d526872ff5f56d7
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Aug 22 21:34:26 2016 +0100

    KAFKA-4066; Fix NPE in consumer due to multi-threaded updates
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1763 from rajinisivaram/KAFKA-4066

commit 6ed3e6b1cb8a73b1f5f78926ccb247a8953a554c
Author: Tom Crayford <tcrayford@googlemail.com>
Date:   Mon Aug 22 10:58:40 2016 -0700

    KAFKA-3894; log cleaner can partially clean a segment
    
    As discussed in https://issues.apache.org/jira/browse/KAFKA-3894, this PR makes the log cleaner do a "partial" clean on a segment, whereby it builds a partial offset map up to a particular offset in a segment. Once cleaning resumes again, we will continue from the next dirty offset, which can now be located in the middle of a segment.
    
    Prior to this PR, segments with overly numerous keys could crash the log cleaner thread, as it was required that the log cleaner had to fit at least a single segment in the offset map.
    
    Author: Tom Crayford <tcrayford@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1725 from tcrayford/dont_crash_log_cleaner_thread_if_segment_overflows_buffer

commit 113d23e8fe290878120c1384b580181169777f4f
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Mon Aug 22 10:34:01 2016 -0700

    KAFKA-3163; Minor follow up for (KIP-33)
    
    junrao Could you take a look when get a chance? Thanks.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1769 from becketqin/KAFKA-3163-follow-up

commit 317c4fdede41f2026b34f473af1ad69f8ee62a1d
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Aug 19 21:59:55 2016 -0700

    KAFKA-3949: Fix race condition when metadata update arrives during rebalance
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Vahid Hashemian, Guozhang Wang
    
    Closes #1762 from hachikuji/KAFKA-3949

commit c5d26c4829583c95af7ca9e961a4d3954f8e09eb
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Aug 19 15:23:30 2016 -0700

    KAFKA-4016: Added join benchmarks
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma, Damian Guy, Guozhang Wang
    
    Closes #1700 from enothereska/join-benchmarks

commit 33447cb4beb8dd710a20556a6a2baf8307f03860
Author: Shuai Zhang <shuai.xyz@gmail.com>
Date:   Fri Aug 19 11:59:11 2016 -0700

    KAFKA-4053: remove redundant if/else statements in TopicCommand
    
    Author: Shuai Zhang <shuai.xyz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1751 from sh-z/KAFKA-4053

commit 880bde5ac5644c904eacc1c4a53159a58d107254
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Fri Aug 19 11:29:54 2016 -0700

    KAFKA-4056: Kafka logs values of sensitive configs like passwords
    
    In case of unknown configs, only list the name without the value
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Jaikiran, Gwen Shapira, Grant Henke, Ryan Pridgeon, Dustin Cote
    
    Closes #1759 from mimaison/KAFKA-4056

commit 104d2154b635c50efc80331ee2a4779cc3658414
Author: Todd Palino <Todd Palino>
Date:   Fri Aug 19 11:05:39 2016 -0700

    KAFKA-4050; Allow configuration of the PRNG used for SSL
    
    Add an optional configuration for the SecureRandom PRNG implementation, with the default behavior being the same (use the default implementation in the JDK/JRE).
    
    Author: Todd Palino <Todd Palino>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #1747 from toddpalino/trunk

commit 79d3fd2bf0e5c89ff74a2988c403882ae8a9852e
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Aug 19 10:07:07 2016 -0700

    KAFKA-3163; Add time based index to Kafka.
    
    This patch is for KIP-33.
    https://cwiki.apache.org/confluence/display/KAFKA/KIP-33+-+Add+a+time+based+log+index
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>, Liquan Pei <liquanpei@gmail.com>
    
    Closes #1215 from becketqin/KAFKA-3163

commit 05ed54bf2b80691d413dbfa05065eb3afe33972f
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Aug 18 20:56:31 2016 -0700

    KAFKA-3845: KIP-75: Add per-connector converters
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Shikhar Bhushan, Gwen Shapira
    
    Closes #1721 from ewencp/kafka-3845-per-connector-converters

commit e3ede843443ddb98b249d8ce1d111cc18aec6ed5
Author: P. Thorpe <paul.thorpe@uk.ibm.com>
Date:   Thu Aug 18 20:50:20 2016 -0700

    MINOR: Remove # from .bat start script
    
    On Windows, the following output is seen when starting Zookeeper and Kafka servers:
    ```
    '#' is not recognized as an internal or external command,
    operable program or batch file.
    ```
    
    This pull request makes a minor correction to the Windows `kafka-run-class.bat` script to replace the use of `#` with `rem`.
    
    Author: P. Thorpe <paul.thorpe@uk.ibm.com>
    
    Reviewers: Vahid Hashemian, Gwen Shapira
    
    Closes #1740 from p-thorpe/trunk

commit c6e6fadeed3e060da34b0fc7ec4c8540f8dffa90
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Thu Aug 18 20:39:57 2016 -0700

    MINOR: Clarification in producer config documentation
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Dana Powers, Gwen Shapira
    
    Closes #1732 from vahidhashemian/minor/clarify_producer_config_documentation

commit 59cfa84801c67de9729385a8f9b536721e0c37b9
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Aug 18 15:29:56 2016 -0700

    KAFKA-4037: Make Connect REST API retries aware of 409 CONFLICT errors
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1733 from ewencp/rest-api-retries

commit 9af2e69ef4323dc6c8daf479226f25cc821b1bb6
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Aug 18 12:31:38 2016 +0100

    KAFKA-4038; Transient failure in DeleteTopicsRequestTest.testErrorDeleteTopicRequests
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1737 from granthenke/transient-delete

commit 40b1dd3f495a59abef8a0cba5450526994c92c04
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Aug 17 11:50:04 2016 -0700

    KAFKA-3888: send consumer heartbeats from a background thread (KIP-62)
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1627 from hachikuji/KAFKA-3888

commit 19997ede08bffeb95d17b2c41066e8943a391034
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Wed Aug 17 08:05:18 2016 -0700

    KAFKA-4044; log actual socket send/receive buffer size after connecting in Selector
    
    Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1750 from omkreddy/KAFKA-4044-LOG

commit 11f1801c3b637ac1d355b8e35f9f879f3b946517
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Aug 16 11:35:11 2016 -0700

    HOTFIX: Re-inserted SimpleBenchmark output for system tests
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1744 from enothereska/hotfix-ducktape-marker

commit ae237be1bbfd7d1b84a5095491a6131cd3cc9346
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Aug 16 10:43:12 2016 -0700

    KAFKA-3769: Create new sensors per-thread in KafkaStreams
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Matthias J. Sax <matthias@confluent.io>, Michael G. Noll <michael@confluent.io>, Greg Fodor <gfodor@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1530 from guozhangwang/K3769-per-thread-metrics

commit e49b3aee6b25b9b26275849c693d5dec41d6cf68
Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
Date:   Sun Aug 14 10:00:08 2016 -0700

    KAFKA-4035; AclCommand should allow Describe operation on groups
    
    Author: Manikumar Reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Jun Rao <junrao@gmail.com>
    
    Closes #1723 from omkreddy/KAFKA-4035

commit e615d0be78decbc6fe2f508d5ab83fb3e05d6dc6
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Aug 12 18:11:43 2016 -0700

    KAFKA-2946; MINOR: Follow up. Add Delete to AclCommandTest
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1730 from granthenke/test-delete

commit be36b322749003581474e2c84a3ec9ba2aaec53c
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Aug 12 23:26:41 2016 +0100

    KAFKA-4034; Avoid unnecessary consumer coordinator lookup
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1720 from hachikuji/KAFKA-4034

commit fc55f804e1b66a5ced14841d05e03f60cce65c63
Author: Alexey Ozeritsky <aozeritsky@yandex-team.ru>
Date:   Fri Aug 12 23:02:49 2016 +0100

    KAFKA-3997; log partition name on truncation
    
    Author: Alexey Ozeritsky <aozeritsky@yandex-team.ru>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1724 from resetius/KAFKA-3997

commit b18c3f5caba51a07ec514b5d04bca8b85bae3748
Author: Bryan Baugher <bryan.baugher@cerner.com>
Date:   Fri Aug 12 22:57:17 2016 +0100

    KAFKA-4012; Added #toString() to KerberosShortNamer
    
    Author: Bryan Baugher <bryan.baugher@cerner.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1694 from bbaugher/KAFKA-4012

commit 539633ba0eba452960a4d2a3bf07abd79020b329
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Aug 12 14:26:46 2016 -0700

    KAFKA-2946; DeleteTopic - protocol and server side implementation
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <me@ewencp.org>, Jun Rao <junrao@gmail.com>
    
    Closes #1616 from granthenke/delete-wire-new

commit 208ecae23994812d2a707b776de6b95d9f591bb7
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Aug 12 14:06:37 2016 -0700

    KAFKA-3847: Use a separate producer per source task
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson, Gwen Shapira
    
    Closes #1727 from ewencp/kafka-3847-per-task-producers and squashes the following commits:
    
    7d39724 [Ewen Cheslack-Postava] Add timeout for closing producers.
    98ec7f6 [Ewen Cheslack-Postava] KAFKA-3847: Use a separate producer per source task

commit 39431f7347d994f18878d199cc268ee7cdcf063d
Author: Som Sahu <sosahu@microsoft.com>
Date:   Fri Aug 12 12:06:58 2016 +0100

    KAFKA-4031; Check if buffer cleaner is null before using it
    
    A small fix to check null before using the reference
    
    Author: Som Sahu <sosahu@microsoft.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1718 from soumyajit-sahu/nullCheckForDirectBufferCleaner

commit 68b5d014fa3bf2e18da253ded2bbcd4f5d4a9d8d
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Aug 10 14:25:23 2016 -0700

    KAFKA-3914: Global discovery of state stores
    
    guozhangwang enothereska mjsax miguno  please take a look. A few things that need to be clarified
    
    1. I've added StreamsConfig.USER_ENDPOINT_CONFIG, but should we have separate configs for host and port or is this one config ok?
    2. `HostState` in the KIP has a byte[] field - not sure why and what it would be populated with
    3. I've changed the API to return `List<KafkaStreamsInstance>` as opposed to `Map<HostInfo, Set<TaskMetadata>>` as i find this far more intuitive to work with.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Michael G. Noll, Eno Thereska, Guozhang Wang
    
    Closes #1576 from dguy/kafka-3914v2

commit caa9bd0fcd2fab4758791408e2b145532153910e
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Aug 9 11:31:04 2016 -0700

    KAFKA-3936: Validate parameters as early as possible
    
    Added non null checks to parameters supplied via the DSL and `TopologyBuilder`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1711 from dguy/kafka-3936

commit 8abcece40aea8860bd0c2feb25d2a91db529cc29
Author: sahil kharb <sahilkharb@iitj.ac.in>
Date:   Tue Aug 9 11:27:57 2016 -0700

    MINOR: Doc individual partition must fit on the server that host it
    
    Author: sahil kharb <sahilkharb@iitj.ac.in>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #1709 from bitfurry/trunk

commit 15722745831b6373817ca156b6d18b8dc1ee9de1
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Aug 9 09:16:17 2016 -0700

    KAFKA-3934: Start scripts enable GC by default with no way to disable
    
    …o disable
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1631 from granthenke/garbage-flag

commit cb7af0b7fb546cee7a3761b9a80078948f699b33
Author: deragon <32nx9812masakjds>
Date:   Tue Aug 9 08:33:53 2016 -0700

    MINOR: Make kafka-run-class.sh work under Cygwin
    
    kafka-run-class.sh now runs under Cygwin; paths and classpath are set up properly.
    
    **WARNING:**  The script was not tested on a Linux machine, only under Cygwin.  Prior to merge it into trunk, if accepted, please run a quick test to ensure nothing broke.  From my own code review, there should not be any problem, but we can never be too sure.
    
    I do not have the environment to test it under Linux at this moment.
    
    Author: deragon <32nx9812masakjds>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1487 from deragon/trunk

commit fb65ff40a8d89bc7ad9b079cf1f2a8b902abd182
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Aug 8 20:33:59 2016 -0700

    KAFKA-3954; Consumer should use internal topics information returned by the broker
    
    It previously hardcoded it.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1613 from ijuma/kafka-3954-consumer-internal-topics-from-broker

commit da015585a94755d2e499e6fa4723cf1397404e7f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Aug 8 19:46:08 2016 -0700

    MINOR: Remove redundant clause in secureAclsEnabled check
    
    Also include a few minor clean-ups.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Manikumar reddy O <manikumar.reddy@gmail.com>, Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1623 from ijuma/fix-zk-inconsistent-security-check

commit 91b4e3c00d84bf05387d55869062a2f988a8a4eb
Author: Bryan Baugher <bryan.baugher@cerner.com>
Date:   Tue Aug 9 01:54:55 2016 +0100

    KAFKA-4013; Include exception cause in SaslServerCallbackHandler
    
    Author: Bryan Baugher <bryan.baugher@cerner.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1695 from bbaugher/KAFKA-4013

commit 7b7f57df6229c02482e5176f2f265e7a890de2a3
Author: dan norwood <norwood@confluent.io>
Date:   Tue Aug 9 01:34:04 2016 +0100

    MINOR: Add `fetchTopicMetadataFromZk` overload that takes `SecurityProtocol` parameter
    
    ijuma
    
    Author: dan norwood <norwood@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1713 from norwood/add-security-protocol-option-for-fetch

commit 6b2564811a6137f1fe639dee236f2538bb7160b1
Author: Kaufman Ng <kaufman@confluent.io>
Date:   Sun Aug 7 14:29:03 2016 -0700

    KAFKA-3479: Add new consumer metrics documentation
    
    added new consumer metrics section
    refactored common metrics into new section
    updated TOC
    
    Author: Kaufman Ng <kaufman@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1361 from coughman/KAFKA-3479-consumer-metrics-doc

commit 29f44e75cd4ade107b169dbf43bbcb191013e75f
Author: Dustin Cote <dustin@confluent.io>
Date:   Sat Aug 6 21:59:22 2016 -0700

    KAFKA-2932: Adjust importance level of Kafka Connect configs
    
    ewencp I went down the list of connect configs and it looks like only the internal converter configs are mismarked.  It looks like the `cluster` config that is present in the current docs is already gone.  The only other values I can see arguing to change importance on are the ssl configs (marked high) but they are consistent with the producer/consumer config docs so that's at least consistent.  Everything else marked high looks either mandatory or requires consideration in a production deployment to me.
    
    Author: Dustin Cote <dustin@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1653 from cotedm/KAFKA-2932

commit 8d303d0d389a1dfda93224ae6cc8b426ed6750fb
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Sat Aug 6 21:11:54 2016 -0700

    KAFKA-4002: task.open() should be invoked in case that 0 partitions is assigned to task
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1686 from Ishiihara/open-partition

commit 778fcd0e9192c8de4c17f23189029d5c1bf98e2a
Author: James Cheng <jylcheng@yahoo.com>
Date:   Sat Aug 6 18:14:53 2016 -0700

    KAFKA-3809: Auto-generate documentation for topic-level configuration
    
    ijuma said that it would make sense to split out this work from KAFKA-3234, since KAFKA-3234 had both a mechanical change (generating docs) as well as a change requiring discussion (deprecating/renaming config options).
    
    jjkoshy, I hope you don't mind that I took over this work. It's been 3 months since the last activity on KAFKA-3234, so I thought it would be okay to take over.
    
    This work is essentially is the first 5-6 commits from Joel's https://github.com/apache/kafka/pull/907. However, since I'm not very experienced with git, I didn't do a direct merge/rebase, but instead largely hand-merged it. I did some minor cleanup. All credit goes to Joel, all blame goes to me. :)
    
    For reference, I attached the auto-generated configuration.html file (as a PDF, because github won't let me attache html).
    [configuration.pdf](https://github.com/apache/kafka/files/323901/configuration.pdf)
    
    This is my first time writing Scala, so let me know if there are any changes needed.
    
    I don't know who is the right person to review this. ijuma, can you help me redirect this to the appropriate person? Thanks.
    
    Author: James Cheng <jylcheng@yahoo.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1527 from wushujames/generate_topic_docs

commit 3dafb81da788294d4c2e9811f49437608e5b9ce8
Author: Jan Filipiak <Jan.Filipiak@trivago.com>
Date:   Fri Aug 5 10:03:22 2016 -0700

    KAFKA-3817: KTableRepartitionMap publish old Change first, for non-count aggregates
    
    I affirm that the contribution is my original work and that I license the work to the project under the project's open source license.
    
    This cleans up misbehaviour that was introduce while fixing KAFKA-3817. It is impossible for a non-count aggregate to be build, when the addition happens before the removal. IMHO making sure that these details are correct is very important.
    
    This PR has local test errors. It somehow fails the ResetIntegrationTest. It doesn't quite appear to me why but it looks like this PR breaks it, especially because the error appears with the ordering of the events. Still I am unable to find where I could have broken it. Maybe not seems to fail on trunk aswell.
    
    Author: jfilipiak <Jan.Filipiak@trivago.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1705 from Kaiserchen/KAFKA-3817-preserve-order-for-aggreagators

commit 6fb33afff976e467bfa8e0b29eb82770a2a3aaec
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Aug 4 12:30:24 2016 +0100

    KAFKA-3875; Transient test failure: kafka.api.SslProducerSendTest.testSendNonCompressedMessageWithCreateTime
    
    1. The IllegalStateException is actually thrown from testCloseWithZeroTimeoutFromSenderThread() due to a bug. We call producer.close() in the callback. Once the first callback is called, producing records in the callback will hit the IllegalStateException. This only pollutes the output, but doesn't fail the test. I fixed this by only calling producer.send() in the first callback.
    2. It's not clear which test throws TimeoutException and it's not reproducible locally. One thing is that the error message in TimeoutException is mis-leading since the timeout is not necessarily due to metadata. Improved this by making the error message in TimeoutException clearer.
    3. It's not clear what actually failed testSendNonCompressedMessageWithCreateTime(). One thing I found is that since we set the linger time to MAX_LONG and are sending small messages, those produced messages won't be drained until we call producer.close(10000L, TimeUnit.MILLISECONDS). Normally, 10 secs should be enough for the records to be sent. My only hypothesis is that since SSL is more expensive, occasionally, 10 secs is still not enough. So, I bumped up the timeout from 10 secs to 20 secs.
    
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1703 from junrao/kafka-3875

commit 2e3722a234df5c0cd2e91c258cc0e4d825ee0626
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Aug 4 02:03:57 2016 +0100

    KAFKA-4018; Streams causing older slf4j-log4j library to be packaged along with newer version
    
    This is a regression caused by 0bb1d3ae.
    
    After that commit, Streams no longer has a direct dependency on slf4j-log4j12, but zkclient
    has a dependency on an older version of slf4j-log4j12, so we get a transitive dependency on
    the older version.
    
    The fix is to simply exclude the undesired dependencies from the zkclient dependency.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1704 from ijuma/kafka-4018-streams-duplicate-slf4j-log4j

commit 27fc11d1c9b1ec8c63a991cb8c481f95eddb850b
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Aug 3 15:24:36 2016 -0700

    MINOR: rename StateStoreProvider.getStores() -> StateStoreProvider.stores()
    
    Rename StateStoreProvider.getStores(...) to StateStoreProvider.stores(...) as this is consistent with the naming of other 'getters' in the public API.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1699 from dguy/minor-method-rename

commit 7d513055671664433a783e4a62e9cbad6c44fc83
Author: Jendrik Poloczek <jendrik.poloczek@hivestreaming.com>
Date:   Wed Aug 3 14:01:48 2016 -0700

    MINOR: Fixed documentation for KStream left join KStream-KTable
    
    We are not joining in a window here.
    
    Author: Jendrik Poloczek <jendrik.poloczek@hivestreaming.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1692 from jpzk/trunk

commit 227c54fa9e240b7a7f060c2bbbb849379be0d072
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Aug 3 10:56:06 2016 +0100

    KAFKA-3945; Change the type of 'acks' config in console producer to String
    
    The `acks` config that is provided to console producer with `request-required-acks` comes with `all`, `-1`, `0`, `1` as valid options (`all` and `-1` being interchangeable). Currently, the console producer expects an integer for this input and that makes `all` to become an invalid input. This PR fixes this issue by changing the input type to String.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Manikumar reddy O <manikumar.reddy@gmail.com>, Grant Henke <granthenke@gmail.com, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1618 from vahidhashemian/KAFKA-3945

commit c89707f315a6fe654b764840a49cdf5d9bbcfc90
Author: Ryan P <ryan.n.pridgeon@gmail.com>
Date:   Wed Aug 3 09:52:38 2016 +0100

    KAFKA-3667; Improve Section 7.2 Encryption and Authentication using SSL to include proper hostname verification configuration
    
    By default Kafka is configured to allow ssl communication without hostname verification. This docs has been amended to include instructions on how to set that up in the event clients would like to take a more conservative approach.
    
    Author: Ryan P <ryan.n.pridgeon@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1384 from rnpridgeon/KAFKA-3667

commit 416817920bcc0a5f74ddf5231505160a68c7d2db
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Aug 2 14:41:18 2016 -0700

    HOTFIX: Fixes to javadoc and to state store name for link joins
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #1674 from enothereska/hotfix-misc-joins

commit c840f2a95c2e247c384315846067daa839df77a7
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Aug 2 14:33:50 2016 -0700

    MINOR: Use `close()` instead of `dispose()` in various RocksDB classes
    
    The latter has been deprecated.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1690 from ijuma/rocks-db-dispose-methods-deprecated

commit e62dd4cb770e3662524d4f2f50547549e3ab2eaf
Author: Pierre Coquentin <pierre.coquentin@gmail.com>
Date:   Tue Aug 2 14:30:12 2016 -0700

    MINOR: Remove unnecessary synchronized block in org.apache.kafka.streams.processor.internals.StreamTask
    
    The StreamTask is owned by a specific thread, so it doesn't seem necessary to synchronized the processing of the records as discussed with guozhangwang  on the dev mailing list
    
    Author: PierreCoquentin <pierre.coquentin@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1688 from PierreCoquentin/trunk

commit bb629f2243c4462db2a863793c190d734f11f3c6
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Aug 2 14:14:52 2016 -0700

    KAFKA-3929: Add prefix for underlying clients configs in StreamConfig
    
    Add prefixes for consumer and producer configs to StreamsConfig, but be backward compatible.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Guozhang Wang
    
    Closes #1649 from dguy/kafka-3929

commit 3bb38d37b7a3fe2dc794c717df1d67e8f9a8af21
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Aug 2 12:41:20 2016 +0100

    HOTFIX: Start embedded kafka in KafkaStreamsTest to avoid hanging
    
    The KafkaStreamsTest can occasionally hang if the test doesn't run fast enough. This is due to there being no brokers available on the broker.urls provided to the StreamsConfig. The KafkaConsumer does a poll and blocks causing the test to never complete.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1693 from dguy/kafka-streams-test
    
    (cherry picked from commit ce34614a43fb1f43ef6b5660fb37f7a0598d177a)
    Signed-off-by: Ismael Juma <ismael@juma.me.uk>

commit f7976d2fc1793d0f635b42eb4dca3810e40c4cc8
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Mon Aug 1 20:12:22 2016 -0700

    KAFKA-4008: Module "tools" should not be dependent on "core"
    
    moved streams application reset tool from tools to core
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Damian Guy <damian.guy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1685 from mjsax/moveResetTool
    
    (cherry picked from commit f2405a73ea2dd4b636832b7f8729fb06a04de1d5)
    Signed-off-by: Ewen Cheslack-Postava <me@ewencp.org>

commit 2a9f7af6c28ace1fc0bf8f64127e39b7ec13940a
Author: Dustin Cote <dustin@confluent.io>
Date:   Mon Aug 1 09:08:18 2016 -0700

    MINOR: lower logging severity for offset reset
    
    When resetting the first dirty offset to the log start offset, we currently log an ERROR which makes users think the log cleaner has a problem and maybe has exited.  We should log a WARN instead to avoid alarming the users.
    
    Author: Dustin Cote <dustin@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #1691 from cotedm/minorlogcleanerlogging

commit cd767aee45fd522fb8dbbd911a5a82fc0f9d2623
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Sun Jul 31 22:43:46 2016 +0100

    MINOR: Fix a few raw type warnings in cients
    
    - Removed an unnecessary annotation
    - Parameterized a couple of raw types
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1675 from mimaison/warnings

commit 31264f69796b5b2f803bb6daeac7ecd76acd6f99
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Fri Jul 29 15:53:58 2016 -0700

    KAFKA-3946: Protocol guide should say that Produce request acks can o…
    
    …nly be 0, 1, or -1
    
    Rephrased the documentation string for the Produce request
    Updated the acks configuration docs to state that -1, 0, and 1 are the only allowed values
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1680 from mimaison/KAFKA-3946

commit 38c65a9a39081068e05e3222ccb0dbc3c9f56942
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jul 28 22:10:06 2016 +0100

    HOTFIX: Fix unstable Streams application reset integration test
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1673 from mjsax/hotfix
    
    (cherry picked from commit ad1dab9c3d3ae14746ee5d94434ef98ef4889023)
    Signed-off-by: Ismael Juma <ismael@juma.me.uk>

commit 071b76cc50b4f79c839306f40eb84ee2b9724ab2
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Thu Jul 28 13:48:04 2016 -0700

    KAFKA-3852: Clarify how to handle message format upgrade without killing performance
    
    …ing performance
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1678 from gwenshap/kafka-3852

commit 131f96868aa24f38f69ee2ab769ea3f289e5c1fc
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jul 28 21:36:16 2016 +0100

    MINOR: Consumer should throw KafkaException on invalid checksum
    
    InvalidRecordException is not part of the public API so go back
    to the behaviour before ff557f02 for now.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1676 from hachikuji/raise-kafka-exception-on-invalid-crc

commit 6e8c6f17f5ccdcc12f6d568a15af7c3ee893e22c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jul 28 12:46:49 2016 +0100

    HOTFIX: Add license information to release_notes.py

commit ff557f02ac628edbe220ea69888d39de834527d3
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jul 28 11:15:45 2016 +0100

    KAFKA-3977; Defer fetch parsing for space efficiency and to ensure exceptions are raised to the user
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1656 from hachikuji/KAFKA-3977

commit d5c821c198dcfbc69bd393c7725f93b22b479bca
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Jul 27 23:54:04 2016 +0100

    KAFKA-3851; Automate release notes and include links to upgrade notes for release and most recent docs to forward users of older releases to newest docs.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1670 from ewencp/kafka-3851-automate-release-notes

commit 8deedcacb68ff8ebae802e086ff706ad7e5f38e9
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Wed Jul 27 14:11:40 2016 -0700

    KAFKA-3185: Allow users to cleanup internal Kafka Streams data
    
    - added Kafka Stream Application Reset Tool
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang, Michael G. Noll
    
    Closes #1636 from mjsax/kafka-3185

commit d58c2d9ac6047b14ab22e19c9f7c857bb85a970d
Author: Maysam Yabandeh <myabandeh@dropbox.com>
Date:   Wed Jul 27 08:22:23 2016 -0700

    KAFKA-3924; Replacing halt with exit upon LEO mismatch to trigger gra…
    
    …ceful shutdown
    
    The patch is pretty simple and the justification is explained in https://issues.apache.org/jira/browse/KAFKA-3924
    
    I could not find Andrew Olson, who seems to be the contributor of this part of the code, in github so I am not sure whom I should ask to review the patch.
    
     the contribution is my original work and that i license the work to the project under the project's open source license.
    
    Author: Maysam Yabandeh <myabandeh@dropbox.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Andrew Olson <andrew.olson@cerner.com>, Jun Rao <junrao@gmail.com>
    
    Closes #1634 from maysamyabandeh/KAFKA-3924

commit 64842f47f8ad21c942be2e2dd1edb56e3bc76cb8
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jul 27 07:51:40 2016 -0700

    KAFKA-3996; ByteBufferMessageSet.writeTo() should be non-blocking
    
    Also:
    * Introduce a blocking variant to be used by `FileMessageSet.append`
    * Add tests
    * Minor clean-ups
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1669 from ijuma/kafka-3996-byte-buffer-message-set-write-to-non-blocking

commit 4059f07216a07db0cdd88b46db40914069171838
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jul 26 19:43:32 2016 -0700

    KAFKA-3500: Handle null keys and values in KafkaOffsetBackingStore.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma, Jason Gustafson, Gwen Shapira
    
    Closes #1662 from ewencp/kafka-3500-kafka-offset-backing-store-null

commit 1e1c164cfa58d225c38de9f8aea3c666a9464808
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jul 27 00:40:42 2016 +0100

    MINOR: Increase default timeout for other `wait` methods in `TestUtils`
    
    They are now consistent with `waitUntilTrue`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1665 from ijuma/increase-default-wait-until-time

commit 801fee89d801e6d222c7b1b76a97847ecc9f10ff
Author: Geoff Anderson <geoff@confluent.io>
Date:   Tue Jul 26 03:04:13 2016 +0100

    MINOR: cleanup apache license in python files
    
    ijuma
    As discussed in https://github.com/apache/kafka/pull/1645, this patch removes an extraneous line from several __init__.py files, and a few others as well
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1659 from granders/minor-cleanup-init-files

commit d1546960de0aa43989680a59c8f6b1ae7cb333e9
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jul 26 03:02:02 2016 +0100

    KAFKA-3935; Fix test_restart_failed_task system test for SinkTasks
    
    Fix the test by using a more liberal timeout and forcing more frequent SinkTask.put() calls. Also add some logging to aid future debugging.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1663 from ewencp/kafka-3935-fix-restart-system-test

commit 8a417c89d2f0b7861b2dec26f02e4e302b64b604
Author: Tom Crayford <tcrayford@googlemail.com>
Date:   Tue Jul 26 02:31:37 2016 +0100

    KAFKA-3933; Always fully read deepIterator
    
    Avoids leaking native memory and hence crashing brokers on bootup due to
    running out of memory.
    
    Seeeing as `messageFormat > 0` always reads the full compressed message
    set and is the default going forwards, we can use that behaviour to
    always close the compressor when calling `deepIterator`
    
    Author: Tom Crayford <tcrayford@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1660 from tcrayford/dont_leak_native_memory_round_2

commit aebab7cab6af88f777c1fb83604a1573554549a9
Author: Avi Flax <avi@aviflax.com>
Date:   Mon Jul 25 11:03:21 2016 -0700

    MINOR: Small enhancement to Deserializer Javadoc
    
    I’ve implemented my own custom Deserializer and been using it with `KStream.reduceByKey`; I observed that `reduceByKey` was passing null to my implementation, but it wasn’t clear to me what my implementation was expected to do in this case. So this attempts to clarify it.
    
    This is my original work and I license this work to the Kafka project under Kafka’s open source license (the Apache License 2.0).
    
    Author: Avi Flax <avi@aviflax.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1503 from aviflax/patch-1
    
    (cherry picked from commit 6b1a6d9551fc44d80c7cffc0b4c21427da9d8fda)
    Signed-off-by: Ewen Cheslack-Postava <me@ewencp.org>

commit 932bb84c837807eeca3600007ae3030561fdcb37
Author: Alexey Romanchuk <al.romanchuk@2gis.ru>
Date:   Sat Jul 23 09:31:16 2016 +0100

    KAFKA-3960; Committed offset not set after first assign
    
    Author: Alexey Romanchuk <al.romanchuk@2gis.ru>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1629 from 13h3r/kafka-3960

commit fa32545442ef6724aa9fb5f4e0e269b0c873288f
Author: Ryan Pridgeon <ryan.n.pridgeon@gmail.com>
Date:   Fri Jul 22 18:09:38 2016 +0100

    KAFKA-3983; Add additional information to Acceptor debug message
    
    Add additional information to Acceptor debug message upon connection acceptance
    
    Author: rnpridgeon <ryan.n.pridgeon@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1648 from rnpridgeon/trunk

commit 427e638517d2efedb7e7cb1387b1c59363cda21d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jul 22 17:58:24 2016 +0100

    MINOR: Increase default `waitTime` in `waitUntilTrue` to 15 seconds
    
    5 seconds is probably enough when running tests locally, but
    doesn't seem to be so for Jenkins when it is overloaded.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1589 from ijuma/increase-default-wait-time-for-wait-until-true

commit 1ef7672ed6333c02cb0fb8096e5a700b1ef38ce1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jul 21 21:32:54 2016 -0700

    MINOR: Update to Gradle 2.14.1
    
    Better performance is always welcome:
    
    "The Gradle build itself has seen a 50% reduction in configuration time. You'll see the biggest impact on multi-project builds"
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1644 from ijuma/update-gradle

commit f5df13627aaa6052a19e4cd7896e94730dac7f64
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jul 21 20:09:03 2016 -0700

    KAFKA-3782: Fix transient failure in connect distributed bounce test
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1650 from hachikuji/KAFKA-3782

commit f1b37eec7422fde2e9240ff56b031b6958887176
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Jul 22 00:18:48 2016 +0100

    HOTFIX: Adding init file so streams benchmark is autodiscovered
    
    Without this file the benchmark does not run nightly.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1645 from enothereska/hotfix-streams-test

commit 44723caec74067aee9b06836b048465f4cffc431
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jul 21 16:11:20 2016 -0700

    MINOR: Upgrade RocksDB to 4.8.0
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1647 from ijuma/kafka-rocksdb-4.8

commit 1ccab26a325e6ee23396049a24a5b6eb4b7a1c8e
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Jul 21 14:44:59 2016 -0700

    KAFKA-3911: KTable source materialization
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Guozhang Wang
    
    Closes #1638 from enothereska/KAFKA-3911-ktable-materialization

commit 933a7506efb57add31a1e9dbd984c1230128b855
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Jul 21 13:11:53 2016 -0700

    KAFKA-3858: Add functions to print stream topologies
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Roger Hoover, Matthias J. Sax, Guozhang Wang
    
    Closes #1619 from enothereska/KAFKA-3858-print-topology

commit 9991086671b0a74bc5fd5698ba81aaf9a2985404
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Jul 21 11:04:08 2016 -0700

    KAFKA-3740: Enable configuration of RocksDBStores
    
    Add new config StreamsConfig.ROCKSDB_CONFIG_SETTER_CLASS_CONFIG to enable advanced
    RocksDB users to override default RocksDB configuration
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Roger Hoover, Dan Norwood, Eno Thereska, Guozhang Wang
    
    Closes #1640 from dguy/kafka-3740-listener

commit 0e5700fb68671f3fb75bfdeceda40e84330aca69
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Jul 21 01:00:33 2016 +0100

    MINOR: Improve PartitionState logging and remove duplication of code
    
    Currently, logs involving PartitionState are not very helpful.
    
    ```
            Broker 449 cached leader info org.apache.kafka.common.requests.UpdateMetadataRequest$PartitionState3285d64a for partition <topic>-<partition> in response to UpdateMetadata request sent by controller 356 epoch 138 with correlation id 0
    
            TRACE state.change.logger: Broker 449 received LeaderAndIsr request org.apache.kafka.common.requests.LeaderAndIsrRequest$PartitionState66d6a8eb correlation id 3 from controller 356 epoch 138 for partition [<topic>,<partition>]
    ```
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1609 from SinghAsDev/partitionState

commit e5a0d139861b58589233e2bcd3a10e9fb032ddbc
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Jul 21 00:49:24 2016 +0100

    MINOR: MetadataCache brokerId is not set on first run with generated broker id
    
    …broker id
    
    This is because the id passed into the MetadataCache is the value from the config before the real broker id is generated.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1632 from granthenke/metadata-id

commit 0d19f58850282d16c14fd4abd04663eae817d012
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jul 20 12:49:29 2016 -0700

    KAFKA-3915; Don't convert messages from v0 to v1 during log compaction
    
    The conversion is unsafe as the converted message size may be greater
    than the message size limit. Updated `LogCleanerIntegrationTest` to test the max message size case for both V0 and the current version.
    
    Also include a few minor clean-ups:
    * Remove unused code branch in `LogCleaner.compressMessages`
    * Avoid unintentional usage of `scala.collection.immutable.Stream` (`toSeq` on an `Iterator`)
    * Add explicit result type in `FileMessageSet.iterator`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #1643 from ijuma/kafka-3915-log-cleaner-io-buffers-message-conversion

commit 9cad9dbdac273e8fe893b0cbe4f0f22d4271fb7b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jul 19 19:04:24 2016 -0700

    MINOR: Remove unused parameter in `checkIfPartitionReassignmentSucceeded` and clean-ups
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1635 from ijuma/remove-unused-parameter-in-check-if-partition-reassignment-succeeded and squashes the following commits:
    
    f9ed930 [Ismael Juma] Code style improvements in `ReassignPartitionsCommand`
    66c7541 [Ismael Juma] Fix comment in `KafkaController.onPartitionReassignment`
    85288f3 [Ismael Juma] Remove unused parameter from `checkIfPartitionReassignmentSucceeded`

commit 72c6b7d84a6f1bdece804d7e42642b7505c4a4eb
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jul 19 16:54:51 2016 -0700

    HOTFIX: fix compilation error due to merge of KAFKA-3812
    
    Merge of KAFKA-3812 caused a compilation error in StreamThreadStateStoreProviderTest
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1641 from dguy/fix-compile-error

commit 14934157df7aaf5e9c37a302ef9fd9317b95efa4
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jul 19 16:00:48 2016 -0700

    KAFKA-3812: fix state store directory locking in Kafka Streams
    
    Move all state directory creation/locking/unlocking/cleaning to a single class. Don't release the channel until the lock is released. Refactor code to make use of new class
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Ismael Juma, Guozhang Wang
    
    Closes #1628 from dguy/kafka-3812

commit cfebfdfa5e537946e4c6e1cc986f20131899be31
Author: Mathieu Fenniak <mathieu@encouragemarketing.com>
Date:   Tue Jul 19 15:45:12 2016 -0700

    MINOR: Remove slf4j-log4j from kafka-streams compile dependencies
    
    As kafka-streams is intended to be used by applications that may or may not wish to use log4j, kafka-streams itself should not have a dependency on a concrete log framework.  This change adapts the dependencies to be API-only for compile, and framework-specific for the test runtime only.
    
    I read through the [Contributing Code Guidelines](https://cwiki.apache.org/confluence/display/KAFKA/Contributing+Code+Changes) and interpreted this as a trivial change that doesn't require a Jira ticket.  Please let me know if I've interpreted that wrongly.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Mathieu Fenniak <mathieu@encouragemarketing.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1639 from mfenniak/fix-slf4j-dependency-for-streams

commit f1dd0d272313deceaf7021e54c09a63043acf4af
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jul 19 14:02:21 2016 -0700

    KAFKA-3912: Query local state stores
    
    guozhangwang enothereska please review
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Eno Thereska, Matthias J. Sax, Michael G. Noll, Guozhang Wang
    
    Closes #1565 from dguy/kafka-3912

commit b418922a3b48bef9d890abb471908ab2a8aeba18
Author: Florian Hussonnois <florian.hussonnois@gmail.com>
Date:   Tue Jul 19 10:56:12 2016 -0700

    KAFKA-3922: add constructor to AbstractStream class
    
    https://issues.apache.org/jira/browse/KAFKA-3922
    
    KAFKA-3922 add copy-constructor to AbstractStream class
    This copy-constructor allow to access protected variables from subclasses.
    
    It should be used to extend KStreamImpl and KTableImpl classes by implementing a decorator pattern.
    
    Author: Florian Hussonnois <florian.hussonnois@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1581 from fhussonnois/KAFKA-3922

commit 114945cb6297f909a7b1272bd61e17b662d42d24
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jul 19 08:44:48 2016 -0700

    KAFKA-3855: Guard race conditions in TopologyBuilder
    
    Mark all public `TopologyBuilder` methods as synchronized as they can modify data-structures and these methods could be called from multiple threads
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1633 from dguy/kafka-3855

commit 0744449eaa0f80827b60f2be3a5a2cc306360ce7
Author: Samuel Taylor <staylor@square-root.com>
Date:   Tue Jul 19 10:20:13 2016 +0100

    MINOR: Fix typo in Operations section
    
    This contribution is my original work, and I license the work to the project under the project's open source license.
    
    Author: Samuel Taylor <staylor@square-root.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1630 from ssaamm/trunk

commit 7354cc1f487cea5c0422c8e80c3aed244321dbfd
Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
Date:   Tue Jul 19 10:10:25 2016 +0100

    MINOR: Doc of 'retries' config should mention max.in.flight.requests.per.connection to avoid confusion
    
    Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1607 from kawamuray/MINOR-retries-doc

commit 61c568d8391de6fceb6c8d6a33d349def8d2ada8
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Jul 18 12:16:58 2016 -0700

    MINOR: Added simple streams benchmark to system tests
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Geoff Anderson, Guozhang Wang, Ismael Juma
    
    Closes #1621 from enothereska/simple-benchmark-streams-system-tests

commit fbc5185543fd4895c7c81ff55b3c8b4c25ac7600
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Jul 18 12:12:51 2016 -0700

    KAFKA-3870: Expose state store names in DSL
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax, Michael G. Noll, Guozhang Wang
    
    Closes #1526 from enothereska/expose-names-dsl

commit 7a70c1a1087ca78d5e6db3908f6d6b6b19e8aaab
Author: Wan Wenli <wwl.990@hotmail.com>
Date:   Fri Jul 15 10:08:48 2016 -0700

    KAFKA-3952: Consumer rebalance verifier never succeed due to type mismatch
    
    Author: Wan Wenli <wwl.990@hotmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1612 from swwl1992/ticket-KAFKA-3952-fix-consumer-rebalance-verifier

commit 9f94a7752a590c36186a7eb1eee16e992ec68c97
Author: Rekha Joshi <rekhajoshm@gmail.com>
Date:   Thu Jul 14 10:26:30 2016 +0100

    KAFKA-3905: Handling null/empty topics and collections, patterns when subscription with list of topics or with patterns, and with assignments.
    
    - Added validity checks for input parameters on subscribe, assign to avoid NPE, and provide an argument exception instead
    - Updated behavior for subscription with null collection to be same as when subscription with emptyList.i.e., unsubscribes.
    - Added tests on subscription, assign
    
    Author: Rekha Joshi <rekhajoshm@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1601 from rekhajoshm/KAFKA-3905-1

commit f17790cd9952aecef67fbec58122c55c72e5c2b2
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jul 13 18:11:25 2016 -0700

    KAFKA-3941: Delay eviction listener in InMemoryKeyValueLoggedStore after restoration
    
    Also move the initialization that restores from changelog to inner stores.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska, Dan Norwood
    
    Closes #1610 from guozhangwang/K3941-avoid-eviction-listener

commit 3537063a52b97b6d46f6bd17e3f03e1b03630a3e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jul 12 12:15:16 2016 -0700

    MINOR: Check null in SmokeTestDriver to avoid NPE
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #1611 from guozhangwang/Kminor-check-null-smokedriver

commit 98dfc4b307c2e41a7fb0fff330048aa9ff78addd
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Jul 12 11:31:39 2016 -0700

    KAFKA-3931: Fix transient failures in pattern subscription tests
    
    Full credit for figuring out the cause of these failures goes to hachikuji.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Guozhang Wang, Ismael Juma, Jason Gustafson
    
    Closes #1594 from vahidhashemian/KAFKA-3931

commit fc47b9fa6b89a612cd0f79dfc689ee3813fd405a
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Jul 12 08:21:19 2016 -0700

    KAFKA-2945; CreateTopic - protocol and server side implementation
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1489 from granthenke/create-wire-new

commit 136a8fabca8e266f67897cf5471b2e41c0a341be
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jul 11 13:57:02 2016 -0700

    KAFKA-3887 Follow-up: add unit test for null checking in KTable aggregates
    
    Also made a pass over the streams unit tests, with the following changes:
    
    1. Removed three integration tests as they are already covered by other integration tests.
    2. Merged `KGroupedTableImplTest` into `KTableAggregateTest`.
    3. Use mocks whenever possible to reduce code duplicates.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1604 from guozhangwang/Kminor-unit-tests-consolidation

commit c439268224e3178002bfa28bc048722870f992e3
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jul 11 17:06:59 2016 +0100

    KAFKA-3562; Handle topic deletion during a send
    
    Fix timing window in producer by holding onto cluster object while processing send requests so that changes to cluster during metadata refresh don't cause NPE if a topic is deleted.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1478 from rajinisivaram/KAFKA-3562

commit 383cec9cf38607cdfbda0256d3447d253dcdde7d
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Jul 11 09:19:33 2016 +0100

    KAFKA-3942; Change IntegrationTestUtils.purgeLocalStreamsState to use java.io.tmpdir
    
    It was previously only deleting files/folders where the path started with /tmp. Changed it to delete from the value of the System Property `java.io.tmpdir`. Also changed the tests that were creating State dirs under /tmp to just use `TestUtils.tempDirectory(..)`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1600 from dguy/kafka-3942

commit e0eaa7f12e5e90b61b6793301053acad50cbd9ab
Author: Todd Palino <tpalino@linkedin.com>
Date:   Mon Jul 11 08:51:55 2016 +0100

    KAFKA-3725; Update documentation with regards to XFS
    
    I've updated the ops documentation with information on using the XFS filesystem, based on LinkedIn's testing (and subsequent switch from EXT4).
    
    I've also added some information to clarify the potential risk to the suggested EXT4 options (again, based on my experience with a multiple broker failure situation).
    
    Author: Todd Palino <tpalino@linkedin.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Dana Powers <dana.powers@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1605 from toddpalino/trunk

commit f8a7ace9d4e508d29d664418446c37783a82cb3b
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sun Jul 10 21:23:14 2016 -0700

    KAFKA-2941: Clarify docs for key and value Converters
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #1599 from ewencp/kafka-2941-explain-converter-configs

commit 2dfbf4b5fdd7698a83a1c3d078a846f3674235f4
Author: Ashish Singh <asingh@cloudera.com>
Date:   Sat Jul 9 02:32:38 2016 +0100

    KAFKA-3849; Add explanation on why polling every second in MirrorMaker is required
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1515 from SinghAsDev/KAFKA-3849

commit a5da2a4f4c3b9d1917cbafc0e79d8e8318f7cbff
Author: Nafer Sanabria <nafr.snabr@gmail.com>
Date:   Sat Jul 9 02:09:14 2016 +0100

    MINOR: Typo fix in comments
    
    Author: Nafer Sanabria <nafr.snabr@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1595 from naferx/minor-typo

commit c2459d3251cec538755b08ac35a742df5e3f2a76
Author: Nihed Bbarek <nihedmm@gmail.com>
Date:   Sat Jul 9 02:07:46 2016 +0100

    MINOR: Update design.html
    
    Since 0.9.0.1 Configuration parameter log.cleaner.enable is now true by default.
    
    Author: Nihed MBAREK <nihedmm@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1592 from nihed/patch-1

commit 4b5ed36c2264808c33f92ccfdc456a19af3471bd
Author: Rekha Joshi <rekhajoshm@gmail.com>
Date:   Sat Jul 9 02:04:52 2016 +0100

    KAFKA-3844; Sort configuration items in log
    
    KAFKA-3844; Sort configuration items in log
    
    Author: Rekha Joshi <rekhajoshm@gmail.com>
    Author: Joshi <rekhajoshm@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1559 from rekhajoshm/KAFKA-3844

commit 0edaa89be35ad427b848e0d91164422871853640
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri Jul 8 16:18:22 2016 -0700

    KAFKA-3111; Fix ConsumerPerformance reporting to use time-based instead of message-based intervals
    
    Interval lengths for ConsumerPerformance could sometime be calculated as zero. In such cases, when the bytes read or messages read are also zero a NaN output is returned for mbRead per second or for nMsg per second, whereas zero would be a more appropriate output.
    
    In cases where interval length is zero but there have been data and messages to read, an output of Infinity is returned, as expected.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #788 from vahidhashemian/KAFKA-3111

commit 542350d616e4638958d133d1d5599acf8546ed06
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Fri Jul 8 10:56:58 2016 -0700

    KAFKA-3920: Add Schema source connector to Kafka Connect
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1574 from Ishiihara/schema-source

commit 730bf9a37a08b2ca41dcda52d2c70e92e85980f7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jul 8 08:36:20 2016 -0700

    KAFKA-3887: KAFKA-3817 follow-up to avoid forwarding value if it is null in KTableRepartition
    
    Also handle Null value in SmokeTestUtil.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy <damian.guy@gmail.com>
    
    Closes #1597 from guozhangwang/KHotfix-check-null

commit efc4c88811c93d11eeffe61310b7f8652ca73ceb
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Jul 6 12:32:09 2016 -0700

    KAFKA-3926: Fix transient test failure in RegexSourceIntegrationTest
    
    …Tasks call versus simply asserting createStreamTasks method called.
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1590 from bbejeck/KAFKA-3926-transient-failures-regex-source-integration-test

commit 7218648ae7ac1ce93f3ff25702b99c3af236fd0f
Author: Jeyhun Karimov <je.karimov@gmail.com>
Date:   Wed Jul 6 12:27:10 2016 -0700

    KAFKA-3836: KStreamReduce and KTableReduce should not pass nulls to Deserializers
    
    Minor changes to check null changes.
    
    Author: Jeyhun Karimov <je.karimov@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1591 from jeyhunkarimov/KAFKA-3836

commit b64302f9cea0e3e95d740cbe7bbd4c64e147301c
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Jul 6 10:46:36 2016 -0700

    KAFKA-3794: added stream / table names as prefix to print / writeAsText
    
    …int to the console.
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1577 from bbejeck/KAFKA-3794-add-prefix-to-print-functions

commit 15e008783cf73dcaed851fe6cc587767031886e5
Author: Moritz Siuts <m.siuts@emetriq.com>
Date:   Wed Jul 6 14:33:07 2016 +0100

    KAFKA-3802; log mtimes reset on broker restart / shutdown
    
    There seems to be a bug in the JDK that on some versions the mtime of
    the file is modified on FileChannel.truncate() even if the javadoc states
    `If the given size is greater than or equal to the file's current size then
     the file is not modified.`.
    
    This causes problems with log retention, as all the files then look like
    they contain recent data to Kafka. Therefore this is only done if the channel size is different to the target size.
    
    Author: Moritz Siuts <m.siuts@emetriq.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1497 from msiuts/KAFKA-3802-log_mtimes_reset_on_broker_shutdown

commit dca263b4e00b00983a4b9f74517b25b01492a4c6
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jul 5 11:38:15 2016 -0700

    MINOR: fix generics in Windows.segments and Windows.until
    
    `Windows.segments(...)` and `Windows.until(...)` currently aren't returning the `Window` with its type param `W`. This causes the generic type to be lost and therefore methods using this can't infer the correct return types.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #1587 from dguy/windows-generics

commit 416c3a7d97d473d0d9928c814d68d502c21077b7
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jul 5 09:30:40 2016 -0700

    MINOR: Fix generics in KStream.groupBy(...)
    
    The `KStream.groupBy(..)` calls don't change the value, only the key, so they don't need the type param `V1` as the new stream will always be of type `KStream<K1, V>`.
    The `Serde` in the overloaded `groupBy` should have a type param of  `V` to match the returned `KStream`
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #1584 from dguy/kstream-generics

commit 12fa188b9aaeafa337c813f4a84a3117d6bf403f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Jul 5 09:16:45 2016 -0700

    HOTFIX: Auto-repartitioning for merge() and code simplifications
    
    follow-up to auto-through feature:
     - add sourceNode to transform()
     - enable auto-repartitioning in merge()
     - null check not required anymore (always join-able due to auto-through)
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1580 from mjsax/hotfix

commit 87b3ce16c05eb105f1ee0da26b090e02b6c18678
Author: Alex Glikson <glikson@il.ibm.com>
Date:   Mon Jul 4 19:56:09 2016 -0700

    MINOR: Fix few documentation errors in streams quickstart
    
    Plus a minor enhancement
    
    Author: glikson <glikson@il.ibm.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1571 from glikson/patch-1

commit d7de59a579af5ba4ecb1aec8fed84054f8b86443
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Jul 4 14:09:30 2016 -0700

    KAFKA-3854: Fix issues with new consumer's subsequent regex (pattern) subscriptions
    
    This patch fixes two issues:
    1. Subsequent regex subscriptions fail with the new consumer.
    2. Subsequent regex subscriptions would not immediately refresh metadata to change the subscription of the new consumer and trigger a rebalance.
    
    The final note on the JIRA stating that a later created topic that matches a consumer's subscription pattern would not be assigned to the consumer upon creation seems to be as designed. A repeat
    `subscribe()` to the same pattern or some wait time until the next automatic metadata refresh would handle that case.
    
    An integration test was also added to verify these issues are fixed with this PR.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1572 from vahidhashemian/KAFKA-3854

commit 31b4460cf9a520bd019ed98949ebfa9243e6e4a6
Author: Sriharsha Chintalapani <harsha@hortonworks.com>
Date:   Sat Jul 2 02:26:33 2016 +0100

    MINOR: Warning instead of error if TGT cannot be renewed beyond the next expiry date
    
    Author: Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1510 from harshach/KerberosLogin-Log

commit 0f8b6790351cb6b078ad3ec73e8d36f5bb3ad270
Author: Thanasis Katsadas <thanasis00@gmail.com>
Date:   Sat Jul 2 02:20:42 2016 +0100

    MINOR: Typo fix in docs ops
    
    Author: Thanasis Katsadas <thanasis00@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1552 from thanasis00/trunk

commit f1323d4ffa451b8c7965d51f422f0933f35ff828
Author: Grant Henke <granthenke@gmail.com>
Date:   Sat Jul 2 02:11:42 2016 +0100

    MINOR: Fix consumer constructor doc string
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1568 from granthenke/consumer-doc

commit 32e24b7c28e357c051bbe21b08c4e8c6d45a3907
Author: Kenji Yoshida <6b656e6a69@gmail.com>
Date:   Sat Jul 2 02:09:01 2016 +0100

    MINOR: remove "auto.commit.interval.ms" from "Manual Offset Control" example
    
    Author: xuwei-k <6b656e6a69@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1578 from xuwei-k/Manual-Offset-Control-example

commit 2098529b44cad78731e478aa8af2b49e9c94db7d
Author: Philippe Derome <phderome@gmail.com>
Date:   Fri Jul 1 16:47:10 2016 -0700

    KAFKA-3902: Optimize KTable.filter in Streams DSL to avoid forwarding if both old and new values are null
    
    The contribution is my original work and that I license the work to the project under the project's open source license.
    
    Contributors: Guozhang Wang, Phil Derome
    guozhangwang
    
    Added checkEmpty to validate processor does nothing  and added a inhibit check for filter to fix issue.
    
    Author: Philippe Derome <phderome@gmail.com>
    Author: Phil Derome <phderome@gmail.com>
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1556 from phderome/DEROME-3902

commit 5a97304170a697cb08f1c8d455d6661a37f92196
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Fri Jul 1 11:47:58 2016 -0700

    MINOR: fix Bash shebang on vagrant/ scripts
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1567 from shikhar/vagrant-scripts-shebang

commit 7edaa3dd89d1a7300a12e101e23f66459a9cc33d
Author: Alex Loddengaard <alexloddengaard@gmail.com>
Date:   Thu Jun 30 21:16:13 2016 -0700

    MINOR: bug fixes to ducktape services
    
    Here's a (mostly successful) run with these changes:
    
    http://testing.confluent.io/confluent-kafka-branch-builder-system-test-results/?prefix=2016-06-27--001.1467080884--alexlod--ducktape-fixes--ad85493/
    
    At least one of the failed tests is failing in trunk, too:
    
    http://testing.confluent.io/confluent-kafka-branch-builder-system-test-results/?prefix=2016-06-28--001.1467090978--alexlod--ducktape-fixes--ad85493/
    
    The contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Alex Loddengaard <alexloddengaard@gmail.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1566 from alexlod/ducktape-fixes

commit 44ad7b574e376f958cf1d3893156d666f904cdd3
Author: Shikhar Bhushan <shikhar@confluent.io>
Date:   Thu Jun 30 13:59:31 2016 -0700

    KAFKA-3846: KIP-65: include timestamp in Connect record types
    
    https://cwiki.apache.org/confluence/display/KAFKA/KIP-65%3A+Expose+timestamps+to+Connect
    
    Author: Shikhar Bhushan <shikhar@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1537 from shikhar/kafka-3846

commit 3605ffa30602ebf9373b47f92f2a9f399a4a36db
Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
Date:   Thu Jun 30 11:12:34 2016 -0700

    MINOR: Fix ambiguous log message in RecordCollector
    
    When producing fails in Kafka Streams, it gives an error like below:
    
    ```
    Error sending record: null
    ```
    
    by this line: https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/RecordCollector.java#L59
    
    This isn't not making sense because of:
    - Practically metadata is always null when exception != null : https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/producer/internals/RecordBatch.java#L107-L109
    - It's quite misleading as we would interpret it like "Kafka Streams attempted to send 'null' as a record" which isn't in fact
    
    As I find a PR #873  as the origin of the above line I changed it to instantiate callback on each send in order to log destination topic at least.
    
    Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1555 from kawamuray/MINOR-record-collector-log-message

commit 7d6b416f9e75f1d9f886b9b43637c488667222e1
Author: Henry Cai <hcai@pinterest.com>
Date:   Thu Jun 30 11:10:16 2016 -0700

    KAFKA-3740: Part I: expose StreamConfig properties in ProcessorContext
    
    This is the part I of the work to add the StreamsConfig to ProcessorContext.
    
    We need to access StreamsConfig in the ProcessorContext so other components (e.g. RocksDBWindowStore or LRUCache can retrieve config parameter from application)
    
    Author: Henry Cai <hcai@pinterest.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1553 from HenryCaiHaiying/config

commit 7e9f5a7ee6dfe22107c8cc3c9f57daa288d6c392
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 30 10:50:51 2016 -0700

    HOTFIX: Check JoinWindow boundaries
    
    guozhangwang
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1575 from mjsax/hotfix2

commit a34f78dcad1d7844a21d0afbf0f6eef183847d0d
Author: Henry Cai <hcai@pinterest.com>
Date:   Wed Jun 29 15:19:47 2016 -0700

    KAFKA-3890: Streams use same task assignment on cluster rolling restart
    
    Current task assignment in TaskAssignor is not deterministic.
    
    During cluster restart or rolling restart, we have the same set of participating worker nodes.  But the current TaskAssignor is not able to maintain a deterministic mapping, so about 20% partitions will be reassigned which would cause state repopulation.
    When the topology of work nodes (# of worker nodes, the TaskIds they are carrying with) is not changed, we really just want to keep the old task assignment.
    
    Add the code to check whether the node topology is changing or not:
    - when the prevAssignedTasks from the old clientStates is the same as the new task list
    - when there is no new node joining (its prevAssignTasks would be either empty or conflict with some other nodes)
    - when there is no node dropping out (the total of prevAssignedTasks from other nodes would not be equal to the new task list)
    
    When the topology is not changing, we would just use the old mapping.
    
    I also added the code to check whether the previous assignment is balanced (whether each node's task list is within [1/2 average -- 2 * average]), if it's not balanced, we will still start the a new task assignment.
    
    Author: Henry Cai <hcai@pinterest.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1543 from HenryCaiHaiying/upstream

commit 96ae0a5929bcd784dc632ddadf083bbedababbb6
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Wed Jun 29 15:17:04 2016 -0700

    MINOR: Follow-up from KAFKA-3842 to fix tempDir
    
    …p directories, waitForCondition
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang, Ismael Juma
    
    Closes #1554 from bbejeck/follow_up_for_KAFKA-3842

commit cf03f349caa92592ec42c7864b7f9d9ef21fee94
Author: Roger Hoover <roger.hoover@gmail.com>
Date:   Wed Jun 29 22:58:45 2016 +0200

    KAFKA-3761; Remove BrokerState "RunningAsController"
    
    The reasons to remove it are:
    1. It's currently broken.  The purpose of the [JIRA](https://issues.apache.org/jira/browse/KAFKA-3761) was to report that the RunningAsController state gets overwritten back to "RunningAsBroker".
    2. It's not a useful state.
      a. If clients want to use this metric to know whether a broker is ready to receive requests or not, they do not care whether or not the broker is the controller
      b. there is already a separate boolean property, KafkaController.isActive which contains this information.
    
    Author: Roger Hoover <roger.hoover@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1437 from theduderog/KAFKA-3761-broker-state

commit 10abe858bd892863f1d01c29bfb6d0f4206de2d3
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Jun 27 11:50:44 2016 -0700

    KAFKA-3896: fix transient failure in KStreamRepartitionJoinTest
    
    ijuma i checked the cases where this test has failed and it seems to always be on the verification of the left join. I've ran this test plenty of times and i can't get it to fail. However in the interest of having stable builds, i've removed just the part of the test that is failing (which happens to be the last verification).
    Thanks,
    Damian
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #1549 from dguy/kafka-3896

commit 0e0b632b926f52451495ab254e74ab87848cb353
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jun 24 14:46:39 2016 -0700

    MINOR: Improve doc string in PartitionGrouper
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Matthias J. Sax <matthias@confluent.io>
    
    Closes #1550 from guozhangwang/Kminor-grouppartitioner-javadoc

commit 54f9a7012c05f3e2993463727d7e199e8589e68e
Author: Laurier Mantel <laurier.mantel@shopify.com>
Date:   Fri Jun 24 14:16:50 2016 -0700

    MINOR: fix grammatical errors in DataException message
    
    Was just reading kafka source code, my favourite Friday afternoon activity, when I found these small grammatical errors in some `DataException` messages.
    
    Could someone please review? ewencp dguy
    
    Author: Laurier Mantel <laurier.mantel@shopify.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1551 from LaurierMantel/maps-typos

commit 88924b03d511132212ee5d8dec02063deb8313f1
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Fri Jun 24 13:42:53 2016 -0700

    KAFKA-3842: consolidate utility methods to TestUtils
    
    …stUtils, added method for pausing tests to TestUtils
    
    Changes made:
     1. Added utility method for creating consumer configs.
     2. Added methods for creating producer, consumer configs with default values for de/serializers.
     3. Pulled out method for waiting for test state to TestUtils (not using Thread.sleep).
     4. Added utility class for creating streams configs and methods providing default de/serializers.
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1532 from bbejeck/KAFKA_3842_add_helper_functions_test_utils

commit ef42c224a701161a15e046de73c11982024bbc53
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jun 23 15:05:11 2016 -0700

    MINOR: Clean `Metrics.defaultRegistry` to avoid transient failures in `testSessionExpireListenerMetrics`
    
    The failure could manifest itself if the default metrics registry had some entries from other tests:
    
    `java.lang.AssertionError: Unexpected meter count expected:<0> but was:<3>`
    
    I also removed an unused variable and improved the error message to include the metric name.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1544 from ijuma/fix-transient-session-expire-listener-metrics-failure

commit 6cd031e7cf189ed7748c5c62fc17dc097dcfde18
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jun 23 14:42:20 2016 -0700

    HOTFIX: Remove Java verion 1.6 in quick-start docs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #1546 from guozhangwang/KHotfix-remove-JDK6-docs

commit 41a54358bececc42ba680267281ba01b3f33f77f
Author: Jeff Klukas <jeff@klukas.net>
Date:   Thu Jun 23 14:36:38 2016 -0700

    MINOR: Pass absolute directory path to RocksDB.open
    
    The method `RocksDB.open` assumes an absolute file path. If a relative path is configured, it leads to an exception like the following:
    ```
    org.apache.kafka.streams.errors.ProcessorStateException: Error opening store CustomerIdToUserIdLookup at location ./tmp/rocksdb/CustomerIdToUserIdLookup
            at org.rocksdb.RocksDB.open(Native Method)
            at org.rocksdb.RocksDB.open(RocksDB.java:183)
            at org.apache.kafka.streams.state.internals.RocksDBStore.openDB(RocksDBStore.java:214)
            at org.apache.kafka.streams.state.internals.RocksDBStore.openDB(RocksDBStore.java:165)
            at org.apache.kafka.streams.state.internals.RocksDBStore.init(RocksDBStore.java:170)
            at org.apache.kafka.streams.state.internals.MeteredKeyValueStore.init(MeteredKeyValueStore.java:85)
            at org.apache.kafka.test.KStreamTestDriver.<init>(KStreamTestDriver.java:64)
            at org.apache.kafka.test.KStreamTestDriver.<init>(KStreamTestDriver.java:50)
            at com.simple.estuary.transform.streaming.CartesianTransactionEnrichmentJobTest.testBuilder(CartesianTransactionEnrichmentJobTest.java:41)
    ```
    
    Is there any risk to always fetching the absolute path as proposed here?
    
    Let me know if you think this requires a JIRA issue or a unit test. I started working on a unit test, but don't know of a great solution for writing out a file to a relative directory.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1481 from jklukas/rocksdb-abspath

commit 8ec4e4b7a37164a1189a74815decb1d6f6410963
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 23 14:16:42 2016 -0700

    Kafka-3880: Disallow Join Window with size zero
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll, Damian Guy, Eno Thereska, Guozhang Wang
    
    Closes #1529 from mjsax/kafka-3880-join-windows

commit 36cab7dbdff6981d0df4b355dadee3fac35508a6
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 22 17:06:49 2016 -0700

    KAFKA-3863: System tests covering connector/task failure and restart
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1519 from hachikuji/KAFKA-3863

commit 8bf18df1b6584d95a850a846b26046c2b79531b7
Author: Ashish Singh <asingh@cloudera.com>
Date:   Wed Jun 22 15:26:39 2016 -0700

    MINOR: Verify acls for group resource on all servers of test cluster.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #1540 from SinghAsDev/MinorAclTestCheck

commit 10bbffd75439e10fe9db6cf0aa48a7da7e386ef3
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Jun 22 10:03:29 2016 +0200

    MINOR: KAFKA-3176 follow-up to fix minor issues
    
    Co-authored with ijuma.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1536 from vahidhashemian/minor/KAFKA-3176-Followup

commit 8b7dce87a744837e5b3bba41b3e3c4c408c78b7f
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Jun 21 22:35:01 2016 +0200

    KAFKA-3872; Reduce log cleaner buffer size to 2 MB
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1533 from enothereska/KAFKA-3872-oom-integration-tests

commit d546aa292aa8710f4285cef4e89c75b44d24a8b0
Author: Damian Guy <damian.guy@gmail.com>
Date:   Tue Jun 21 12:16:52 2016 -0700

    MINOR: update streams.html with KStream API changes
    
    mjsax guozhangwang
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #1534 from dguy/update-streams-doc

commit 9716768810635b75b7668730962c399048ca883e
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon Jun 20 22:28:27 2016 -0700

    KAFKA-3176: Add partition/offset options to the new consumer
    
    With this pull request the new console consumer can be provided with optional --partition and --offset arguments so only messages from a particular partition and starting from a particular offset are consumed.
    
    The following rules are also implemented to avoid invalid combinations of arguments:
    - If --partition or --offset is provided --new-consumer has to be provided too.
    - If --partition is provided --topic has to be provided too.
    - If --offset is provided --partition has to be provided too.
    - --offset and --from-beginning cannot be used at the same time.
    
    This patch is co-authored with rajinisivaram.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #922 from vahidhashemian/KAFKA-3176

commit 50781b75d8368ae67cf06d15ea11579a2aa4fb2c
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jun 20 20:32:09 2016 -0700

    KAFKA-3865: Fix transient failure in WorkerSourceTaskTest.testSlowTaskStart
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1531 from hachikuji/KAFKA-3865

commit 44c8308ab1a6b950c5b12386d7864881b5d052a0
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Jun 20 14:37:43 2016 -0700

    MINOR: speed up streams integration tests
    
    ... by
    a) merging some for startup/shutdown efficiency.
    b) use independent state dirs.
    c) remove some tests that are covered elsewhere
    
    guozhangwang ewencp - tests are running much quicker now, i.e, down to about 1 minute on my laptop (from about 2 - 3 minutes). There were some issues with state-dirs in some of the integration tests that was causing the shutdown of the streams apps to take a long time.
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #1525 from dguy/integration-tests

commit 4544ee448703b8c1900adcb7a605380eb99a00a2
Author: Rollulus <roelboel@xs4all.nl>
Date:   Mon Jun 20 12:30:27 2016 -0700

    KAFKA-3864: make field.get return field's default value when needed
    
    And not the containing struct's default value.
    
    The contribution is my original work and that I license the work to the project under the project's open source license.
    
    ewencp
    
    Author: Rollulus <roelboel@xs4all.nl>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1528 from rollulus/kafka-3864

commit b9f1c60328da8a494424e30e7ebcb75d31c6fe85
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Jun 19 16:03:40 2016 -0700

    MINOR: Mention `log.message.format.version=0.10.0` in rolling upgrade section
    
    We had mentioned this step in the performance impact section in the middle of a long paragraph, which made it easy to miss. I also tweaked the reason for setting `log.message.format.version` as it could be misinterpreted previously.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1514 from ijuma/tweak-upgrade-notes

commit 2c9796114d0a9638be79b4165d0096c7a63babe7
Author: Jason Gustafson <jason@confluent.io>
Date:   Sun Jun 19 15:31:04 2016 -0700

    KAFKA-3850: WorkerSinkTask commit prior to rebalance should be retried on wakeup
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1511 from hachikuji/retry-commit-on-wakeup-in-sinks

commit 40fb90937e7ce5e9a44ab634c5987da1ab73a04f
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Sun Jun 19 11:42:00 2016 -0700

    KAFKA-3810: replication of internal topics should not be limited by replica.fetch.max.bytes
    
    From the kafka-dev mailing list discussion: [[DISCUSS] scalability limits in the coordinator](http://mail-archives.apache.org/mod_mbox/kafka-dev/201605.mbox/%3CCAMQuQBZDdtAdhcgL6h4SmTgO83UQt4s72gc03B3VFghnME3FTAmail.gmail.com%3E)
    
    There's a scalability limit on the new consumer / coordinator regarding the amount of group metadata we can fit into one message. This restricts a combination of consumer group size, topic subscription sizes, topic assignment sizes, and any remaining member metadata.
    
    Under more strenuous use cases like mirroring clusters with thousands of topics, this limitation can be reached even after applying gzip to the __consumer_offsets topic.
    
    Various options were proposed in the discussion:
    1. Config change: reduce the number of consumers in the group. This isn't always a realistic answer in more strenuous use cases like MirrorMaker clusters or for auditing.
    2. Config change: split the group into smaller groups which together will get full coverage of the topics. This gives each group member a smaller subscription.(ex: g1 has topics starting with a-m while g2 has topics starting with n-z). This would be operationally painful to manage.
    3. Config change: split the topics among members of the group. Again this gives each group member a smaller subscription. This would also be operationally painful to manage.
    4. Config change: bump up KafkaConfig.messageMaxBytes (a topic-level config) and KafkaConfig.replicaFetchMaxBytes (a broker-level config). Applying messageMaxBytes to just the __consumer_offsets topic seems relatively harmless, but bumping up the broker-level replicaFetchMaxBytes would probably need more attention.
    5. Config change: try different compression codecs. Based on 2 minutes of googling, it seems like lz4 and snappy are faster than gzip but have worse compression, so this probably won't help.
    6. Implementation change: support sending the regex over the wire instead of the fully expanded topic subscriptions. I think people said in the past that different languages have subtle differences in regex, so this doesn't play nicely with cross-language groups.
    7. Implementation change: maybe we can reverse the mapping? Instead of mapping from member to subscriptions, we can map a subscription to a list of members.
    8. Implementation change: maybe we can try to break apart the subscription and assignments from the same SyncGroupRequest into multiple records? They can still go to the same message set and get appended together. This way the limit become the segment size, which shouldn't be a problem. This can be tricky to get right because we're currently keying these messages on the group, so I think records from the same rebalance might accidentally compact one another, but my understanding of compaction isn't that great.
    9. Implementation change: try to apply some tricks on the assignment serialization to make it smaller.
    10. Config and Implementation change: bump up the __consumer_offsets topic messageMaxBytes and (from Jun Rao) fix how we deal with the case when a message is larger than the fetch size. Today, if the fetch size is smaller than the fetch size, the consumer will get stuck. Instead, we can simply return the full message if it's larger than the fetch size w/o requiring the consumer to manually adjust the fetch size.
    11. Config and Implementation change: same as above but only apply the special fetch logic when fetching from internal topics
    
    This PR provides an implementation of option 11.
    
    That being said, I'm not very happy with this approach as it essentially doesn't honor the "replica.fetch.max.bytes" config. Better alternatives are definitely welcome!
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1484 from onurkaraman/KAFKA-3810

commit 7fd4fe4487d328da0aab80ac658ba783ff1ebf9b
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sun Jun 19 10:42:30 2016 +0200

    MINOR: Fix javadoc typos in ConsumerRebalanceListener
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1500 from vahidhashemian/typo07/fix_javadoc_typos_consumerrebalancelistener

commit 91135ea33a7231e9b17cfc74c78dc5223475834b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sat Jun 18 12:02:17 2016 -0700

    MINOR: Check null keys in KTableSource
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax
    
    Closes #1521 from guozhangwang/Kminor-check-nullkey-ktable-source

commit 0b0925a16f6cc94ad96fbc4dc2bcf48bf96557e6
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sat Jun 18 11:25:33 2016 -0700

    HOTFIX: Check hasNext in KStreamWindowReduce
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Damian Guy, Matthias J. Sax
    
    Closes #1520 from guozhangwang/KHotfix-iter-hasNext-window-value-getter

commit 4c6d7ed95a05e1f08e820305afbab983822e8b82
Author: Filipe Azevedo <filipe@azevedo.io>
Date:   Fri Jun 17 08:51:55 2016 +0200

    KAFKA-3838; Update zkClient to 0.9 and Zookeeper to 3.4.8
    
    Author: Filipe Azevedo <filipe@azevedo.io>
    
    Reviewers: Flavio Junqueira <fpj@apache.org>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1512 from mangas/trunk

commit 751fe9309011b99f60c1cb03c23a47d0444dce05
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Jun 16 16:18:02 2016 -0700

    KAFKA-3805: Check if DB is null.
    
    - Check if DB is null before flushing or closing. In some cases, a state store is closed twice. This happens in `StreamTask.close()` where both `node.close()` and `super.close` (in `ProcessorManager`) are called in a sequence. If the user's processor defines a `close` that closes the underlying state store, then the second close will be redundant.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Andrés Gómez, Ismael Juma, Guozhang Wang
    
    Closes #1485 from enothereska/KAFKA-3805-locks

commit 47f5ae9e9c902e18fc0f7f153da945de2839c3e2
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Jun 17 00:12:53 2016 +0200

    KAFKA-3691; Confusing logging during metadata update timeout
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1509 from granthenke/timeout-logging

commit f62db5dd8886f467e1de7e534a9ef3a839a08e84
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jun 17 00:02:57 2016 +0200

    MINOR: Follow-up from KAFKA-2720 with comment/style fixes
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1513 from hachikuji/followup-for-kafka-2720

commit 7d9d1cb2355e33270703280ed6bb712033b03d26
Author: Damian Guy <damian.guy@gmail.com>
Date:   Thu Jun 16 11:56:32 2016 -0700

    KAFKA-3561: Auto create through topic for KStream aggregation and join
    
    guozhangwang enothereska mjsax miguno
    
    If you get a chance can you please take a look at this. I've done the repartitioning in the join, but it results in 2 internal topics for each join. This seems like overkill as sometimes we wouldn't need to repartition at all, others just 1 topic, and then sometimes both, but I'm not sure how we can know that.
    
    I'd also need to implement something similar for leftJoin, but again, i'd like to see if i'm heading down the right path or if anyone has any other bright ideas.
    
    For reference - https://github.com/apache/kafka/pull/1453 - the previous PR
    
    Thanks for taking the time and looking forward to getting some welcome advice :-)
    
    Author: Damian Guy <damian.guy@gmail.com>
    Author: Damian Guy <damian@continuum.local>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1472 from dguy/KAFKA-3561

commit 54ba2280f0c42b0bd3d74c197f97d8a12617a847
Author: Sebastien Launay <sebastien@opendns.com>
Date:   Thu Jun 16 14:34:58 2016 +0200

    KAFKA-3840; Allow clients default OS buffer sizes
    
    Follow up on KAFKA-724 (#1469) to allow OS socket buffer sizes auto tuning for both the broker and the clients.
    
    Author: Sebastien Launay <sebastien@opendns.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1507 from slaunay/enhancement/os-socket-buffer-size-tuning-for-clients

commit eb2619cac0849dd54db956e87781d143a57b2477
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Jun 16 09:10:59 2016 +0200

    MINOR: Fix quota violation exception message
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1508 from rajinisivaram/MINOR-quota-exception

commit 8c551675adb11947e9f27b20a9195c9c4a20b432
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jun 15 19:46:42 2016 -0700

    KAFKA-2720: expire group metadata when all offsets have expired
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei, Onur Karaman, Guozhang Wang
    
    Closes #1427 from hachikuji/KAFKA-2720

commit fb42558e2500835722a4e5028896ddae4f407d6f
Author: bbejeck <bbejeck@gmail.com>
Date:   Wed Jun 15 19:20:43 2016 -0700

    KAFKA-3443: support for adding sources to KafkaStreams via Pattern.
    
    This PR is the follow on to the closed PR #1410.
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1477 from bbejeck/KAFKA-3443_streams_support_for_regex_sources

commit 1ef7b494bbd937205ecd14dd30e625c2efdb3aa9
Author: Jeff Klukas <jeff@klukas.net>
Date:   Wed Jun 15 17:08:33 2016 -0700

    KAFKA-3753: Add approximateNumEntries() method to KeyValueStore interface
    
    See https://issues.apache.org/jira/browse/KAFKA-3753
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    cc guozhangwang kichristensen ijuma
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #1486 from jklukas/kvstore-size

commit 17668e81c95d89f6543657351abc0a18004ecde5
Author: Roger Hoover <roger.hoover@gmail.com>
Date:   Wed Jun 15 12:09:03 2016 -0700

    MINOR: Expose window store sequence number
    
    guozhangwang mjsax enothereska
    
    Currently, Kafka Streams does not have a util to get access to the sequence number added to the key of windows state store changelogs.  I'm interested in exposing it so the the contents of a changelog topic can be 1) inspected for debugging purposes and 2) saved to text file and loaded from text file
    
    Author: Roger Hoover <roger.hoover@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1501 from theduderog/expose-seq-num

commit 84ca887295efbd99a6a7d7363f77d59b7a42b642
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jun 15 09:32:40 2016 -0700

    KAFKA-3830; getTGT() debug logging exposes confidential information
    
    Only log the client and server principals, which is what ZooKeeper does after ZOOKEEPER-2405.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #1498 from ijuma/kafka-3830-get-tgt-debug-confidential

commit 9ff54cb5dd99fab83533ddfdf0ed89508e5525fb
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Tue Jun 14 13:21:30 2016 -0700

    MINOR: Catch Throwable in commitSourceTask()
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1402 from Ishiihara/source-task-commit-record

commit 7cc6e0e2d376c2504cf6fafd69ccd30f4c03f31f
Author: Ishita Mandhan <imandha@us.ibm.com>
Date:   Tue Jun 14 11:54:29 2016 -0700

    KAFKA-3762 Log.loadSegments() should log the message in exception
    
    Adding an error logging message in Log.loadSegments() in the case when an index file corresponding to a log file exists but an exception is thrown.
    
    Signed-off-by: Ishita Mandhan <imandhaus.ibm.com>
    
    Author: Ishita Mandhan <imandha@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1480 from imandhan/KAFKA-3762

commit b1ba54025fc872e14e1ff97fde018637826a3a5e
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Jun 14 09:49:54 2016 -0700

    KAFKA-3699: Update protocol page on website to explain how KIP-35 should be used
    
    …uld be used
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Oleksiy Krivoshey <oleksiy@luckyteam.co.uk>, Gwen Shapira <cshapi@gmail.com>, Magnus Edenhill <magnus@edenhill.se>, Dana Powers <dana.powers@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1395 from SinghAsDev/KAFKA-3699

commit b8ea094b427768bb360d87fc0a07f670cb667e1e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jun 13 14:15:28 2016 -0700

    KAFKA-3786: Let ConfigDef filter property key value pairs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1465 from guozhangwang/K3786-config-parsing

commit b058fcf5ec3b818f7275d6d3591881c69033a830
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Jun 11 17:50:38 2016 -0700

    MINOR: Respect the default value of partition argument in SimpleConsumerShell
    
    The `partition` argument is not marked as required, and has a default of `0`, according to the tool's help message. However, if `partition` is not provided the command returns with `Missing required argument "[partition]"`. This patch is to fix the required arguments of the tool by removing `partition` from them.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1495 from vahidhashemian/minor/simple_consumer_shell_update_required_args

commit 250981fb98113d5c693132798225e075f162d92d
Author: uchan-nos <uchan0@gmail.com>
Date:   Sat Jun 11 17:20:23 2016 -0700

    MINOR: Fix connect development guide.
    
    Fix some trivial misses.
    ewencp
    
    Author: uchan-nos <uchan0@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1496 from uchan-nos/docfix-connect

commit 5b88af9929c12b587796ceed7d85238206131249
Author: kota-uchida <kota-uchida@cybozu.co.jp>
Date:   Sat Jun 11 17:17:06 2016 -0700

    MINOR: Fix a variable name semantically correct.
    
    Hi all,
    This is my first commit to Kafka.
    
    "msec / 1000" turns into sec, isn't it?
    I just have fixed a variable name.
    granders
    
    Author: kota-uchida <kota-uchida@cybozu.co.jp>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1482 from uchan-nos/elapsed-ms

commit da8517182d2f30c4e03b33b38d41d2fa33621e24
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jun 10 13:14:05 2016 -0700

    KAFKA-3817: handle null keys in KTableRepartitionMap
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jeff Klukas <jeff@klukas.net>
    
    Closes #1488 from guozhangwang/K3817-handle-null-groupedkey

commit eb6f04a8b12194b9e13e2a28d8ffdfa971516d68
Author: Jeff Klukas <jeff@klukas.net>
Date:   Wed Jun 8 09:33:45 2016 -0700

    KAFKA-3711: Ensure a RecordingMap is passed to configured instances
    
    See https://issues.apache.org/jira/browse/KAFKA-3711
    
    I've tested locally that this change does indeed resolve the warning I mention in the ticket:
    ```
    org.apache.kafka.clients.consumer.ConsumerConfig: The configuration metric.dropwizard.registry = kafka-metrics was supplied but isn't a known config.
    ```
    where `metric.dropwizard.registry` is a configuration value defined in a custom `MetricReporter` (https://github.com/SimpleFinance/kafka-dropwizard-reporter).
    
    With this change, the above warning no longer appears, as ewencp predicted.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1479 from jklukas/abstractconfig-originals

commit 4b28d38ca463ff3788885a904591a5699127158a
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Tue Jun 7 19:38:39 2016 -0700

    MINOR: Add comment for round robin partitioner with different subscriptions
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1475 from Ishiihara/roundrobin-comment

commit 06a57cf19c45e82245ada886ea885087ce60ab80
Author: Bharat Viswanadham <bharatv@us.ibm.com>
Date:   Mon Jun 6 23:58:29 2016 -0700

    KAFKA-3748: Add consumer-property to console tools consumer
    
    ijuma harshach edoardocomar Can you please review the changes.
    
    edoardocomar I have addressed your comment of extra space.
    
    Author: Bharat Viswanadham <bharatv@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1474 from bharatviswa504/Kafka-3748

commit d9f052acc396871801edee13ef0a6042a9af6626
Author: Sebastien Launay <sebastien@opendns.com>
Date:   Mon Jun 6 21:34:33 2016 -0700

    KAFKA-3501: Console consumer process hangs on exit
    
    - replace `System.exit(1)` with a regular `return` in order to release the latch blocking the shutdown hook thread from shutting down the JVM
    - provide `PrintStream` to the `process` method in order to ease unit testing
    
    Author: Sebastien Launay <sebastien@opendns.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1185 from slaunay/bugfix/KAFKA-3501-console-consumer-hangs

commit feab5a374a33a7b7b8e96c6a88b872c4db33dcf1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Jun 6 20:28:31 2016 -0700

    KAFKA-3781; Errors.exceptionName() can throw NPE
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1476 from ijuma/kafka-3781-exception-name-npe

commit f643d1b75d17bb27a378c7e66fcc49607454e445
Author: Sebastien Launay <sebastien@opendns.com>
Date:   Tue Jun 7 01:22:58 2016 +0100

    KAFKA-3783; Catch proper exception on path delete
    
    - ZkClient is used for conditional path deletion and wraps `KeeperException.BadVersionException` into `ZkBadVersionException`
    - add unit test to `SimpleAclAuthorizerTest` to reproduce the issue and catch potential future regression
    
    Author: Sebastien Launay <sebastien@opendns.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1461 from slaunay/bugfix/KAFKA-3783-zk-conditional-delete-path

commit 430bf56cdfa32baffad21bb37dd50c080491dc03
Author: Joshi <rekhajoshm@gmail.com>
Date:   Tue Jun 7 00:05:33 2016 +0100

    KAFKA-724; Allow automatic socket.send.buffer from operating system in SocketServer
    
    If socket.receive.buffer.bytes/socket.send.buffer.bytes are set to -1, use the OS defaults.
    
    Author: Joshi <rekhajoshm@gmail.com>
    Author: Rekha Joshi <rekhajoshm@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1469 from rekhajoshm/KAFKA-724-rebased

commit 0cee0c321897b4fca4409651fdf28188870cb2f0
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Jun 6 19:53:53 2016 +0100

    KAFKA-2948; Remove unused topics from producer metadata set
    
    If no messages are sent to a topic during the last refresh interval or if UNKNOWN_TOPIC_OR_PARTITION error is received, remove the topic from the metadata list. Topics are added to the list on the next attempt to send a message to the topic.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    Author: rsivaram <rsivaram@uk.ibm.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #645 from rajinisivaram/KAFKA-2948

commit 79aaf19f24bb48f90404a3e3896d115107991f4c
Author: Rekha Joshi <rekhajoshm@gmail.com>
Date:   Mon Jun 6 08:08:06 2016 +0100

    KAFKA-3771; Improving Kafka core code
    
    - Used flatMap instead of map and flatten
    - Use isEmpty, NonEmpty, isDefined as appropriate
    - Used head, keys and keySet where appropriate
    - Used contains, diff and find where appropriate
    - Removed redundant val modifier for case class constructor
    - toString has no parameters, no side effect hence without () consistent usage
    - Removed unnecessary return , parentheses and semi colons.
    
    Author: Joshi <rekhajoshm@gmail.com>
    Author: Rekha Joshi <rekhajoshm@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1451 from rekhajoshm/KAFKA-3771

commit 2c7fae0a4a2b59133e53eb02a533cf8ffd0f864c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Jun 5 19:34:54 2016 -0700

    MINOR: Move `ConsoleProducerTest` to the unit test directory
    
    Included a couple of clean-ups: removed unused variable and the instantiated `KafkaProducer` is now closed.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #1470 from ijuma/move-console-producer-test-to-unit-folder

commit b60af34d4a200dbc5062ba40bfb7ffc7162e72d0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Jun 5 19:32:51 2016 -0700

    MINOR: Fix producer leak in `PlaintextProducerSendTest`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1471 from ijuma/fix-leaking-producers-in-plaintext-producer-send-test

commit f4a263b5a89e028ad3b658dca2259b6da0197214
Author: Tao Xiao <xiaotao183@gmail.com>
Date:   Sun Jun 5 08:42:42 2016 +0100

    KAFKA-3787; Preserve the message timestamp in mirror maker
    
    The timestamp of messages consumed by mirror maker is not preserved after sending to target cluster. The correct behavior is to keep create timestamp the same in both source and target clusters.
    
    Author: Tao Xiao <xiaotao183@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1466 from xiaotao183/KAFKA-3787

commit 27cb6686fd678a1625fe3bb114e7ff0afb4f6448
Author: Grant Henke <granthenke@gmail.com>
Date:   Sat Jun 4 22:43:54 2016 +0100

    KAFKA-3789; Upgrade Snappy to fix snappy decompression errors
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1467 from granthenke/snappy-fix

commit ab356060665b3b6502c7d531366b26e1e0f48f9c
Author: Satendra kumar <satendra@knoldus.com>
Date:   Sat Jun 4 21:24:11 2016 +0100

    KAFKA-3768; Replace all pattern match on boolean value by if/else block.
    
    Author: Satendra kumar <satendra@knoldus.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1445 from satendrakumar06/remove_boolean_pattern_match

commit ff300c9d4f45e4a355db11258965c3a3a6f6bbf7
Author: Arun Mahadevan <aiyer@hortonworks.com>
Date:   Sat Jun 4 09:24:45 2016 +0100

    KAFKA-3645; Fix ConsumerGroupCommand and ConsumerOffsetChecker to correctly read endpoint info from ZK
    
    The host and port entries under /brokers/ids/<bid> gets filled only for PLAINTEXT security protocol. For other protocols the host is null and the actual endpoint is under "endpoints". This causes NPE when running the consumer group and offset checker scripts in a kerberized env. By always reading the host and port values from the "endpoint", a more meaningful exception would be thrown rather than a NPE.
    
    Author: Arun Mahadevan <aiyer@hortonworks.com>
    
    Reviewers: Sriharsha Chintalapani <schintalapani@hortonworks.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1301 from arunmahadevan/cg_kerb_fix

commit 49ddc897b8feda9c4786d5bcd03814b91ede7124
Author: Edoardo Comar <ecomar@uk.ibm.com>
Date:   Fri Jun 3 21:31:27 2016 +0100

    KAFKA-3728; EndToEndAuthorizationTest offsets_topic misconfigured
    
    Set OffsetsTopicReplicationFactorProp to 3 like MinInSyncReplicasProp  Else a consumer was able to consume via assign but not via subscribe, so the testProduceAndConsume is now duplicated to check both paths
    
    Author: Edoardo Comar <ecomar@uk.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1425 from edoardocomar/KAFKA-3728

commit 234fa5a6949c9a5bfb4f543989c2ece84fcce033
Author: Tom Rybak <trybak@gmail.com>
Date:   Fri Jun 3 13:21:40 2016 -0700

    KAFKA-3784: TimeWindows#windowsFor calculation is incorrect
    
    - Fixed the logic calculating the windows that are affected by a new …event in the case of hopping windows and a small overlap.
    - Added a unit test that tests for the issue
    
    Author: Tom Rybak <trybak@gmail.com>
    
    Reviewers: Michael G. Noll, Matthias J. Sax, Guozhang Wang
    
    Closes #1462 from trybak/bugfix/KAFKA-3784-TimeWindows#windowsFor-false-positives

commit a27030693bd89b16a436ba873192ebc98c4c7910
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Fri Jun 3 09:33:32 2016 -0700

    MINOR: set charset of Javadoc to UTF-8
    
    Currently javadoc doesn't specify charset.
    This pull reqeust will set this to UTF-8.
    
    Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1413 from sasakitoa/javadoc_garbled

commit 76ca6f8cc1a6533866a2bd7ca6a7d32314d21dba
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jun 3 10:30:01 2016 +0100

    MINOR: Add user overridden test logging events
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1456 from guozhangwang/Kminor-test-logging

commit 7699b91f870f58e71dbdeddba79b58f009f9c0a2
Author: Greg Fodor <gfodor@gmail.com>
Date:   Fri Jun 3 09:41:26 2016 +0100

    KAFKA-3785; Fetcher spending unnecessary time during metrics recording
    
    Author: Greg Fodor <gfodor@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1464 from gfodor/gfodor/kafka-3785

commit 1029030466f01937d416e11f93562bcaaecce253
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jun 3 01:19:46 2016 +0100

    MINOR: Fix setting of ACLs and ZK shutdown in test harnesses
    
    I found both issues while investigating the issue described in PR #1425.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <schintalapani@hortonworks.com>, Jun Rao <junrao@gmail.com>
    
    Closes #1455 from ijuma/fix-integration-test-harness-and-zk-test-harness

commit 245fa2bd8c08bb17c0b2b7aad4aba145d3c49783
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Jun 2 15:40:35 2016 -0700

    HOTFIX: updated JavaDoc example for 0.9 tech-prev to 0.10
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Sriharsha Chintalapani, Ismael Juma, Guozhang Wang
    
    Closes #1450 from mjsax/hotfix

commit e6ca328f80a8f7504d740c9f77dfc8b04db20324
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Wed Jun 1 22:53:35 2016 -0700

    KAFKA-3774: Make 'time' an optional argument of GetOffsetShell
    
    Since the 'time' argument has a default value of -1, it makes sense to make it an optional argument.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1457 from vahidhashemian/KAFKA-3774

commit 107205a7f17a4b1e235089668cb283bf16fbb88a
Author: Johnny Lim <izeye@naver.com>
Date:   Wed Jun 1 21:50:45 2016 -0700

    MINOR: Add a newline to a Javadoc sample in KafkaConsumer
    
    This PR simply adds a newline to a Javadoc sample in `KafkaConsumer` to flush the outputs.
    
    Author: Johnny Lim <izeye@naver.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1390 from izeye/patch-1

commit ab7325928164b0cc7c26c695ecdf431ce1d89b8d
Author: Flavio Junqueira <fpj@apache.org>
Date:   Wed Jun 1 21:03:40 2016 -0700

    KAFKA-3660: Log exception message in ControllerBrokerRequestBatch
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1325 from fpj/KAFKA-3660

commit 61e0eaefd15a8bc158424d786ca4ec25eb6b39df
Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
Date:   Thu Jun 2 00:49:47 2016 +0100

    MINOR; Close parenthesis in PartitionInfo.toString
    
    Trivial patch
    is trivial.
    
    Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1458 from magnusr/feature/paren

commit fec24d19cc66e4d18cf87f0ff597eecfe5a7e000
Author: Kaufman Ng <kaufman@confluent.io>
Date:   Wed Jun 1 08:14:36 2016 -0700

    MINOR: added spacing in streams doc in section 9.2
    
    Author: Kaufman Ng <kaufman@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #1454 from coughman/trunk

commit fed3f1f8890b219e4247fd9de1305ad18679ff99
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 31 09:03:18 2016 -0700

    MINOR: Avoid trace logging computation in `checkEnoughReplicasReachOffset`
    
    `numAcks` is only used in the `trace` logging statement so it should be a `def` instead of a `val`. Also took the chance to improve the code and documentation a little.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1449 from ijuma/minor-avoid-trace-logging-computation-in-partition

commit 3fd9be49ac35adaca401f58552b3ffa68f8d4eaa
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Mon May 30 17:11:17 2016 -0700

    MINOR: Remove synchronized as the tasks are executed sequentially
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1441 from Ishiihara/remove-synchronized

commit 404b696bea58aca17fbe528aed03cb3c94516c39
Author: Joshi <rekhajoshm@gmail.com>
Date:   Sun May 29 09:01:20 2016 +0100

    KAFKA-3765; Kafka Code style corrections
    
    Removed explicit returns, not needed parentheses, corrected variables, removed unused imports
    Using isEmpty/nonEmpty  instead of size check, using head, flatmap instead of map-flatten
    
    Author: Joshi <rekhajoshm@gmail.com>
    Author: Rekha Joshi <rekhajoshm@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1442 from rekhajoshm/KAFKA-3765

commit 0aff450961a8dd14cc7820ee8d1c9eea855439b0
Author: Ishita Mandhan <imandha@us.ibm.com>
Date:   Sat May 28 23:30:10 2016 +0100

    KAFKA-3158; ConsumerGroupCommand should tell whether group is actually dead
    
    This patch fix differentiates between when a consumer group is rebalancing or dead and reports the appropriate error message.
    
    Author: Ishita Mandhan <imandha@us.ibm.com>
    
    Reviewers: Vahid Hashemian <vahidhashemian@us.ibm.com>, Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1429 from imandhan/KAFKA-3158

commit a4802962c9e87f9cc81e1820fc88c71bd70b6666
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Sat May 28 11:30:19 2016 +0100

    KAFKA-3767; Add missing license to connect-test.properties
    
    This address to https://issues.apache.org/jira/browse/KAFKA-3767.
    
    Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1443 from sasakitoa/test_failure_no_license

commit 7b7c4a7bb0fd25ddca4e4bdde9e605b3d5a1ba70
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri May 27 18:40:11 2016 -0700

    KAFKA-3678: Removed sleep from streams integration tests
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1439 from enothereska/KAFKA-3678-timeouts1

commit 756ec494da75c49e6b537bd094b941c0492ec46e
Author: edoardo <ecomar@uk.ibm.com>
Date:   Fri May 27 15:39:07 2016 -0700

    KAFKA-3682; ArrayIndexOutOfBoundsException thrown by
    
    SkimpyOffsetMap.get() when full
    
    Limited number of attempts to number of map slots after the internal
    positionOf() goes into linear search mode.
    Added unit test
    
    Co-developed with mimaison
    
    Author: edoardo <ecomar@uk.ibm.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1352 from edoardocomar/KAFKA-3682

commit 55225bd55ba6f9d84a2963942d52bd4d316c8274
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Fri May 27 21:45:14 2016 +0100

    MINOR: Fix a couple of scaladoc typos
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1440 from vahidhashemian/typo06/fix_typos_in_code_comments

commit 936e26aa8db991b51141b21df234d702bc05408f
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Fri May 27 21:35:08 2016 +0100

    MINOR: Fix tracing in KafkaApis.handle()
    
    requestObj() returns null for the o.a.k.c.requests objects so use header() for these.
    
    Once all the requests will have been replaced by o.a.k.c.requests objects, we should be able to clean that up, but in the meantime it's useful to trace both.
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1435 from mimaison/kafkaapis_trace

commit f79db1a4234b4af75a2d027c86df62d77ba3d29e
Author: manuzhang <owenzhang1990@gmail.com>
Date:   Fri May 27 10:25:38 2016 +0100

    KAFKA-3749; fix "BOOSTRAP_SERVERS_DOC" typo
    
    Author: manuzhang <owenzhang1990@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1420 from manuzhang/KAFKA-3749

commit ebed7ce3604d32d1b502888bc188904b43e5674f
Author: leisore <leisore@gmail.com>
Date:   Thu May 26 23:21:20 2016 -0700

    MINOR: Delete unused code in FileStreamSourceTask
    
    Author: leisore <leisore@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1433 from leisore/master

commit 9355427efc4c2c6d0f0d61dd956e5ad187da2dfc
Author: Peter Davis <peter.davis@expeditors.com>
Date:   Thu May 26 21:03:14 2016 -0700

    KAFKA-3710: MemoryOffsetBackingStore shutdown
    
    ExecutorService needs to be shutdown on close, lest a zombie thread
    prevent clean shutdown.
    
    ewencp
    
    Author: Peter Davis <peter.davis@expeditors.com>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1383 from davispw/KAFKA-3710

commit 3cf2de0694cf0e276d25d8c7048a9928b41969a3
Author: Christian Posta <christian.posta@gmail.com>
Date:   Thu May 26 14:13:54 2016 -0700

    KAFKA-3723: Cannot change size of schema cache for JSON converter
    
    Author: Christian Posta <christian.posta@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1401 from christian-posta/ceposta-connect-class-cast-error

commit d5366471d2c1a611f2241362041debc0118e5422
Author: Yukun Guo <gyk.net@gmail.com>
Date:   Thu May 26 10:23:24 2016 -0700

    MINOR: Fix wrong comments
    
    Author: Yukun Guo <gyk.net@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1198 from gyk/fix-comment

commit c699b1a914260b7d6fd84596f78128369d2bf2bf
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 26 09:58:59 2016 -0700

    MINOR: Use `--force` instead of `--yes` in `AclCommand`
    
    To be consistent with `ConfigCommand` and `TopicCommand`.
    
    No release includes this option yet, so we can simply change it.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Mickael Maison, Grant Henke
    
    Closes #1430 from ijuma/use-force-instead-of-yes-in-acl-command and squashes the following commits:
    
    bdf3a57 [Ismael Juma] Update `AclCommandTest`
    78b8467 [Ismael Juma] Change variable name to `forceOpt`
    0bb27af [Ismael Juma] Use `--force` instead of `--yes` in `AclCommand`

commit be0f3502da1f703b27d7a3fae5a01325dff44957
Author: Roger Hoover <roger.hoover@gmail.com>
Date:   Thu May 26 09:50:49 2016 -0700

    Setting broker state as running after publishing to ZK
    
    junrao
    
    Currently, the broker state is set to running before it registers itself in ZooKeeper.  This is too early in the broker lifecycle.  If clients use the broker state as an indicator that the broker is ready to accept requests, they will get errors.  This change is to delay setting the broker state to running until it's registered in ZK.
    
    Author: Roger Hoover <roger.hoover@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1426 from theduderog/broker-running-after-zk

commit 62dc1afb69369c64207991ba59bcd203505d37ea
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Thu May 26 09:17:31 2016 +0100

    KAFKA-3718; propagate all KafkaConfig __consumer_offsets configs to OffsetConfig instantiation
    
    Kafka has two configurable compression codecs: the one used by the client (source codec) and the one finally used when storing into the log (target codec). The target codec defaults to KafkaConfig.compressionType and can be dynamically configured through zookeeper.
    
    The GroupCoordinator appends group membership information into the __consumer_offsets topic by:
    1. making a message with group membership information
    2. making a MessageSet with the single message compressed with the source codec
    3. doing a log.append on the MessageSet
    
    Without this patch, KafkaConfig.offsetsTopicCompressionCodec doesn't get propagated to OffsetConfig instantiation, so GroupMetadataManager uses a source codec of NoCompressionCodec when making the MessageSet. Let's say we have enough group information such that the message formed exceeds KafkaConfig.messageMaxBytes before compression but would fall below the threshold after compression using our source codec. Even if we had dynamically configured __consumer_offsets with our favorite compression codec, the log.append will throw RecordTooLargeException during analyzeAndValidateMessageSet since the message was unexpectedly uncompressed instead of having been compressed with the source codec defined by KafkaConfig.offsetsTopicCompressionCodec.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1394 from onurkaraman/KAFKA-3718

commit 5653249e08b1050f0e2081bf1dcc50324b3ec409
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Wed May 25 11:25:04 2016 -0700

    KAFKA-3732: Add an auto accept option to kafka-acls.sh
    
    Added a new argument to AclCommand: --yes. When set, automatically answer yes to prompts
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1406 from mimaison/KAFKA-3732

commit fee6f6f927b36ac74bc4a8b233711234558f3b51
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed May 25 13:08:57 2016 +0100

    MINOR: Removed 1/2 of the hardcoded sleeps in Streams
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1422 from enothereska/minor-integration-timeout2

commit 8c8b54ee482306652af39d3682eb7a73599503c2
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Tue May 24 17:32:17 2016 -0700

    MINOR: Add virtual env to Kafka system test README.md
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1346 from Ishiihara/add-venv

commit 0e1c012fb551f32cf27b6b7367749047c374ee97
Author: Dustin Cote <dustin@confluent.io>
Date:   Tue May 24 17:26:54 2016 -0700

    KAFKA-3683; Add file descriptor recommendation to ops guide
    
    Adding sizing recommendations for file descriptors to the ops guide.
    
    Author: Dustin Cote <dustin@confluent.io>
    Author: Dustin Cote <dustin@dustins-mbp.attlocal.net>
    
    Reviewers: Gwen Shapira
    
    Closes #1353 from cotedm/KAFKA-3683 and squashes the following commits:
    
    8120318 [Dustin Cote] Adding file descriptor sizing recommendations
    0908aa9 [Dustin Cote] Merge https://github.com/apache/kafka into trunk
    32315e4 [Dustin Cote] Merge branch 'trunk' of https://github.com/cotedm/kafka into trunk
    13309ed [Dustin Cote] Update links for new consumer API
    4dcffc1 [Dustin Cote] Update links for new consumer API

commit 98928f7ad0f556caf4b8ff4b212c946ce948d7d6
Author: Satendra Kumar <satendra@knoldus.com>
Date:   Tue May 24 17:07:45 2016 -0700

    Minor: Fix ps command example in docs
    
    Process grep command has been updated. Previous "ps  | grep server-1.properties"  command is showing nothing.
    
    Author: Satendra Kumar <satendra@knoldus.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1386 from satendrakumar06/patch-1

commit 5f498855d9e247b07af54c6329b5b5347e469ace
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 24 12:53:24 2016 -0700

    MINOR: Fix documentation table of contents and `BLOCK_ON_BUFFER_FULL_DOC`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1423 from ijuma/minor-doc-fixes

commit fe27d8f787f38428e0add36edeac9d694f16af53
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 24 09:13:40 2016 +0100

    KAFKA-3747; Close `RecordBatch.records` when append to batch fails
    
    With this change, `test_producer_throughput` with message_size=10000, compression_type=snappy and a snappy buffer size of 32k can be executed in a heap of 192m in a local environment (768m is needed without this change).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1418 from ijuma/kafka-3747-close-record-batch-when-append-fails

commit dee38806663b0062706dfaca40da9537792f05a9
Author: Sriharsha Chintalapani <harsha@hortonworks.com>
Date:   Sun May 22 10:01:32 2016 +0100

    MINOR: Specify keyalg RSA for SSL key generation
    
    Author: Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1416 from harshach/ssl-doc-fix

commit 177b2d0bea76f270ec087ebe73431307c1aef5a1
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri May 20 11:52:36 2016 -0700

    KAFKA-3735: Dispose all RocksObejcts upon completeness
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Roger Hoover, Eno Thereska, Ismael Juma
    
    Closes #1411 from guozhangwang/K3735-dispose-rocksobject

commit e18bbba77fcab9667536f624f85576516aff55be
Author: shikhar <shikhar@schmizz.net>
Date:   Thu May 19 09:25:06 2016 -0700

    KAFKA-2935: Remove vestigial WorkerConfig.CLUSTER_CONFIG
    
    Author: shikhar <shikhar@schmizz.net>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1404 from shikhar/kafka-2935

commit 2ce3285297a8cf20d801c7ac479603dd5926851c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 19 17:16:37 2016 +0100

    MINOR: Move `Incorporating Security Features in a Running Cluster` to its own section under `Security`
    
    It was previously in the SASL section (probably by mistake).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <schintalapani@hortonworks.com>
    
    Closes #1405 from ijuma/fix-security-upgrade-location-in-docs

commit 9791401a778fee5a165373b923bbe0ece70defbe
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 19 00:44:31 2016 +0100

    KAFKA-3717; Support building aggregate javadoc for all project modules
    
    The task is called `aggregatedJavadoc` and the generated html will be under `<project.dir>/build/docs/javadoc/`.
    
    I also disabled javadoc for `tools` and `log4j-appender` as they are not public API.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1398 from ijuma/kafka-3717-aggregate-javadoc

commit 5b5f3ed0f29faa803e894fc3ee2797b3bfe5766a
Author: Geoff Anderson <geoff@confluent.io>
Date:   Wed May 18 14:47:43 2016 -0700

    MINOR: Bump system test ducktape dependency to 0.5.1
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1397 from granders/minor-increment-ducktape

commit c36cc60f73ca1fe956fb8792bc538b1fdebb712d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed May 18 11:01:27 2016 -0700

    MINOR: Use `Record` instead of `ByteBufferMessageSet` in `ProduceRequestTest`
    
    We want to phase out `ByteBufferMessageSet` eventually, so new code should favour `Record` where possible.
    
    Also use a fixed timestamp in `testCorruptLz4ProduceRequest` to ensure that
    the checksum is always the same.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #1357 from ijuma/produce-request-test-improvement

commit 2bd7b64506a2a7ecef562f5b7db8a34e28d4e957
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue May 17 21:16:52 2016 -0700

    KAFKA-3721; Put UpdateMetadataRequest V2 in 0.10.0-IV1
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Gwen Shapira <cshapi@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #1400 from becketqin/KAFKA-3721

commit 9a44d938da4badec25e30733409cf7299e945bf6
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 17 19:18:33 2016 -0700

    MINOR: Exclude jline, netty and findbugs annotations
    
    These dependencies are unnecessary and they are acquired
    transitively via zkclient (jline, netty) and reflections (annotations).
    
    Ewen did the hard work in figuring out why we have unexpected
    additional dependencies since 0.9.x.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava, Guozhang Wang, Gwen Shapira
    
    Closes #1396 from ijuma/exclude-jline-netty-deps-in-streams and squashes the following commits:
    
    3aa366f [Ismael Juma] Exclude findbugs annotations due to LGPL license
    2d3d714 [Ismael Juma] Use local exclusion for `jline` and `netty`
    482b6c0 [Ismael Juma] Exclude `jline` and `netty` dependencies in the `streams` project

commit ab8fc86382fc9f5a8a0f696a91c66806d51c05a5
Author: MayureshGharat <gharatmayuresh15@gmail.com>
Date:   Wed May 18 01:49:54 2016 +0100

    KAFKA-3393; Updated the docs to reflect the deprecation of block.on.buffer.full and usage of max.block.ms
    
    Author: MayureshGharat <gharatmayuresh15@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1060 from MayureshGharat/KAFKA-3393

commit 53fd22a76613b309b7941a5b0c64f17523b39202
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue May 17 11:25:49 2016 -0700

    KAFKA-3716; Validate all timestamps are not negative
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska, Ismael Juma
    
    Closes #1393 from guozhangwang/K3716-check-non-negative-timestamps

commit d54616bc31cec226cdb0ffd2003a41b4c27fdfed
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 16 14:44:23 2016 -0700

    MINOR: Add INFO logging if ZK config is not specified
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #1392 from guozhangwang/Kminor-warn-no-zk-config

commit 9a3fcf41350ddda9a41db18cde718f892b95177c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 16 12:00:06 2016 -0700

    KAFKA-3704; Revert "Remove hard-coded block size in KafkaProducer"
    
    This is not an exact revert as the code changed a bit since the
    original commit. We also include a note in `upgrade.html`.
    
    The original commit is 1182d61deb23b5cd86cbe462471f7df583a796e1.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira, Guozhang Wang
    
    Closes #1391 from ijuma/kafka-3704-revert and squashes the following commits:
    
    7891b67 [Ismael Juma] Tweak upgrade note based on Gwen's feedback
    1673cd0 [Ismael Juma] Revert "KAFKA-3704: Remove hard-coded block size in KafkaProducer"

commit 61f4c8b0923baa17bfc6160082fc2c8ca5a2c44d
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Mon May 16 17:16:27 2016 +0100

    KAFKA-3698; Update the message format section.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1375 from becketqin/KAFKA-3698

commit 6a5d3e65c6ba9faa0f6cf4ec2871a83beb28c6c4
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon May 16 14:37:09 2016 +0100

    KAFKA-3258; Delete broker topic metrics of deleted topics
    
    Delete per-topic metrics when there are no replicas of any partitions of the topic on a broker.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>, Manikumar reddy O <manikumar.reddy@gmail.com>, Ashish Singh <asingh@cloudera.com, Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #944 from rajinisivaram/KAFKA-3258

commit 62985f313f4b66d3810b05650d2a3f42b6cb054e
Author: Tom Crayford <tcrayford@googlemail.com>
Date:   Mon May 16 13:39:33 2016 +0100

    MINOR: document increased network bandwidth of 0.10 under replication
    
    If you're pushing close to the network capacity, 0.10's additional 8 bytes per message can lead to overload of your network. We (Heroku Kafka) ran into this issue whilst benchmarking 0.10 RC and the ijuma suggested it belonged in the update note.
    
    Comments/suggestions welcome.
    
    Author: Tom Crayford <tcrayford@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1389 from tcrayford/upgrade_note_about_increased_network_bandwidth

commit 7ded19a29ec140de93d57a9eb01722e6a8f2012a
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Sun May 15 09:04:21 2016 -0700

    KAFKA-3565; Add documentation to warn user about the potential messag…
    
    …e throughput drop due to the addition of timestamp field.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1372 from becketqin/KAFKA-3565

commit 13130139ff70d0127e87d2c87dd5e62e6320fa45
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri May 13 21:03:35 2016 -0700

    KAFKA-3713; Close `compressor` to fix memory leak
    
    This fixes test_producer_throughput with compression_type=snappy.
    
    Also: added heap dump on out of memory error to `producer_performance.py` and corrected the upgrade note related to the change in buffer size for compression streams.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1385 from ijuma/kafka-3713-test_producer_throughput-snappy-fail and squashes the following commits:
    
    54c7962 [Ismael Juma] Correct upgrade note about buffer size for compression stream
    515040b [Ismael Juma] Call `compressor.close()` to fix memory leak
    5311e5b [Ismael Juma] Dump heap on out of memory error when running `producer_performance.py`

commit 08205de185090b0cd744844b58b1508c82459d28
Author: Jeff Klukas <jeff@klukas.net>
Date:   Fri May 13 15:32:24 2016 -0700

    MINOR: Allow Serdes subclasses to access WrapperSerde
    
    This PR loosens access restrictions on `WrapperSerde` to `protected` so that users can define a `Serdes` subclass that provides additional custom serde members following the same pattern as the parent class.
    
    This is my own work and is compatible with Kafka's license.
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Guozhang Wang
    
    Closes #1382 from jklukas/expose-wrapperserde

commit 1c4b943f2d9cc90101026519769f142c07bc1785
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Fri May 13 12:57:09 2016 +0100

    KAFKA-3584; Fix synchronization issue between deleteOldSegments() and delete() methods
    
    This PR is to fix synchronization issue between deleteOldSegments() and delete() method calls. log.deleteOldSegments() call throws NullPointerException after log.delete() method call.
    
    cc ijuma junrao
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1367 from omkreddy/KAFKA-3584

commit fb421dbcfe36c4a0d9df7a742c18c11515f095c5
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Fri May 13 12:10:09 2016 +0100

    KAFKA-3692; Add quotes to variables in kafka-run-class.sh
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1364 from Ishiihara/add-quote-classpath

commit f34164eed53d791768f05df21f4dfeca89859b2e
Author: Jeff Klukas <jeff@klukas.net>
Date:   Thu May 12 21:14:51 2016 -0700

    MINOR: Fix bugs in KafkaStreams.close()
    
    Initially proposed by ijuma in https://github.com/apache/kafka/pull/1362#issuecomment-218293662
    
    mjsax commented:
    
    > StreamThread.close() should be extended to call metrics.close() (the class need a private member to reference the Metrics object, too)
    
    The `Metrics` instance is created in the `KafkaStreams` constructor and shared between all threads, so closing it within the threads doesn't seem like the right approach. This PR calls `Metrics.close()` in `KafkaStreams.close()` instead.
    
    cc guozhangwang
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #1379 from jklukas/close-streams-metrics

commit 81f76bde8565eaffd67e5adaa69ddfdb4f5cebaa
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Thu May 12 18:19:00 2016 -0700

    KAFKA-3520: Add system tests for REST APIs of list connector plugins and config validation
    
    ewen granders Ready for review.
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1195 from Ishiihara/system-test

commit 527b98d82f5142ab6a5efc26e84f6b0a21aec062
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Thu May 12 18:14:37 2016 -0700

    KAFKA-3421: Connect developer guide update and several fixes
    
    This is a follow up of KAKFA-3421 to update the connect developer guide to include the configuration validation. Also includes a couple of minor fixes.
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1366 from Ishiihara/connect-dev-doc

commit 563611935d5d559722712cb00820c31a42d5726c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 12 22:06:14 2016 +0100

    MINOR: Remove <release> tag from doap file
    
    The information from this file is displayed in:
    
    https://projects.apache.org/project.html?kafka
    
    I removed the tag instead of fixing it because it's one more thing to maintain and neither Hadoop nor ZooKeeper have it (httpd does though).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1378 from ijuma/remove-release-from-doap

commit ac434a4ebdc36338ff707c38e189f9d1668ff423
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 12 20:36:47 2016 +0100

    MINOR: Fix checkstyle failure in `StreamsConfigTest`
    
    I removed the hamcrest matcher to unbreak the build, but we probably want to tweak the `import-control.xml` as it currently only allows it for `<subpackage name="integration">`, which is weird.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1380 from ijuma/fix-streams-config-test-checkstyle

commit 5aedde5b29cc5a1adea4c65d5c44fb657f162eab
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu May 12 11:12:17 2016 +0100

    MINOR: Change type of StreamsConfig.BOOTSTRAP_SERVERS_CONFIG to List
    
    This is an improved version of https://github.com/apache/kafka/pull/1374, where we include a unit test.
    
    /cc ijuma and guozhangwang
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1377 from miguno/streamsconfig-multiple-bootstrap-servers

commit 84d17bdf220292dc9950566afe1de34b64be4746
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu May 12 01:38:50 2016 +0100

    MINOR: Fix order of compression algorithms in upgrade note
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #1373 from ijuma/fix-producer-buffer-size-upgrade-note

commit 4807dd1df945f6e66c6276f0a85e8abeb24b568a
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 11 17:19:11 2016 -0700

    KAFKA-3583: Add documentation for Connect status control APIs
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Roger Hoover <roger.hoover@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1358 from hachikuji/KAFKA-3583

commit 1182d61deb23b5cd86cbe462471f7df583a796e1
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 11 17:01:14 2016 -0700

    KAFKA-3704: Remove hard-coded block size in KafkaProducer
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #1371 from guozhangwang/K3565-remove-compression-blocksize

commit f892f0ca6d38cb21a93c2c05dd8b9a23c4165181
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 11 23:48:46 2016 +0100

    KAFKA-3694; Ensure broker Zk deregistration prior to restart in ReplicationTest
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1365 from hachikuji/KAFKA-3694

commit b28bc57a1fdb9b56c89c3cb9c3df60afbeda521c
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed May 11 21:11:17 2016 +0100

    MINOR: Improve handling of channel close exception
    
    Propagate IOException in SslTransportLayer channel.close to be consistent with PlaintextTransportLayer,  close authenticator on channel close even if transport layer close fails.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1370 from rajinisivaram/minor-channelclose2

commit bd8681cdd51d2878ea917941abe335f68a373716
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Wed May 11 13:06:20 2016 -0700

    KAFKA-3690: Avoid to pass null to UnmodifiableMap
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1360 from Ishiihara/avoid-to-pass-null

commit 6978115514fc74021e4f2c761402d6b0c954d50c
Author: Ben Stopford <benstopford@gmail.com>
Date:   Wed May 11 15:28:18 2016 +0100

    MINOR: Documentation for Rack Awareness
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1369 from benstopford/rack-awareness-docs

commit e20eba958d8de29cb4e3b6feea37ac3a1e1ab4f9
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed May 11 13:05:58 2016 +0100

    MINOR: Ensure that selection key is cancelled on close
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1368 from rajinisivaram/minor-channelclose

commit 3e89d2bc59b1bf6c73b262a36019df01af7a958c
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Wed May 11 01:52:43 2016 +0100

    KAFKA-3525; getSequenceId should return 1 for first data node creation
    
    ZkUtils.getSequenceId() method is used to generate broker id sequence numbers. During startup, each broker updates the data at /brokers/seqid zk path and returns stat.getVersion as next sequence id.
    
    stat.getVersion returns "1" for first data update. So ZkUtils.getSequenceId() should return "1" on first data update.
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Flavio Junqueira <fpj@apache.org>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1224 from omkreddy/KAFKA-3525

commit fe0335ea1030ca61f38b343a67c78e6537d25717
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 10 17:30:36 2016 -0700

    MINOR: Double timeout passed to `producer.close` in `sendAndVerifyTimestamp`
    
    We have had transient failures in this method when Jenkins is
    overloaded.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1359 from ijuma/increase-producer-close-timeout-in-test

commit 6f1873242c1a189770319e09f53467d26584112f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue May 10 08:00:51 2016 +0100

    MINOR: Add Kafka Streams API / upgrade notes
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1321 from guozhangwang/KStreamsJavaDoc

commit 9575e93070a480eb1ef1e136a67ce0226914b937
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Mon May 9 17:37:17 2016 -0700

    KAFKA-3684: SinkConnectorConfig does not return topics in config validation.
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1356 from Ishiihara/bug-fix-validate

commit 18226ff0be6f98795b98dd505d8ac0b4f3cf8c07
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Mon May 9 17:29:15 2016 -0700

    KAFKA-3608; Fix ZooKeeper structures and output format in documentation
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1257 from vahidhashemian/KAFKA-3608

commit f96da638ee9a4e1e47ece1ea337ee071d911c3da
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon May 9 16:56:32 2016 -0700

    KAFKA-3676: system tests for connector pause/resume
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1345 from hachikuji/KAFKA-3676

commit eb1de107b0c29e322999d9052b82b1e042d8fcfd
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon May 9 16:47:20 2016 -0700

    MINOR: Update protocol doc link in Introduction.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1211 from SinghAsDev/MinorFixDocLink

commit 87285f36c9cd8e1d9861f6dfaacef978772fb7f1
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon May 9 23:47:04 2016 +0100

    KAFKA-3634; Upgrade tests for SASL authentication
    
    Add a test for changing SASL mechanism using rolling upgrade and a test for rolling upgrade from 0.9.0.x to 0.10.0 with SASL/GSSAPI.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ben Stopford <benstopford@gmail.com>, Geoff Anderson <geoff@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1290 from rajinisivaram/KAFKA-3634

commit 36ed00d9bf82d48b0a02b6414734b7698c9ac4ea
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon May 9 23:42:09 2016 +0100

    KAFKA-3421; Follow up to fix name of SourceTask method and add documentation of connector status REST API
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1355 from ewencp/kafka-3421-follow-up

commit 22c098b71b38d22a01e142716d5ac8ee3d07b9c6
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon May 9 23:36:22 2016 +0100

    MINOR: Remove copyDependantTestLibs from jar dependencies
    
    _copyDependantTestLibs_ was added temporarily as a dependency of _jar_ task to enable SASL system tests to be run with MiniKdc without changing the automated system test runs which run _gradlew clean jar_. Since the build target _systemTestLibs_ is already in Kafka build.gradle, the Confluent automated test runs can now run _gradlew clean systemTestLibs_ instead. This PR provides the final change to remove _copyDependantTestLibs_ from the _jar_ task. This should be committed only after the Confluent automated sytem test build script is updated, to avoid breaking any builds.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #430 from rajinisivaram/minor-systemtestlibs

commit ff8580da6fb1d65b206df544ebd574222abe7f3f
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon May 9 23:34:30 2016 +0100

    MINOR: Add toString implementations to Subscription and Assignment
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1354 from hachikuji/minor-add-missing-assignor-tostrings

commit 4331bf4ff2d0e7ab1a24ea29382897162c1ed91c
Author: Dana Powers <dana.powers@gmail.com>
Date:   Mon May 9 18:40:54 2016 +0100

    HOTFIX: KAFKA-3160 follow-up, catch decompression errors in constructor
    
    After testing KAFKA-3160 a bit more, I found that the error code was not being set properly in ProduceResponse. This happened because the validation error is raised in the CompressionFactory constructor, which was not wrapped in a try / catch.
    
    ijuma junrao
    
    (This contribution is my original work and I license the work under Apache 2.0.)
    
    Author: Dana Powers <dana.powers@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Gwen Shapira <cshapi@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1344 from dpkp/decompress_error_code

commit 2caf872c2e51d689c6ac20240c4a306e36d98b15
Author: Mickael Maison <mickael.maison@gmail.com>
Date:   Mon May 9 18:10:40 2016 +0100

    KAFKA-3587; LogCleaner fails due to incorrect offset map computation
    
    Removed the over pessimistic require and instead attempt to fill the dedup buffer. Use the (only) map until full;
    this may allow to process all dirty segment (optimism) or may happen in the middle of a dirt segment.
    In either case, do compaction using the map loaded that way.
    
    This patch was developed with edoardocomar
    
    Author: Mickael Maison <mickael.maison@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1332 from mimaison/KAFKA-3587

commit 29a682e2ea1918b50c6fd4c36ce399242929e5ae
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon May 9 09:31:11 2016 -0700

    KAFKA-3658: Validate retention period be longer than window size
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Henry Cai, Ismael Juma
    
    Closes #1337 from guozhangwang/K3658

commit b86378840a2a6defcbdc59c1c1462ecbfd2c47d4
Author: Kaufman Ng <kaufman@confluent.io>
Date:   Mon May 9 17:01:16 2016 +0100

    KAFKA-3681; Connect doc formatting
    
    Author: Kaufman Ng <kaufman@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1351 from coughman/KAFKA-3681-connect-doc-formatting

commit bce3415b18fd0d2b7ab05330f2590f98939b8850
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon May 9 14:48:08 2016 +0100

    KAFKA-3662; Fix timing issue in SocketServerTest.tooBigRequestIsRejected
    
    Test sends large request using multiple writes of length followed by request body. The first write should succeed, but since the server closes the connection on processing the length that is too big, subsequent writes may fail. Modified test to handle this exception.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1349 from rajinisivaram/KAFKA-3662

commit f5b98b8fa786ff0ca37c5cba6d43c3390d28436e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon May 9 00:22:13 2016 -0700

    KAFKA-3675; Add lz4 to parametrized `test_upgrade` system test
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1343 from ijuma/kafka-3675-lz4-test-upgrade

commit 8911660e2e7d9553502974393ad1aa04852c2da2
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon May 9 00:12:30 2016 -0700

    KAFKA-3674: Ensure connector target state changes propagated to worker
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1341 from hachikuji/KAFKA-3674

commit fc89083f812a513699f5f0c02648f7a7927acf64
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Sun May 8 23:52:13 2016 -0700

    MINOR: Move connect.start() to try catch block
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1347 from Ishiihara/connect-standalone

commit dbafc631ad78c96f85361a3d5e1c4d203cedb26f
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Sun May 8 23:50:43 2016 -0700

    KAFKA-3673: Connect tests don't handle concurrent config changes
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1340 from Ishiihara/connect-test-failure

commit d1bb2b9df105169c47f16d057c887acb7f8fe818
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Sun May 8 22:26:26 2016 -0700

    KAFKA 3671: Move topics to SinkConnectorConfig
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Dan Norwood <norwood@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1335 from Ishiihara/sink-connector-config

commit 62b9fa22545a8e254b4ffd07ddc5bd3315542548
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sun May 8 22:27:58 2016 +0100

    KAFKA-3579; Reference both old and new consumer properties in `TopicCommand`
    
    Add references to the new consumer property 'max.partition.fetch.bytes' along with the old consumer property 'fetch.message.max.bytes' in the corresponding warning messages of TopicCommand.
    Also, create and leverage a static variable for the default value of the new consumer property.
    Also, use 'DEFAULT_...' for default propoerty constant names in the code instead of '..._DEFAULT'.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Manikumar reddy O <manikumar.reddy@gmail.com>, Ashish Singh <asingh@cloudera.com>, Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1239 from vahidhashemian/KAFKA-3579

commit 51f7a35c929d9aa04d821098a2266902f9178d7c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun May 8 10:45:47 2016 -0700

    KAFKA-3670; ControlledShutdownLeaderSelector should pick the preferred replica as the new leader, if possible
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1338 from ijuma/kafka-3670-controlled-shutdown-leader-selector-preferred-replica

commit 8fe2552239863f3a01d01708d55edf3c7082ff92
Author: Dana Powers <dana.powers@gmail.com>
Date:   Sat May 7 19:35:55 2016 +0100

    KAFKA-3160; Fix LZ4 Framing
    
    This contribution is my original work and I license the work under Apache 2.0.
    
    Author: Dana Powers <dana.powers@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1212 from dpkp/KAFKA-3160

commit c4bbf342432291220242ad4177fd72a959ddcb94
Author: Jonathan Bond <jbond@netflix.com>
Date:   Sat May 7 09:05:55 2016 +0100

    KAFKA-3112; Warn instead of error on unresolvable bootstrap server
    
    so that unresolvable DNS names are ignored and only throw an error if no other bootstrap servers are resolvable.
    
    Author: Jonathan Bond <jbond@netflix.com>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #792 from bondj/KAFKA-3112

commit 717eea8350feb670e8ba3dd3505c708a8a52de71
Author: Chen Zhu <amandazhu19620701@gmail.com>
Date:   Fri May 6 21:57:53 2016 +0100

    KAFKA-3655; awaitFlushCompletion() in RecordAccumulator should always decrement flushesInProgress count
    
    Author: Chen Zhu <amandazhu19620701@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1315 from zhuchen1018/KAFKA-3655

commit 58f9d7cf8a68824a8fc451cf7ff5fcfb696fa863
Author: Mark Grover <mark@apache.org>
Date:   Fri May 6 21:47:00 2016 +0100

    KAFKA-3669; Add secondary constructor for KafkaConfig with a default value for doLog
    
    …value for doLog
    
    Author: Mark Grover <mark@apache.org>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1334 from markgrover/kafka-3669-trunk

commit 19850331272c19de15240403a03ca3812037947b
Author: Kaufman Ng <kaufman@confluent.io>
Date:   Fri May 6 13:31:29 2016 -0700

    Minor: added description for lag in consumer group command
    
    Author: Kaufman Ng <kaufman@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #1320 from coughman/trunk

commit 54092c12ed276b4bf91741e3c7fd315443f3c0b1
Author: Geoff Anderson <geoff@confluent.io>
Date:   Fri May 6 11:10:27 2016 -0700

    KAFKA-3592: System test - configurable paths
    
    This patch adds logic for the following:
    - remove hard-coded paths to various scripts and jars in kafkatest service classes
    - provide a mechanism for overriding path resolution logic with a "pluggable" path resolver class
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1245 from granders/configurable-install-path

commit fec2d41bc2bed9f4effbd9922ca487bb02e5eeae
Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
Date:   Fri May 6 08:49:44 2016 -0700

    KAFKA-3616: Make kafka producers/consumers injectable for KafkaStreams
    
    Ticket: https://issues.apache.org/jira/browse/KAFKA-3616
    
    Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1264 from kawamuray/kafka-3616-inject-clients

commit 78de891ace41547d83901c3c18a9a01a517ccba1
Author: Dustin Cote <dustin@dustins-mbp.attlocal.net>
Date:   Fri May 6 16:33:01 2016 +0100

    KAFKA-3666; Update links for new consumer API
    
    Pull request to update the consumer API links in the docs.
    
    Author: Dustin Cote <dustin@dustins-mbp.attlocal.net>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1331 from cotedm/KAFKA-3666

commit 2ff955044aa875176aaa58a9be4a79c494a3fb27
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu May 5 22:24:03 2016 -0700

    KAFKA-3627: consumer fails to execute delayed tasks in poll when records are available
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1295 from hachikuji/KAFKA-3627

commit 4a076a03bee376853713f4b5784b66b18ad5535c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu May 5 16:55:23 2016 -0700

    HOTFIX: follow-up on KAFKA-725 to remove the check and return empty response instead of throw exceptions
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Stig Døssing, Ismael Juma, Jun Rao
    
    Closes #1327 from guozhangwang/K725r

commit 6856c5c214fb0a40b18cfb25db3dadae320c4142
Author: Mayuresh Gharat <gharatmayuresh15@gmail.com>
Date:   Thu May 5 23:31:46 2016 +0100

    KAFKA-3651; Remove the condition variable waiting on memory availability in Bufferpool when a TimeoutException is thrown
    
    Whenever the BufferPool throws a "Failed to allocate memory within the configured max blocking time" exception, it should also remove the condition object from the waiters deque
    
    Author: MayureshGharat <gharatmayuresh15@gmail.com>
    
    Reviewers: Chen Zhu <amandazhu19620701@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1314 from MayureshGharat/kafka-3651

commit 8429db937e2134d9935d9dccd2ed0febc474fd66
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Thu May 5 23:25:03 2016 +0100

    KAFKA-3661; fix NPE in o.a.k.c.c.RoundRobinAssignor when topic metadata not found
    
    AbstractPartitionAssignor.assign has an ambiguous line in its documentation:
    > param partitionsPerTopic The number of partitions for each subscribed topic (may be empty for some topics)
    
    Does empty mean the topic has an entry with value zero, or that the entry is excluded from the map altogether? The current implementation in AbstractPartitionAssignor excludes the entry from partitionsPerTopic if the topic isn't in the metadata.
    
    RoundRobinAssignorTest.testOneConsumerNonexistentTopic interprets emptiness as providing the topic with a zero value.
    RangeAssignor interprets emptiness as excluding the entry from the map.
    RangeAssignorTest.testOneConsumerNonexistentTopic interprets emptiness as providing the topic with a zero value.
    
    This implementation chooses to solve the NPE by deciding to exclude topics from partitionsPerTopic when the topic is not in the metadata.
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1326 from onurkaraman/KAFKA-3661

commit 7f4e3ccde820eedd962b4cfd3abaecd8a49b83a8
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu May 5 13:50:15 2016 -0700

    HOTFIX: Reverted timeouts to larger values
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #1324 from enothereska/hotfix-timeouts

commit b6cd0e2791e0e6a6ef02d069b3001ffb477f7c6c
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu May 5 13:12:11 2016 -0700

    KAFKA-3581: add timeouts to joins in background thread services
    
    This actually removes joins altogether, as well as references to self.worker_threads, which is best left as an implementation detail in BackgroundThreadService.
    
    This makes use of hachikuji 's recent ducktape patch, and updates ducktape dependency to 0.5.0.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1297 from granders/KAFKA-3581-systest-add-join-timeout

commit 32bf83e5a792c5ee9eb88660da71b73aad5bbc02
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu May 5 12:03:28 2016 -0700

    KAFKA-3659: Handle coordinator disconnects more gracefully in client
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1322 from hachikuji/KAFKA-3659

commit 694303a3da18e73cb08dfe229a07c7b31e0fa10c
Author: Roger Hoover <roger.hoover@gmail.com>
Date:   Wed May 4 19:24:58 2016 -0700

    MINOR: Fixes to AWS init script for testing
    
    A path was wrong in the script and in the documentation.
    
    Author: Roger Hoover <roger.hoover@gmail.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1309 from theduderog/fix_aws_init

commit ad316509787787afeed6e2a24a62fd22cadd09c7
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Wed May 4 19:20:54 2016 -0700

    KAFKA-3527: Consumer commitAsync should not expose internal exceptions
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1300 from Ishiihara/kafka-3527

commit 64451af9e08de428064dc232cd6dea0ea0b2a81d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed May 4 18:16:08 2016 -0700

    KAFKA-3652; Return error response for unsupported version of ApiVersionsRequest
    
    Handle unsupported version of ApiVersionsRequest during SASL auth as well as normal operation by returning an error response.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1310 from rajinisivaram/KAFKA-3652

commit c8c6ac3f6d2d590261acb35fabbf7418ae102d4e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu May 5 00:23:34 2016 +0100

    KAFKA-3639; Configure default serdes upon construction
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Matthias J. Sax <matthias@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1311 from guozhangwang/K3639

commit da7095f3689b7a16f2b9050a8b1e5a3d6d400b12
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Wed May 4 16:08:08 2016 -0700

    KAFKA 3656: Remove logging outstanding messages when producer flush fails
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1319 from Ishiihara/kafka-3656

commit c46cc480214080844ef0ca04d96f1db61b1f2ea3
Author: William Thurston <wthurston@linkedin.com>
Date:   Wed May 4 14:26:30 2016 -0700

    KAFKA-2236; Offset request reply racing with segment rolling
    
    Author: William Thurston <wthurston@linkedin.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #1318 from ijuma/KAFKA-2236-offset-request-reply-segment-rolling-race

commit 7a0821d653c6c99a26ded6046ea24722c8d8ad85
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed May 4 20:10:41 2016 +0100

    KAFKA-3632; remove fetcher metrics on shutdown and leader migration
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1312 from hachikuji/KAFKA-3632

commit 768328689a59fa0984c099768136328e529e9fee
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed May 4 11:25:26 2016 -0700

    MINOR: Modify checkstyle to allow import classes only used in javadoc
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma
    
    Closes #1317 from guozhangwang/KJavaDocImport

commit b410ea37b092740bf3e2a6e04caa3cf681ebc0d3
Author: Ben Stopford <benstopford@gmail.com>
Date:   Wed May 4 14:26:41 2016 +0100

    KAFKA-2684; Add force option to topic / config command so they can be called programatically
    
    Tiny change to add a force option to the topic and config commands so they can be called programatically without requiring user input.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #351 from benstopford/CPKAFKA-61B

commit 03a1f7d39c553835022987826df4762cfd39a639
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed May 4 02:14:35 2016 +0100

    MINOR: Handle null values in validators
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1316 from ewencp/minor-handle-null-values-validators

commit 50aacd660d4c4212ffa4a9dca7d45bcfe50af833
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Tue May 3 18:05:04 2016 -0700

    KAFKA-3654: Config validation should validate both common and connector specific configurations
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1313 from Ishiihara/config-short-circuit

commit 94e12a2e1fbd2f43821643d67a0d91f03b3f94e5
Author: Chen Zhu <amandazhu19620701@gmail.com>
Date:   Tue May 3 23:59:12 2016 +0100

    KAFKA-3648; maxTimeToBlock in BufferPool.allocate should be enforced
    
     `maxTimeToBlock` needs to be updated in each loop iteration. Also record waitTime before throwing `TimeoutException`
    
    Author: Chen Zhu <amandazhu19620701@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1304 from zhuchen1018/KAFKA-3648

commit af013788436ae5652b531184770f2620f8914123
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Tue May 3 23:42:03 2016 +0100

    MINOR: Clean up of ConsumerCoordinator and PartitionAssignor
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1306 from Ishiihara/minor-consumer-cleanup

commit b3d2c0dabbcfc8e5d286e181450029adefc9fee8
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue May 3 13:26:22 2016 -0700

    MINOR: Added more integration tests
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma, Michael G. Noll, Guozhang Wang
    
    Closes #1285 from enothereska/more-integration-tests

commit 88e5d5a9a16f4831b8a178355d38d203febe85f9
Author: Som Sahu <sosahu@microsoft.com>
Date:   Tue May 3 19:24:14 2016 +0100

    KAFKA-3448; Support zone index in IPv6 regex
    
    When an address is written textually, the zone index is appended to the address, separated by a percent sign (%). The actual syntax of zone indices depends on the operating system.
    
    Author: Som Sahu <sosahu@microsoft.com>
    Author: Soumyajit Sahu <soumyajit-sahu@users.noreply.github.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1305 from soumyajit-sahu/fixIPV6RegexPattern_trunk

commit c7425be5be8d0c2786155fbc697d83f80827d084
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue May 3 10:55:54 2016 -0700

    KAFKA-3128; Add metrics for ZooKeeper events zookeeper metrics
    
    Also:
    * Remove redundant `time.milliseconds` call in `Sensor.record`
    * Clean-up a number of tests and remove a manual test that is no longer required
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #1265 from ijuma/kafka-3128-zookeeper-metrics

commit 1f528815de8d0e094ee5446794ab7325629ca7ed
Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
Date:   Tue May 3 10:47:23 2016 -0700

    KAFKA-3642: Fix NPE from ProcessorStateManager when the changelog topic not exists
    
    Issue: https://issues.apache.org/jira/browse/KAFKA-3642
    
    Author: Yuto Kawamura <kawamuray.dadada@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1289 from kawamuray/KAFKA-3642-streams-NPE

commit 62253539d87e1ccb353673ed96adc98fb2d854ae
Author: dan norwood <norwood@confluent.io>
Date:   Tue May 3 10:21:57 2016 -0700

    MINOR: add logfilename to error message when file missing
    
    ewencp
    
    Author: dan norwood <norwood@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1307 from norwood/log-filename-when-missing-file

commit bf578f987bd303e672354e2f3a97552cc5145237
Author: Roger Hoover <roger.hoover@gmail.com>
Date:   Tue May 3 10:20:17 2016 -0700

    KAFKA-3650: Fix vagrant download URL
    
    Author: Roger Hoover <roger.hoover@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1308 from theduderog/fix_vagrant_dl

commit abac51dc0bf0d5bdc1d5414787da3191e00adcab
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue May 3 09:49:23 2016 -0700

    KAFKA-3517; Add documentation for SASL/PLAIN
    
    Documentation corresponding to KIP-43 - SASL/PLAIN and multiple mechanism support.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Magnus Edenhill <apache_m@edenhill.se>, Jun Rao <junrao@gmail.com>
    
    Closes #1232 from rajinisivaram/KAFKA-3517

commit 5c47b9f80e2130ab4cc76e2645e0ac0215bf8abe
Author: Geoff Anderson <geoff@confluent.io>
Date:   Mon May 2 21:42:01 2016 -0700

    MINOR: Add version check on enable-systest-events flag
    
    Recent patch adding enable-systest-events flag without any version check breaks all uses of versioned console consumer. E.g. upgrade tests, compatibility tests etc.
    
    Added a check to only apply the flag if running 0.10.0 or greater.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1298 from granders/minor-systest-fix-versioned-console-consumer

commit 1e4dd66b19857f4f0ce3f83fd0a808885b0a88c1
Author: Dana Powers <dana.powers@gmail.com>
Date:   Sat Apr 30 18:53:44 2016 -0700

    HOTFIX: Fix main classpath libs glob for release (fixup KAFKA-3615 regression)
    
    bin/kafka-run-class.sh does not correctly setup the CLASSPATH in release rc2.
    
    Author: Dana Powers <dana.powers@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1302 from dpkp/KAFKA-3615-fix

commit 9eaf529ffb168e44a461be24b666eee00fdaf497
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Apr 29 17:27:02 2016 -0700

    KAFKA-3644; Use Boolean protocol type for StopReplicaRequest delete_p…
    
    …artitions
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1296 from granthenke/stop-boolean

commit 94d1878a9b7aaf57c7520fb5bdcd2f05aeec5853
Author: Zack Dever <zdever@pandora.com>
Date:   Fri Apr 29 15:49:48 2016 -0700

    MINOR: change initial value of Min stat to Double.MAX_VALUE (not MIN)
    
    this is consistent with the Max stat implementation.
    
    Author: Zack Dever <zdever@pandora.com>
    
    Reviewers: Aditya Auradkar, Gwen Shapira
    
    Closes #1143 from zackdever/min-stat-fix

commit 60380e31d4bf6688d8d26ec44cf514a3c32731cb
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Apr 29 15:14:36 2016 -0700

    HOTFIX: Fix equality semantics of KeyValue
    
    Fixes wrong KeyValue equals logic when keys not equal but values equal.
    
    Original hotfix PR at https://github.com/apache/kafka/pull/1293 (/cc enothereska)
    
    Please review: ewencp ijuma guozhangwang
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1294 from miguno/KeyValue-equality-hotfix

commit d0dedc6314bfd83d9b2b9a9557e3168e715981da
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Fri Apr 29 14:49:22 2016 -0700

    KAFKA-3459: Returning zero task configurations from a connector does not properly clean up existing tasks
    
    hachikuji ewencp Can you take a look when you have time?
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1248 from Ishiihara/kafka-3459

commit 096b8b84e0dba8cdf0e0f7afae8d118a68e06e6c
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Apr 29 14:48:25 2016 -0700

    KAFKA-3641; Fix RecordMetadata constructor backward compatibility
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma
    
    Closes #1292 from granthenke/recordmeta-compat

commit 3414d56121d8d2f66f8dd613453af71d5b3f0c5f
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Apr 29 12:50:02 2016 -0700

    KAFKA-3440: Update streams javadocs
    
    - add class doc for KTable, KStream, JoinWindows
    - add missing return tags
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Michael G. Noll <michael@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1287 from mjsax/kafka-3440-JavaDoc

commit 69d9a669d7bbfec1e33dd6177c5687ef7f9977df
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Apr 29 11:15:20 2016 -0700

    KAFKA-3618; Handle ApiVersionsRequest before SASL authentication
    
    Server-side implementation and tests for handling ApiVersionsRequest before SaslHandshakeRequest.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma
    
    Closes #1286 from rajinisivaram/KAFKA-3618

commit e50327331d7d4e2854297a377f6701d737599672
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Fri Apr 29 10:52:42 2016 -0700

    KAFKA-3578: Allow cross origin HTTP requests on all HTTP methods
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1288 from Ishiihara/kip-56

commit e29eac4bbb678aa3d5a29a75f413a7b10cc2f0b1
Author: Anna Povzner <anna@confluent.io>
Date:   Fri Apr 29 10:51:29 2016 -0700

    KAFKA-3597; Query ConsoleConsumer and VerifiableProducer if they shutdown cleanly
    
    Even if a test calls stop() on console_consumer or verifiable_producer, it is still possible that producer/consumer will not shutdown cleanly, and will be killed forcefully after a timeout. It will be useful for some tests to know whether a clean shutdown happened or not. This PR adds methods to console_consumer and verifiable_producer to query whether clean shutdown happened or not.
    
    hachikuji and/or granders Please review.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Jason Gustafson, Geoff Anderson, Gwen Shapira
    
    Closes #1278 from apovzner/kafka-3597

commit eb50d2f6ca9dee041689db6fe397a83ece05b9e2
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Fri Apr 29 10:28:33 2016 -0700

    KAFKA-3615: Exclude test jars in kafka-run-class.sh
    
    granders hachikuji Can you take a look when you have time? Appreciate your time to review.
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1263 from Ishiihara/classpath-no-test-jar

commit fe6c481b38d6b1b61341e4e1a6237f64accfbfbc
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Apr 29 10:26:01 2016 -0700

    KAFKA-3418: add javadoc section describing consumer failure detection
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1129 from hachikuji/KAFKA-3418

commit cea01af125a33b81f973a96501fe41ca9d698197
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Apr 29 09:41:12 2016 -0700

    KAFKA-2693: Ducktape tests for SASL/PLAIN and multiple mechanisms
    
    Run a sanity test with SASL/PLAIN and a couple of replication tests with SASL/PLAIN and multiple mechanisms.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1282 from rajinisivaram/KAFKA-2693

commit 4ab4e4af814fb791fe6e8c2bd3381da8ca80b0b5
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Fri Apr 29 08:49:16 2016 -0700

    KAFKA-3598: Improve JavaDoc of public API
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Michael G. Noll, Guozhang Wang
    
    Closes #1250 from mjsax/JavaDoc-publicAPI

commit 68433dcfdc0ae078ee4e7d278c286a9b7c1b3e76
Author: Michael G. Noll <michael@confluent.io>
Date:   Fri Apr 29 07:44:03 2016 -0700

    KAFKA-3613: Consolidate TumblingWindows and HoppingWindows into TimeWindows
    
    This PR includes the same code as https://github.com/apache/kafka/pull/1261 but is rebased on latest trunk.
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #1277 from miguno/KAFKA-3613-v2

commit 0ada3b1fc215bb8efdf5c7ae27eb52b29e0fbbdc
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Apr 28 15:49:01 2016 -0700

    KAFKA-3382: Add system test for ReplicationVerificationTool
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1160 from SinghAsDev/KAFKA-3382

commit 346df72736d03acb4a6f5681e705ce3e330900a8
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Thu Apr 28 14:46:47 2016 -0700

    MINOR: Avoid compiler warnings when registering metrics in KafkaServer
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1280 from Ishiihara/minor-warning-fix

commit fdded2da6e0f57431fc19fd1705bbb6373c1c863
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Apr 28 14:08:10 2016 -0700

    KAFKA-3636; Change default max session timeout to 5 minutes
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Onur Karaman <okaraman@linkedin.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1284 from hachikuji/KAFKA-3636

commit 3a496f480d002a4512273477eda9d92731e600c3
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Apr 28 13:39:22 2016 -0700

    KAFKA-3617; Unit tests for SASL authenticator
    
    Unit tests for SASL authenticator, tests for SASL/PLAIN and multiple mechanisms, authorization test for SASL/PLAIN
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1273 from rajinisivaram/KAFKA-3617

commit 316389d6adfb1398e30ca2ce5d586ea94d3f3110
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Thu Apr 28 11:59:02 2016 -0700

    KAFKA-3611: Remove warnings when using reflections
    
    ewencp granders Can you take a look? Thanks!
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1259 from Ishiihara/fix-warning

commit 57831a56a581128e164b4372c5e5eb4b55038d4a
Author: Ashish Singh <asingh@cloudera.com>
Date:   Wed Apr 27 17:31:31 2016 -0700

    KAFKA-3621; Add tests for ApiVersionRequest/Response
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1275 from SinghAsDev/KAFKA-3621

commit 669be7fadc808a8436ba28d033b70d24641c75ea
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Apr 27 17:15:37 2016 -0700

    KAFKA-3631; Fix Struct.toString for nullable arrayOf
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1279 from granthenke/struct-fix

commit 94aee2143ed5290d27cdd4072c6ae9bb70a6ba30
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Apr 27 16:55:51 2016 -0700

    KAFKA-3612: Added structure for integration tests
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma, Damian Guy, Michael G. Noll, Guozhang Wang
    
    Closes #1260 from enothereska/KAFKA-3612-integration-tests

commit 8407dac6ee409d832c95533e6f1d5578511232ae
Author: Ashish Singh <asingh@cloudera.com>
Date:   Wed Apr 27 11:28:32 2016 -0700

    KAFKA-3307; Add ApiVersions Request/Response and server side handling.
    
    The patch does the following.
    1. Adds ApiVersionsRequest/Response.
    2. Adds UNSUPPORTED_VERSION error and UnsupportedVersionException.
    3. Adds broker side handling of ApiVersionsRequest.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira, Ismael Juma, Magnus Edenhill
    
    Closes #986 from SinghAsDev/KAFKA-3307

commit 4c76b5fa6a72412efa5936c284800148c2c69c24
Author: Damian Guy <damian.guy@gmail.com>
Date:   Wed Apr 27 10:50:20 2016 -0700

    KAFKA-3629; KStreamImpl.to(...) throws NPE when the value SerDe is null
    
    guozhangwang
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Matthias J. Sax, Guozhang Wang
    
    Closes #1272 from dguy/kstreamimpl-to-npe and squashes the following commits:
    
    49d48fb [Damian Guy] actually commit the fix
    07ce589 [Damian Guy] fix npe in KStreamImpl.to(..)
    74d396d [Damian Guy] fix npe in KStreamImpl.to(..)

commit 2885bc33daaf75477bf39a92d1d1da02c0e03eaa
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Wed Apr 27 06:53:16 2016 -0700

    KAFKA-3580; Improve error logging in ReplicaFetchThread
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1237 from omkreddy/KAFKA-3580

commit 77fa0b116f0cc8aba37884a1a5d487f8683f7845
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Wed Apr 27 00:03:00 2016 -0700

    KAFKA-3406; Update CommonClientConfigs.RETRY_BACKOFF_MS_DOC doc string
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Sriharsha Chintalapani <schintalapani@hortonworks.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1230 from omkreddy/KAFKA-3406

commit 33d745e2dcfa7a9cac90af5594903330ad774cd2
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Apr 26 17:03:18 2016 -0700

    KAFKA-3306: Change metadata response to include required additional fi…
    
    …elds
    
    - Adds boolean type to the protocol
    - Allows protocol arrays to be null (optionally)
    - Adds support to ask for no topics in the metadata request
    - Adds new fields to the Metadata response protocol
    - Adds server code to handle new fields
       - Support no-topic metadata requests
       - Track controller id in the metadata cache
       - Check if a topic is considered internal
       - Included rack information if present
       - Include all replicas and ISRs, even if node is down
    - Adds test code to test new functionality independent of the client
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma, Ashish Singh
    
    Closes #1095 from granthenke/metadata-changes

commit 5b375d7bf9b26aaeed06bac2dc5de3f8214cbad4
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Apr 26 16:56:42 2016 -0700

    KAFKA-3149; Extend SASL implementation to support more mechanisms
    
    Code changes corresponding to KIP-43 to enable review of the KIP.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@apache.org>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #812 from rajinisivaram/KAFKA-3149

commit cd427c9b905c161a6b135504dc515515de6a6438
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Apr 26 15:14:33 2016 -0700

    MINOR: Upgrade to Gradle 2.13
    
    There are a few improvements in 2.12 and 2.13. I am particularly interested in the performance improvements:
    * 2.12: "This release brings support for compile only dependencies, improved build script compilation speed and even better IDE support."
    * 2.13: "We've achieved performance improvements during Gradle's configuration and execution phase, where we have measured up to 25% improvements to build time in our performance tests. No changes to your build script are necessary to start taking advantage of these improvements."
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1271 from ijuma/gradle-2.13

commit 2790d0cb1fc6ade216f2c1bf2667a0ebb53d85e3
Author: Rafael Winterhalter <rafael.wth@gmail.com>
Date:   Tue Apr 26 11:52:33 2016 -0700

    MINOR: Changed port of bootstrap server to default
    
    Kafka is typically running on port 9092. The example named a different port what makes it difficult to run a bootstrap example without any further configuration.
    
    Author: Rafael Winterhalter <rafael.wth@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1074 from raphw/trunk

commit fbac525c08d54a26248eb8f9a5f7d3d053f99bd4
Author: Stig <stig@linux-pr4q.suse>
Date:   Tue Apr 26 11:46:03 2016 -0700

    MINOR: Fix zk path in KafkaHealthCheck comment
    
    Author: Stig <stig@linux-pr4q.suse>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1182 from srdo/comment-fix

commit 1a73629bb43bbc781e5a968a61f6079365bc75b7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Apr 26 11:39:49 2016 -0700

    KAFKA-3607: Close KStreamTestDriver upon completing; follow-up fixes to be tracked in KAFKA-3623
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska, Michael G. Noll, Ismael Juma
    
    Closes #1258 from guozhangwang/K3607

commit f60a3fad38d22654e7560d56730e2dd74b5ae659
Author: Dionysis Grigoropoulos <dgrig@erethon.com>
Date:   Tue Apr 26 11:25:23 2016 -0700

    MINOR: Typo fixes in ReplicaFetchMaxBytesDoc
    
    Author: Dionysis Grigoropoulos <dgrig@erethon.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>
    
    Closes #1228 from Erethon/trunk

commit 9d37b9f4b6ba228ff7f7b99c8a0921a971fc03a6
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Apr 26 10:53:49 2016 -0700

    KAKFA-3599: Move WindowStoreUtils to package "internals"
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Ismael Juma, Michael G. Noll, Guozhang Wang
    
    Closes #1266 from mjsax/kafka-3599-minorCodeCleanup

commit 088ab3eaadb2389b52aedc049b6f1f0d4b5fb989
Author: Michael G. Noll <michael@confluent.io>
Date:   Tue Apr 26 09:59:37 2016 -0700

    KAFKA-3614: Consolidate duplicate code in KGroupedTableImpl
    
    Feel free to review guozhangwang enothereska mjsax .
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Matthias J. Sax, Michael G. Noll, Eno Thereska
    
    Closes #1262 from miguno/KAFKA-3614

commit 18dd1986bd354e8c7d75982112fad848780a6b33
Author: Jeff Klukas <jeff@klukas.net>
Date:   Tue Apr 26 09:11:40 2016 -0700

    MINOR: Fix some copy-pasted Javadoc in StreamsConfig.java
    
    This contribution is my original work and I license the work to the Kafka project under the project's open source license.
    
    cc guozhangwang miguno ymatsuda
    
    Author: Jeff Klukas <jeff@klukas.net>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1270 from jklukas/streams-doc-fix

commit a02c8aaecfbd13838c2a062bac1455da352028fe
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Apr 26 07:32:21 2016 -0700

    KAFKA-3499: prevent array typed keys in KeyValueStore
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma, Josh Gruenberg, Michael G. Noll, Ewen Cheslack-Postava
    
    Closes #1229 from guozhangwang/K3499

commit e7d04c2515be158d9a7f0ff0d7571bd41287d91a
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Apr 26 06:37:08 2016 -0700

    KAFKA-3602; Rename RecordAccumulator dequeFor() and fix usage
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ashish Singh <asingh@cloudera.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1254 from hachikuji/KAFKA-3602

commit b3847f76b571deac5c7da7287a642c8b354a2a8c
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Apr 26 06:31:00 2016 -0700

    KAFKA-3270; Added some Happy Path Tests for the Reassign Partitions Command
    
    with help from enothereska  :)
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@apache.org>, Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #956 from benstopford/KAFKA-3270-ReassignPartitionsCommand-Tests

commit 996e29cfe8a9e5a45d4b778a84fb20479eeba469
Author: Greg Fodor <gfodor@gmail.com>
Date:   Mon Apr 25 13:45:51 2016 -0700

    KAFKA-3619: File handles are leaked on .lock files of ProcessorStateManager
    
    Kafka Streams seems to hold file handles on the `.lock` files for the state dirs, resulting in an explosion of filehandles over time. Running `lsof` shows the number of open filehandles on the `.lock` file increasing rapidly over time. In a separate test project, I reproduced the issue and determined that in order for the filehandle to be relinquished the `FileChannel` instance must be properly closed. Applying this patch seems to resolve the issue in my job.
    
    Author: Greg Fodor <gfodor@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1267 from gfodor/bug/state-lock-filehandle-leak

commit 1b764c5e834c0d03f3c7107a58f21ad3bbb98ac3
Author: Damian Guy <damian.guy@gmail.com>
Date:   Mon Apr 25 11:18:28 2016 -0700

    MINOR: add unit test for KGroupedTable.count
    
    Author: Damian Guy <damian.guy@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Michael G. Noll <michael@confluent.io>
    
    Closes #1255 from dguy/kgroupedtable-count-test

commit bc5051565171cf65b4ed7dd4d9ef269d66a1021a
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Apr 22 07:09:14 2016 -0700

    KAFKA-3605: Return error if connector config includes mismatching connector name.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson
    
    Closes #1253 from ewencp/kafka-3605-connector-name-mismatch

commit c7f9bd2a68ea7bb604c4dcf2a2f0b030fc019ca7
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Thu Apr 21 17:59:23 2016 -0700

    KAFKA-3606: Traverse CLASSPATH during herder start
    
    ewencp Can you take a quick look?
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1252 from Ishiihara/pre-list-connectors

commit 32740044972ad3bfc9539b5d76128dceddedc2ba
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Thu Apr 21 15:13:25 2016 -0700

    KAFKA-3594; After calling MemoryRecords.close() method, hasRoomFor() method should return false
    
    This exception is occurring when producer is trying to append a record to a Re-enqueued record batch in the accumulator. We should not allow to add a record to Re-enqueued record batch. This is due a bug in MemoryRecords.java/hasRoomFor() method. After calling MemoryRecords.close() method, hasRoomFor() method should return false.
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma, Grant Henke, Guozhang Wang
    
    Closes #1249 from omkreddy/KAFKA-3594

commit 74e6dc842559d344241c70cb6607a69291e3a20d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Apr 21 14:51:21 2016 -0700

    KAFKA-3589: set inner serializer for ChangedSerde upon initialization
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ismael Juma <ismael@juma.me.uk>
    
    Closes #1246 from guozhangwang/K3589

commit 5c547475d86aa336f8b3c4bb69faff39759d5df5
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Thu Apr 21 13:42:17 2016 -0700

    KAFKA-3337: Extract selector as a separate groupBy operator for KTable aggregations
    
    Author: Matthias J. Sax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1231 from mjsax/kafka-3337-extact-key-selector-from-agg

commit 9d71489ff0e62fd1897c7a6f54671673db7b37b8
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Apr 20 18:54:30 2016 -0700

    KAFKA-3548: Use root locale for case transformation of constant strings
    
    For enums and other constant strings, use locale independent case conversions to enable comparisons to work regardless of the default locale.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Manikumar Reddy, Ismael Juma, Guozhang Wang, Gwen Shapira
    
    Closes #1220 from rajinisivaram/KAFKA-3548

commit f213625fc55dd0eb9087ba6482ce67fcb737172d
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Wed Apr 20 17:50:00 2016 -0700

    MINOR: Fix comment in DistributedHerder
    
    ewencp
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1243 from Ishiihara/docs

commit 8a863ecee7e5dcdaf66a55b91040a7893ffdbf66
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Apr 20 17:08:00 2016 -0700

    KAFKA-3117: handle metadata updates during consumer rebalance
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1247 from hachikuji/KAFKA-3117

commit c9485b78a6e43747daf1314ae9532839fb7bc810
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Apr 20 14:09:59 2016 -0700

    KAFKA-2370: kafka connect pause/resume API
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1087 from hachikuji/KAFKA-2370

commit 280efe7f789d21f0c45657e14830451c1c8fc2b4
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Apr 20 10:16:44 2016 -0700

    MINOR: Remove RollingBounceTest since its functionality is covered by the ReplicationTest system test
    
    RollingBounceTest is a system test that cannot be run reliably in unit tests and ReplicationTest is a superset of the
    functionality: in addition to verifying that bouncing leaders eventually results in a new leader, ReplicationTest also
    validates that data continues to be produced and consumed.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #1242 from ewencp/minor-remove-rolling-bounce-integration-test

commit 0bf61039c858af17260878d4815dbe7fb1645f90
Author: Ishita Mandhan <imandha@us.ibm.com>
Date:   Tue Apr 19 17:39:04 2016 -0700

    MINOR: Fix typos in code comments
    
    This patch fixes all occurances of two consecutive 'the's in the code comments.
    
    Author: Ishita Mandhan (imandhaus.ibm.com)
    
    Author: Ishita Mandhan <imandha@us.ibm.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1240 from imandhan/typofixes

commit 501fa37222ee7bb6c1883441af05fa883c51d93b
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Tue Apr 19 11:06:31 2016 -0700

    KAFKA-3421: Update docs with new connector features
    
    ewencp gwenshap Docs. I also tried to clean up some typos. However, it seems that the we don't have two words without space in between in the source yet they showed up as no space in between in the generated doc.
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1227 from Ishiihara/config-doc

commit f89f5fb907711e4696bee8a8d7bb53c6941ed693
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Mon Apr 18 18:49:17 2016 -0700

    KAFKA-3582; Remove references to Copcyat from Kafka Connect property files
    
    junrao
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1236 from Ishiihara/minor-fix

commit a5f1158c317e22a79c4186d1acb04fb25ce6e56a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Apr 18 14:23:46 2016 -0700

    KAFKA-3558; Add compression_type parameter to benchmarks in benchmark_test.py
    
    * Use a fixed `Random` seed in `EndToEndLatency.scala` for determinism
    * Add `compression_type` to and remove `consumer_fetch_max_wait` from `end_to_end_latency.py`. The latter was never used.
    * Tweak logging of `end_to_end_latency.py` to be similar to `consumer_performance.py`.
    * Add `compression_type` to `benchmark_test.py` methods and add `snappy` to `matrix` annotation
    * Use randomly generated bytes from a restricted range for `ProducerPerformance` payload. This is a simple fix for now. It can be improved in the PR for KAFKA-3554.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1225 from ijuma/kafka-3558-add-compression_type-benchmark_test.py

commit a81ad2582ee0e533d335fe0dc5c5cc885dbf645d
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Apr 18 14:10:26 2016 -0700

    KAFKA-3563: Maintain MessageAndMetadata constructor compatibility
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ashish Singh <asingh@cloudera.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1226 from granthenke/message_constructor

commit 03817d5a26722c6e95647f6219abf2802b187c8d
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Apr 18 12:49:36 2016 -0700

    KAFKA-3529: Fix transient failure in testCommitAsync
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1234 from hachikuji/KAFKA-3529

commit 89c67727c2793bf56b0b005a7d758beebedb5aed
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Apr 18 10:50:58 2016 -0700

    KAFKA-3506: Kafka Connect restart APIs
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1189 from hachikuji/KAFKA-3506

commit b1691cf49e9de850ac8a2675c487af9fb60bfdaa
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Sat Apr 16 20:18:27 2016 -0700

    KAFKA-3430: Allow users to set key in KTable.toStream and in KStream.
    
    … With KStream the method selectKey was added to enable getting a key from values before perfoming aggregation-by-key operations on original streams that have null keys.
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1222 from bbejeck/KAFKA-3430_allow_users_to_set_key_KTable_toStream

commit 5236bf60debbb0c08010315a92dd3fbfa482e871
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Fri Apr 15 15:51:31 2016 -0700

    KAFKA-3526: Return string instead of object in ConfigKeyInfo and ConfigValueInfo
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1200 from Ishiihara/config-string

commit 065ddf90195e09689512b55d0718a5ebdb3d42ad
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Apr 14 22:02:19 2016 -0700

    KAFKA-3549: Close consumers instantiated in consumer tests
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1217 from granthenke/close-consumers

commit 4fa456bc6e875c819e41aadadd1e37ba9bdb9cd0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Apr 14 10:44:05 2016 -0700

    KAFKA-3557; Update rocksdb to 4.4.1 and patch updates to snappy and slf4j
    
    * The hope is that RocksDb 4.4.1 is more stable than 4.1.0 (occasional segfaults) and 4.2.0 (very frequent segfaults), release notes for 4.4.1: https://www.facebook.com/groups/rocksdb.dev/permalink/925995520832296/
    * slf4j 1.7.21 includes thread-safety fixes: http://www.slf4j.org/news.html
    * snappy 1.1.2.4 includes performance improvements requested by Spark, which apply to our usage: https://github.com/xerial/snappy-java/blob/master/Milestone.md
    
    I ran the stream tests several times and they passed every time while 4.2.0 segfaulted every time.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1219 from ijuma/kafka-3557-update-rocks-db-4.4.1-snappy-slf4j

commit f4d3d2865894f1a1ade9d92ac27931fd35d16cae
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Apr 13 18:09:08 2016 -0700

    KAFKA-3470: treat commits as member heartbeats
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1206 from hachikuji/KAFKA-3470

commit c1694833d5c095e47e5767f38c3e85bbe927a0a7
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Apr 13 13:50:49 2016 -0700

    KAFKA-3490; Multiple version support for ducktape performance tests
    
    Author: Ismael Juma <ismael@juma.me.uk>
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1173 from ijuma/kafka-3490-multiple-version-support-perf-tests

commit 667ff7ef737612773c50908d2b3cc829bb5132c7
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Apr 12 17:38:20 2016 -0700

    KAFKA-3504; Log compaction for changelog partition
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1203 from enothereska/KAFKA-3504-logcompaction

commit e79d9af3cfbb8884e00424f84f3c687114497998
Author: Dongjoon Hyun <dongjoon@apache.org>
Date:   Tue Apr 12 13:48:18 2016 -0700

    KAFKA-3461: Fix typos in Kafka web documentations.
    
    This PR fixes 8 typos in HTML files of `docs` module. I wrote explicitly here since Github sometimes does not highlight the corrections on long lines correctly.
    - docs/api.html: compatability => compatibility
    - docs/connect.html: simultaneoulsy => simultaneously
    - docs/implementation.html: LATIEST_TIME => LATEST_TIME, nPartions => nPartitions
    - docs/migration.html: Decomission => Decommission
    - docs/ops.html: stoping => stopping, ConumserGroupCommand => ConsumerGroupCommand, youre => you're
    
    Author: Dongjoon Hyun <dongjoon@apache.org>
    
    Reviewers: Ismael Juma
    
    Closes #1138 from dongjoon-hyun/KAFKA-3461

commit 34a594472133c3bc6a2886cf58ded0065f26d28a
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Apr 12 13:47:02 2016 -0700

    MINOR: Remove unused hadoop version
    
    All dependencies on hadoop were removed with MiniKDC. This removes the left over version entry.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #1214 from granthenke/remove-hadoop

commit ba9456de2ebf1a34bdf5f6f62a701875822e1923
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Apr 12 13:00:54 2016 -0700

    KAFKA-3439; Added exceptions thrown
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #1213 from enothereska/KAFKA-3439-throws

commit 319c6e7195143c1fa4a1e5b34ad923c2b73f373d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Apr 12 11:34:46 2016 -0700

    MINOR: Add missing `@Override` to `KStreamImpl.through`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1216 from ijuma/add-missing-override-to-through

commit 40fd456649b5df29d030da46865b5e7e0ca6db15
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Apr 11 12:33:48 2016 -0700

    KAFKA-3519: Refactor Transformer's transform / punctuate to return nullable values
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Dan Norwood, Anna Povzner
    
    Closes #1204 from guozhangwang/KTransformR

commit 1ec842a3ea9bbe414a5c59f90569fbc3348bdfb8
Author: Igor Stepanov <igor.stepanov@keystonett.com>
Date:   Mon Apr 11 12:02:49 2016 -0700

    MINOR: fix incorrect exception message in KafkaProducer
    
    While playing with client got the next exception:
    ```java
    java.lang.IllegalArgumentException: Invalid partition given with record: 1 is not in the range [0...1].
    ```
    It's obviously incorrect, so I've fixed it.
    
    Author: Igor Stepanov <igor.stepanov@keystonett.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1210 from stepio/trunk

commit 411b04a3c933b5253f34342bf24f63a9473f9ab5
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Apr 11 10:37:04 2016 -0700

    MINOR: Make VerifiableProducer in system tests lookup security configuration dynamically instead of at construction.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Anna Povzner
    
    Closes #1207 from ewencp/minor-dynamic-security-config-verifiable-producer

commit c76b6e6d9bad2278076054f5175a2b053383388f
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun Apr 10 23:09:43 2016 -0700

    HOTFIX: special handling first ever triggered punctuate
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Anna Povzner <anna@confluent.io>
    
    Closes #1208 from guozhangwang/KPunctuate

commit 7c27989860e7e063bfec3c679cb6bc8fd52abc84
Author: bbejeck <bbejeck@gmail.com>
Date:   Sun Apr 10 17:43:47 2016 -0700

    KAFKA-3338: Add print and writeAsText to KStream/KTable in Kafka Streams
    
        Addresses comments from previous PR [#1187]
        Changed print and writeAsText method return signature to void
        Flush System.out on close
        Changed IllegalStateException to TopologyBuilderException
        Updated MockProcessorContext.topic method to return a String
        Renamed KStreamPrinter to KeyValuePrinter
        Updated the printing of null keys to 'null' to match ConsoleConsumer
        Updated JavaDoc stating need to override toString
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Dan Norwood, Guozhang Wang
    
    Closes #1209 from bbejeck/KAFKA-3338_Adding_print/writeAsText_to_Streams_DSL

commit 8c59565761a42984335294683c3501df8427ce62
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Apr 8 13:30:46 2016 -0700

    KAFKA-3521: validate null keys in Streams DSL implementations
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1197 from guozhangwang/K3521

commit 2a8fa287862912491d1e118c52a2d194d8480075
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Apr 8 12:55:21 2016 -0700

    KAFKA-3528: handle wakeups while rebalancing more gracefully
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1201 from hachikuji/KAFKA-3528

commit cbdd70ec0de4b4d6d04b62580a5a67ea69311c4a
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Apr 8 10:04:46 2016 -0700

    MINOR: improve logging of consumer system tests
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1199 from hachikuji/improve-consumer-systests

commit 4d467c2ec275b5659c2da0ca196409dffaa3caf3
Author: Stig Rohde Døssing <sdo@it-minds.dk>
Date:   Fri Apr 8 09:44:51 2016 -0700

    KAFKA-725: Return OffsetOutOfRange error from ReplicaManager when non-follower attempts reading an offset that's above high watermark.
    
    This should make Log.read act the same when startOffset is larger than maxOffset as it would if startOffset was larger than logEndOffset. The current behavior can result in an IllegalArgumentException from LogSegment if a consumer attempts to fetch an offset above the high watermark which is present in the leader's log. It seems more correct if Log.read presents the view of the log to consumers as if it simply ended at maxOffset (high watermark).
    
    I've tried to describe an example scenario of this happening here https://issues.apache.org/jira/browse/KAFKA-725?focusedCommentId=15221673&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15221673
    
    I'm not sure I understand why ReplicaManager sets maxOffset to the high watermark, and not high watermark + 1. Isn't the high watermark the last committed message, and readable by consumers?
    
    Tests passed for me locally on second try, seems like it just hit a flaky test.
    
    Author: Stig Rohde Døssing <sdo@it-minds.dk>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1178 from srdo/KAFKA-725

commit 9beafae23a83774fc1d9ea811d449eac34240363
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Apr 8 09:17:05 2016 -0700

    KAFKA-3512: Added foreach operator
    
    miguno guozhangwang please have a look if you can.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1193 from enothereska/kafka-3512-ForEach

commit 3a58407e2e0aee0bb2c5e343fbe98c7f28fc6f3e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Apr 8 08:59:50 2016 -0700

    KAFKA-3505: Fix punctuate generated record metadata
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Anna Povzner <anna@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1190 from guozhangwang/K3505

commit 8b9b07e5d6aed2552d1cdfba27b0211af39c691f
Author: Anna Povzner <anna@confluent.io>
Date:   Thu Apr 7 18:17:40 2016 -0700

    MINOR: ensure original use of prop_file in verifiable producer
    
    This PR: https://github.com/apache/kafka/pull/958 fixed the use of prop_file in the situation when we have multiple producers (before, every producer will add to the config). However, it assumes that self.prop_file is initially "". This is correct for all existing tests, but it precludes us from extending verifiable producer and adding more properties to the producer config (same as console consumer).
    
    This is a small PR to change the behavior to the original, but also make verifiable producer use prop_file method to be consistent with console consumer.
    
    Also few more fixes to verifiable producer came up during the review:
    -- fixed each_produced_at_least() method
    -- more straightforward use of compression types
    
    granders please review.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1192 from apovzner/fix_verifiable_producer

commit 9c34df1511a769b272893b75ec1ed90d38cc9576
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Apr 7 15:48:50 2016 -0700

    KAFKA-3488; Avoid failing of unsent requests in consumer where possible
    
    Fail unsent requests only when returning from KafkaConsumer.poll().
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1183 from rajinisivaram/KAFKA-3488

commit 8dbd688b1617968329087317fa6bde8b8df0392e
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Apr 7 10:20:17 2016 -0700

    KAFKA-3497: Streams ProcessorContext should support forward() based on child name
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Yuto Kawamura, Michael G. Noll, Guozhang Wang
    
    Closes #1194 from enothereska/kafka-3497-forward

commit 99d232922734e115f8e3585d91ccfb0ef067385d
Author: Matthias J. Sax <matthias@confluent.io>
Date:   Tue Apr 5 15:56:09 2016 -0700

    KAFKA-3477: extended KStream/KTable API to specify custom partitioner for sinks
    
    Author: mjsax <matthias@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1180 from mjsax/kafka-3477-streamPartitioner-DSL

commit 8218a4a153d9138f29486e74cf77c88d1786997a
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Apr 5 15:17:46 2016 -0700

    KAFKA-3508: Fix transient SimpleACLAuthorizerTest failures
    
    Allows the the maximum retires when writing to zookeeper to be overridden in tests and sets the value to Int.MaxValue to avoid transient failure.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1156 from granthenke/transient-acl-test

commit 893e79af88016f1d8659e72d48a25d4a825b8867
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Apr 5 18:16:48 2016 -0400

    KAFKA-3489; Update request metrics if a client closes a connection while the broker response is in flight
    
    I also fixed a few issues in `SocketServerTest` and included a few clean-ups.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1172 from ijuma/kafka-3489-update-request-metrics-if-client-closes

commit aee8ebb46cd9393a0886c42cb88b080d065da397
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Apr 5 11:46:04 2016 -0700

    KAFKA-3510; OffsetIndex thread safety
    
    * Make all fields accessed outside of a lock `volatile`
    * Only allow mutation within the class
    * Remove unnecessary `AtomicInteger` since mutation always happens inside a lock
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1188 from ijuma/kafka-3510-offset-index-thread-safety

commit 732b111f458454552411ce787c0b9f9fff8db642
Author: Matt McClure <mlm@aya.yale.edu>
Date:   Mon Apr 4 22:07:20 2016 -0700

    KAFKA-3384: Conform to POSIX kill usage
    
    I believe this addresses KAFKA-3384.
    
    The POSIX kill manpage is at http://pubs.opengroup.org/onlinepubs/9699919799/utilities/kill.html
    
    Author: Matt McClure <mlm@aya.yale.edu>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1148 from matthewlmcclure/KAFKA-3384

commit 4ff667711ffd477872adbd3e3e39bd94eac6e763
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Apr 4 21:28:59 2016 -0700

    KAFKA-2998: log warnings when client is disconnected from bootstrap brokers
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Grant Henke, Guozhang Wang
    
    Closes #769 from hachikuji/KAFKA-2998

commit c3c9289c12342065d6c671098aaace23a328c7ff
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Apr 4 18:49:29 2016 -0700

    KAFKA-3464: Add system tests for Connect with Kafka security enabled
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #1141 from ewencp/kafka-3464-connect-security-system-tests

commit 31e263e8294e94de3d2c44d2ab3a827ab904e247
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Apr 4 14:57:15 2016 -0700

    HOTFIX: set timestamp in SinkNode
    
    guozhangwang
    Setting the timestamp in produced records in SinkNode. This forces the producer record's timestamp same as the context's timestamp.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1137 from ymatsuda/set_timestamp_in_sinknode

commit 45c585b4f7e3d5e5dd5297b4d121badbd2052922
Author: Grant Henke <granthenke@gmail.com>
Date:   Sun Apr 3 20:04:36 2016 -0700

    KAFKA-3483: Restructure ducktape tests to simplify running subsets of tests
    
    … tests
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1162 from granthenke/ducktape-structure

commit 83cf38545be4614bd1f6b1759ada851fb38d63b0
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Sun Apr 3 19:04:48 2016 -0700

    MINOR: Clean up of SourceTaskOffsetCommiter
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1170 from Ishiihara/minor-cleanup

commit 3a20ba305517ace78ea5f54554bd3b333f0b7d3d
Author: Paul Cavallaro <paulcavallaro@gmail.com>
Date:   Sun Apr 3 18:14:53 2016 -0700

    MINOR: Fix small typo in design section
    
    Sentence was missing "as", minor grammar clean up.
    
    Author: Paul Cavallaro <paulcavallaro@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1151 from paulcavallaro/docs-fix

commit b94a7812beeb840926871df84838f35ca7b76ffe
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Apr 3 16:34:46 2016 -0700

    KAFKA-3495; NetworkClient.blockingSendAndReceive` should rely on requestTimeout
    
    Also removed the code for handling negative timeouts in `blockingReady` as `Selector.poll` has not supported that for a while.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1177 from ijuma/kafka-3495-blocking-send-and-receive-request-timeout

commit ef3f053155c73af053a36a2e50047c5a49cd30bf
Author: Jason Gustafson <jason@confluent.io>
Date:   Sun Apr 3 13:44:05 2016 -0700

    KAFKA-3419: clarify difference between topic subscription and partition assignment
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ashish Singh, Ismael Juma, Guozhang Wang
    
    Closes #1158 from hachikuji/KAFKA-3419

commit dd5480a47eb0f45214c179b7f14ffaf493164222
Author: Jason Gustafson <jason@confluent.io>
Date:   Sat Apr 2 23:02:19 2016 -0700

    KAFKA-3486: fix autocommit when partitions assigned manually
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1169 from hachikuji/KAFKA-3486

commit bd5325dd8be7c5cf920acee2aa33b3c288bd551a
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Fri Apr 1 17:14:29 2016 -0700

    MINOR: small code optimizations in streams
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1176 from ymatsuda/optimize

commit 75ec67eda833e3da2b5925d11ab043d1ef4be9ba
Author: Flavio Junqueira <fpj@apache.org>
Date:   Fri Apr 1 15:57:39 2016 -0700

    KAFKA-2930: Update references to ZooKeeper in the docs.
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #615 from fpj/KAFKA-2930

commit 89fd97f8c934b99b1ad994e36435e0686ef7b85a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Apr 1 15:25:35 2016 -0700

    KAFKA-2844; Separate keytabs for sasl tests
    
    Use a different keytab for server and client in SASL tests
    
    Also:
    * Improve approach used to build the JAAS files programmatically
    * Delete stale `kafka_jaas.conf` file
    * Move `FourLetterWords` to its own file, add `Zk` prefix and clean-up its usage
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Harsha Chintalapani, Gwen Shapira
    
    Closes #533 from ijuma/separate-keytabs-for-sasl-tests

commit a4d6f1dce5b1d3f45505d732ad3dc9bcb92bfd98
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Apr 1 14:12:49 2016 -0700

    MINOR: Add check for empty topics iterator in ReplicaVerificationTool.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Guozhang Wang, Gwen Shapira
    
    Closes #1167 from SinghAsDev/minorFixRelicaLagTool

commit b865413cd8b71f905ad4ee695f193dcf91ee0595
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Apr 1 13:56:11 2016 -0700

    MINOR: Fix BNF output for protocol arrays conataining primitives in docs
    
    Before this patch arrays containing primitive types were not output:
    ```
    Metadata Request (Version: 0) => [topics]
    ```
    
    After this patch the type is listed:
    ```
    Metadata Request (Version: 0) => [topics]
          topics => STRING
    ```
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ashish Singh, Gwen Shapira
    
    Closes #1174 from granthenke/protocol-arrays

commit ae939467e8aec38f47e2474e74e7ab7ea29c2840
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Apr 1 13:14:47 2016 -0700

    MINOR: add null check for aggregate and reduce operators
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda, Gwen Shapira
    
    Closes #1175 from guozhangwang/KSNullPointerException

commit 77142f6baeb35e6de9608a7372113f72ea330936
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Apr 1 10:52:26 2016 -0700

    KAFKA-2910: Close Zookeeper clients in unit tests
    
    Zookeeper clients that are not closed after the server is shutdown keep trying to reconnect, reloading JAAS configuration. This impacts subsequent tests which rely on JAAS config to be reset.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Flavio Junqueira <fpj@apache.org>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1171 from rajinisivaram/KAFKA-2910

commit 623ab1e7c6497c000bc9c9978637f20542a3191c
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Mar 31 10:07:54 2016 -0700

    KAFKA-3451: Add basic HTML coverage report generation to gradle
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma, Ewen Cheslack-Postava
    
    Closes #1121 from granthenke/coverage

commit 9f6a6f97134a1d4969c91c4b4e9037b376e03440
Author: Ashish Singh <asingh@cloudera.com>
Date:   Wed Mar 30 19:33:37 2016 -0700

    KAFKA-3381: Add system test for SimpleConsumerShell
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Geoff Anderson
    
    Closes #1053 from SinghAsDev/KAFKA-3381

commit 78d91dcd8805d850038df52718380a6f956abad7
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 30 19:30:34 2016 -0700

    KAFKA-3475; Introduce our own `MiniKdc`
    
    This also fixes KAFKA-3453 and KAFKA-2866.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1155 from ijuma/kafka-3475-introduce-our-minikdc

commit 2788f2dc73dd62c35c87842d02d23a0ed6a62e97
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Mar 30 14:26:01 2016 -0700

    MINOR: a simple benchmark for Streams
    
    guozhangwang miguno
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1164 from ymatsuda/perf

commit aaafd23df800d41e4b16fd399015991b2e426dc5
Author: Geoff Anderson <geoff@confluent.io>
Date:   Wed Mar 30 00:50:29 2016 -0700

    MINOR: Advance system test ducktape dependency from 0.3.10 to 0.4.0
    
    Previous version of ducktape was found to have a memory leak which caused occasional failures in nightly runs.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1165 from granders/minor-advance-ducktape-to-0.4.0

commit 27583953528138ff3503fb8f300c97971718e48a
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Mar 29 14:18:57 2016 -0700

    KAFKA-3425: add missing upgrade notes
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Grant Henke, Ashish Singh, Ismael Juma, Guozhang Wang
    
    Closes #1159 from hachikuji/KAFKA-3425

commit 5089f547d5d64a0235e1b4adc327a0cb05eb4ca8
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Mar 29 13:30:56 2016 -0700

    HOTFIX: RocksDBStore must clear dirty flags after flush
    
    guozhangwang
    Without clearing the dirty flags, RocksDBStore will perform flush for every new record. This bug made the store performance painfully slower.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1163 from ymatsuda/clear_dirty_flag

commit 43d5078e981bbb25fd81cdc8ba4c339cd2d3f3d2
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Mar 28 14:35:31 2016 -0700

    MINOR: Remove a couple of redundant `CoreUtils.rm` methods
    
    Also:
    * Rename remaining `CoreUtils.rm` to `delete` for consistency
    * Use `try with resources` in `Utils` to simplify code
    * Silence compiler warning due to exception catch clause in `TestUtils`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1153 from ijuma/remove-redundant-core-utils-rm

commit 4c0660bf3da9879cb405a0f85cf1524511e091e8
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Mar 28 09:00:03 2016 -0700

    MINOR: Fix typo and tweak wording in `RecordAccumulator` comments
    
    This was recently introduced in:
    https://github.com/apache/kafka/commit/1fbe445dde71df0023a978c5e54dd229d3d23e1b
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1152 from ijuma/fix-typos-in-record-accumulator

commit 1fbe445dde71df0023a978c5e54dd229d3d23e1b
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Sat Mar 26 09:22:59 2016 -0700

    KAFKA-3388; Fix expiration of batches sitting in the accumulator
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1056 from becketqin/KAFKA-3388

commit 78fa20eb58a948abd9ad4e44acfed606400a47f3
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Fri Mar 25 16:46:53 2016 -0700

    KAFKA-3316: Add REST API for listing connector plugins
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1090 from Ishiihara/kafka-3316

commit 23b50093f4100ce7fbff325cdc92ee6cf3c54102
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Mar 25 16:04:58 2016 -0700

    KAFKA-3454: add Kafka Streams web docs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1127 from guozhangwang/KStreamsDocs

commit c1d8c38345e0a1e04ced143ed07e63fe02ceb8b0
Author: Andrea Cosentino <ancosen@gmail.com>
Date:   Fri Mar 25 15:00:45 2016 -0700

    KAFKA-3449: Rename filterOut() to filterNot() to achieve better terminology
    
    …nology
    
    Hi all,
    
    This is my first contribution and I hope it will be good.
    
    The PR is related to this issue:
    https://issues.apache.org/jira/browse/KAFKA-3449
    
    Thanks a lot,
    
    Andrea
    
    Author: Andrea Cosentino <ancosen@gmail.com>
    
    Reviewers: Yasuhiro Matsuda, Guozhang Wang
    
    Closes #1134 from oscerd/KAFKA-3449

commit d691faf98cb573c4e92748d95d5c8afc492db806
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Mar 25 12:51:54 2016 -0700

    KAFKA-3463: change default receive buffer size for consumer to 64K
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #1140 from hachikuji/KAFKA-3463

commit d3a66a65365579e9320347663969b30c1148e497
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Mar 25 10:07:05 2016 -0700

    KAFKA-3460: Remove old 0.7 KafkaMigrationTool
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1136 from granthenke/remove-07-migration

commit 2dc17230f90be60c6c08061600fdf79c8e5f5b52
Author: Jeremy Custenborder <jcustenborder@gmail.com>
Date:   Thu Mar 24 11:03:30 2016 -0700

    KAFKA-3407 - ErrorLoggingCallback trims helpful diagnostic information.
    
    This should help when diagnosing issues with the console producer. This allows the logger to use `exception` rather than `exception.getMessage()`.
    
    Author: Jeremy Custenborder <jcustenborder@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1079 from jcustenborder/KAFKA-3407

commit 419e268d6fe9695e31e9be299c99573522a81dd0
Author: Ryan P <Ryan.N.Pridgeon@Gmail.com>
Date:   Thu Mar 24 10:12:19 2016 -0700

    KAFKA-3445: Validate TASKS_MAX_CONFIG's lower bound
    
    Currently the property TASKS_MAX_CONFIG is not validated against nonsensical values such as 0. This patch leverages the Range.atLeast() method to ensure value is at least 1.
    
    Author: Ryan P <Ryan.N.Pridgeon@Gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1132 from rnpridgeon/KAFKA-3445

commit cb78223bf90aca4f75699f36c1a82db7661a62f3
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Mar 23 22:36:19 2016 -0700

    KAFKA-3434; add old constructor to ConsumerRecord
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1123 from hachikuji/KAFKA-3434

commit de062443381df84ee0d65acc20e44ffca2b2552b
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Mar 23 14:57:03 2016 -0700

    MINOR: remove streams-smoke-test.sh
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1125 from ymatsuda/remove_smoketest_shell_script

commit 80d78f81470f109dc6d221f755b039c7332bb93b
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Mar 23 14:25:08 2016 -0700

    HOTFIX: fix NPE in changelogger
    
    Fix NPE in StoreChangeLogger caused by a record out of window retention period.
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1124 from ymatsuda/logger_npe

commit d4d5920ed40736d21f056188efa8a86c93e22506
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 23 13:53:37 2016 -0700

    KAFKA-3432; Cluster.update() thread-safety
    
    Replace `update` with `withPartitions`, which returns a copy instead of mutating the instance.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1118 from ijuma/kafka-3432-cluster-update-thread-safety

commit d57847641037823a7306f53251b063869f7affb6
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Mar 23 12:54:26 2016 -0700

    KAFKA-3441: 0.10.0 documentation still says "0.9.0"
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1122 from granthenke/docs-10

commit 20c313526a0518a51142d3abc5ee2a4d2ef3cb34
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Mar 23 09:47:48 2016 -0700

    KAFKA-3409: handle CommitFailedException in MirrorMaker
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Ashish Singh, Guozhang Wang
    
    Closes #1115 from hachikuji/KAFKA-3409

commit 7af67ce22aa02121d6b82dc54dad42358282e524
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Mar 23 07:15:59 2016 -0700

    KAFKA-3442; Fix FileMessageSet iterator.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1112 from becketqin/KAFKA-3442

commit 255b5e13863a95cfc327236856db2df188f04d49
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Mar 22 19:13:26 2016 -0700

    KAFKA-3431: Remove `o.a.k.common.BrokerEndPoint` in favour of `Node`
    
    Also included a minor efficiency improvement in kafka.cluster.EndPoint.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1105 from ijuma/kafka-3431-replace-broker-end-point-with-node

commit adca4d7df3155ac29ae510c237adf06c9521d221
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Mar 22 18:20:07 2016 -0700

    KAFKA-3447; partitionState in UpdateMetadataRequest not logged properly state-change log
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1117 from ijuma/kafka-3447-metadata-cache-logging

commit 983e9486ef139f8c9797679732d09feb3f7bfb87
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Mar 22 15:01:05 2016 -0700

    KAFKA-3301; CommonClientConfigs.METRICS_SAMPLE_WINDOW_MS_DOC is incor…
    
    …rect
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1114 from granthenke/window-docs

commit d6b450ced57bb5ab8a7164358e6a360f97a7b5cc
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Mar 22 14:09:10 2016 -0700

    KAFKA-3435: Follow up to fix checkstyle
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #1116 from ewencp/kafka-3435-follow-up

commit ad3dfc6ab25c3f80d2425e24e72ae732b850dc60
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Mar 22 13:10:07 2016 -0700

    KAFKA-3219: Fix long topic name validation
    
    This fixes an issue with long topic names by considering, during topic
    validation, the '-' and the partition id that is appended to the log
    folder created for each topic partition.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Gwen Shapira, Grant Henke
    
    Closes #898 from vahidhashemian/KAFKA-3219

commit ca77d67058726fc9df9bdd7cc0217ee62ccc5106
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Mar 22 13:09:13 2016 -0700

    KAFKA-3319: improve session timeout broker/client config documentation
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Grant Henke, Ismael Juma, Guozhang Wang
    
    Closes #1106 from hachikuji/KAFKA-3319

commit 73c79000edddd929cd0af25f4a29fcc682a1c9c0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Mar 22 12:39:04 2016 -0700

    KAFKA-3426; Improve protocol type errors when invalid sizes are received
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke, Gwen Shapira
    
    Closes #1100 from ijuma/kafka-3426-invalid-protocol-type-errors-invalid-sizes

commit 73470b028cd659c1c405e6b6ba52bf483113b90b
Author: gaob13 <gaob13@mails.tsinghua.edu.cn>
Date:   Tue Mar 22 11:58:01 2016 -0700

    MINOR: Remove the very misleading comment lines
    
    It is not true in practice. Maybe the implied feature is not yet implemented or removed.
    These lines can be super misleading.
    
    Please merge.
    Thank you.
    
    Author: gaob13 <gaob13@mails.tsinghua.edu.cn>
    
    Reviewers: Ismael Juma, Ewen Cheslack-Postava
    
    Closes #793 from gaob13/trunk

commit 99cfb99aa161007f2ceae33945d11b968d932175
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Mar 22 11:53:12 2016 -0700

    KAFKA-3435: Remove `Unstable` annotation from new Java Consumer
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1113 from granthenke/remove-unstable

commit 8d8e3aaa6172d314230a8d61e6892e9c09dc45b6
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Mar 21 20:47:25 2016 -0700

    KAFKA-3412: multiple asynchronous commits causes send failures
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1108 from hachikuji/KAFKA-3412

commit 4f0417931a71a974241e685031f2a5f1680e9b51
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Mar 21 13:40:59 2016 -0700

    MINOR: update new version in additional places
    
    Note: This goes only to trunk. 0.10.0 branch will need a separate PR with different versions.
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1109 from gwenshap/minor-fix-version-trunk

commit 69df734470f1db9ba1732cb4bedaa1541d721103
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Mar 21 13:15:53 2016 -0700

    MINOR: fix documentation version
    
    This will need to be double-committed.
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1107 from gwenshap/fix-doc-version

commit b6c29e3810bd59f39fa93c429817396cf8c324b7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Mar 21 12:06:07 2016 -0700

    MINOR: Add InterfaceStability.Unstable annotations to some Kafka Streams public APIs
    
    Also improves Java docs for the Streams high-level DSL.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma, Michael G. Noll
    
    Closes #1097 from guozhangwang/KNewJavaDoc

commit 702d560c555bf7121eca02010adedd4986e36b87
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Mar 21 09:53:17 2016 -0700

    Changing version to 0.10.1.0-SNAPSHOT

commit 4f048c4f194a90ded5f0df35e4e23379272d5bc6
Author: Grant Henke <granthenke@gmail.com>
Date:   Sun Mar 20 20:19:54 2016 -0700

    MINOR: Fix FetchRequest.getErrorResponse for version 1
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1091 from granthenke/fetch-error

commit 95eabc8c8b383af84466d4c2cfafd0920e5a52ee
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sun Mar 20 19:58:31 2016 -0700

    KAFKA-3378; Follow-up to ensure we `finishConnect` for immediately connected keys
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Larkin Lowrey <llowrey@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #1103 from ijuma/kafka-3378-follow-up

commit c188a68e2b487191f1f3004e22b68c21e26c3f2e
Author: Geoff Anderson <geoff@confluent.io>
Date:   Sun Mar 20 16:46:42 2016 -0700

    MINOR: Add vagrant up wrapper for simple parallel bringup on aws
    
    The main impediment to bringing up aws machines in parallel using vagrant was the interaction between `vagrant-hostmanager` and `vagrant-aws`. If you disable hostmanager during the `up` phase, and run it after the cluster is up, parallel bringup is possible. The only caveat is that machines must be brought up in small-ish batches to prevent rate limit errors from AWS since `vagrant-aws` doesn't seem to have mechanisms to
    
    This PR:
    - disables `vagrant-hostmanager` during bringup
    - adds a wrapper script to make it convenient to bring machines up in batches on aws
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #982 from granders/vagrant-disable-hostmanager

commit bfac36ad0e378b5f39e3889e40a75c5c1fc48fa7
Author: Grant Henke <granthenke@gmail.com>
Date:   Sun Mar 20 00:46:12 2016 -0700

    KAFKA-3328: SimpleAclAuthorizer can lose ACLs with frequent add/remov…
    
    …e calls
    
    Changes the SimpleAclAuthorizer to:
    - Track and utilize the zookeeper version when updating zookeeper to prevent data loss in the case of stale reads and race conditions
    - Update local cache when modifying ACLs
    - Add debug logging
    
    Author: Grant Henke <granthenke@gmail.com>
    Author: Grant Henke <granthenke@users.noreply.github.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Flavio Junqueira, Jun Rao, Ismael Juma, Gwen Shapira
    
    Closes #1006 from granthenke/simple-authorizer-fix

commit eb823281a52f3b27c3a889e7412bc07b3024e688
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sat Mar 19 18:39:52 2016 -0700

    KAFKA-3424: Add CORS support to Connect REST API
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #1099 from ewencp/cors-rest-support

commit 655367971875a8d6a079ff7d186c05a6b76a9c53
Author: Jun Rao <junrao@gmail.com>
Date:   Sat Mar 19 18:04:56 2016 -0700

    KAFKA-3427: broker can return incorrect version of fetch response when the broker hits an unknown exception
    
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Ismael Juma, Becket Qin
    
    Closes #1101 from junrao/kafka-3427

commit b6c6291e1f42b2ca1fbcdaf662a2a868c8881921
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Mar 18 16:13:33 2016 -0700

    KAFKA-3378; Client blocks forever if SocketChannel connects instantly
    
    This is a different implementation to the one in #1085 by Larkin Lowrey (llowrey). The hard part here was actually finding the problem and all credit goes to llowrey.
    
    This PR also fixes our handling of `finishConnect` (we now check the return value).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao
    
    Closes #1094 from ijuma/KAFKA-3378-instantly-connecting-socket-channels

commit 4332175c11dda5deb491f27a6ecf66661676ca47
Author: Pierre-Yves Ritschard <pyr@spootnik.org>
Date:   Fri Mar 18 16:07:20 2016 -0700

    KAFKA-3006: standardize KafkaConsumer API to use Collection
    
    Author: Pierre-Yves Ritschard <pyr@spootnik.org>
    
    Reviewers: Jason Gustafson, Gwen Shapira
    
    Closes #1098 from hachikuji/KAFKA-3006

commit 07360cb0d24b18f6f7c8a35d437c7cb2b0142506
Author: Xin Wang <best.wangxin@163.com>
Date:   Fri Mar 18 13:43:13 2016 -0700

    KAFKA-3397: use -1(latest) as time default value for tools.GetOffsetShell
    
    minor fix for prompt the user, or we will get a error message:
    >Missing required argument "[time]"
    
    Author: Xin Wang <best.wangxin@163.com>
    
    Reviewers: Ashish Singh, Guozhang Wang
    
    Closes #1068 from vesense/patch-4

commit d9bf55171ba41962edc05cdf106f540cf94a2c3e
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Mar 18 13:37:33 2016 -0700

    KAFKA-3394; allow null offset metadata in commit API
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <me@ewencp.org>, Jun Rao <junrao@gmail.com>
    
    Closes #1064 from hachikuji/KAFKA-3394

commit 5d0cd7667f7e584f05ab4e76ed139fbafa81e042
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Mar 18 12:39:41 2016 -0700

    KAFKA-3422: Add overloading functions without serdes in Streams DSL
    
    Also include:
    
    1) remove streams specific configs before passing to producer and consumer to avoid warning message;
    2) add `ConsumerRecord` timestamp extractor and set as the default extractor.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Michael G. Noll, Ewen Cheslack-Postava
    
    Closes #1093 from guozhangwang/KConfigWarn

commit 0d8cbbcb208ccaf1cb84df0440331d4cef064391
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Fri Mar 18 12:01:56 2016 -0700

    HOTFIX: Renamed tests to match expected suffix
    
    ewencp gwenshap granders could you have a look please? Thanks.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confuent.io>
    
    Closes #1096 from enothereska/systest-hotfix-name

commit e89a9ce1a4383af32435c7f4ee04361b1b65797d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Mar 17 18:12:40 2016 -0700

    KAFKA-2982; Mark the old Scala producer and related classes as deprecated
    
    Also update server tests to always use new producer.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1092 from ijuma/kafka-2982-deprecate-old-producers

commit dea0719e99211684775780f5da8b93835d7a5dac
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 17 15:41:59 2016 -0700

    KAFKA-3336: Unify Serializer and Deserializer into Serialization
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Michael G. Noll, Ismael Juma
    
    Closes #1066 from guozhangwang/K3336

commit f57dabbe56b3db40c06a1946d4cecd0a144b6ac4
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Mar 17 15:37:37 2016 -0700

    KAFKA-3202: System test that changes message version on the fly
    
    becketqin apovzner please have a look. becketqin the test fails when the producer and consumer are 0.9.x and the message format changes on the fly.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Ismael Juma, Gwen Shapira
    
    Closes #1070 from enothereska/kafka-3202-format-change-fly

commit 579d473ce9c5ef1a442af734e362dd545e5ab988
Author: Dong Lin <lindong28@gmail.com>
Date:   Thu Mar 17 15:21:20 2016 -0700

    KAFKA-3330; Truncate log cleaner offset checkpoint if the log is truncated
    
    becketqin Can you take a look?
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1009 from lindong28/KAFKA-3330

commit 61281f5c53ebe130defa881f32084c581cf16d43
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Mar 17 14:14:12 2016 -0700

    KAFKA-3250: release tarball is unnecessarily large due to duplicate l…
    
    …ibraries
    
    This ensures duplicates are not copied in the distribution without rewriting all of the tar'ing logic. A larger improvement could be made to the packaging code, but that should be tracked by another jira.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma
    
    Closes #1075 from granthenke/libs-duplicates

commit 3f28d77449bd3280f53edab81657e6c2a37f3c3e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Mar 17 13:59:56 2016 -0700

    KAFKA-3373; MINOR: follow-up, a few val renames remaining
    
    I also slightly tweaked the wording on a couple of warnings.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1072 from ijuma/kafka-3373-follow-up

commit 8ef804dc194bb562b6dbe48855e81965cacd1114
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Mar 17 13:56:27 2016 -0700

    KAFKA-3414; Return of MetadataCache.getAliveBrokers should not be mutated by cache updates
    
    `Map.values` returns `DefaultValuesIterable` where the default implementation of `toSeq` is (sadly) `toStream`. `Stream` is a lazy collection and it can reflect changes to the underlying map before it's `forced`.
    
    I verified that the test failed before my change.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1088 from ijuma/kafka-3414-get-alive-brokers-no-mutation

commit c07d017227f319250e5c373f8a6f504874ecfbf2
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Thu Mar 17 13:26:02 2016 -0700

    KAFKA-3315: Add REST and Connector API to expose connector configuration
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #964 from Ishiihara/expose-connector-config

commit a1eb12d7c6ad9422b9cf24b670d1b4c11227b03e
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Mar 17 13:17:01 2016 -0700

    KAFKA-3188: Compatibility test for old and new clients with 0.10 broker
    
    apovzner becketqin please have a look if you can. Thanks.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Anna Povzner, Gwen Shapira
    
    Closes #1059 from enothereska/kafka-3188-compatibility

commit 30e78fa00650b258f3ab5ef6c9bdf5ca137289c0
Author: edoardo <ecomar@uk.ibm.com>
Date:   Thu Mar 17 12:33:47 2016 -0700

    KAFKA-2832: Add a consumer config option to exclude internal topics
    
    A new consumer config option 'exclude.internal.topics' was added to
    allow excluding internal topics when wildcards are used to specify
    consumers.
    The new option takes a boolean value, with a default 'false' value (i.e.
    no exclusion).
    
    This patch is co-authored with rajinisivaram edoardocomar mimaison
    
    Author: edoardo <ecomar@uk.ibm.com>
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Ismael Juma, Jun Rao, Gwen Shapira
    
    Closes #1082 from edoardocomar/KAFKA-2832

commit dce06766da245ca95951c9c7e82d6a113db7cb13
Author: Drausin Wulsin <daedalus2718@gmail.com>
Date:   Thu Mar 17 10:52:33 2016 -0700

    KAFKA-3392: ConsumerRecords iterator throws NoSuchElementException when a TopicPartition is empty
    
    This contribution is my original work, and I license it under the project's open source license.
    
    CC jkreps
    
    Author: Drausin Wulsin <daedalus2718@gmail.com>
    Author: John Doe <daedalus2718@gmail.com>
    
    Reviewers: Jason Gustafson
    
    Closes #1055 from drausin/bugfix/consumer-records-iterator

commit 958e10c87ce293c3bf59bb9840eaaae915eff25e
Author: Michael G. Noll <michael@confluent.io>
Date:   Thu Mar 17 10:41:48 2016 -0700

    KAFKA-3411: Streams: stop using "job" terminology, rename job.id to application.id
    
    guozhangwang ymatsuda : please review.
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1081 from miguno/KAFKA-3411

commit 9a836d0154efe6ea1effc688567186cb56265bf4
Author: Anna Povzner <anna@confluent.io>
Date:   Wed Mar 16 17:29:29 2016 -0700

    KAFKA-3303; Pass partial record metadata to ProducerInterceptor.onAcknowledgement on error
    
    This is a KIP-42 followup.
    
    Currently, If sending the record fails before it gets to the server, ProducerInterceptor.onAcknowledgement() is called with metadata == null, and non-null exception. However, it is useful to pass topic and partition, if known, to ProducerInterceptor.onAcknowledgement() as well. This patch ensures that  ProducerInterceptor.onAcknowledgement()  gets record metadata with topic and maybe partition. If partition is not set in 'record' and KafkaProducer.send() fails before partition gets assigned, then ProducerInterceptor.onAcknowledgement() gets RecordMetadata with partition == -1. Only time when  ProducerInterceptor.onAcknowledgement() gets null record metadata is when the client passes null record to KafkaProducer.send().
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ashish Singh <asingh@cloudera.com>, Jun Rao <junrao@gmail.com>
    
    Closes #1015 from apovzner/kip42-3

commit 858047a12ba3a7d426178c63226dd2c7509f20dd
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 16 16:15:55 2016 -0700

    KAFKA-3402; Restore behaviour of MetadataCache.getTopicMetadata when unsupported security protocol is received
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson, Grant Henke
    
    Closes #1073 from ijuma/kafka-3402-restore-get-topic-metadata-behaviour

commit cd8bd606cbf63f37eaee448ffbbab01ce3e0e7db
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Mar 16 15:07:37 2016 -0700

    KAFKA-3403: Upgrade ZkClient to 0.8
    
    This ZkClient version adds authentication validation and a conditional delete method needed for other patches
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #1084 from granthenke/zkclient-08

commit b0f811804fb818792dfc55298bd11eacd19dec5c
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Mar 16 08:47:38 2016 -0700

    KAFKA-3371: ClientCompatibilityTest system test failing
    
    becketqin have a look if this looks reasonable to you. Thanks.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1051 from enothereska/kafka-3371

commit 6834b91e349f2ed4b8ff5c97eb3b0c390bc27648
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Mar 16 08:24:18 2016 -0700

    MINOR: KAFKA-3260 follow up, fix commitRecord calls in tests
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1080 from ewencp/minor-kafka-3260-followup-tests

commit 6eacc0de303e4d29e083b89c1f53615c1dfa291e
Author: Jeremy Custenborder <jcustenborder@gmail.com>
Date:   Tue Mar 15 14:32:22 2016 -0700

    KAFKA-3260 - Added SourceTask.commitRecord
    
    Added commitRecord(SourceRecord record) to SourceTask. This method is called during the callback from producer.send() when the message has been sent successfully. Added commitTaskRecord(SourceRecord record) to WorkerSourceTask to handle calling commitRecord on the SourceTask. Updated tests for calls to commitRecord.
    
    Author: Jeremy Custenborder <jcustenborder@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #950 from jcustenborder/KAFKA-3260

commit fd6efbe0b7f18beb506f112350b30b7209a2f5cc
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Mar 15 13:37:33 2016 -0700

    MINOR: Remove unused import in `WordCountJob` to fix checkstyle failure
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1077 from ijuma/fix-streams-checkstyle-failure

commit 90c623d10f1c081e41f151eb28524f0fb57609c7
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Mar 15 12:15:15 2016 -0700

    MINOR: Add test that verifies fix for KAFKA-3047
    
    Also clean-up `LogTest` a little.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #1071 from ijuma/kafka-3047-explicit-offset-assignment-corrupt-log-test

commit 355076cd262dd071287a1c8586ae0f9635e218e3
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Mar 15 12:08:26 2016 -0700

    MINOR: kstream/ktable counting method with default long serdes
    
    guozhangwang miguno
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Michael G. Noll, Guozhang Wang
    
    Closes #1065 from ymatsuda/count_serdes

commit 951e30adc6d4a0ed37dcc3fde0050ca5faff146d
Author: Allen Wang <awang@netflix.com>
Date:   Tue Mar 15 10:03:03 2016 -0700

    KAFKA-1215; Rack-Aware replica assignment option
    
    Please see https://cwiki.apache.org/confluence/display/KAFKA/KIP-36+Rack+aware+replica+assignment for the overall design.
    
    The update to TopicMetadataRequest/TopicMetadataResponse will be done in a different PR.
    
    Author: Allen Wang <awang@netflix.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>,       Grant Henke <granthenke@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #132 from allenxwang/KAFKA-1215

commit deb2b004cb983baa9e2fbff47b39a6f9a243623d
Author: MayureshGharat <gharatmayuresh15@gmail.com>
Date:   Mon Mar 14 19:22:05 2016 -0700

    KAFKA-3013: Display the topic-partition in the exception message for expired batches in recordAccumulator
    
    Added topic-partition information to the exception message on batch expiry in RecordAccumulator
    
    Author: MayureshGharat <gharatmayuresh15@gmail.com>
    
    Reviewers: Gwen Shapira, Lin Dong, Ismael Juma
    
    Closes #695 from MayureshGharat/kafka-3013

commit 241c3ebb2803f1e09306fb06f20a66e7a60ca3c8
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Mar 14 19:14:36 2016 -0700

    KAFKA-3375; Suppress deprecated warnings where reasonable and tweak compiler settings
    
    * Fix and suppress number of unchecked warnings (except for Kafka Streams)
    * Add `SafeVarargs` annotation to fix warnings
    * Suppress unfixable deprecation warnings
    * Replace deprecated by non-deprecated usage where possible
    * Avoid reflective calls via structural types in Scala
    * Tweak compiler settings for scalac and javac
    
    Once we drop Java 7 and Scala 2.10, we can tweak the compiler settings further so that they warn us about more things.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke, Gwen Shapira, Guozhang Wang
    
    Closes #1042 from ijuma/kafka-3375-suppress-depreccated-tweak-compiler

commit ffbe624e6f4906c55080508fab19ac60dc93761e
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Mon Mar 14 19:13:26 2016 -0700

    KAFKA-3373; add 'log' prefix to configurations in KIP-31/32
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1049 from becketqin/KAFKA-3373

commit cf40acc2b17cf6d32cee712dad6c88a851ae0715
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Mon Mar 14 15:09:47 2016 -0700

    MINOR: Remove unused method, redundant in interface definition and add final for object used in sychronization
    
    guozhangwang Very minor cleanup.
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1063 from Ishiihara/minor-cleanup

commit c1a56c6839e77f3de5266315a92b236a379ec857
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Mar 14 14:50:24 2016 -0700

    KAFKA-3395: prefix job id to internal topic names
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1062 from ymatsuda/k3395

commit ac7b2e95d342972e3499d203bc23e1675e90c591
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Sun Mar 13 20:32:47 2016 -0700

    KAFKA-2551; Update Unclean leader election docs
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <mail@harsha.io>
    
    Closes #1054 from omkreddy/KAFKA-2551

commit c9311d5f4ec3b135cb6c0f87008da946863daaa2
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Mar 11 17:53:32 2016 -0800

    KAFKA-3047: Explicit offset assignment in Log.append can corrupt the log
    
    This fix was suggested by Maciek Makowski, who also reported the problem.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1029 from ijuma/KAFKA-3047-log-append-can-corrupt-the-log

commit a162f6bf66d0d21505c8d11942f84be446616491
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Mar 11 12:17:45 2016 -0800

    KAFKA-3380; Add system test for GetOffsetShell tool
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1048 from SinghAsDev/KAFKA-3380

commit 02d4da5f64989b41358cdfd94d95b94fb4e20198
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Mar 11 11:22:15 2016 -0800

    KAFKA-2960 KAFKA-1148; Clear purgatory for partitions before becoming follower
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Aditya Auradkar <aauradkar@linkedin.com>, Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy.w@gmail.com>, Jun Rao <junrao@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1018 from becketqin/KAFKA-2960

commit 764d8ca9eb0aba6099ba289a10f437e72b53ffec
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Mar 11 11:11:59 2016 -0800

    KAFKA-2073: migrate to client-side topic metadata request/response
    
    Author: Jason Gustafson <jason@confluent.io>
    Author: Ismael Juma <ismael@juma.me.uk>
    Author: hachikuji <jason@confluent.io>
    
    Reviewers: Grant Henke, Ismael Juma, Gwen Shapira, Flavio Junquiera
    
    Closes #988 from hachikuji/KAFKA-2073

commit 287cce251f7d5471946d550031147aaab4e7ca26
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Fri Mar 11 10:56:21 2016 -0800

    MINOR: update compression design doc to include lz4 protocol
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #1040 from omkreddy/MINOR-DOC

commit 9c4c5ae1cd15aa0afe3156e572362fbb40130573
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 10 14:54:47 2016 -0800

    MINOR: Add unit test for internal topics
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda <yasuhiro@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1047 from guozhangwang/KInternal

commit 04ef9c35479f5cf92df3b74a7379ce77dc809243
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Thu Mar 10 12:13:04 2016 -0800

    MINOR: Increased default EC2 instance size
    
    AWS instance size increased to m3.xlarge to allow all system tests to pass. ijuma ewencp have a look please.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1046 from enothereska/minor-aws

commit e403b3c4bf8ca308fe180b093da20700f4db73c5
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Mar 10 11:29:08 2016 -0800

    KAFKA-3318: clean up consumer logging and error messages
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma
    
    Closes #1036 from hachikuji/KAFKA-3318

commit 6eb061fa85de1b5346eb2652622c9c60f7f3baf1
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Thu Mar 10 11:12:07 2016 -0800

    MINOR: Fix system test broken by change of consumer group tool output format
    
    … format
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1039 from gwenshap/minor-consumer-groups

commit 1a451b4812ae2502bb6bc105e77eb00175a76ec5
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Mar 10 10:44:58 2016 -0800

    MINOR: Add header and footer to protocol docs
    
    Because protocol.html is going to be in its own page it needs the header and footer included.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1043 from granthenke/protocol-docs-style

commit 83f714bae11f9bca0f1cedb8a68e73a1dd637ade
Author: Ashish Singh <asingh@cloudera.com>
Date:   Wed Mar 9 23:55:22 2016 -0800

    KAFKA-3344: Remove previous system test's leftover test-log4j.properties
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1024 from SinghAsDev/KAFKA-3344

commit df41bc544aea91fd1e2d5258ebf1b99347700731
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Mar 9 21:55:05 2016 -0800

    MINOR: KAFKA-3361 follow up
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1037 from granthenke/protocol-minor

commit f0a4125d3edf4ff28399584e7800addc026f5d08
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Mar 9 21:13:54 2016 -0800

    KAFKA-3361: Initial protocol documentation page and generation
    
    - Moves all generated docs under /docs/generated
    - Generates docs for Protocol, Errors, and ApiKeys
    - Adds new protocol.html page
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #970 from granthenke/protocol-doc-wip

commit ee9995583ad74277464d3e9cb669a7c96c07f70b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 9 17:57:24 2016 -0800

    KAFKA-3357; Update to Scala 2.11.8
    
    Scala 2.11.8 has been released with a number of bug fixes:
    * http://www.scala-lang.org/news/2.11.8/
    
    There are a few important collection fixes:
    * https://issues.scala-lang.org/browse/SI-9497
    * https://github.com/scala/scala/pull/4714
    * https://github.com/scala/scala/pull/4693
    
    And also some pattern matcher fixes.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke, Ashish Singh
    
    Closes #1032 from ijuma/kafka-3357-update-to-scala-2.11.8

commit 818080312364940e4a6e964c22ec54e133b8ec02
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 9 14:19:57 2016 -0800

    KAFKA-3352: Avoid DNS reverse lookups
    
    By using `getHostString` (introduced in Java 7) instead of `getHostName`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson, Grant Henke
    
    Closes #1030 from ijuma/kafka-3352-avoid-dns-reverse-look-ups

commit 59d19cf3e9dce777e5c7bb333c0836adf9da80e1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Mar 9 09:24:18 2016 -0800

    MINOR: Update gradlew.bat as per latest gradle release
    
    When invoking `gradle` on a recent version, it updates `gradlew.bat` to fix a typo. It's an annoyance at development time as it causes a diff on whatever branch one is working on.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1034 from ijuma/update-gradlew.bat

commit 324b0c85f603005dceee69033b8fbffc7ef95281
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Mar 8 23:40:09 2016 -0800

    KAFKA-3279: Remove checks for JAAS system property
    
    JAAS configuration may be set using other methods and hence the check for System property doesn't  always match where the actual configuration used by Kafka is loaded from.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <harsha@hortonworks.com>, Flavio Junqueira <fpj@apache.org>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #967 from rajinisivaram/KAFKA-3279

commit 689309135b3d75c2c6e7b215aca2e8d42b435877
Author: Matthias J. Sax <mjsax@apache.org>
Date:   Tue Mar 8 22:53:34 2016 -0800

    MINOR: Clean up of ProducerConfig documentation, including correction for block.on.buffer.full
    
    default value is "false" and not "true"
    
    See: https://stackoverflow.com/questions/35578519/kafka-block-on-buffer-full-default-value
    and https://github.com/apache/kafka/blob/d5b43b19bb06e9cdc606312c8bcf87ed267daf44/clients/src/main/java/org/apache/kafka/clients/producer/ProducerConfig.java#L232
    
    Author: mjsax <mjsax@apache.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #954 from mjsax/hotfix-docu

commit 090d7220e2c0c4c8a39c388043c6032386ea024f
Author: Jeremy Custenborder <jcustenborder@gmail.com>
Date:   Tue Mar 8 21:56:33 2016 -0800

    KAFKA-3237: Allow ConfigDef options with no default and validator
    
    Remove test cases testInvalidDefaultRange() and testInvalidDefaultString(). Defaults if not overridden will get checked on parse. Testing the defaults is unnecessary. This allows you to set that a parameter is required while setting a validator for that parameter. Added a test case testNullDefaultWithValidator that allows a null default with a validator for certain strings.
    
    Author: Jeremy Custenborder <jcustenborder@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #936 from jcustenborder/KAFKA-3237

commit 39f1c3ff83879e3d00ea4567db15181c746deba2
Author: Geoff Anderson <geoff@confluent.io>
Date:   Tue Mar 8 21:40:40 2016 -0800

    MINOR: Ignoring streams tests until there is fix for KAFKA-3354
    
    Per discussion with guozhangwang, `ignore` failing streams system tests until fix for KAFKA-3354 is checked in.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #1031 from granders/ignore-streams-systest

commit c4282371d954d7ae6decd32252d85f0d2a254e8c
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Mar 8 18:34:07 2016 -0600

    KAFKA-3343; Use NoTimestamp in GroupMetadataManager when message v0 i…
    
    …s used.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #1023 from becketqin/KAFKA-3343

commit 5afa1660103df8aecbf7558e761418944fb5905a
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Mar 8 14:06:53 2016 -0800

    KAFKA-3197; Fix producer sending records out of order
    
    This patch reuse max.in.flight.request.per.connection. When it equals to one, we take it as user wants order protection. The current approach is make sure there is only one batch per partition on the fly.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Aditya Auradkar <aauradkar@linkedin.com>, Jason Gustafson <jason@confluent.io>, Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy.w@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #857 from becketqin/KAFKA-3197

commit f6e35dec9bf330c3531fd95c6566070d4ddf0457
Author: Anna Povzner <anna@confluent.io>
Date:   Mon Mar 7 23:18:17 2016 -0800

    KAFKA-3201: Added rolling upgrade system tests from 0.8 and 0.9 to 0.10
    
    Three main tests:
    1. Setup: Producer (0.8) → Kafka Cluster → Consumer (0.8)
    First rolling bounce: Set inter.broker.protocol.version = 0.8 and message.format.version = 0.8
    Second rolling bonus, use latest (default) inter.broker.protocol.version and message.format.version
    2. Setup: Producer (0.9) → Kafka Cluster → Consumer (0.9)
    First rolling bounce: Set inter.broker.protocol.version = 0.9 and message.format.version = 0.9
    Second rolling bonus, use latest (default) inter.broker.protocol.version and message.format.version
    3. Setup: Producer (0.9) → Kafka Cluster → Consumer (0.9)
    First rolling bounce: Set inter.broker.protocol.version = 0.9 and message.format.version = 0.9
    Second rolling bonus: use inter.broker.protocol.version = 0.10 and message.format.version = 0.9
    
    Plus couple of variations of these tests using old/new consumer and no compression / snappy compression.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #980 from apovzner/kafka-3201-02

commit 8d0c298c8c3283a7f8cffc4f68b3af87b0588e07
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Mar 7 18:33:52 2016 -0800

    KAFKA-2068; KAFKA-2069; Replace OffsetCommit and OffsetFetch Request/…
    
    …Response with o.a.k.c.requests equivalent
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #927 from granthenke/offset-refactor

commit 2fed0c62db0dac5a43c2bd29555f09010bfc74ec
Author: Christian Posta <christian.posta@gmail.com>
Date:   Mon Mar 7 18:30:01 2016 -0800

    MINOR: tidy up spacing for ConsumerGroupCommand related to KAFKA-1476 …
    
    https://issues.apache.org/jira/browse/KAFKA-1476
    
    Let me know if these kind of contributions should have their own requisite JIRA opened in advance.
    
    Cheers..
    
    Author: Christian Posta <christian.posta@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #945 from christian-posta/ceposta-tidy-up-consumer-groups-describe

commit 33fcaad26ed2b48dcc3a41c1c71d95eeb3779168
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Mar 7 18:24:16 2016 -0800

    MINOR: Remove usage of deprecated junit.framework.Assert
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #938 from granthenke/junit-dep

commit 94c234341907b705ec34dd2b390899435286e242
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Mar 7 11:34:12 2016 -0800

    KAFKA-3341: Improve error handling on invalid requests
    
    * Include request id when parsing of request header fails
    * Don't mute selector on a connection that was closed due to an error (otherwise a second exception is thrown)
    * Throw appropriate exception from `ApiKeys.fromId` if invalid id is passed
    * Fail fast in `AbstractRequest.getRequest` if we fail to handle an instance of `ApiKeys` (if this happens, it's a programmer error and the code in `getRequest` needs to be updated)
    
    I ran into the top two issues while trying to figure out why a connection from a producer to a broker was failing (and it made things harder than necessary). While fixing them, I noticed the third and fourth issues.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #1017 from ijuma/kafka-3341-improve-error-handling-invalid-requests

commit 5761a9ec7285cae9167fcb10f0e800e2a048511a
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Mon Mar 7 11:32:34 2016 -0800

    MINOR: streams javadoc corrections
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1019 from omkreddy/JAVADOC

commit 25bde48e6a43b0a2c1c9430eb560b43e160ae3ea
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon Mar 7 11:28:41 2016 -0800

    KAFKA-3339: Fix java docs for seekToEnd and seekToBeginning.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira
    
    Closes #1021 from SinghAsDev/KAFKA-3339

commit 33f33075468f53bf6d4d1bd79fdb64443ca30dfa
Author: Yifan Ying <yying@fitbit.com>
Date:   Sat Mar 5 15:17:21 2016 -0800

    KAFKA-3233: expose consumer per-topic metrics
    
    In version of 0.8.2.1, the old consumer will provide the metrics reporter per-topic consumer metrics under group 'ConsumerTopicMetrics'. For example:
    
    *.ConsumerTopicMetrics.clientId.[topic name].BytesPerSec.count
    *.ConsumerTopicMetrics.clientId.[topic name].MessagesPerSec.count
    
    These consumer metrics are useful since it helps us monitor consumer rate for each topic. But the new consumer(0.9.0.0) doesn't expose per topic metrics anymore, even though I did find sensor objects in consumer metrics object collecting per-topic metrics.
    
    After investigation, I found that these sensors are not registering any KafkaMetrics.
    
    Author: Yifan Ying <yying@fitbit.com>
    
    Reviewers: Grant Henke, Jason Gustafson, Guozhang Wang
    
    Closes #939 from happymap/KAFKA-3233

commit b7d6fae59ed782833981675efa0304ce2b12a59e
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Fri Mar 4 14:21:22 2016 -0800

    KAFKA-3299: Ensure that reading config log on rebalance doesn't hang the herder
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #981 from gwenshap/KAFKA-3299

commit 6d65edebae5a834fe58d4a29b74267eb34bec065
Author: Michael G. Noll <michael@confluent.io>
Date:   Fri Mar 4 10:28:55 2016 -0800

    HOTFIX: Generate javadocs for all Streams packages with the exception of internals
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Eno Thereska, Gwen Shapira
    
    Closes #1013 from miguno/trunk-streams-javadocs-fixes

commit f7887bd6f9db578a5a3ee04606bb4f3a74528eb8
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Thu Mar 3 17:41:47 2016 -0800

    KAFKA-3281: Improve message of *-server-stop.sh when process is not running
    
    Stop scritps such as kafka-server-stop.sh log messages of kill command's error when processes aren't running.
    This PR changes this message to "No kafka server to stop".
    
    Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
    
    Reviewers: Gwen Shapira
    
    Closes #971 from sasakitoa/stop_scripts_says_not_good_message

commit d63bdc28cad57bb1cb38598c4ec5c0ef27113a8c
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Mar 3 17:34:38 2016 -0800

    KAFKA-3187: Make kafka-acls.sh help messages more generic.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira
    
    Closes #892 from SinghAsDev/KAFKA-3187

commit 5d893654489647e8be65c4d54864ab63b7285faa
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Thu Mar 3 16:16:56 2016 -0800

    KAFKA-3310; Fix for NPEs observed when throttling clients.
    
    The fix basically ensures that the throttleTimeSensor is non-null before handing off to record the metric value. We also record the throttle time to 0 so that we don't recreate the sensor always.
    
    Author: Aditya Auradkar <aauradkar@linkedin.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #989 from auradkar/KAFKA-3310

commit f25fe02d994a663b6a5a0d01ea290785d63e1e52
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Mar 3 15:10:16 2016 -0800

    KAFKA-3286: Add plugin to quickly check for outdated dependencies
    
    Adds a gradle task to generate a report of outdate release dependencies:
    `gradle dependencyUpdates`
    
    Updates a few minor versions.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #973 from granthenke/outdated-deps

commit 7079f57f70dfb5e731baf0a19bbf16e7364c15bb
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Mar 3 14:58:43 2016 -0800

    KAFKA-3290: fix race condition with worker task shutdown and mock validation
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #1008 from hachikuji/KAFKA-3290-REVISITED

commit c8b6c18f68b9efbbd5e349885d301c47baabcd98
Author: Michael G. Noll <michael@confluent.io>
Date:   Thu Mar 3 13:41:17 2016 -0800

    HOTFIX: Include RocksDB dependency in release tarballs
    
    Without this change `./gradlew releaseTarGz` (and its variants) will not include the RocksDB jar, which is required for Kafka Streams, in Kafka's `libs/` folder.  The impact is that any Streams job will fail when it runs against a broker that was installed via a release tarball.
    
    guozhangwang junrao : please review.
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #1007 from miguno/trunk-rocksdb-fixes

commit ae1fd085873c5119609df5120c02763c5ae48142
Author: Duncan Sands <baldrick@free.fr>
Date:   Thu Mar 3 11:47:33 2016 -0800

    KAFKA-3325: Out of date instructions in quickstart guide
    
    Adjust the listeners property rather than the port.  Following the original instructions would result in all of the brokers being started with the same listeners setting, and so fail to work.
    
    Author: Duncan Sands <baldrick@free.fr>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #1002 from CunningBaldrick/quickstart

commit 291f430d9c13227cc30a11939cc550057c583b20
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Thu Mar 3 11:46:16 2016 -0800

    MINOR: Fix typos in docs
    
    Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
    
    Reviewers: Gwen Shapira
    
    Closes #1003 from sasakitoa/Fix_typo_in_docs

commit 0d49a542691ff5983e72e4c42ec1d356c6ce9268
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Mar 3 11:43:09 2016 -0800

    KAFKA-3314: Add CDDL license to LICENSE and NOTICE file
    
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Guozhang Wang, Ismael Juma, Gwen Shapira
    
    Closes #997 from junrao/kafka-3314

commit 1d19ac9fea5b3344a0cdd00ee8c58ab8a22a5579
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 3 08:57:21 2016 -0800

    HOTFIX: Avoid NPE in StreamsPartitionAssignor
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Michael G. Noll <michael@confluent.io>
    
    Closes #1004 from guozhangwang/KStreamPANPE

commit 079c88178dff4b3a4c9de55629e7d15b60e5f562
Author: jinxing <jinxing@fenbi.com>
Date:   Thu Mar 3 08:54:37 2016 -0800

    KAFKA-2934; Offset storage file configuration in Connect standalone mode is not included in StandaloneConfig
    
    Added offsetBackingStore config to StandaloneConfig and DistributedConfig;
    Added config for offset.storage.topic and config.storage.topic into DistributedConfig;
    
    Author: jinxing <jinxing@fenbi.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #734 from ZoneMayor/trunk-KAFKA-2934

commit 10394aa80153db27e7672a949c91b436724b0ead
Author: Michael G. Noll <michael@confluent.io>
Date:   Thu Mar 3 02:53:12 2016 -0800

    KAFKA-3324; NullPointerException in StreamPartitionAssignor
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #1001 from miguno/KAFKA-3324

commit b9eda22d71aa9896cac90798c7e888a04f14549d
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Mar 2 23:42:17 2016 -0800

    HOTFIX: Fix checkstyle failure in KStreams by providing fully qualified class names.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #1000 from ewencp/hotfix-kstreams-checkstyle-javadocs

commit 00a58f8e1e0c82c2948a8fdfacf812ec4865b339
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Mar 2 18:50:59 2016 -0800

    KAFKA-2944: Replaced the NPE with a nicer error and clean exit and added debug message to assist with figuring this out.
    
    …ssage to assist with figuring this out.
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #993 from gwenshap/KAFKA-2944

commit 9cd65c46a71cb07276f23838aa55747efc32674c
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Mar 2 18:22:28 2016 -0800

    KAFKA-2784: swallow exceptions when mirror maker exits.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #478 from becketqin/KAFKA-2784

commit fe1fd703e85a2acfd7209b38d15c428fcd77dc67
Author: kenji yoshida <6b656e6a69@gmail.com>
Date:   Wed Mar 2 17:23:30 2016 -0800

    MINOR: fix typo
    
    Author: kenji yoshida <6b656e6a69@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #996 from xuwei-k/patch-1

commit cfc324333fa13e06ec7ac5ef3a09d8a6b6b54485
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Mar 2 17:22:14 2016 -0800

    KAFKA-3290: fix transient test failures in WorkerSourceTaskTest
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #998 from hachikuji/KAFKA-3290

commit f676cfeb83195f032e3ad8908288a7e04011c830
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Mar 2 16:11:19 2016 -0800

    MINOR: Improve JavaDoc for some public classes.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Mastuda <yasuhiro.mastuda@gmail.com>
    
    Closes #999 from guozhangwang/KJavaDoc

commit 2a58ba9fd893979f89aec251579b10f5cda41d10
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Mar 2 13:43:48 2016 -0800

    KAFKA-3311; Prepare internal source topics before calling partition grouper
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda <yasuhiro.matsuda@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #990 from guozhangwang/K3311

commit 002b377dad9c956cd0ae0597981f29698883b6d5
Author: Anna Povzner <anna@confluent.io>
Date:   Wed Mar 2 09:40:34 2016 -0800

    KAFKA-3196; Added checksum and size to RecordMetadata and ConsumerRecord
    
    This is the second (remaining) part of KIP-42. See https://cwiki.apache.org/confluence/display/KAFKA/KIP-42%3A+Add+Producer+and+Consumer+Interceptors
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #951 from apovzner/kafka-3196

commit 23f239b06195c461a118962d45b6b02c3d89885c
Author: zhuchen1018 <amandazhu19620701@gmail.com>
Date:   Tue Mar 1 23:53:28 2016 -0800

    KAFKA-3257: disable bootstrap-test-env.sh --colour option
    
    becketqin, when you get a chance, could you take a look at the patch?
    
    Author: zhuchen1018 <amandazhu19620701@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #969 from zhuchen1018/KAFKA-3257

commit edeb11bc561c0721855b34a4506dc7f1c76445c6
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Mar 1 18:53:58 2016 -0800

    MINOR: Move streams-examples source files under src folder
    
    Also remove some unused imports.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #992 from guozhangwang/KSExamples

commit 79662cc7cb139c33888148139f44fb4b1ac0fe56
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Mar 1 16:27:45 2016 -0800

    HOTFIX: Use the correct serde classes
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #991 from guozhangwang/KSerde

commit 695fdc69db6e080419bb05d624e91fa88d5c0a02
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Feb 29 18:52:54 2016 -0800

    KAFKA-3273; MessageFormatter and MessageReader interfaces should be resilient to changes
    
    * Change `MessageFormat.writeTo` to take a `ConsumerRecord`
    * Change `MessageReader.readMessage()` to use `ProducerRecord`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #972 from ijuma/kafka-3273-message-formatter-and-reader-resilient

commit 74eff8a830ff6508ab98761a9e77d19d4e49a73e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Feb 29 16:10:25 2016 -0800

    MINOR: DefaultMessageFormatter custom deserializer fixes
    
    The ability to specify a deserializer for keys and values was added in a recent commit (845c6eae1f6c6bcf11), but it contained a few issues.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #987 from ijuma/console-consumer-cleanups

commit 5da935ef78ecf4a671bddc632cfd36ef65bd6f6d
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Feb 29 16:05:46 2016 -0800

    MINOR: Add AUTO_OFFSET_RESET_CONFIG to StreamsConfig; remove TOTAL_RECORDS_TO_PROCESS from StreamsConfig
    
    and remove TOTAL_RECORDS_TO_PROCESS
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #985 from ymatsuda/config_params

commit 845c6eae1f6c6bcf117f5baa53bb19b4611c0528
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 29 14:03:32 2016 -0800

    KAFKA-3192: Add unwindowed aggregations for KStream; and make all example code executable
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda, Michael G. Noll, Jun Rao
    
    Closes #870 from guozhangwang/K3192

commit a7312971a06e3576720ac6d38978eb0a2a25f544
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Mon Feb 29 12:50:24 2016 -0800

    HOTFIX: Missing streams jar in release
    
    Observation: when doing "gradlew releaseTarGz" the streams jar was not included in the tarball. Adding a line to include it. ijuma guozhangwang could you please review. Thanks.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #984 from enothereska/trunk

commit d501cc62ddcbbddcb114a40527d3e4f71f501286
Author: Kim Christensen <kich@mvno.dk>
Date:   Mon Feb 29 12:46:03 2016 -0800

    KAFKA-3133: Add putIfAbsent function to KeyValueStore
    
    guozhangwang
    
    Author: Kim Christensen <kich@mvno.dk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #912 from kichristensen/KAFKA-3133

commit 92c35230f463e570de17239d8e76c7be5350c7d8
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Mon Feb 29 09:14:38 2016 -0800

    KAFKA-3291; DumpLogSegment tool should also provide an option to only…
    
    … verify index sanity.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Grant Henke <granthenke@gmail.com>, Sriharsha Chintalapani <mail@harsha.io>
    
    Closes #975 from Parth-Brahmbhatt/KAFKA-3291

commit d4e60b9f59e04e82125b404f173c4fccc949d906
Author: Tom Dearman <tom.dearman@gmail.com>
Date:   Fri Feb 26 15:00:38 2016 -0800

    KAFKA-3278: concatenate thread name to clientId when producer and consumers config is created
    
    guozhangwang made the changes as requested, I reverted my original commit and that seems to have closed the other pull request - sorry if that mucks up the process a bit
    
    Author: tomdearman <tom.dearman@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #978 from tomdearman/KAFKA-3278

commit 4e0ae79d5c9aec04c014aca55cd4823f89b933c8
Author: Anna Povzner <anna@confluent.io>
Date:   Fri Feb 26 13:40:39 2016 -0800

    KAFKA-3214: Added system tests for compressed topics
    
    Added CompressionTest that tests 4 producers, each using a different compression type and one not using compression.
    
    Enabled VerifiableProducer to run producers with different compression types (passed in the constructor). This includes enabling each producer to output unique values, so that the verification process in ProduceConsumeValidateTest is correct (counts acks from all producers).
    
    Also a fix for console consumer to raise an exception if it sees the incorrect consumer output (before we swallowed an exception, so was hard to debug the issue).
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Geoff Anderson, Jason Gustafson
    
    Closes #958 from apovzner/kafka-3214

commit 4542b027c1ac361cc8770383b66abac2129a05e7
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Feb 26 10:37:41 2016 -0800

    KAFKA-3243: Fix Kafka basic ops documentation for Mirror maker, blacklist is not supported for new consumers
    
    …list is not supported for new consumers
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #923 from SinghAsDev/KAFKA-3243

commit d51dd5fc7475ad29bea8616f77e1183a8fa9e000
Author: Richard Whaling <rwhaling@spantree.net>
Date:   Thu Feb 25 18:24:51 2016 -0800

    KAFKA-3280: KafkaConsumer Javadoc contains misleading description of heartbeat behavior and correct use
    
    This is my original work and I license the work to the project under the project's open source license.
    
    Author: Richard Whaling <rwhaling@spantree.net>
    
    Reviewers: Jason Gustafson, Gwen Shapira
    
    Closes #968 from rwhaling/docs/kafkaconsumer-heartbeat-doc-improvement

commit 62945280a7fcfd69840a115fec16698bd8254323
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Feb 25 18:08:20 2016 -0800

    MINOR: Validate inner message compression attribute
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #976 from ijuma/validate-inner-message-compression-attribute

commit af1699bccbb725633f0b9deb666054a573da7667
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Feb 25 17:53:19 2016 -0800

    KAFKA-3292; ClientQuotaManager.getOrCreateQuotaSensors() may return a null ClientSensors.throttleTimeSensor
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #977 from ijuma/kafka-3292-null-throttle-time-sensor

commit b3b533171caebdfaf9e7c0adc9e62ef0f7ab0ed3
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 25 13:59:17 2016 -0800

    MINOR: Connect status tracking API followup
    
    Fixes from Ishiihara's review.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei, Gwen Shapira
    
    Closes #974 from hachikuji/status-tracking-followup

commit 5db2c99e15a4467489b495144815ac8334c2c5d4
Author: Tom Lee <github@tomlee.co>
Date:   Wed Feb 24 19:41:57 2016 -0800

    KAFKA-2698: Add paused() method to o.a.k.c.c.Consumer
    
    Author: Tom Lee <github@tomlee.co>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Jiangjie Qin <jiangjie@linkedin.com>, Grant Henke <ghenke@cloudera.com>, Jason Gustafson <jason@confluent.io>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #962 from hachikuji/KAFKA-2698

commit 13b8fb295c3becc27e7954af623fe90b3062409e
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Feb 24 18:11:36 2016 -0800

    MINOR: enhance streams system test
    
    guozhangwang
    
    * add table aggregate to the system test
    * actually create change log partition replica
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #966 from ymatsuda/enh_systest

commit fa05752ccd9ee4996f252aa5ed71f10f28e80a52
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Feb 24 13:41:46 2016 -0800

    MINOR: add retry to state dir locking
    
    There is a possibility that the state directory locking fails when another stream thread is taking long to close all tasks. Simple retries should alleviate the problem.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #899 from ymatsuda/minor2

commit 01aeea7c7bca34f1edce40116b7721335938b13b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Feb 24 11:28:53 2016 -0800

    KAFKA-3259 KAFKA-3253; KIP-31/KIP-32 Follow-up
    
    This PR includes a number of clean-ups:
    * Code style
    * Documentation wording improvements
    * Efficiency improvements
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #943 from ijuma/kafka-3259-kip-31-32-clean-ups

commit 1bfaddae9c7d8b40801a28c4806f61e647107c93
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Feb 24 11:07:34 2016 -0800

    MINOR: add useful debug log messages to KConnect source task execution
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #957 from gwenshap/source_worker_debug

commit f98cb3aa248b72ddacb2ce2ca6af5248365de366
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Feb 24 10:12:51 2016 -0800

    MINOR: Add note about which files need to be edited when updating the version number
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma
    
    Closes #879 from ewencp/version-bump-instructions

commit b084c485e25bfe77154e805219b24714d59c396c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Feb 24 09:21:38 2016 -0800

    KAFKA-3277; Update trunk version to be 0.10.0.0-SNAPSHOT
    
    Also update `kafka-merge-pr.py` and `tests/kafkatest/__init__.py`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #963 from ijuma/update-trunk-0.10.0.0-SNAPSHOT

commit f7d019ed408fa988129be9af3689bfa4878bc627
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Feb 23 22:47:31 2016 -0800

    KAFKA-3093: Add Connect status tracking API
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #920 from hachikuji/KAFKA-3093

commit aeb9c2adcfe5fb99490fb15163ebcfd1d75d34c1
Author: Christian Posta <christian.posta@gmail.com>
Date:   Tue Feb 23 15:55:09 2016 -0800

    KAFKA-3272: Add debugging options to kafka-run-class.sh so we can easily run remote debugging
    
    …able remote debugging to Kafka tools scripts
    
    Author: Christian Posta <christian.posta@gmail.com>
    
    Reviewers: Grant Henke, Gwen Shapira
    
    Closes #955 from christian-posta/ceposta-enable-jvm-debugging-opts

commit 73ecd7a1797a023039fea365a08dbdba4171d10b
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Feb 23 15:46:32 2016 -0800

    KAFKA-3007: implement max.poll.records (KIP-41)
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #931 from hachikuji/KAFKA-3007

commit c00a036e068ea5b33363992abc0499affa7ca2d7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Feb 23 15:33:29 2016 -0800

    HOTFIX: Add missing file for KeyValue unit test
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #960 from guozhangwang/KCountP1

commit 0ce9163989cb9898df7e74245cbc2ee37d729670
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Feb 23 15:10:56 2016 -0800

    MINOR: KTable.count() to only take a selector for key
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira, Yashiru Matsuda, Michael Noll
    
    Closes #872 from guozhangwang/KCount

commit 14b688e00ddb54a5c8451411d269721484be875f
Author: Xin Wang <best.wangxin@163.com>
Date:   Tue Feb 23 15:03:55 2016 -0800

    KAFKA-3046: Add ByteBuffer Serializer and Deserializer
    
    https://issues.apache.org/jira/browse/KAFKA-3046
    
    Author: Xin Wang <best.wangxin@163.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #718 from vesense/patch-3

commit f7fe9ccb466f85c417a545eb8acc4d61047c9f09
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Feb 23 14:55:07 2016 -0800

    HOTFIX: fix consumer config for streams
    
    guozhangwang
    My bad. I removed ZOOKEEPER_CONNECT_CONFIG from consumer's config by mistake. It is needed by our own partition assigner running in consumers.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #959 from ymatsuda/hotfix3

commit 878b78acb68d0fa62eb3c8f21d572664ca2bcdd0
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Feb 23 14:54:06 2016 -0800

    KAFKA-3245: config for changelog replication factor
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #948 from ymatsuda/changelog_topic_replication

commit 525f4c81db8f0dfd600b98f68cbb46e78bd76349
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Feb 23 12:52:04 2016 -0800

    KAFKA-3242: minor rename / logging change to Controller
    
    KAFKA-3242: minor rename / logging change to references to 'adding partitions' to indicate 'modifying partitions'
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Grant Henke
    
    Closes #924 from benstopford/small_changes

commit 3358e1682f034a82afd670be95505b2f620c78c6
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Feb 23 12:14:26 2016 -0800

    KAFKA-2802: kafka streams system tests
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #930 from ymatsuda/streams_systest

commit 68af16ac15e5675daebb710ed8f15f780dc43abd
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Feb 22 21:39:26 2016 -0800

    MINOR: catch a commit failure due to rebalance in StreamThread
    
    StreamThread should keep going after a commit was failed due to a group rebalance.
    Currently the thread just dies.
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #933 from ymatsuda/catch_commit_failure

commit 982ab09a790c6dbc2e1a5c52311103fd14ab5233
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Feb 22 21:37:27 2016 -0800

    HOTFIX: check offset limits in streamtask when recovering KTable store
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #947 from ymatsuda/hotfix2

commit 04585d99c6843a4253bae8ee958e360dd734d10e
Author: zhuchen1018 <amandazhu19620701@gmail.com>
Date:   Mon Feb 22 18:14:18 2016 -0800

    MINOR - remove unused imports in package kafka.utils
    
    Author: zhuchen1018 <amandazhu19620701@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Joel Koshy <jjkoshy.w@gmail.com>, Dong Lin <lindong28@gmail.com>
    
    Closes #935 from zhuchen1018/minor-remove-unused-imports

commit d142f8294af67fea20d77dcc5272770af153c0d9
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Mon Feb 22 15:57:55 2016 -0800

    KAFKA-3256; Add print.timestamp option to console consumer.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #949 from becketqin/KAFKA-3256

commit ff7b0f5b467bdf553584fb253b00f460dfbe8943
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Feb 22 13:16:06 2016 -0800

    HOTFIX: make sure to go through all shutdown steps
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #928 from ymatsuda/shutdown

commit 46e4d40135d840a6d09e1f309e5c19ce7237b23a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Feb 22 13:03:24 2016 -0800

    MINOR: Update streams RocksDb to 4.1.0
    
    This is the latest version in Maven even though HISTORY.md includes releases all the way to 4.5.0.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <ghenke@cloudera.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #937 from ijuma/update-rocks-db-for-streams

commit e3ab96b2f0b429e0fe5991a185cd980b0d490e25
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Feb 22 11:40:33 2016 -0800

    MINOR: Example style improvements
    
    These are minor, but no reason to make our example code look worse than it has to.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke
    
    Closes #940 from ijuma/example-style-improvements

commit d2527af99a9bb1007f7fe63a0cd7d27a55182857
Author: Frank Scholten <frank@frankscholten.nl>
Date:   Mon Feb 22 10:13:11 2016 -0800

    KAFKA-3255: Added unit tests for NetworkClient.connectionDelay(Node node, long now)
    
    Author: Frank Scholten <frank@frankscholten.nl>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #941 from frankscholten/tests/cluster-connection-states

commit 49fd0ceb09daf1d981d5a631342a8e3478db68ab
Author: Kim Christensen <kich@mvno.dk>
Date:   Sun Feb 21 22:54:40 2016 -0800

    KAFKA-3235: Unclosed stream in AppInfoParser static block
    
    Always close the stream
    
    Author: Kim Christensen <kich@mvno.dk>
    
    Reviewers: Ismael Juma, Grant Henke
    
    Closes #914 from kichristensen/KAFKA-3235

commit 6ebb2363ba775c518e08e3c21c15f721e5f10841
Author: Christian Posta <christian.posta@gmail.com>
Date:   Sun Feb 21 22:52:50 2016 -0800

    inor: Added few variable and their descriptions to vagrant readme
    
    … with the Vagranfile.local file
    
    Author: Christian Posta <christian.posta@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #942 from christian-posta/ceposta-doco

commit 5caa800e217c6b83f62ee3e6b5f02f56e331b309
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Feb 19 09:40:59 2016 -0800

    trivial fix to authorization CLI table

commit 45c8195fa14c766b200c720f316836dbb84e9d8b
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Feb 19 07:56:40 2016 -0800

    KAFKA-3025; Added timetamp to Message and use relative offset.
    
    See KIP-31 and KIP-32 for details.
    
    A few notes on the patch:
    1. This patch implements KIP-31 and KIP-32. The patch includes features in both KAFKA-3025,  KAFKA-3026 and KAFKA-3036
    2. All unit tests passed.
    3. The unit tests were run with new and old message format.
    4. When message format conversion occurs during consumption, the consumer will not be able to detect the message size too large situation. I did not try to fix this because the situation seems rare and only happen during migration phase.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    Author: Jiangjie (Becket) Qin <becket.qin@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Anna Povzner <anna@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #764 from becketqin/KAFKA-3025

commit eee95228fabe1643baa016a2d49fb0a9fe2c66bd
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Thu Feb 18 09:39:30 2016 +0800

    MINOR: remove streams config params from producer/consumer configs
    
    Removing streams' specific config params from producer/consumer configs to reduce warning messages.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #906 from ymatsuda/clean_config

commit 8c90b1a98acb1222a0e907153bf52a85af0fe443
Author: Jeremy Custenborder <jeremy@scarcemedia.com>
Date:   Wed Feb 17 11:12:41 2016 -0500

    KAFKA-3225: Method commit() of class SourceTask never invoked
    
    1. Added a test case to prove commit() on SourceTask was not being called.
    2. Added commitSourceTask() which logs potential exceptions.
    3. Added after call to finishSuccessfulFlush().
    
    Author: Jeremy Custenborder <jeremy@scarcemedia.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #909 from jcustenborder/KAFKA-3225

commit 3382b6db7b2b9c17a4ccfd9ebe840741bcf44670
Author: Chen Zhu <amandazhu19620701@gmail.com>
Date:   Wed Feb 17 18:48:00 2016 +0800

    KAFKA-2757; Consolidate BrokerEndPoint and EndPoint
    
    Author: zhuchen1018 <amandazhu19620701@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Guozhang Wang <wangguoz@gmail.com>
    
    Closes #911 from zhuchen1018/KAFKA-2757

commit 2faf9f60c81023b4c061c4b8067c8b23cf73516e
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Tue Feb 16 20:34:59 2016 -0800

    KAFKA-2547; Make DynamicConfigManager to use the ZkNodeChangeNotifica…
    
    …tionListener introduced as part of KAFKA-2211
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Flavio Junqueira <fpj@apache.org>, Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <mail@harsha.io>
    
    Closes #679 from Parth-Brahmbhatt/KAFKA-2547 and squashes the following commits:
    
    1722c76 [Parth Brahmbhatt] Addressing review comments.
    376f77d [Parth Brahmbhatt] Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into KAFKA-2547
    a13b963 [Parth Brahmbhatt] Addressing comments from Reviewers.
    1007137 [Parth Brahmbhatt] KAFKA-2547: Make DynamicConfigManager to use the ZkNodeChangeNotificationListener introduced as part of KAFKA-2211

commit 5df56145a51c78e8808046254ad4771d60957ac5
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Feb 16 18:25:00 2016 -0800

    KAFKA-2508; Replace UpdateMetadata{Request,Response} with o.a.k.c.req…
    
    …uests equivalent
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <mail@harsha.io>
    
    Closes #896 from granthenke/update-metadata and squashes the following commits:
    
    2eb5d59 [Grant Henke] Address reviews
    497258d [Grant Henke] KAFKA-2508: Replace UpdateMetadata{Request,Response} with o.a.k.c.requests equivalent

commit 3ee1878d80aa6e3198731159d4479ac393489378
Author: Matt Fluet <matt.fluet@appian.com>
Date:   Tue Feb 16 15:23:24 2016 -0500

    MINOR: Reconcile differences in .bat & .sh start scripts
    
    A few minor fixes to reconcile differences between the windows and unix versions of the kafka/zookeeper start scripts that were causing cross-platform inconsistencies during deployment.
    
    - Resolve differences in CLASSPATH setup between .bat and .sh start scripts
    - .bat start scripts honor externally provided KAFKA_HEAP_OPTS and KAFKA_LOG4J_OPTS consistent with .sh
    - .bat start scripts configure log4j similar to .sh
    
    Author: Matt Fluet <matt.fluet@appian.com>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #908 from fluetm/scripts-patch

commit f355918ec7edd6cfa1c0d74902a21d32d3065997
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Feb 16 10:19:00 2016 -0500

    KAFKA-3227; Conservative update of Kafka dependencies
    
    Patch version bumps for bouncy castle, minikdc, snappy, slf4j, scalatest and powermock. Notable fixes:
    
    * Snappy: fixes a resource leak
    * Bouncy castle: security fixes
    
    Also update Gradle to 2.11 (where the notable change is improved IDE integration) and the grgit build dependency.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #903 from ijuma/kafka-3227-conservative-update-of-kafka-deps

commit d7fc7cf6154592b7fea494a092e42ad9d45b98a0
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Feb 12 18:49:19 2016 -0800

    KAFKA-3088; Make client-id a nullable string and fix handling of invalid requests."
    
    …ent ID
    
    - Adds  NULLABLE_STRING Type to the protocol
    - Changes client_id in the REQUEST_HEADER to NULLABLE_STRING with a default of ""
    - Fixes server handling of invalid ApiKey request and other invalid requests
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #866 from granthenke/null-clientid

commit 85599bc3e861c77cd91c55273debe396da85deeb
Author: Mayuresh Gharat <mgharat@linkedin.com>
Date:   Fri Feb 12 17:15:41 2016 +0800

    KAFKA-3147; Memory records is not writable in MirrorMaker
    
    Remove the batch from the RecordAccumulator once its closed while aborting batches. Make sure we don't accept new batch appends to RecordAccumulator while the producer is being closed.
    
    Author: Mayuresh Gharat <mgharat@mgharat-ld1.linkedin.biz>
    
    Reviewers: Jiangjie Qin, Ismael Juma, Guozhang Wang
    
    Closes #825 from MayureshGharat/KAFKA-3147

commit f141e647a4a3daf618b48073058320ecaa3671d0
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Fri Feb 12 17:11:12 2016 +0800

    MINOR: catch an exception in rebalance and stop the stream thread
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #901 from ymatsuda/minor3

commit 330274ed1c8efd2b1aa9907860429d9d20f72c3c
Author: tomdearman <tom.dearman@gmail.com>
Date:   Thu Feb 11 11:35:55 2016 -0700

    KAFKA-3229 ensure that root statestore is registered with ProcessorStateManager
    
    Pass through the root StateStore in the init method so the inner StateStore can register that object.
    
    Author: tomdearman <tom.dearman@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #904 from tomdearman/KAFKA-3229

commit 67a7ea9d6744645dd4e08b6a78dd69704a4982b3
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Feb 10 22:01:56 2016 -0800

    MINOR: add setUncaughtExceptionHandler to KafkaStreams
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #894 from ymatsuda/minor

commit 5092e7f8347d17d1b6e509424cbebf2406d8d4ba
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Feb 10 17:08:23 2016 -0800

    MINOR: Connect hangs on startup failure
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #902 from hachikuji/hotfix-connect-startup

commit c1f8f689af43f5ce5a95dad86537db4615449694
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Feb 10 15:02:27 2016 -0700

    HOTFIX: poll even when all partitions are paused. handle concurrent cleanup
    
    * We need to poll periodically even when all partitions are paused in order to respond to a possible rebalance promptly.
    * There is a race condition when two (or more) threads try to clean up the same state directory. One of the thread fails with FileNotFoundException. Thus the new code simply catches it and ignore.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #893 from ymatsuda/hotfix

commit 1faab034b10a15beac2b90f8f2fe1c65a6b40765
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Wed Feb 10 12:50:57 2016 -0700

    MINOR: Remove multi-byte charactor in docs
    
    There are multi-byte characters In quickstart.html and security.html.
    This PR will fix it.
    
    Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
    
    Reviewers: Grant Henke
    
    Closes #897 from sasakitoa/remove_multi_byte_character

commit d5b43b19bb06e9cdc606312c8bcf87ed267daf44
Author: Anna Povzner <anna@confluent.io>
Date:   Tue Feb 9 22:10:06 2016 -0700

    KAFKA-3162: Added producer and consumer interceptors
    
    This is the most of the KIP-42: Producer and consumer interceptor. (Except exposing CRC and record sizes to the interceptor, which is coming as a separate PR; tracked by KAFKA-3196).
    
    This PR includes:
    1. Add ProducerInterceptor interface and call its callbacks from appropriate places in Kafka Producer.
    2. Add ConsumerInterceptor interface and call its callbacks from appropriate places in Kafka Consumer.
    3. Add unit tests for interceptor changes
    4. Add integration test for both mutable consumer and producer interceptors.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Jason Gustavson, Ismael Juma, Gwen Shapira
    
    Closes #854 from apovzner/kip42

commit fe3b7492b73bf21ecb1a49e730dd30efd1e66693
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Feb 9 21:48:56 2016 -0700

    KAFKA-3141: Add checks to catch invalid authorizer porperties
    
    Skip misformed properties instead of throwing ArrayIndexOutOfBoundsException
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #806 from SinghAsDev/KAFKA-3141

commit 6d0dca7345d9e3c0b8924496a4632954ca1268e5
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Feb 9 16:57:53 2016 -0600

    KAFKA-3159; stale high watermark segment offset causes early fetch return
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #884 from hachikuji/K3159

commit b5e6b8671a5b6d97d5026261ae8d62b54f068e53
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Feb 9 13:22:46 2016 -0800

    HOTFIX: open window segments in order, add segment id check in getSegment
    
    * During window store initialization, we have to open segments in the segment id order and update ```currentSegmentId```, otherwise cleanup won't work.
    * ```getSegment()``` should not create a segment and clean up old segments if the segment id is greater than ```currentSegmentId```. Segment maintenance should be driven not by query but only by data insertion.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #891 from ymatsuda/hotfix2

commit 4fd60c6120dc4330deb7317360c835b04bc6cb9a
Author: James Cheng <jylcheng@yahoo.com>
Date:   Tue Feb 9 10:33:39 2016 -0800

    KAFKA-3216: "Modifying topics" section incorrectly says you can't change replication factor.
    
    Correct the text that said that you can't change the replication factor of a topic.
    
    Author: James Cheng <jylcheng@yahoo.com>
    
    Reviewers: Ismael Juma
    
    Closes #881 from wushujames/KAFKA-3216

commit cd15321e0d250253abb990af53e1f5624cf46b42
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Feb 9 10:16:57 2016 -0800

    KAFKA-3189: Kafka server returns UnknownServerException for inherited exceptions
    
    … exceptions
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Jiangjie Qin <becket.qin@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #856 from granthenke/inherited-errors

commit 6352a30f46f2da11a8dc3e58912d0a2db8284c35
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Feb 9 10:02:20 2016 -0800

    HOTFIX: Fix NPE after standby task reassignment
    
    Buffered records of change logs must be cleared upon reassignment of standby tasks.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #889 from ymatsuda/hotfix

commit 9f5a1f87667c23db557a712d51c45541372f3c5d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Feb 9 09:49:32 2016 -0800

    KAFKA-3217: Close producers in unit tests
    
    Producers that are not closed auto-create topics in subsequent tests when Kafka server port is reused. Added missing close().
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #882 from rajinisivaram/KAFKA-3217

commit 9cac38c0216879776b9eab728235e35118e9026e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Feb 9 09:25:22 2016 -0800

    MINOR: Use explicit type in AclCommand
    
    Inference sometimes fails for this case.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Eno Thereska <eno.thereska@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #885 from ijuma/use-explicit-type-in-acl-command

commit 0eaede4dc95846e2b8f7452f41c58c0122e7a563
Author: Adam Kunicki <adam@streamsets.com>
Date:   Mon Feb 8 16:56:59 2016 -0800

    KAFKA-3191: Improve offset committing JavaDoc in KafkaConsumer
    
    Added an example clarifying the correct way to use explicit offsets with commitSync().
    
    Author: Adam Kunicki <adam@streamsets.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #850 from kunickiaj/KAFKA-3191

commit feda3f68e98b5269431db9f2a5f131c03a16f651
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Feb 8 16:48:06 2016 -0800

    HOTFIX: open window segments on init
    
    guozhangwang
    
    A window store should open all existing segments. This is important for segment cleanup, and it also ensures that the first fetch() call returns the hits, the values in the search range. (previously, it missed the hits in fetch() immediately after initialization).
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #886 from ymatsuda/hotfix3

commit f7ad3d1b1fe24f3d33caf5f168d1292d4ae0b979
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Feb 8 16:35:05 2016 -0800

    HOTFIX: RecordCollector should send a record to the specified partition
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #887 from ymatsuda/hotfix4

commit d2fc6f36cc0b98d4d0acaa62ce3f2283c4e60581
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Feb 9 05:00:38 2016 +0800

    MINOR: fix RocksDBStore range search
    
    The range is inclusive according to KeyValueStore's java doc.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #883 from ymatsuda/minor

commit 4ee68b43c180d1f68648c0fb388a66b1ed0023e5
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Feb 9 04:46:11 2016 +0800

    HOTFIX: fix streams issues
    
    * RocksDBStore.putInternal should bypass logging.
    * StoreChangeLogger should not call context.recordCollector() when nothing to log
      * This is for standby tasks. In standby task, recordCollector() throws an exception. There should be nothing to log anyway.
    * fixed ConcurrentModificationException in StreamThread
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #877 from ymatsuda/hotfix2

commit 1a539c74c115cbfeaebefee2298e846b4821132c
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Feb 5 14:58:45 2016 -0800

    MINOR: Improve error message for inconsistent broker ids
    
    Provides a more actionable and descriptive error message.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ashish Singh <asingh@cloudera.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #847 from granthenke/broker-id-error

commit f292820920a3f1b1fc52c5eba0e23b024af9156f
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Feb 5 13:25:21 2016 -0800

    KAFKA-2589: The default value for the "rebalance.backoff.ms" property is not specified correctly
    
    … is not specified correctly
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #876 from granthenke/rebalance-doc

commit 26efdede6c31904935c66de3bd979fa4edab624d
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Feb 5 13:15:57 2016 -0800

    KAFKA-3037: Test number of alive brokers known after single node cluster startup
    
    …ter startup
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #875 from granthenke/self-aware

commit fa05ee727960257ec4b9aa92e1b46348a5450cf4
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Fri Feb 5 12:58:14 2016 -0800

    MINOR: Add more info to RecordCollector error message
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #873 from ymatsuda/hotfix

commit 40df94af5ca7df99cf384b52ea0090ba63048682
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Feb 5 10:41:03 2016 -0800

    KAFKA-3165: Fix ignored parameters in the gradle "All" tasks
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #835 from granthenke/all-parameters

commit d6e36df8737aa2b898b4fd0a81c2d94f3c349b68
Author: Tao Xiao <xiaotao183@gmail.com>
Date:   Fri Feb 5 09:11:24 2016 -0800

    KAFKA-3157: Mirror maker doesn't commit offset with low traffic
    
    Mirror maker doesn't commit offset with new consumer enabled when data volume is low. This is caused by infinite loop in ```receive()``` which would never jump out of loop if no data coming
    
    Author: Tao Xiao <xiaotao183@gmail.com>
    
    Reviewers: Ismael Juma, Jason Gustafson
    
    Closes #821 from xiaotao183/KAFKA-3157

commit 216c75bbc567a633447b1cbf2bb8c6ba34e2464f
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Feb 5 09:06:47 2016 -0800

    KAFKA-3003: Update the replica.highWatermark correctly
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #688 from becketqin/KAFKA-3003

commit dc662776cde8e980a3f978041adaf961edf0fe7d
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 4 18:00:45 2016 -0800

    KAFKA-3211: Handle WorkerTask stop before start correctly
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #874 from hachikuji/KAFKA-3211

commit db8d6f02c092c42f2402b7e2587c1b28d330bf83
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu Feb 4 16:08:21 2016 -0800

    KAFKA-3179; Fix seek on compressed messages
    
    The fix itself is simple.
    
    Some explanation on unit tests. Currently we the vast majority of unit test is running with uncompressed messages.  I was initially thinking about run all the tests using compressed messages. But it seems uncompressed messages are necessary in a many test cases because we need the bytes sent and appended to the log to be predictable. In most of other cases, it does not matter whether the message is compressed or not, and compression will slow down the unit test. So I just added one method in the BaseConsumerTest to send compressed messages whenever we need it.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Aditya Auradkar <aauradkar@linkedin.com>, Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #842 from becketqin/KAFKA-3179

commit 7802a90ed98ea5b9a2b2dcf2e04db1a50e34a2f8
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Feb 4 14:51:10 2016 -0800

    KAFKA-3207: Fix StateChangeLogger to use the right topic name
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #865 from guozhangwang/K3207

commit 9b47f9a7f631ad4c84ab305126e71d74968cc967
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Thu Feb 4 14:34:29 2016 -0800

    MINOR: log connect reconfiguration error only if there was an error
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #871 from gwenshap/fix-cc-log

commit 0a7b20e2863b2519e63d85bc83610e63c58c6d46
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Thu Feb 4 14:14:08 2016 -0800

    HOTFIX: fix partition ordering in assignment
    
    workround partition ordering not preserved by the consumer group management.
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #868 from ymatsuda/partitionOrder

commit 287e45ab40ad744405ee2008b51caa7922f1b7b2
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Feb 4 13:49:01 2016 -0800

    MINOR: Removed unnecessary Vagrantfile hack
    
    The hack here is no longer necessary with up-to-date versions of Vagrant, vagrant-hostmanager, and vagrant-aws. What's more, the change in c8b60b63 caused a chain of infinite recursion on OSX, preventing bringup of VMs on a typical laptop.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #867 from granders/remove-vagrantfile-hack and squashes the following commits:
    
    14f4395 [Geoff Anderson] Removed uneccessary references to version 1.5.0 of vagrant-hostmanager
    8799afe [Geoff Anderson] Removed Vagrantfile hack which is no longer necessary with up-to-date versions of Vagrant, vagrant-hostmanager, and vagrant-aws

commit f8598f96df3500cdea15a913d78de201469244b0
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Feb 4 11:11:41 2016 -0800

    HOTFIX: fix broken WorkerSourceTask test
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #859 from hachikuji/hotfix-worker-source-test

commit 77683c3cb0eab8c85eb13d0e1397cf9ee32586b6
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Thu Feb 4 10:16:01 2016 -0800

    HOTFIX: temp fix for ktable look up
    
    guozhangwang
    Temporarily disabled state store access checking.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #864 from ymatsuda/fix_table_lookup

commit 99956f56c9f994b4f55315559c07310b3d599d9b
Author: Adam Kunicki <adam@streamsets.com>
Date:   Wed Feb 3 23:48:17 2016 -0800

    KAFKA-3198: Ticket Renewal Thread exits prematurely due to inverted c…
    
    KAFKA-3198: Ticket Renewal Thread exits prematurely due to inverted comparison
    
    The >= should be < since we are actually able to renew if the renewTill time is later than the current ticket expiration.
    
    Author: Adam Kunicki <adam@streamsets.com>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #858 from kunickiaj/KAFKA-3198

commit d3ff902d6023eff257653a5dfb31f4e482204c44
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Feb 3 20:42:43 2016 -0800

    MINOR: Fix restoring for source KTable
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #860 from guozhangwang/KRestoreChangelog

commit 5b5869383832512d78e20183c855f83d30a5ab37
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Feb 3 15:42:22 2016 -0800

    KAFKA-3194: Validate security.inter.broker.protocol against the adver…
    
    …tised.listeners protocols
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #851 from granthenke/verify-protocol

commit 79eacf6c95506d5d6819add5a1256681b13170b1
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Feb 3 11:31:32 2016 -0800

    MINOR: Some more Kafka Streams Javadocs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda <yasuhiro@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #853 from guozhangwang/KJavaDoc

commit 1d80f563bcd043cd464003782802906b60a0ade8
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Feb 3 11:28:58 2016 -0800

    KAFKA-3092: Replace SinkTask onPartitionsAssigned/onPartitionsRevoked with open/close
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #815 from hachikuji/KAFKA-3092

commit e8343e67e1ca74c4c0ebd994b9811b9fed7aa386
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Feb 2 18:29:29 2016 -0800

    KAFKA-3195; Transient test failure in OffsetCheckpointTest.testReadWrite
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #855 from ijuma/kafka-3195-offset-checkpoint-test-transient-failure

commit fd10f6dff11c74ab4b12229305ab78fb694d5ea9
Author: Geoff Anderson <geoff@confluent.io>
Date:   Tue Feb 2 17:57:58 2016 -0800

    MINOR: Increment ducktape dependency
    
    Pin kafka system tests to a newer version of ducktape.
    
    Ran in branch builder; only one preexisting (transient) failure:
    http://confluent-kafka-branch-builder-system-test-results.s3-us-west-2.amazonaws.com/2016-02-01--001.1454333721--confluentinc--increment-ducktape-dependency--a40f474/report.html
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #852 from granders/increment-ducktape-dependency

commit 95174337c2f6cda90e213e5c3a73fc89854f42a7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Feb 2 12:01:47 2016 -0800

    KAFKA-3121: Refactor KStream Aggregate to be Lambda-able.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda <yasuhiro@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #839 from guozhangwang/K3121s2

commit 8189f9d58002ec0092737741bf6c74eebab4dc73
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Feb 2 10:52:43 2016 -0800

    MINOR: some javadocs for kstream public api
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #844 from ymatsuda/javadoc

commit 86a9036a7b03c8ae07d014c25a5eedc315544139
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Feb 2 10:14:13 2016 -0800

    MINOR: fix the logic of RocksDBWindowStore using RocksDBStore Segments
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #849 from guozhangwang/KRemoveInitializedCheck

commit c97a75d985e42a9d1b1be0352240c45e0b0d2978
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Feb 2 09:38:52 2016 -0800

    KAFKA-3170; Set default fetch_min_bytes in new consumer to 1
    
    Set default to 1 instead of 1024, this matches the existing doc and feels like a better default value. Have run the unit tests with the change.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jason Gustafson, Ismael Juma, Grant Henke, Guozhang Wang
    
    Closes #832 from rajinisivaram/KAFKA-3170

commit c4f32c53ede93027aa08b1cc6c9f18ec71a702a0
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Feb 2 09:36:22 2016 -0800

    KAFKA-3068: Remove retry with nodesEverSeen
    
    ewencp ijuma if this looks good please merge when you can. Thanks.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #823 from enothereska/kafka-3068-alt

commit 4adfd7960c4bef187454d1ff5186f3be690abbf5
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 1 17:32:36 2016 -0800

    MINOR: Reorder StreamThread shutdown sequence
    
    We need to close producer first before closing tasks to make sure all messages are acked and hence checkpoint offsets are updated before closing tasks and their state. It was re-ordered mistakenly before.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda <yasuhiro@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #845 from guozhangwang/KStreamState

commit 57da044a991ebf8913d44dfcfa6a27729f54a4d5
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 1 16:11:13 2016 -0800

    KAFKA-3060: Refactor MeteredStore and RockDBStore Impl
    
    Changes include:
    
    1) Move logging logic from MeteredXXXStore to internal stores, and leave WindowedStore API clean by removed all internalPut/Get functions.
    
    2) Wrap common logging behavior of InMemory and LRUCache stores into one class.
    
    3) Fix a bug for StoreChangeLogger where byte arrays are not comparable in HashSet by using a specified RawStoreChangeLogger.
    
    4) Add a caching layer on top of RocksDBStore with object caching, it relies on the object's equals and hashCode function to be consistent with serdes.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda <yasuhiro@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #826 from guozhangwang/K3060

commit 66ecf3f08d7ce19c45fc16bf679df46cab349a8a
Author: Mayuresh Gharat <gharatmayuresh15@gmail.com>
Date:   Mon Feb 1 14:41:21 2016 -0800

    KAFKA-1860: Fix issue that file system errors are not detected unless Kafka tries to write.
    
    When the disk (raid with caches dir) dies on a Kafka broker, typically the filesystem gets mounted into read-only mode, and hence when Kafka tries to read the disk, they'll get a FileNotFoundException with the read-only errno set (EROFS). However, as long as there is no produce request received, hence no writes attempted on the disks, Kafka will not exit on such FATAL error and keep on throwing exception : java.io.FileNotFoundException
    
    In this case, the JVM should stop if the underlying file system goes in to Read only mode.
    
    Author: MayureshGharat <gharatmayuresh15@gmail.com>
    
    Reviewers: Lin Dong, Gwen Shapira, Ismael Juma, Guozhang Wang
    
    Closes #698 from MayureshGharat/KAFKA-1860

commit 181df80dc3ac04b544501f3640f8727842e272b4
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Feb 1 13:51:53 2016 -0800

    MINOR: removed obsolete class
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #843 from ymatsuda/remove_unused

commit eaa1433a2f2a9e9d528f5a2620edb63304067f62
Author: Grant Henke <granthenke@gmail.com>
Date:   Sat Jan 30 16:22:42 2016 -0800

    KAFKA-3164: Document client and mirrormaker upgrade procedure/require…
    
    …ments
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #838 from granthenke/upgrade-docs

commit b433b4a2470896d90d9dc596bb932030869d5d67
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Jan 30 17:05:01 2016 +0530

    KAFKA-3169; Limit receive buffer size for SASL packets in broker
    
    Limit receive buffer size to avoid OOM in broker with invalid SASL packets
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #831 from rajinisivaram/KAFKA-3169

commit afda7c4dc7246bb6e1589f2d9a21f825aa9325dc
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 29 13:38:30 2016 -0800

    MINOR: Remove unused imports from tests whose packages were fixed
    
    I missed this when reviewing:
    
    https://github.com/apache/kafka/commit/a58b459bddd5b1dcab224b53cda0196e947a5b09
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #836 from ijuma/remove-unused-imports

commit 598851f19cbf444c1f2530ec27543dd606b6fbc9
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Fri Jan 29 09:31:02 2016 -0800

    MINOR: remove the init method from Serdes
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #834 from ymatsuda/remove_init_from_Serdes

commit a58b459bddd5b1dcab224b53cda0196e947a5b09
Author: Kim Christensen <kich@mvno.dk>
Date:   Fri Jan 29 09:29:09 2016 -0800

    KAFKA-2676: Fix incorrect package name in tests
    
    Also fixed a couple of other tests with the same issue.
    
    This is my original work and I license the work to the project under the project's open source license
    
    Author: Kim Christensen <kich@mvno.dk>
    
    Reviewers: Ismael Juma
    
    Closes #828 from kichristensen/KAFKA-2676

commit e1d32bdffd0979596058788ffa3b1130cc7d93b8
Author: Praveen Devarao <praveendrl@in.ibm.com>
Date:   Fri Jan 29 09:23:55 2016 -0800

    KAFKA-3029: Mark TopicPartition and OffsetAndMetadata as Serializable
    
    Patch for issue KAFKA-3029
    
    Given that the fix is trivial no new test case is needed. I have run the test suite using gradle (as mentioned  https://github.com/apache/kafka/blob/trunk/README.md) and suite runs clean.
    
    Author: Praveen Devarao <praveendrl@in.ibm.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Gwen Shapira <cshapi@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #711 from praveend/tp_serializable_branch

commit 20afdcdd2ec129e94cbf335555c3d78f19a2d58e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 29 08:52:50 2016 -0800

    KAFKA-3075; Fix ClassCastException in `ZookeeperConsumerConnector.commitOffsets`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #833 from ijuma/kafka-3075-javaapi-consumer-class-cast-exception

commit 3cfa6da6f1141c7dc70459aa0a73c75340a65cef
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 29 08:45:47 2016 -0800

    MINOR: Fix spelling and grammar issues in ReplicaFetcherThread detailed comment
    
    I noticed them while looking at the recent commit:
    
    https://github.com/apache/kafka/commit/87eccb9a3bea56e5d7d5696aaddef1421f038903
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke, Guozhang Wang
    
    Closes #829 from ijuma/fix-comments-in-replica-fetcher-thread

commit 8f302c83c3be0f5264a07dae73287dec81a0198d
Author: Jakub Nowak <jakub.nowak94@interia.pl>
Date:   Fri Jan 29 08:43:33 2016 -0800

    KAFKA-3086: Remove unused method in MirrorMaker.
    
    Author: Jakub Nowak <jakub.nowak94@interia.pl>
    
    Reviewers: Ismael Juma, Gwen Shapira, Grant Henke, Guozhang Wang
    
    Closes #758 from Mszak/kafka-3086

commit 91491986c0a4c9c4cde2ab33be822852b76759e6
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 29 16:03:10 2016 +0530

    KAFKA-3166; Disable SSL client authentication for SASL_SSL security protocol
    
    Also:
    
    * Fixed a bug in `createSslConfig` where we were always generating a
    keystore even if `useClientCert` was false and `mode` was `Mode.CLIENT`.
    * Pass `numRecords` to `consumerRecords` and other clean-ups (formatting and scaladoc).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Closes #827 from ijuma/kafka-3166-disable-ssl-auth-sasl-ssl and squashes the following commits:
    
    8265221 [Ismael Juma] Pass `numRecords` to `consumerRecords` and clean-ups.
    a73db89 [Ismael Juma] SSL client authentication should be disabled for SASL_SSL security protocol

commit 962aec1a78cac18608556ac99ab583cdc944ac3f
Author: Ben Stopford <benstopford@gmail.com>
Date:   Thu Jan 28 20:42:51 2016 -0800

    MINOR: Add Rolling Upgrade Notes to Security Docs
    
    And added info about the krb5.conf file as we don't appear to mention that in the current docs
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #625 from benstopford/security_docs

commit 8e8b9cadea0715882997bd5d1641a065f3997077
Author: Jaikiran Pai <jaikiran.pai@gmail.com>
Date:   Thu Jan 28 20:24:58 2016 -0800

    KAFKA-2221: Log the real exception which triggered a reconnect
    
    The commit here improves the logging in SimpleConsumer to log the real reason why a reconnect was attempted. Relates to https://issues.apache.org/jira/browse/KAFKA-2221.
    
    The same patch was submitted a while back but wasn't merged because SimpleConsumer was considered deprecated and users' aren't expected to use it. However, more and more users in the user mailing list are running into this log message but have no way to understand what the root cause is. So IMO, this change still adds value  to such users who are using SimpleConsumer.
    
    Author: Jaikiran Pai <jaikiran.pai@gmail.com>
    
    Reviewers: Jiangjie Qin, Ismael Juma, Guozhang Wang
    
    Closes #138 from jaikiran/kafka-2221

commit 87eccb9a3bea56e5d7d5696aaddef1421f038903
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu Jan 28 20:19:21 2016 -0800

    KAFKA-2143: fix replica offset truncate to beginning during leader migration.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Gwen Shapira, Guozhang Wang
    
    Closes #129 from becketqin/KAFKA-2143

commit af0df0961fbc890309137424fe6b16f7c3e0a303
Author: Michael Blume <mike@loggly.com>
Date:   Thu Jan 28 17:30:47 2016 -0800

    MINOR: Fix mis-spell in ConsumerConfig.scala
    
    Author: Michael Blume <mike@loggly.com>
    
    Reviewers: Guozhang Wang
    
    Closes #4 from MichaelBlume/patch-1

commit 9ce595d130c39ce83030e81765702697920dfcfa
Author: Denise Fernandez <dcbfernandez@gmail.com>
Date:   Thu Jan 28 12:25:58 2016 -0800

    KAFKA-3103; Fix transient Failure in testIsrAfterBrokerShutDownAndJoinsBack
    
    All three defects have the same root cause.
    
    Root cause is ClientUtils.fetchTopicMetadata returns the BrokerEndPoints in a non-deterministic order, so we need to sort the expected endpoints and the received endpoints so we can correctly compare them.
    
    Author: Denise Fernandez <dcbfernandez@gmail.com>
    
    Reviewers: Ismael Juma, Grant Henke, Guozhang Wang
    
    Closes #822 from rowdyrabbit/KAFKA-3103

commit a40a2a260a8ddde8651dd8278bf70da7c67b2c1d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jan 27 10:12:58 2016 -0800

    MINOR: Fix syntax used for comment in JAAS config file
    
    Simple fix, but important because the incorrect syntax causes the server not to start.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke, Guozhang Wang
    
    Closes #819 from ijuma/fix-jaas-comment-syntax

commit 523562c109b29cc5a5e56313f16f1b1ff6c5dd9c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Jan 27 08:23:25 2016 -0800

    KAFKA-3152; kafka-acl doesn't allow space in principal name
    
    * Add quotes to `$` in shell scripts
    This is necessary for correct processing of quotes in the
    user command.
    
    * Minor improvements to AclCommand messages
    
    * Use a principal with a space in `SslEndToEndAuthorizationTest`
    This passed without any other changes, but good avoid regressions.
    
    * Clean-up `TestSslUtils`:
    Remove unused methods, fix unnecessary verbosity and don't set security.protocol (it should be done at a higher-level).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Jun Rao <junrao@gmail.com
    
    Closes #818 from ijuma/kafka-3152-kafka-acl-space-in-principal

commit 22de0a8ab5d0e84fa40016754f9a8eff8193aa89
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Jan 26 23:03:42 2016 -0800

    MINOR: join test for windowed keys
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #814 from ymatsuda/windowed_key_join_test

commit 9ffa907d704b424ad05c18d834cfefdc1c7ad22a
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Jan 26 20:03:50 2016 -0800

    MINOR: remove FilteredIterator
    
    guozhangwang
    removing an unused class, FilteredIterator, and its test.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #816 from ymatsuda/remove_obsolete_class

commit e9a72ceab6e0ceaf4d2125756f07154cd15a7178
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Jan 26 16:47:26 2016 -0800

    KAFKA-3132: URI scheme in "listeners" property should not be case-sen…
    
    …sitive
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #811 from granthenke/listeners-case

commit 1388ed9ba21a4f451f4208e0a6179bb18b14008d
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Jan 26 15:33:48 2016 -0800

    KAFKA-3116; Specify minimum Gradle version required in Readme
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Gwen Shapira
    
    Closes #813 from vahidhashemian/KAFKA-3116

commit 82c219149027e8d96840af98d32fb1b877ab4ec2
Author: Dmitry Stratiychuk <dstratiychuk@yammer-inc.com>
Date:   Tue Jan 26 11:04:58 2016 -0800

    KAFKA-2478: Fix manual committing example in javadoc
    
    Committing before inserting all records into the database
    might lead to some records being lost.
    
    I've changed the example to commit only after all records
    returned by `poll` are inserted into the database.
    
    Author: Dmitry Stratiychuk <dstratiychuk@yammer-inc.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #210 from shtratos/KAFKA-2478

commit 5ae97196ae149e58f6cfa3c5b6d968cbd7cb6787
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Jan 26 09:19:28 2016 -0800

    KAFKA-3125: Add Kafka Streams Exceptions
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #809 from guozhangwang/K3125

commit 942074b77b1b1162acdd1bf7a3ee299bd0113886
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Jan 25 16:22:32 2016 -0800

    MINOR: add equals and hashCode to Windowed
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #808 from ymatsuda/windowed_key

commit 30d3cc6314bf896ea37d01c5a1d6b21d69a7053f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Jan 25 15:12:37 2016 -0800

    KAFKA-3100; Broker.createBroker should work if json is version > 2 and still compatible
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #773 from ijuma/kafka-3100-create-broker-version-check

commit 9f21837e9925cf768c95a29423f9481b50dbe21d
Author: Konrad <konkalita@gmail.com>
Date:   Mon Jan 25 14:45:09 2016 -0800

    KAFKA-3076; BrokerChangeListener should log the brokers in order
    
    Author: Konrad <konkalita@gmail.com>
    Author: konradkalita <konkalita@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #749 from konradkalita/kafka-3076

commit fa6b90f97cb366a02eae8057124ec22db1f7e9cd
Author: James Cheng <jylcheng@yahoo.com>
Date:   Sun Jan 24 02:26:00 2016 -0800

    KAFKA-3138: 0.9.0 docs still say that log compaction doesn't work on compressed topics.
    
    Log compaction is supported on compressed topics as of 0.9.0, so update the docs to reflect that.
    
    Author: James Cheng <jylcheng@yahoo.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #807 from wushujames/KAFKA-3138

commit 5e8a084834ad35506ee74e1da15a3964642a512e
Author: Yifan Ying <yying@fitbit.com>
Date:   Sun Jan 24 01:55:30 2016 -0800

    KAFKA-3134: Fix missing value.deserializer error during KafkaConsumer initialization
    
    … initialization
    
    Author: Yifan Ying <yying@fitbit.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #803 from happymap/KAFKA-3134

commit c8b60b6344e659b805ea04fc976abcae2bf9fcf8
Author: Piotr Szwed <pszwed@gmail.com>
Date:   Sun Jan 24 01:16:41 2016 -0800

    MINOR: Fixed undefined method `update_guest'
    
    Author: Piotr Szwed <pszwed@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #802 from szwed/trunk

commit d00cf520fb0b36c7c705250b1773db2f242d5f44
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Sat Jan 23 22:26:53 2016 -0800

    MINOR: Improve Kafka documentation
    
    Improve the documentation by fixing typos, punctuations, and correcting the content.
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #778 from vahidhashemian/typo05/fix_documentation_typos

commit 4f39b5bc5b2104fb39ab5b0c087fe84a71205a74
Author: Ashish Singh <asingh@cloudera.com>
Date:   Sat Jan 23 16:59:28 2016 -0800

    KAFKA-2846: Add Ducktape test for kafka-consumer-groups
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #555 from SinghAsDev/KAFKA-2846

commit bc9237701b06768c119e954ddb4cd2e61c24e305
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Jan 22 16:24:47 2016 -0800

    KAFKA-3140: Fix PatternSyntaxException and hand caused by it in Mirro…
    
    Fix PatternSyntaxException and hand caused by it in MirrorMaker on passing invalid java regex string as whitelist
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Grant Henke, Gwen Shapira
    
    Closes #805 from SinghAsDev/KAFKA-3140

commit c197113a9c04e2f6c2d1a72161c0d40d5804490e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jan 22 15:25:24 2016 -0800

    KAFKA-3066: Demo Examples for Kafka Streams
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #797 from guozhangwang/K3066

commit a19729fe61b23178c6f91135cb81901f76f982f0
Author: Micah Zoltu <micah@zoltu.net>
Date:   Fri Jan 22 14:18:30 2016 -0800

    MINOR: Fixes version lookup exception.
    
    Given a schema with 2 versions (0 and 1), if you pass in a version of `2` you will get an `OutOfBoundsException` instead of an `IllegalArgumentException`.
    
    This fixes the problem by changing the check from `>` to `>=`, which will now return true in the given scenario.
    
    Author: Micah Zoltu <micah@zoltu.net>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #748 from Zoltu/patch-1

commit 21c6cfe50dbe818a392c28f48ce8891f7f99aaf6
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Jan 22 13:00:00 2016 -0800

    KAFKA-3136: Rename KafkaStreaming to KafkaStreams
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #800 from guozhangwang/KRename

commit 91ba074e4a9a012559ce8626c55db199c830cb0d
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Jan 21 18:33:39 2016 -0800

    MINOR: Remove remnants of hadoop clients from kafka-run-class.sh
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #799 from granthenke/hadoop-contrib

commit 7b2263946b944249e84c8923c2c14aa661a83639
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Jan 21 17:11:28 2016 -0800

    MINOR: Vagrant AWS overrideable EC2 instance name prefix
    
    ewencp
    This small change allows users to use Vagrantfile.local to specify a custom prefix for names of ec2 instances brought up with vagrant.
    
    This makes management of multiple aws test clusters a little easier since individual clusters can be assigned different name prefixes.
    
    if `ec2_instance_name_prefix` is not specified in `Vagrantfile.local`, behavior will be exactly the same as before this change.
    
    Testing:
    - aws: I verified worker nodes, broker nodes, zk nodes with and without the prefix override. Behavior is as expected
    - locally: I verified that bringing up worker nodes, broker nodes, zk nodes on a local machine is not impacted by this change.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #801 from granders/minor-vagrant-aws-overrideable-prefix

commit 4922a51edd91d862d9be92b1a652d2a83d936b2c
Author: Chen Shangan <chenshangan@meituan.com>
Date:   Thu Jan 21 16:18:13 2016 -0800

    KAFKA-2146: Fix adding partition did not find the correct startIndex.
    
    TopicCommand provide a tool to add partitions for existing topics. It try to find the startIndex from existing partitions. There's a minor flaw in this process, it try to use the first partition fetched from zookeeper as the start partition, and use the first replica id in this partition as the startIndex.
    One thing, the first partition fetched from zookeeper is not necessary to be the start partition. As partition id begin from zero, we should use partition with id zero as the start partition.
    The other, broker id does not necessary begin from 0, so the startIndex is not necessary to be the first replica id in the start partition.
    
    Author: chenshangan <chenshangan@meituan.com>
    
    Reviewers: Guozhang Wang
    
    Closes #329 from shangan/trunk-KAFKA-2146

commit f2d4ed5bc4c2bc2bf7241ad6b6a9d3c0ce026269
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jan 21 11:44:44 2016 -0800

    MINOR: Upgrade note on compacted topics behaviour on receiving message without key
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke, Guozhang Wang
    
    Closes #798 from ijuma/upgrade-notes-unkeyed-messages-to-compacted-topics

commit 9577dc2358f4324de04219c7160a10c230a130b9
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Jan 21 11:18:24 2016 -0800

    KAFKA-3080: Fix ConsoleConsumerTest by checking version when service is started
    
    The MessageFormatter being used was only introduced as of 0.9.0.0. The Kafka
    version in some tests is changed dynamically, sometimes from trunk back to an
    earlier version, so this option must be set based on the version used when the
    service is started, not when it is created.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Geoff Anderson, Ismael Juma, Grant Henke
    
    Closes #770 from ewencp/kafka-3080-system-test-console-consumer-version-failure

commit 79cda0472b8e3af915c45daca9cce82d7c964182
Author: David Jacot <david.jacot@gmail.com>
Date:   Wed Jan 20 16:27:34 2016 -0800

    KAFKA-2071: Replace Producer Request/Response with their org.apache.kafka.common.requests equivalents
    
    This PR replaces all occurrences of kafka.api.ProducerRequest/ProducerResponse by their common equivalents.
    
    Author: David Jacot <david.jacot@gmail.com>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #110 from dajac/KAFKA-2071

commit 959cf09e8653f4b8255f49c6f4c258ed1a5ec38e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jan 20 16:10:43 2016 -0800

    KAFKA-3121: Remove aggregatorSupplier and add Reduce functions
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #795 from guozhangwang/K3121s1

commit e4ef8e6640a266da1d9135282ae41d18f44f8025
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jan 19 22:50:24 2016 -0800

    KAFKA-3122; Fix memory leak in `Sender.completeBatch` on TOPIC_AUTHORIZATION_FAILED
    
    Also fix missing call to `sensors.record` on this error.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #791 from ijuma/fix-producer-memory-leak-on-authorization-exception

commit 23b8740d82e4c009fcfb4827f7cd673210bde3b4
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jan 19 09:22:13 2016 -0800

    MINOR: Avoid unnecessary `ConcurrentHashMap.get`
    
    Also remove incorrect comment.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #790 from ijuma/avoid-unnecessary-get

commit a1efe633207312d63897ad27953a324d1874fa6b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jan 19 09:17:47 2016 -0800

    MINOR: Fix javadoc for `PartitionInfo.leader()`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #789 from ijuma/fix-partition-info-leader-doc

commit 0a7f2bf335e426b12f717ec7f6d51779d56fe59b
Author: David Jacot <david.jacot@gmail.com>
Date:   Mon Jan 18 22:25:37 2016 -0800

    MINOR: MemoryRecords.sizeInBytes throws NPE when non-writable.
    
    I just noticed that `MemoryRecords.sizeInBytes` throws NPE when MemoryRecords is non-writable. `compressor` is explicitly set to null when `writable` is false (L56) at the construction time, for instance when `MemoryRecords.readableRecords` is used.
    
    guozhangwang Could you take a look when you have time?
    
    Author: David Jacot <david.jacot@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #786 from dajac/kafka-npe

commit b1d325b3c09cd95d69a66fac4a3760f57d3062c9
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Jan 18 18:55:50 2016 -0800

    KAFKA-3091: Broker persists generated ID even when the ID can't be used due to duplicates
    
    …updated to a new valid one
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #763 from granthenke/id-start-failure

commit 5c337d759892ae6d46d6901a24e9b97cebd2a4da
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Jan 18 18:39:55 2016 -0800

    KAFKA-3012: Avoid reserved.broker.max.id collisions on upgrade
    
    Provides a configuration to opt out of broker id generation.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #762 from granthenke/id-generation

commit c06542edeadb99fc5adddcea422d411e3ac96171
Author: Atul Soman <atul.soman@microfocus.com>
Date:   Mon Jan 18 18:16:12 2016 -0800

    KAFKA-3119: Adding -daemon option to zookeeper-server-start.sh USAGE, similar to kafka-server-start.sh
    
    Output after fix:
    
    #satul# ./kafka-server-start.sh
    USAGE: ./kafka-server-start.sh [-daemon] server.properties
    #satul# ./zookeeper-server-start.sh
    USAGE: ./zookeeper-server-start.sh [-daemon] zookeeper.properties
    
    Author: Atul Soman <atul.soman@microfocus.com>
    
    Reviewers: Gwen Shapira
    
    Closes #785 from atulsm/trunk

commit f75e3350259c6df11719ee0a55f5780c136f3d26
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jan 18 13:43:52 2016 -0800

    MINOR: complete built-in stream aggregate functions
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #787 from guozhangwang/KBuiltInAgg

commit a62eb5993f5517a64dd1020b0a9bbd1012f7ee67
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Jan 18 12:14:43 2016 -0800

    KAFKA-3104: add windowed aggregation to KStream
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Mastuda
    
    Closes #781 from guozhangwang/K3104

commit cc3570d1a28354acd082c41a15d9c9efde540b16
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Jan 18 10:09:17 2016 -0800

    KAFKA-2999: Errors enum should be a 1 to 1 mapping of error codes and…
    
    … exceptions
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #766 from granthenke/errors-map

commit 401ae7707cf3990240544eb4575acc46a9c85017
Author: Tom Graves <tgraves@yahoo-inc.com>
Date:   Mon Jan 18 10:03:47 2016 -0800

    KAFKA-3095: Add documentation on format of sasl.kerberos.principal.to.local.rules
    
    Add some basic documentation about the format, a link to get more detailed information and an example usage.  I didn't want to make a huge section on the format since it documented elsewhere but I can expand is folks want.
    
    https://issues.apache.org/jira/browse/KAFKA-3095
    
    Author: Tom Graves <tgraves@yahoo-inc.com>
    
    Reviewers: Gwen Shapira
    
    Closes #776 from tgravescs/KAFKA-3095

commit 5979480c3af6be00cf7b135aeabf11bf8141f936
Author: David Jacot <david.jacot@gmail.com>
Date:   Mon Jan 18 09:56:12 2016 -0800

    KAFKA-3098: "partition.assignment.strategy" appears twice in documentation
    
    Author: David Jacot <david.jacot@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #774 from dajac/KAFKA-3098

commit 747dc930ff710ec890b5f054b4ec4bf7bbb7c960
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Jan 18 09:54:02 2016 -0800

    KAFKA-2695: limited support for nullable byte arrays
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #780 from hachikuji/KAFKA-2695

commit 0c32bc99265c4645fad2e3244dc2c697bfd9a229
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Jan 18 09:47:32 2016 -0800

    KAFKA-3105: Use `Utils.atomicMoveWithFallback` instead of `File.rename`
    
    It behaves better on Windows and provides more useful error messages.
    
    Also:
    * Minor inconsistency fix in `kafka.server.OffsetCheckpoint`.
    * Remove delete from `streams.state.OffsetCheckpoint` constructor (similar to the change in `kafka.server.OffsetCheckpoint` in https://github.com/apache/kafka/commit/836cb1963330a9e342379899e0fe52b72347736e#diff-2503b32f29cbbd61ed8316f127829455L29).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #771 from ijuma/kafka-3105-use-atomic-move-with-fallback-instead-of-rename

commit 60a5a523b6f7e5151d8cdc835845cfc4d2e72b52
Author: David Jacot <david.jacot@gmail.com>
Date:   Sun Jan 17 21:22:36 2016 -0800

    KAFKA-3085; BrokerChangeListener computes inconsistent live/dead broker list.
    
    Follow up PR as per comments in the ticket.
    
    junrao It should be correct now as `curBrokers` included only live brokers and live/dead brokers are computed based on it. Could you take a look when you have time?
    
    Author: David Jacot <david.jacot@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #756 from dajac/KAFKA-3085

commit a071e3554bf626182557dfaca491afebe9c17020
Author: Tao Xiao <taxiao@ebay.com>
Date:   Sun Jan 17 17:14:07 2016 -0800

    KAFKA-2993: Calculate compression rate at close() call
    
    Buffer is rewound before the compression rate metric is updated which results in 0 compress rate. The fix is to include a new compressRate field to record the latest compression rate in ```close()``` and return it to sensor
    
    Author: Xiao, Tao <taxiao@ebay.com>
    
    Reviewers: Guozhang Wang
    
    Closes #784 from xiaotao183/kafka-2993

commit 6dc974312590f089c9e0ac27e8eb9b848caf32b5
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jan 15 09:28:43 2016 -0800

    KAFKA-2886: Handle sink task rebalance failures by stopping worker task
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #767 from hachikuji/KAFKA-2886

commit 37be6d98da842512367ab0b31d8f0244afafda92
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Thu Jan 14 17:20:08 2016 -0800

    KAFKA-3108: custom StreamParitioner for Windowed key
    
    guozhangwang
    
    When ```WindowedSerializer``` is specified in ```to(...)``` or ```through(...)``` for a key, we use ```WindowedStreamPartitioner```.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #779 from ymatsuda/partitioner

commit a3d3d5379df71e7a2c653d06ebf1b30923dde738
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jan 14 17:09:33 2016 -0800

    MINOR: add internal source topic for tracking
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Mastuda
    
    Closes #775 from guozhangwang/KRepartTopic

commit 4f22705c7d0c8e8cab68883e76f554439341e34a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jan 13 17:15:57 2016 -0800

    KAFKA-3081: KTable Aggregation
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #761 from guozhangwang/K3081

commit 70011747c85337817497bc005ac9ea191d8688e3
Author: Eamon Zhang <zhang.eamon@hotmail.com>
Date:   Wed Jan 13 15:01:20 2016 -0800

    MINOR: modify config specification of topic level
    
    topic level config delete config options
    
    use --delete-config instead of --deleteConfig
    
    Author: eamon <zhang.eamon@hotmail.com>
    
    Reviewers: Ismael Juma, Grant Henke, Guozhang Wang
    
    Closes #612 from EamonZhang/trunk

commit d61543e3219c5d820d1b38ccd063501da0966ba6
Author: Ján Koščo <3k.stanley@gmail.com>
Date:   Wed Jan 13 14:58:37 2016 -0800

    MINOR: Typo in documentation of topic config removal
    
    Author: Ján Koščo <3k.stanley@gmail.com>
    
    Reviewers: Ismael Juma, Grant Henke, Guozhang Wang
    
    Closes #768 from s7anley/trunk

commit 836cb1963330a9e342379899e0fe52b72347736e
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jan 12 16:16:10 2016 -0800

    KAFKA-3063; LogRecoveryTest causes JVM to exit occasionally
    
    Remove deletion of tmp file in `OffsetCheckpoint`'s constructor. This delete causes unintuitive behaviour like `LogRecoveryTest` causing a `System.exit` because the test creates an instance of `OffsetCheckpoint` in order to call `read()` on it (while unexpectedly deleting a file being written by another instance of `OffsetCheckpoint`).
    
    Also:
    * Improve error-handling in `OffsetCheckpoint`
    * Also include minor performance improvements in `read()`
    * Minor clean-ups to `ReplicaManager` and `LogRecoveryTest`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #759 from ijuma/kafka-3063-log-recovery-test-exits-jvm

commit 72eebad43d5aaf4bbd29532eedc2a793fc3ee9d5
Author: Flavio Junqueira <fpj@apache.org>
Date:   Tue Jan 12 09:48:47 2016 -0800

    KAFKA-3069: Fix recursion in ZkSecurityMigrator
    
    I'm also fixing a bug in the testChroot test case.
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #736 from fpj/KAFKA-3069

commit 3e5afbfa0dd4ddfca65fae1f3b2a268ae1ed2025
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon Jan 11 23:15:42 2016 -0800

    KAFKA-3078: Add ducktape tests for KafkaLog4jAppender producing to SASL enabled Kafka cluster
    
    Note that KAFKA-3077 will be required to run these tests.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #747 from SinghAsDev/KAFKA-3078

commit 2adeb214b1e366e36deef045f8049406f7b3773d
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon Jan 11 23:14:14 2016 -0800

    KAFKA-3077: Enable KafkaLog4jAppender to work with SASL enabled brokers
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #740 from SinghAsDev/KAFKA-3077

commit c9114488b3c266fe60cf96426bfa143b4b8109c0
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Jan 11 18:00:57 2016 -0800

    MINOR: remove unused TimeUnit from MetricConfig
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #600 from lindong28/minor

commit e789a35d3bce916f25705915b5e86353462a1454
Author: David Jacot <david.jacot@gmail.com>
Date:   Mon Jan 11 15:00:48 2016 -0800

    KAFKA-3085; BrokerChangeListener computes inconsistent live/dead broker list
    
    Author: David Jacot <david.jacot@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #752 from dajac/KAFKA-3085

commit f009c30947c49fec4f41efcc31b9d5d72b6f7f37
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Jan 11 14:16:58 2016 -0800

    KAFKA-3021: Centralize dependency version management
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #741 from granthenke/central-deps

commit 9c998dd8cd4a489512b6ed34a05afce88a0b1ba2
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Jan 11 11:10:23 2016 -0800

    KAFKA-3019: Add an exceptionName method to Errors
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #754 from granthenke/exception-name

commit 3a0fc125f4337a670ea52009afb1a254179ac07b
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Jan 11 10:08:45 2016 -0800

    KAFKA-3084: Topic existence checks in topic commands (create, alter, delete)
    
    …delete)
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #744 from granthenke/exists-checks

commit 7059158c48ec05288c0b45ccac05d62b38f1bf76
Author: Praveen Devarao <praveendrl@in.ibm.com>
Date:   Sun Jan 10 22:13:54 2016 -0800

    KAFKA-3044: Re-word consumer.poll behaviour
    
    https://issues.apache.org/jira/browse/KAFKA-3044
    
    Author: Praveen Devarao <praveendrl@in.ibm.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #751 from praveend/poll_doc_changes

commit 36f5c46a5cf510001a4990db6199beb37f215007
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 8 16:08:38 2016 -0800

    MINOR: Security doc fixes
    
    Simple fixes that have tripped users.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #745 from ijuma/security-doc-improvements

commit 8d674857996667bce52a804feb6108a6903eb39b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jan 8 15:13:14 2016 -0800

    MINOR: Add property to configure showing of standard streams in Gradle
    
    This is handy when debugging certain kinds of Jenkins failures.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #739 from ijuma/gradle-show-standard-streams

commit 58def1cba022987b83e9bc72588aaee0c1965f77
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Jan 8 15:04:27 2016 -0800

    MINOR: speed up connect startup when full connector class name is provided
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Liquan Pei <liquanpei@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #746 from hachikuji/worker-startup-improvement

commit ccdf552749135b2c40f5a0afb4aa121115165ed2
Author: Gabriel Zhang <smalldirector@yahoo.com>
Date:   Fri Jan 8 10:43:52 2016 -0800

    MINOR: Fix typos in Kafka website page
    
    Fix two minor typos in Kafka official website page.
    
    Author: Gabriel Zhang <smalldirector@yahoo.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #742 from smalldirector/kafka-document-typos-fix

commit 49778b18446d691321026415aeaac1b265057ece
Author: Flavio Junqueira <fpj@apache.org>
Date:   Thu Jan 7 20:04:24 2016 -0800

    KAFKA-2979: Enable authorizer and ACLs in ducktape tests
    
    Patch by fpj and benstopford.
    
    Author: flavio junqueira <fpj@apache.org>
    Author: Flavio Junqueira <fpj@apache.org>
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Ben Stopford <benstopford@gmail.com>, Geoff Anderson <geoff@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #683 from fpj/KAFKA-2979

commit 40d731b8712950122915795acca43886851a73b6
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jan 7 17:18:33 2016 -0800

    KAFKA-2653: Add KStream/KTable Aggregation and KTable Join APIs
    
    ping ymatsuda for reviews.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #730 from guozhangwang/K2653r

commit 4836e525c851640e0da9d8d11321621a2c70e8f0
Author: Randall Hauch <rhauch@gmail.com>
Date:   Thu Jan 7 14:46:02 2016 -0800

    KAFKA-2649: Add support for custom partitioning in topology sinks
    
    Added option to use custom partitioning logic within each topology sink.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #309 from rhauch/kafka-2649

commit ee1770e00e841ba68dc25f03a8d3f2ac647b0eb3
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Jan 7 09:57:35 2016 -0800

    KAFKA-2988; Change default configuration of the log cleaner
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #686 from granthenke/compaction

commit a9ff3f2eced76a0aa13804439101c2897916e250
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Jan 6 21:24:19 2016 -0800

    KAFKA-2929: Migrate duplicate error mapping functionality
    
    Deprecates ErrorMapping.scala in core in favor or Errors.java in common.
    Duplicated exceptions in core are deprecated as well, to ensure the mapping is correct.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #616 from granthenke/error-mapping

commit 991cafe4d4d1875ce40c31fbb54ba3930a826e62
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Jan 6 16:19:39 2016 -0800

    KAFKA-3022: Deduplicate common project configurations
    
    - Move testJar to subprojects config
    - Move CheckStyle to subprojects config
    - Move testLogging to subprojects config
    - Add testSourceJar in subprojects config
    - Minor cleanup
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #712 from granthenke/build-dedupe

commit 00114dae7a0ecb361aa5b843d5c7a95381294bd2
Author: David Jacot <david.jacot@gmail.com>
Date:   Wed Jan 6 16:08:16 2016 -0800

    KAFKA-2072; Replace StopReplica Request/Response with their org.apache.kafka.common.requests equivalents
    
    Author: David Jacot <david.jacot@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Grant Henke <granthenke@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #196 from dajac/KAFKA-2072-part-2

commit d9cabfde6cd94fa62ed698d14321e7f1494933c0
Author: Michael G. Noll <michael@confluent.io>
Date:   Wed Jan 6 15:21:49 2016 -0800

    KAFKA-2874; shutdown ZK process reliably
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Flavio Junqueira <fpj@apache.org>, Jun Rao <junrao@gmail.com>
    
    Closes #573 from miguno/KAFKA-2874

commit 85039ab43664577524bf99453cf2b972d3724f60
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Jan 6 15:01:18 2016 -0800

    KAFKA-2850; Fix SSL invalid endpoint validation test
    
    Use invalid hostname to ensure that test works in all environments
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #546 from rajinisivaram/KAFKA-2850

commit 5aad4999d1a1d35d61365ff57a9b79a6af3e70d2
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Jan 6 14:34:40 2016 -0800

    KAFKA-3016: phase-2. stream join implementations
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #737 from ymatsuda/windowed_join2

commit a788c65f02ae493abc27fe63c6d181e6a9b8edfe
Author: Mayuresh Gharat <mgharat@mgharat-ld1.linkedin.biz>
Date:   Wed Jan 6 14:16:56 2016 -0800

    KAFKA-2937; Disable the leaderIsr check if the topic is to be deleted.
    
    The check was implemented in KAFKA-340 : If we are shutting down a broker when the ISR of a partition includes only that broker, we could lose some messages that have been previously committed. For clean shutdown, we need to guarantee that there is at least 1 other broker in ISR after the broker is shut down.
    
    When we are deleting the topic, this check can be avoided.
    
    Author: Mayuresh Gharat <mgharat@mgharat-ld1.linkedin.biz>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Rajini Sivaram <rajinisivaram@googlemail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #729 from MayureshGharat/kafka-2937

commit 25fa39d5ef751ce5a79ff25f70203724d4272504
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Wed Jan 6 12:48:47 2016 -0800

    KAFKA-1901; Added error handling when no file exists in .git/refs/heads.
    
    guozhangwang  added .git/refs/heads/ file existence check.
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #209 from omkreddy/KAFKA-1901

commit b098f677aec998600f42529b0755b8fd39e777ff
Author: Konrad <konkalita@gmail.com>
Date:   Tue Jan 5 12:04:55 2016 -0800

    KAFKA-3058; remove the usage of deprecated config properties
    
    Author: Konrad <konkalita@gmail.com>
    Author: konradkalita <konkalita@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #732 from konradkalita/Kafka-3058

commit c44c898ec835bb16950137f831cbc18c6b8b82f5
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Jan 5 12:03:19 2016 -0800

    KAFKA-3045; ZkNodeChangeNotificationListener shouldn't log InterruptedException as error
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #731 from lindong28/KAFKA-3045

commit 5db147c1d453c9dabcc277bd95435f17201b9c1c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jan 5 11:39:56 2016 -0800

    KAFKA-3010; Include error in log when ack 0
    
    I verified this by trying to produce to __consumer_offsets and the logged message looks like:
    
    [2015-12-22 10:34:40,897] INFO [KafkaApi-0] Closing connection due to error during produce request with correlation id 1 from client id console-producer with ack=0
    Topic and partition to exceptions: [__consumer_offsets,43] -> kafka.common.InvalidTopicException (kafka.server.KafkaApis)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #709 from ijuma/kafka-3010-include-error-in-log-when-ack-0

commit 23d607dc2174f8d2202d438fa65e03e951591fcd
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Jan 5 06:22:28 2016 -0800

    MINOR: Update `config/producer.properties` to have new producer properties
    
    Also include some trivial clean-ups in `ProducerConfig`and `BaseProducer`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #710 from ijuma/use-new-producer-properties-in-config

commit b0b3e5aebf381faf81bd9454ef7b448e2ad922c7
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Jan 4 16:47:17 2016 -0800

    KAFKA-3016: phase-1. A local store for join window
    
    guozhangwang
    An implementation of local store for join window. This implementation uses "rolling" of RocksDB instances for timestamp based truncation.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #726 from ymatsuda/windowed_join

commit 57df460f8d7b225509dd8c061a5b6efa65c8ac9c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Jan 4 12:49:23 2016 -0800

    KAFKA-3051 KAFKA-3048; Security config docs improvements
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #724 from ijuma/minor-security-fixes

commit b93f48f7494e1db4d564b6c28772712ee7681620
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Jan 4 15:01:58 2016 -0500

    KAFKA-2422: Allow copycat connector plugins to be aliased to simpler names
    
    …names
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #687 from gwenshap/KAFKA-2422

commit f9642e2a9878faff81366dbc885a206727bd7c7b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Jan 4 08:51:30 2016 -0800

    KAFKA-3052; Broker properties get logged twice if acl enabled
    
    Fix it by making it possible to pass the `doLog` parameter to `AbstractConfig`. As explained in the code comments, this means that we can continue to benefit from ZK default settings as specified in `KafkaConfig` without having to duplicate code.
    
    Also:
    * Removed unused private methods from `KafkaConfig`
    * Removed `case` modifier from `KafkaConfig` so that `hashCode`, `equals`
    and `toString` from `AbstractConfig` are used.
    * Made `props` a `val` and added `apply` method to `KafkaConfig` to
    remain binary compatible.
    * Call authorizer.close even if an exception is thrown during `configure`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #725 from ijuma/kafka-3052-broker-properties-get-logged-twice-if-acl-enabled

commit 2679524604b611046e9826b2a1fba461d42f06f4
Author: Kishore Senji <ksenji@ebay.com>
Date:   Mon Jan 4 11:47:31 2016 -0500

    KAFKA-3055; Fix JsonConverter mangling the Schema in Connect
    
    Author: ksenji <ksenji@ebay.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #722 from ksenji/trunk

commit b905d489188768ba1c55226857db9713b9272918
Author: Flavio Junqueira <fpj@apache.org>
Date:   Sun Jan 3 15:25:59 2016 -0800

    KAFKA-2949; Make EndToEndAuthorizationTest replicated.
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #631 from fpj/KAFKA-2949

commit e11946b097ed617b6de78909dbd9f6e44765c1fd
Author: Samuel Julius Hecht <samjhecht@gmail.com>
Date:   Wed Dec 30 17:02:58 2015 -0800

    MINOR: fixing typos in docs
    
    This commit contains minor grammatical fixes.  Some of the changes are just removing rogue commas, which can be hard to see in the diff.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Samuel Julius Hecht <samjhecht@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #721 from samjhecht/minor-docs-edits

commit 9f33bfe19cd7841b03ff60c84148fe309555b58a
Author: BINLEI XUE <kongpo0412@gmail.com>
Date:   Wed Dec 30 08:00:43 2015 -0800

    Minor: fix sasl.kerberos.service.name
    
    sasl.kerberos.service.name surround by double quote didn't work, have to remove.
    
    Author: BINLEI XUE <kongpo0412@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #720 from secjex/patch-1

commit d9ddc109fd360d5deb2894ad73cb9e12e2f8edbf
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Sat Dec 26 23:14:31 2015 -0800

    KAFKA-3043: Replace request.required.acks with acks in docs.
    
    In Kafka 0.9, request.required.acks=-1 which configration of producer is replaced by acks=all,
    but this old config is remained in docs.
    
    Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
    
    Reviewers: Gwen Shapira
    
    Closes #716 from sasakitoa/acks_doc

commit b0a4a57c56cf5691aaf0e11a3ddf4c6d067994f7
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Sat Dec 26 08:51:07 2015 -0800

    MINOR: Improve document of MirrorMaker
    
    Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
    
    Reviewers: Gwen Shapira
    
    Closes #717 from sasakitoa/mirrorMaker_doc

commit ca7c76b2632bceaddacb5e6167e84904fd6f58f9
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Dec 25 14:40:00 2015 -0500

    MINOR: Update to Gradle 2.10
    
    Some of the Improvements Include:
    - The Checkstyle task now produces a human friendly HTML report
    - Potential performance improvements
    - Bug Fixes
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #715 from granthenke/gradle

commit ea73356905ff4663d0d085c46b348fa4e9b9568d
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Wed Dec 23 20:55:01 2015 -0800

    KAFKA-3002; Allow uppercase letters in hostnames
    
    Make available to specify hostname with Uppercase at broker list
    
    Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #685 from sasakitoa/hostname_uppercase

commit 83d4c359bab40ce7418cd5f7219a23a9fcfba921
Author: ouyangliduo <ouyangliduo@360.cn>
Date:   Tue Dec 22 18:30:38 2015 -0800

    MINOR: Fix a typos in comments
    
    Author: ouyangliduo <ouyangliduo@360.cn>
    
    Reviewers: Gwen Shapira, Lin Dong
    
    Closes #701 from oyld/typos_fix

commit 07ee17fd05900101ad2ebc7210f94b05e230bf83
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Dec 22 18:28:48 2015 -0800

    KAFKA-3024: Remove old patch review tools
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma
    
    Closes #705 from granthenke/review-tools-cleanup

commit 0f11b2b8251a3905a93cfe84abefd24791ae3658
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Dec 22 18:16:38 2015 -0800

    KAFKA-3030: Remove unused scala dependencies
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #713 from granthenke/scala-deps

commit ba6f141dd78b3dfeafb2088f8acb6dcf65468b19
Author: David Jacot <david.jacot@gmail.com>
Date:   Tue Dec 22 17:55:13 2015 -0800

    MINOR: Tiny optimization to avoid mapping twice on the results.
    
    As pointed out by granthenke in #196, error can be wrapped in JShort directly to avoid second map.
    
    Author: David Jacot <david.jacot@gmail.com>
    
    Reviewers: Grant Henke, Gwen Shapira
    
    Closes #714 from dajac/wrap-jshort

commit bde49e3711a45721a0d1df9acf3ce2e5a8f990e9
Author: glikson <glikson@il.ibm.com>
Date:   Tue Dec 22 17:07:15 2015 -0800

    MINOR: Use "new line" delimeters in a portable way in a unit test
    
    This fixes failure of the FileStreamSinkTaskTest unit test on Windows
    
    Signed-off-by: glikson <gliksonil.ibm.com>
    
    Author: glikson <glikson@il.ibm.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #708 from glikson/file-ut-newline

commit 976fa192d45243d2da3eb7e1d6fa1ce0fdda1fd2
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Dec 22 16:15:37 2015 -0800

    KAFKA-2989; System tests should verify partitions consumed after rebalancing
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #702 from hachikuji/KAFKA-2989

commit a6889a2bf94cb326247b5076f474337fbadfadf4
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Dec 22 10:44:25 2015 -0800

    MINOR: Fix typo in documentation
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Guozhang Wang
    
    Closes #707 from vahidhashemian/typo04/fix_documentation_typos

commit 64b746bd8b4dae17d7dd804f0e7161f304e2d8ee
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Dec 21 22:48:03 2015 -0800

    KAFKA-3020; Ensure CheckStyle runs on all Java code
    
    - Adds CheckStyle to core and examples modules
    - Fixes any existing CheckStyle issues
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #703 from granthenke/checkstyle-core

commit a0d21407cbdd3b7cb73f52c986aa2f60804618e7
Author: manasvigupta <manasvigupta@yahoo.co.in>
Date:   Mon Dec 21 13:30:59 2015 -0800

    KAFKA-3009; Disallow star imports
    
    Summary of code changes
    ------------------------------------
    1) Added a new Checkstyle rule to flag any code using star imports
    2) Fixed ALL existing code violations using star imports
    
    Testing
    -----------
    Local build was successful
    ALL JUnits ran successfully on local.
    
    ewencp - Request you to please review changes. Thank you !
    
    I state that the contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: manasvigupta <manasvigupta@yahoo.co.in>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #700 from manasvigupta/KAFKA-3009

commit fa4ffb8767da18b2b84ef3d3cbeb2d4c5b804dbe
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Dec 21 10:53:51 2015 -0800

    KAFKA-3014: fix integer overflow problem in leastLoadedNode
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #696 from hachikuji/KAFKA-3014

commit e32131ed6fcfaea7e56295ea0b6ddbf8c804460f
Author: Jin Xing <jinxing@fenbi.com>
Date:   Mon Dec 21 10:43:46 2015 -0800

    KAFKA-2455: Fix failure in kafka.consumer.MetricsTest.testMetricsLeak
    
    DelayedFetchMetrics are loaded dynamically in function "onExpiration";
    use assertNull(DelayedFetchMetrics) to initialize DelayedFetchMetrics explicitly;
    
    Author: jinxing <jinxing@fenbi.com>
    Author: ZoneMayor <jinxing6042@126.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #694 from ZoneMayor/trunk-KAFKA-2455

commit d2632d011f7bda3cbd0cbcc8f2a3bd1e985d5b1b
Author: Jin Xing <jinxing@fenbi.com>
Date:   Sun Dec 20 22:06:56 2015 -0800

    KAFKA-2977: Transient Failure in kafka.log.LogCleanerIntegrationTest.cleanerTest
    
    Make MinCleanableDirtyRatioProp configurable(default 0.0F)in makeCleaner, thus log cleaning is always undergoing;
    Also removed minDirtyMessages.
    
    Author: jinxing <jinxing@fenbi.com>
    Author: ZoneMayor <jinxing6042@126.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #671 from ZoneMayor/trunk-KAFKA-2977

commit 3615e4773dd20327dead494cd0ba6a26edada92d
Author: Jin Xing <jinxing6042@126.com>
Date:   Sun Dec 20 22:01:21 2015 -0800

    KAFKA-2058: Fix ProducerTest.testSendWithDeadBroker transient failure
    
    It turns that waitUntilMetadataIsPropagated is not enough;
    in "onBrokerStartup", methods below will send send both LeaderAndIsrRequest and UpdateMetadataRequest to KafkaApis:
        replicaStateMachine.handleStateChanges(allReplicasOnNewBrokers, OnlineReplica)
        partitionStateMachine.triggerOnlinePartitionStateChange()
    The two kinds of request are handled seperately and we are not sure about the order;
    If UpdateMetadataRequest is handled first, metadataCache of kafkaApis will be updated, thus TestUtils.waitUntilMetadataIsPropagated will be satisfied, and consumer can(will) start fetching data;
    But if the LeaderAndIsrRequest is not handled at this moment, "becomeLeaderOrFollower" cannot be called , thus structures like "leaderReplicaOpt" cannot be updated, which leads to failure of consumer's fetching data;
    To fix above, consumer should start fetching data after partition's leaderReplica is refreshed, not just the leader is elected;
    So added "TestUtils.waitUntilLeaderIsKnown(servers, topic, 0)"
    
    Author: ZoneMayor <jinxing6042@126.com>
    Author: jinxing <jinxing@fenbi.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #689 from ZoneMayor/trunk-KAFKA-2058

commit 8c754c45af57a3249232268c6093cb4f50e1d45f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Dec 18 10:27:03 2015 -0800

    MINOR: Change return type of `Schema.read` to be `Struct` instead of `Object`
    
    We always return a `Struct` from `Schema.read` and this means that
    we can remove a large number of casts.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #684 from ijuma/schema-read-should-return-struct

commit 9220df9f8b58870a2282d3e4ceb2e003667d854b
Author: Ben Stopford <benstopford@gmail.com>
Date:   Thu Dec 17 18:02:38 2015 -0800

    KAFKA-2964: Split Security Rolling Upgrade Test by Client and Broker Protocols
    
    The core of this PR is to ensure we evaluate enabling security in a running cluster where we have different broker and client protocols.
    Also in this PR are some improvements to the validation process in produce_consume_validate.py which make it easier to work out where missing messages have been lost:
    - Fail fast if producer or consumer stop running.
    - If messages go missing, check in the data files to see if the cause was data loss or the consumer missing messages.
    - Make it possible for the ConsoleConsumer to log both what it consumed and when it consumed it (and enable this feature in produce_consume_validate tests)
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Gwen Shapira, Geoff Anderson
    
    Closes #667 from benstopford/security-rolling_upgrade-additions

commit a2a417caf9fa4f177e099fed7d2a9b8d1942a9d6
Author: vahidhashemian <vahidhashemian@us.ibm.com>
Date:   Thu Dec 17 16:52:24 2015 -0800

    MINOR: Fix broken documentation link
    
    The link to 'Producer Configs' section of the documentation is updated with this PR.
    
    Author: vahidhashemian <vahidhashemian@us.ibm.com>
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Gwen Shapira
    
    Closes #692 from vahidhashemian/typo03/fix_broken_doc_link

commit 587a2f4efd7994d4d3af82ed91304f939514294a
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Dec 16 15:37:53 2015 -0800

    KAFKA-2984: KTable should send old values when required
    
    guozhangwang
    
    At DAG level, `KTable<K,V>` sends (key, (new value, old value)) to down stream.  This is done by wrapping the new value and the old value in an instance of `Change<V>` class and sending it as a "value" part of the stream. The old value is omitted (set to null) by default for optimization. When any downstream processor needs to use the old value, the framework should enable it (see `KTableImpl.enableSendingOldValues()` and implementations of `KTableProcessorSupplier.enableSensingOldValues()`).
    
    NOTE: This is meant to be used by aggregation. But, if there is a use case like a SQL database trigger, we can add a new KTable method to expose this.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #672 from ymatsuda/trigger

commit 841d2d1a26af94ec95c480dbf2453f9c7d28c2f7
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Dec 15 23:53:23 2015 -0800

    MINOR: StreamThread performance optimization
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #680 from ymatsuda/perf

commit 4ad165c0783bc49e5750292cd0e8d277e3186846
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 15 20:57:05 2015 -0800

    MINOR: Add information to upgrade notes
    
    Credit to Gwen for some of the text.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #678 from ijuma/mirror-maker-compatibility-note

commit 5df783f18e9a6a6e17960e3ef4b0a66f4d10d65c
Author: Cory Kolbeck <cory.kolbeck@urbanairship.com>
Date:   Tue Dec 15 17:05:46 2015 -0800

    Kafka-2992: Guard trace statements in the inner loop of the replica fetcher
    
    We're seeing some GC pause issues in production, and during our investigation found that the thunks created during invocation of three trace statements guarded in this PR were responsible for ~98% of all allocations by object count and ~90% by size. While I'm not sure that this was actually the cause of our issue, it seems prudent to avoid useless allocations in a tight loop.
    
    I realize that the trace() call does its own guarding internally, however it's insufficient to prevent allocation of the thunk.
    
    This is my original work, and I license it to the Kafka project under the project's Apache license.
    
    Author: Cory Kolbeck <cory.kolbeck@urbanairship.com>
    
    Reviewers: Gwen Shapira
    
    Closes #682 from ckolbeck/guard-trace-statements

commit fdac34e6ab2a7760c170f53556fec7dca8ee9b22
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Tue Dec 15 16:18:39 2015 -0800

    MINOR: Updating comment that fell out of sync with code
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #681 from gwenshap/minor-herder-comment

commit 3432e85f664c5e3d8300171c314ea52b2f4b88fd
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Dec 15 13:48:34 2015 -0800

    KAFKA-2509: Replace LeaderAndIsr{Request,Response} with o.a.k.c reque…
    
    …sts equivalent
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #647 from granthenke/isr-request

commit 3f3358b6d4374662f5ca57c6e93e009b58a6b2a2
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Dec 15 13:46:57 2015 -0800

    MINOR: Fix typos in code comments
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Gwen Shapira
    
    Closes #673 from vahidhashemian/typo02/fix_typos_in_code_comments

commit 9545cc88348b78f66c1c7a891449caa35f322a74
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 15 10:55:24 2015 -0800

    MINOR: Improve README
    
    Mention Java 7 requirement, fix and improve formatting and remove obsolete reference to SVN website.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Jason Gustafson <jason@confluent.io>
    
    Closes #677 from ijuma/mention-java-requirement-in-readme

commit 9a0e16397e81323a3c93053ee473dfcdf3bcceb3
Author: Magnus Edenhill <magnus@edenhill.se>
Date:   Mon Dec 14 19:03:20 2015 -0800

    MINOR: Documentation updates for reserved.broker.max.id
    
    People are facing problems upgrading their clusters with configured broker IDs above 1000 due to `reserved.broker.max.id` which wasn't very well announced.
    
    This PR attempts to improve that somewhat by fixing the broker config docs and adding a note to the upgrade documentation.
    
    Author: Magnus Edenhill <magnus@edenhill.se>
    
    Reviewers: Grant Henke <granthenke@gmail.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #670 from edenhill/docs-reserved.broker.max.id

commit 901fe2eec272043236e149513b7cbce1b21f592d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Dec 14 17:52:27 2015 -0800

    KAFKA-2837 Follow-up: Default max block to 60 seconds
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #674 from guozhangwang/K2837

commit f3fc9e108eb1e5d47144cc7f2eaa8beb4f88be6b
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Dec 14 16:02:03 2015 -0800

    KAFKA-2990; Fix NoSuchMethodError in Pool with cast to ConcurrentMap
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #675 from hachikuji/KAFKA-2990

commit b352d7fbfc07cc14368c01005966924cc3a8d6fe
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Dec 14 15:45:12 2015 -0800

    MINOR: Fix broken docs link
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #676 from granthenke/doc-link

commit e08b922aad485a96fceb51d5c27877729156ddab
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Dec 14 14:54:22 2015 -0800

    KAFKA-2978: consumer stops fetching when consumed and fetch positions get out of sync
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Michal Turek, Ismael Juma, Guozhang Wang
    
    Closes #666 from hachikuji/KAFKA-2978

commit 3fed57909c16f807715f305152a5034aeb1a5532
Author: Jin Xing <jinxing@fenbi.com>
Date:   Sun Dec 13 11:51:42 2015 -0800

    KAFKA-2837: Fix transient failure of kafka.api.ProducerBounceTest.testBrokerFailure
    
    I can reproduced this transient failure, it seldom happen;
    code is like below:
     // rolling bounce brokers
        for (i <- 0 until numServers) {
          for (server <- servers) {
            server.shutdown()
            server.awaitShutdown()
            server.startup()
            Thread.sleep(2000)
          }
    
          // Make sure the producer do not see any exception
          // in returned metadata due to broker failures
          assertTrue(scheduler.failed == false)
    
          // Make sure the leader still exists after bouncing brokers
          (0 until numPartitions).foreach(partition => TestUtils.waitUntilLeaderIsElectedOrChanged(zkUtils, topic1, partition))
    Brokers keep rolling restart, and producer keep sending messages;
    In every loop, it will wait for election of partition leader;
    But if the election is slow, more messages will be buffered in RecordAccumulator's BufferPool;
    The limit for buffer is set to be 30000;
    TimeoutException("Failed to allocate memory within the configured max blocking time") will show up when out of memory;
    Since for every restart of the broker, it will sleep for 2000 ms,  so this transient failure seldom happen;
    But if I reduce the sleeping period, the bigger chance failure happens;
    for example if the broker with role of controller suffered a restart, it will take time to select controller first, then select leader, which will lead to more messges blocked in KafkaProducer:RecordAccumulator:BufferPool;
    In this fix, I just enlarge the producer's buffer size to be 1MB;
    guozhangwang , Could you give some comments?
    
    Author: jinxing <jinxing@fenbi.com>
    Author: ZoneMayor <jinxing6042@126.com>
    
    Reviewers: Guozhang Wang
    
    Closes #648 from ZoneMayor/trunk-KAFKA-2837

commit fd8af25d0ae354e962850c9d6b5991056613aa2d
Author: Xin Wang <best.wangxin@163.com>
Date:   Fri Dec 11 11:32:42 2015 -0800

    KAFKA-2981: Fix javadoc in KafkaConsumer
    
    https://issues.apache.org/jira/browse/KAFKA-2981
    
    Author: Xin Wang <best.wangxin@163.com>
    
    Reviewers: Guozhang Wang
    
    Closes #668 from vesense/patch-2

commit 01f3e59ef91b348a5fab805bc6915591dd490a16
Author: Grant Henke <granthenke@gmail.com>
Date:   Fri Dec 11 09:37:09 2015 -0800

    KAFKA-2070; Replace Offset{Request,Response} with o.a.k.c requests equivalent
    
    …uivalent
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #663 from granthenke/offset-list

commit 1dcafadefc09aece9037bc930aa0de7617f655b2
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Thu Dec 10 21:48:27 2015 -0800

    MINOR: test ktable state store creation
    
    guozhangwang
    * a test for ktable state store creation
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #661 from ymatsuda/more_ktable_test

commit 98a093d6c97b322e2175ebdcd987dac7efe6bb1b
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Dec 10 20:45:18 2015 -0800

    MINOR: Change SaslSetup workDir to be under the build folder
    
    Moves test output from the project files and allows `gradle clean` to clean up the output.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #664 from granthenke/target

commit 18d7abd899c5bdbbcde3be448f24458ed4f9a851
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Dec 10 17:35:03 2015 -0800

    KAFKA-2927; reduce system test storage footprint
    
    Split kafka logging into two levels - DEBUG and INFO, and do not collect DEBUG by default.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ben Stopford <ben@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #657 from granders/KAFKA-2927-reduce-log-footprint

commit a5f1537f8762f4787b2af106c5d93c156f906074
Author: Anna Povzner <anna@confluent.io>
Date:   Thu Dec 10 17:06:47 2015 -0800

    KAFKA-2896; Added system test for partition re-assignment
    
    Partition re-assignment tests with and without broker failure.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Ben Stopford <ben@confluent.io>, Ewen Cheslack-Postava <ewen@confluent.io>, Geoff Anderson <geoff@confluent.io>
    
    Closes #655 from apovzner/kafka_2896

commit a29f80dc74fcdfea4f92ed3c7d18e4978f809307
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Dec 10 15:27:38 2015 -0800

    KAFKA-2928; system test: fix version sanity checks
    
    Fixed version sanity checks by updated kafkatest version to match kafka version
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #656 from granders/KAFKA-2928-fix-version-sanity-checks

commit 882fe01284ef7d61e19e4a527fb7c18471a8c074
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Thu Dec 10 13:09:33 2015 -0800

    KAFKA-2926; [MirrorMaker] InternalRebalancer calls wrong method of external rebalancer
    
    …ternal rebalancer
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <harsha@hortonworks.com>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #611 from gwenshap/KAFKA-2926

commit 9d23b512ccb95940782f51c93bd6cdbed3e938db
Author: Jin Xing <jinxing@fenbi.com>
Date:   Thu Dec 10 10:49:02 2015 -0800

    KAFKA-2893: Add a simple non-negative partition seek check
    
    Author: jinxing <jinxing@fenbi.com>
    Author: ZoneMayor <jinxing6042@126.com>
    
    Reviewers: Guozhang Wang
    
    Closes #628 from ZoneMayor/trunk-KAFKA-2893

commit ed8748b7d17448a215ebbf68749d311aae30d7f7
Author: Edward Ribeiro <edward.ribeiro@gmail.com>
Date:   Thu Dec 10 10:01:58 2015 -0800

    KAFKA-2578; Client Metadata internal state should be synchronized
    
    Author: Edward Ribeiro <edward.ribeiro@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #659 from ijuma/KAFKA-2578

commit 3b350cdff795ec08dc77e60f127f2790149d8d52
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Dec 9 23:02:44 2015 -0800

    HOTFIX: fix table-table outer join and left join. more tests
    
    guozhangwang
    
    * fixed bugs in table-table outer/left joins
    * added more tests
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #653 from ymatsuda/join_tests

commit ec466d358dcd5ff9e035a6d5de82ada12d187ae0
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Dec 9 22:15:34 2015 -0800

    KAFKA-2733: Standardize metric name for Kafka Streams
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Yasuhiro Matsuda, Jun Rao
    
    Closes #643 from guozhangwang/K2733

commit 6e5bd2497af2b6bb67a47e4f3defa50da3cad4c7
Author: Edward Ribeiro <edward.ribeiro@gmail.com>
Date:   Wed Dec 9 20:34:09 2015 -0800

    KAFKA-2974; `==` is used incorrectly in a few places in Java code
    
    A few issues found via static analysis.
    
    Author: Edward Ribeiro <edward.ribeiro@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira, Sriharsha Chintalapani, Guozhang Wang
    
    Closes #652 from ijuma/use-equals-instead-of-==

commit f7fc2853868caa3b8a044b6d5d52ce26ae2a3677
Author: Alex Loddengaard <alexloddengaard@gmail.com>
Date:   Wed Dec 9 17:39:53 2015 -0600

    MINOR: Trivial doc/ typo fixes.
    
    The change in `docs/design.html` is hard to catch in the diff -- a `tbe` is changed to `the`. All other changes show up clearly in the diff.
    
    This contribution is my original work and I license the work to the project under the project's open source license.
    
    Author: Alex Loddengaard <alexloddengaard@gmail.com>
    
    Reviewers: Grant Henke, Gwen Shapira
    
    Closes #654 from alexlod/doc-typo-fixes

commit 7bb7e415a371909757a6099a911587047d4c4b69
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Dec 9 11:57:20 2015 -0800

    KAFKA-2972; Add missing `partitionsRemaingList.add` in `ControlledShutdownResponse` constructor
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke, Guozhang Wang
    
    Closes #649 from ijuma/KAFKA-2972-controlled-shutdown-response-bug

commit 98ea82a8913b4d34e67a6c7e5fb6f149be6bec64
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Dec 9 10:59:21 2015 -0800

    Minor: Fix @link in MetricName comment
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #651 from lindong28/minor-fix-link-comment

commit 3fa0e12920061788fae87a1293ebcf5e863815ae
Author: unknown <w00312082@szxbz258.huaweiobz.com>
Date:   Wed Dec 9 10:02:13 2015 -0800

    KAFKA-2965; Two variables should be exchanged.
    
    Author: unknown <w00312082@szxbz258.huaweiobz.com>
    
    Reviewers: Ismael Jumah, Grant Henke, Gwen Shapira
    
    Closes #646 from boweite/kafka-2965

commit 977ebbe9bafb6c1a6e1be69620f745712118fe80
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Dec 9 09:52:17 2015 -0800

    KAFKA-2973; Fix leak of child sensors on remove
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira, Guozhang Wang
    
    Closes #650 from ijuma/kafka-2973-fix-leak-child-sensors-on-remove

commit 991aad23baa2f55d405d374b0a01785acdc63974
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Dec 8 23:33:46 2015 -0800

    KAFKA-2962: stream-table table-table joins
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #644 from ymatsuda/join_methods

commit 454d7d09014c0e6be3064a120c80261998341fed
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Dec 8 21:48:11 2015 -0800

    KAFKA-2924: support offsets topic in DumpLogSegments
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #622 from hachikuji/KAFKA-2924

commit ef92a8ae7479560b26edecfa8db79934065f13cf
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Dec 8 19:43:05 2015 -0800

    KAFKA-2668; Add a metric that records the total number of metrics
    
    onurkaraman becketqin Do you have time to review this patch? It addresses the ticket that jjkoshy filed in KAFKA-2668.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Joel Koshy <jjkoshy@gmail.com>, Guozhang Wang <wangguoz@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #328 from lindong28/KAFKA-2668

commit ee6b5e044c5a4b8ec996b05da76a21c191a95149
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Dec 8 17:48:52 2015 -0800

    KAFKA-2667; Fix assertion depending on hash map order in KafkaBasedLogTest.testSendAndReadToEnd
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava <ewen@confluent.io>
    
    Closes #642 from hachikuji/KAFKA-2667

commit b5f5be69ea99f3b434b187129e7319607009a8f3
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 8 17:22:03 2015 -0800

    KAFKA-2399; Replace `Stream.continually` with `Iterator.continually`
    
    `Iterator.continually` is more efficient (it doesn't allocate a `Cons` instance per element) and we don't need the extra functionality provided by `Stream.continually`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava
    
    Closes #106 from ijuma/kafka-2399-replace-stream-continually

commit d09188aa36f7dad262bef8480e7785f496dc321b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 8 17:20:50 2015 -0800

    MINOR: Use `EasyMock.newCapture` instead of deprecated `new Capture`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira, Ewen Cheslack-Postava
    
    Closes #149 from ijuma/fix-easy-mock-deprecations

commit e1c4aefc36fad009326b9611606c41f43d500108
Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
Date:   Tue Dec 8 12:55:57 2015 -0800

    KAFKA-2957: Fix typos in Kafka documentation
    
    Author: Vahid Hashemian <vahidhashemian@us.ibm.com>
    
    Reviewers: Gwen Shapira
    
    Closes #641 from vahidhashemian/KAFKA-2957
    
    (cherry picked from commit 1f98b0315c92cf8c89f07241485fa6db8b496fdc)
    Signed-off-by: Gwen Shapira <cshapi@gmail.com>

commit 5bc90d4542ca9d6cea3eac1e0a7e1bfa1fed15e7
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Dec 8 09:55:46 2015 -0800

    KAFKA-2958: Remove duplicate API key mapping functionality
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #637 from granthenke/api-keys

commit 268392f5e99dc3eab9d89e921bafde782a1d10a6
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Dec 7 23:16:19 2015 -0800

    HOTFIX: fix ProcessorStateManager to use correct ktable partitions
    
    guozhangwang
    
    * fix ProcessorStateManager to use correct ktable partitions
    * more ktable tests
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #635 from ymatsuda/more_ktable_test

commit b390b15cdbf89f7ffce16dad2a20ee9330f82731
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Dec 7 23:15:04 2015 -0800

    MINOR: Remove unused DoublyLinkedList
    
    It used to be used by MirrorMaker but its usage was removed in KAFKA-1997.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Jiangjie Qin
    
    Closes #638 from granthenke/remove-dll

commit d05fa0a03bc9bcfcff8d73cbf1b22832ebdb75a2
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Dec 7 15:12:09 2015 -0800

    KAFKA-2804: manage changelog topics through ZK in PartitionAssignor
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: wangguoz@gmail.com <guozhang@Guozhang-Macbook.local>
    Author: Guozhang Wang <guozhang@Guozhang-Macbook.local>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #579 from guozhangwang/K2804

commit 23f36c5903e9b65c2b322a9405149de671de7a23
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sat Dec 5 15:57:15 2015 -0800

    KAFKA-2950: Fix performance regression in the producer
    
    Removes all the System.currentTimeMillis calls to help with performance on small messages.
    
    Author: Jay Kreps <jay.kreps@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #632 from jkreps/producer-perf-regression

commit 39c3512eceedebcb6e50f8c6c4ef66601ff7dbc4
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Fri Dec 4 14:59:24 2015 -0800

    KAFKA-2856: Add KTable non-stateful APIs along with standby task support
    
    guozhangwang
    * added KTable API and impl
    * added standby support for KTable
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #604 from ymatsuda/add_ktable

commit cd54fc8816964f5a56469075c75c567e777b9656
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Dec 3 21:17:51 2015 -0800

    KAFKA-2931: add system test for consumer rolling upgrades
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #619 from hachikuji/KAFKA-2931

commit 80df43500141d6bf710b19f342c8ab172587c128
Author: Flavio Junqueira <fpj@apache.org>
Date:   Thu Dec 3 17:47:44 2015 -0800

    KAFKA-2905: System test for rolling upgrade to enable ZooKeeper ACLs with SASL
    
    Author: flavio junqueira <fpj@apache.org>
    
    Reviewers: Ismael Juma, Geoff Anderson
    
    Closes #598 from fpj/KAFKA-2905

commit 13e483adeee8d968397a21bde3bb159516f26ff0
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Dec 3 11:01:08 2015 -0800

    KAFKA-2942: inadvertent auto-commit when pre-fetching can cause message loss
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #623 from hachikuji/KAFKA-2942

commit 5b5f6bbe68a82ce5eae946e0a1a199e9713a6ff7
Author: Anna Povzner <anna@confluent.io>
Date:   Thu Dec 3 10:43:44 2015 -0800

    KAFKA-2825: Add controller failover to existing replication tests
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Geoff Anderson
    
    Closes #618 from apovzner/kafka_2825_01

commit b09663eeec2153e2556983b8ef21551e69ee6afc
Author: Luciano Afranllie <luafran@gmail.com>
Date:   Thu Dec 3 08:58:24 2015 -0800

    MINOR: ConsoleConsumer - Fix number of processed messages count
    
    kafka-console-consumer.sh is showing an incorrect number of
    messages processed, counting one more message than the actual
    number of processed messages.
    
    Author: Luciano Afranllie <luafran@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #617 from luafran/console-consumer-number-of-processed-messages

commit a5382a333ebb51a10c1a1cab46d66f10abff128a
Author: bbejeck <bbejeck@gmail.com>
Date:   Wed Dec 2 18:40:07 2015 -0800

    KAFKA-2902: streaming config use get base consumer configs.
    
    Changes made for using getBaseConsumerConfigs from StreamingConfig.getConsumerConfigs.
    
    Author: bbejeck <bbejeck@gmail.com>
    Author: Bill Bejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #596 from bbejeck/KAFKA-2902-StreamingConfig-use-getBaseConsumerConfigs

commit 9fb1e25738f89b75a36ef69f730b0e138ccd55b1
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Dec 2 11:27:36 2015 -0800

    KAFKA-2880: consumer should handle disconnect/timeout for metadata requests
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #581 from hachikuji/KAFKA-2880

commit 8c3c9548b636cdf760d2537afe115942d13bc003
Author: Anna Povzner <anna@confluent.io>
Date:   Wed Dec 2 11:17:23 2015 -0800

    KAFKA-2851 Using random file names for local kdc files to avoid conflicts.
    
    I originally tried to solve the problem by using tempfile, and creating and using scp() utility method that created a random local temp file every time it was called. However, it required passing miniKdc object to SecurityConfig setup_node which looked very invasive, since many tests use this method. Here is the PR for that, which I think we will close: https://github.com/apache/kafka/pull/609
    
    This change is the least invasive change to solve conflicts between multiple tests jobs.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Geoff Anderson
    
    Closes #610 from apovzner/kafka_2851_01

commit cff03f8b68604ce8c8c743801b075b655af23011
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Dec 2 08:08:37 2015 -0600

    KAFKA-2642; Run replication tests with SSL and SASL clients
    
    For SSL and SASL replication tests, set security protocol for clients as well.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ben Stopford <benstopford@gmail.com>, Geoff Anderson <geoff@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #563 from rajinisivaram/KAFKA-2642

commit 69269e76a43adf85a478240280c6ab3c7eef4d8e
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Dec 1 11:57:34 2015 -0800

    KAFKA-2421: Upgrade LZ4 to version 1.3
    
    A few notes on the added test:
     * I verified this test fails when changing between snappy 1.1.1.2 and 1.1.1.7 (per KAFKA-2189)
     * The hard coded numbers are passing before and after lzo change
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #552 from granthenke/lz4

commit 0a52ddfd039721521f60fd23399469d975f3f9ea
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Dec 1 11:52:38 2015 -0800

    MINOR: Fix building from subproject directory
    
    This patch fixes some releative paths so bulding from a subproject directory like ($rootDir/core) will not fail
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Chesklack-Postava
    
    Closes #509 from granthenke/minor

commit 4649c347b6a59f8fbd4fcaf2363eb172a7da1d4c
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Dec 1 11:50:21 2015 -0800

    MINOR - fix typo in index corruption warning message
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #606 from lindong28/minor-fix-typo

commit 0264127ba829adae0f1f1e7f610d2356fbcf17f3
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Dec 1 11:48:16 2015 -0800

    KAFKA-2915: Fix problem with System Tests that use bootstrap.servers embedded in jinja files
    
    Fixes problems in mirror maker and consumer tests
    http://jenkins.confluent.io/job/kafka_system_tests_branch_builder/290/
    http://jenkins.confluent.io/job/kafka_system_tests_branch_builder/289/
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #608 from benstopford/KAFKA-2915-jinja-bug

commit fb6ea6b179b6e4b8a7b23063b17828b42361cd75
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Dec 1 11:16:33 2015 -0800

    MINOR: Update LinkedIn JVM tuning settings
    
    This is a follow-up as the previous update was missing some changes.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Todd Palino, Guozhang Wang
    
    Closes #607 from ijuma/java-tuning-settings

commit eafc349a1f26a20086b320916c2c819e05bc77ea
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Nov 30 21:33:31 2015 -0800

    KAFKA-2913: missing partition check when removing groups from cache
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #605 from hachikuji/KAFKA-2913

commit 6b4cc2ea2b141b25852e2110ac4a400905154b92
Author: Ben Stopford <benstopford@gmail.com>
Date:   Mon Nov 30 14:13:50 2015 -0800

    KAFKA-2771: Added rolling upgrade system test (ducktape) for Secured Cluster
    
    Tests rolling upgrade from PLAINTEXT to SSL
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Geoff Anderson, Ismael Juma
    
    Closes #496 from benstopford/security-upgrade-test

commit a35334908df58b7aaa01efd5ce8434f5e6804cb1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Nov 30 13:57:54 2015 -0800

    MINOR: Update "Java Version" section
    
    Use the latest information from LinkedIn and mention that the latest
    released version is recommended from a security perspective.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke
    
    Closes #603 from ijuma/java-version-recommendation

commit ea971397c8c1b8deedc48c4165aded42118eee43
Author: Alex Sherwin <alex-sherwin@github.com>
Date:   Mon Nov 30 11:10:01 2015 -0800

    MINOR: Fixed new consumer Javadoc typo
    
    Changed "an" to "and"
    
    Author: Alex Sherwin <alex-sherwin@users.noreply.github.com>
    
    Reviewers: Guozhang Wang
    
    Closes #601 from alex-sherwin/patch-1

commit 78e7f87db8be3b1eae59752e8c9ceb0b8c064a96
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Nov 30 11:01:54 2015 -0800

    MINOR: fix verifiable consumer assertion
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #597 from hachikuji/fix-verifiable-consumer-assertion

commit 75c7abd82628b7aae026a662ad0395d1f9c8536b
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 30 05:26:32 2015 +0800

    KAFKA-2906: Fix Connect javadocs, restrict only to api subproject, and clean up javadoc warnings.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #599 from ewencp/kafka-2906-connect-javadocs

commit 4a8acdf9d7135a50b751a0bea9e205ea4a071e5c
Author: Flavio Junqueira <fpj@apache.org>
Date:   Sat Nov 28 08:23:35 2015 -0800

    KAFKA-2732; Add class for ZK Auth.
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ben Stopford <benstopford@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #410 from fpj/KAFKA-2732

commit 1dd558aeceffdd98da83f8240cdc3bf8bc182c93
Author: Tomasz Nurkiewicz <nurkiewicz@gmail.com>
Date:   Fri Nov 27 12:24:32 2015 -0800

    MINOR: Avoiding warning about generics in sample code
    
    Author: Tomasz Nurkiewicz <nurkiewicz@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #594 from nurkiewicz/patch-1

commit 09b43beb1d0aabb2776da2a5790752992ef617f7
Author: Ben Stopford <benstopford@gmail.com>
Date:   Fri Nov 27 12:13:59 2015 -0800

    KAFKA-2899: improve logging when unexpected exceptions thrown in reading local log
    
    Currently we don't log exceptions raised when reading from the local log which makes tracking down the cause of problems a bit tricky.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #593 from benstopford/small-patches

commit 4a0e011be3d038763d6326bb0092524f809c3f4d
Author: Maksim Logvinenko <mlogvinenko@gmail.com>
Date:   Thu Nov 26 22:18:21 2015 -0800

    KAFKA-2882: Add constructor cache for Snappy and LZ4 Output/Input streams in Compressor.java
    
    In `wrapForOutput` and `wrapForInput` methods of `org.apache.kafka.common.record.Compressor`,  `Class.forName("[compression codec]")` and `getConstructor` methods are invoked for each `wrapForOutput` / `wrapForInput` call. Reflection calls are expensive and impact performance at high volumes. This patch adds a cache for `Constructor` to reduce the reflection overhead.
    
    In our production deployments, this has reduced producer CPU usage by about 20%
    
    Author: Maksim Logvinenko <mlogvinenko@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #580 from logarithm/compressor-getclass-cache

commit c18a1bd64e7f8416e8256b968fe1b9e2da553b00
Author: Jesse Anderson <eljefe6a@gmail.com>
Date:   Wed Nov 25 22:30:18 2015 -0800

    KAFKA-2892 Consumer Docs Use Wrong Method
    
    The KafkaConsumer docs use a non-existent method for assigning partitions (consumer.assign).
    
    The JavaDocs show as:
    ```
    String topic = "foo";
    TopicPartition partition0 = new TopicPartition(topic, 0);
    TopicPartition partition1 = new TopicPartition(topic, 1);
    consumer.assign(partition0);
    consumer.assign(partition1);
    ```
    
    Should be:
    ```
    String topic = "foo";
    TopicPartition partition0 = new TopicPartition(topic, 0);
    TopicPartition partition1 = new TopicPartition(topic, 1);
    consumer.assign(Arrays.asList(partition0, partition1));
    ```
    
    Author: Jesse Anderson <eljefe6a@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #592 from eljefe6a/trunk

commit abf6b2ebb3e6e34ef9c4623b4c28dacce461c0c0
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Nov 25 17:19:00 2015 -0800

    MINOR: Improve broker id documentation
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #585 from granthenke/brokerid

commit d07bb1814010ca4d822e44330d1e8ea4b2839c80
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Nov 25 16:44:43 2015 -0800

    MINOR: comments on KStream methods, and fix generics
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #591 from ymatsuda/comments

commit 5e8958a856a5b4ccbdcb610473cab4c2eeddbac5
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Nov 25 15:21:17 2015 -0800

    MINOR: initialize Serdes with ProcessorContext
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #589 from ymatsuda/init_serdes_with_procctx

commit 69a1cced49d7d0c805adeb1dfd327f8bb5c7ce9a
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Nov 25 15:05:31 2015 -0800

    KAFKA-2643: Run mirror maker ducktape tests with SSL and SASL
    
    Run tests with SSL, SASL_PLAINTEXT and SASL_SSL. Same security protocol is used for source and target Kafka.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Geoff Andreson, Ben Stopford
    
    Closes #559 from rajinisivaram/KAFKA-2643

commit 34a6be2ccd95d50e7659a57c943436e579521471
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Nov 25 15:03:10 2015 -0800

    MINOR: Support GitHub OAuth tokens in kafka-merge-pr.py
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #590 from guozhangwang/KOAuth

commit e14ae66e721f98ca7c18d35ea022e6de733f4c03
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Nov 25 14:53:24 2015 -0800

    MINOR: change KStream processor names
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #587 from ymatsuda/kstream_processor_names

commit 8ed271b82abd4641b594aff262512bd9eb588263
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Nov 25 14:20:48 2015 -0800

    KAFKA-2718: Prevent temp directory being reused in parallel test runs
    
    Use Files.createTempDirectory to avoid reuse, for log directories create a new temp directory as parent
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #583 from rajinisivaram/KAFKA-2718-v2

commit 617a91a236a44431aeca9345ae954f7067da48f3
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Nov 25 12:04:24 2015 -0800

    HOTFIX: fix StreamTask.close()
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #586 from ymatsuda/fix_streamtask_close

commit 87b894d682a5f10b2e1d32dd028ddb258f2f1bbf
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Nov 25 08:53:13 2015 -0800

    KAFKA-2878; Guard against OutOfMemory in Kafka broker
    
    Sanity check array size in requests before allocation
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Ashish Singh <asingh@cloudera.com>, Jun Rao <junrao@gmail.com>
    
    Closes #577 from rajinisivaram/KAFKA-2878

commit 3022c1938d6cce22450be45d3a28728159f4dfbc
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Nov 24 17:41:02 2015 -0800

    MINOR: Introduce `installAll` and accept major as well as full Scala version
    
    We can take advantage of the fact that major Scala versions are binary compatible (since 2.10) to make the build a little more user-friendly.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack=Postava, Grant Henke
    
    Closes #574 from ijuma/install-all-and-major-instead-of-full-version

commit d1053915f64aec7ea717bbeac9570b1f75e9a2b0
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Nov 24 17:39:14 2015 -0800

    KAFKA-2803: Add hard bounce system test for Kafka Connect.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #494 from ewencp/kafka-2803-connect-hard-bounce-system-test

commit 395bf46ddac8c5fe1d6fd0d1636b94dcddadd678
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Nov 24 16:39:01 2015 -0800

    KAFKA-2881: Improve Consumer Configs and API Documentation
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #584 from guozhangwang/K2881

commit 394eda510dfc1af5c614fa88ee96c7cf2c098fd0
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Nov 24 16:17:23 2015 -0800

    KAFKA-2877: handle request timeout in sync group
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ben Stopford, Guozhang Wang
    
    Closes #582 from hachikuji/KAFKA-2877

commit 5a9b12eb5d62cfb04db93a105e10ddfcae793e2b
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Nov 24 09:47:54 2015 -0800

    trivial doc fix to add link to Quotas

commit c213952fa180c56908ef70c01a784d24202beb55
Author: jholoman <jeff.holoman@gmail.com>
Date:   Mon Nov 23 18:22:01 2015 -0800

    Minor: Fix KafkaConsumer Constructor Summary javadoc
    
    Author: jholoman <jeff.holoman@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #576 from jholoman/minor-consumer-constructor-javadoc

commit e32df4722ca476ab373cca45a824f712cf4943ef
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Nov 23 16:14:23 2015 -0800

    KAFKA-2879: Make MiniKDC test service slightly more generic
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava
    
    Closes #578 from gwenshap/KAFKA-2879

commit f81dd4a4fbb5c1c78dc5fc38a13d2adaf7eff2e7
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Nov 23 07:38:10 2015 -0800

    MINOR: Bump version to 0.9.1.0-SNAPSHOT
    
    Since we created the 0.9.0 branch a while back.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #575 from ijuma/bump-to-0.9.1.0-SNAPSHOT

commit 84c8d2bb86dc2794a3d6a86ae28b3cb51cea5c4b
Author: Bill Bejeck <bbejeck@gmail.com>
Date:   Sat Nov 21 18:46:15 2015 -0800

    KAFKA-2872: unite sink nodes with parent nodes in addSink
    
    Starting a KafkaStream was getting an error due to the fact that the TopologyBuilder.addSink method was not connecting the sink with it parent(s) processor/sources.  Just needed to wire up the sink with it parent(s) in TopologyBuilder.addSink .
    
    Author: bbejeck <bbejeck@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #572 from bbejeck/KAFKA-2872_kafka_stream_sink_not_connected_to_parent

commit 3e0333d692762b99eb51d0e2948fe240eef7a6af
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Nov 20 16:30:43 2015 -0800

    trivial change: revert incorrect change to ssl.key.password

commit 6a1993b8e08da1a4e8b5b7fbb55d777b70b1f6f5
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Nov 20 15:59:24 2015 -0800

    KAFKA-2862: Fix MirrorMaker's message.handler.args description
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Guozhang Wang
    
    Closes #561 from SinghAsDev/KAFKA-2862

commit b16817a54c592eefc5a462132f45c5b4f786d5f1
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Nov 20 15:46:42 2015 -0800

    KAFKA-2812: improve consumer integration tests
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Geoff Anderson
    
    Closes #500 from hachikuji/KAFKA-2812

commit 0d68eb73f3af8d0e8e32a1e61d8a569c615c3c8c
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Nov 20 15:36:59 2015 -0800

    KAFKA-2718: Avoid reusing temporary directories in core unit tests
    
    Retry to find new directory and cleanup on exit.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #399 from rajinisivaram/KAFKA-2718

commit a7726ee651ac3b23fd5a4925b9a324c3462ea127
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Nov 20 13:46:15 2015 -0800

    trivial change to 0.9.0 docs to fix incorrect ssl.key.password

commit b609645dc4813de7ca5c6366e940831f6e7c1177
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Nov 20 13:26:40 2015 -0800

    trivial change to 0.9.0 docs to fix outdated ConsumerMetadataRequest

commit 9b0ddc555fcb0e65962d0a7fb3dbaba43fae3fb8
Author: Geoff Anderson <geoff@confluent.io>
Date:   Fri Nov 20 11:44:25 2015 -0800

    MINOR: Log at INFO level in Benchmark tests
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #569 from granders/minor-reduce-benchmark-logs

commit b1d17e7ef0e901234d95d7825f6862d2aaead76f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 20 10:43:25 2015 -0800

    KAFKA-2863; Add a `close()` method to `Authorizer`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #568 from ijuma/kafka-2863-authorizer-close

commit 7b3d1bf6a398f5b1f454a7719d04f5ee9e630f96
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Nov 20 10:04:40 2015 -0800

    KAFKA-2867: Fix missing WorkerSourceTask synchronization and handling of InterruptException.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #566 from ewencp/kafka-2867-fix-source-sync-and-interrupt

commit d0614f97bc1c45734631770c46ab6a79fc8c8547
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 20 08:28:20 2015 -0800

    KAFKA-2869; Host used by Authorizer should be IP address not hostname/IP
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #567 from ijuma/kafka-2869-host-used-by-authorizer-should-be-ip

commit 8ee9846e019c7758719d7e706f9e26958faedfc6
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 19 19:59:26 2015 -0800

    MINOR: Fix typo in sample Vagrantfile.local for AWS system tests
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #565 from ewencp/fix-aws-vagrantfile-local-example

commit b206a807f3c781d8d8126d7c3b97724632486fd0
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Nov 19 19:29:35 2015 -0800

    KAFKA-2820: Remove log threshold on appender in tools-log4j.properties
    
    Removed a config in tools-log4j.properties which prevented certain service classes from logging at TRACE level.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #556 from granders/KAFKA-2820-systest-tool-loglevel

commit 4e22abaa85414ab4679f22fdc25f531bc701f4c6
Author: Ben Stopford <benstopford@gmail.com>
Date:   Thu Nov 19 15:58:42 2015 -0800

    KAFKA-2824: MiniKDC based tests don't run in VirtualBox
    
    This is a hack which works. Is there a better way?
    
    Build (v2) of the replication_test.py running here: http://jenkins.confluent.io/job/kafka_system_tests_branch_builder/185/
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Geoff Anderson, Gwen Shapira
    
    Closes #520 from benstopford/fix-for-sasl-virtual-box

commit c7c7f4cfa7e1c385d5f5706161572d657b495b7a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 19 07:59:03 2015 -0800

    MINOR: Documentation improvements
    
    * Fix typo in api.html
    * Mark security features as beta quality (similar to new consumer). Is there better wording?
    * Improve wording and clarify things in a number of places
    * Improve layout of `pre` blocks (tested locally, which doesn't seem to use the same stylesheets as the deployed version)
    * Use producer.config in console-producer.sh command
    * Improve SASL documentation structure
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao, Magnus Edenhill, Gwen Shapira
    
    Closes #550 from ijuma/documentation-improvements

commit fa4244745fc363410fd5bc21e0b045f8124a8f9c
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Nov 18 17:19:47 2015 -0800

    KAFKA-2860: better handling of auto commit errors
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #553 from hachikuji/KAFKA-2860

commit f154956a76790220a9ecb84d88644076c6885683
Author: Geoff Anderson <geoff@confluent.io>
Date:   Wed Nov 18 17:13:21 2015 -0800

    KAFKA-2845: new client old broker compatibility
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #537 from granders/KAFKA-2845-new-client-old-broker-compatibility

commit 2e91806db45b3854bd2fadb69cee4ecae9fd43ac
Author: Geoff Anderson <geoff@confluent.io>
Date:   Wed Nov 18 15:11:17 2015 -0800

    KAFKA-2820: systest log level
    
    Restores control over log level in system test service class KafkaService.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ismael Juma, Ewen Cheslack-Postava
    
    Closes #538 from granders/KAFKA-2820-systest-log-level

commit 0f00ec97ae328d04c29cb1cb3eabad3f17e31582
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Nov 18 14:19:37 2015 -0800

    KAFKA-2859: Fix deadlock in WorkerSourceTask.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #554 from ewencp/kafka-2859-deadlock-worker-source-task

commit d6e900a185c840b7373b35bf065e1d8cc6e4183a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Nov 18 12:44:02 2015 -0800

    MINOR: Update to Gradle 2.9 and update generated `gradlew` file
    
    More performance improvements:
    
    "In many cases, Gradle 2.9 is much faster than Gradle 2.8 when performing incremental builds.
    
    Very large builds (many thousands of source files) could see incremental build speeds up to 80% faster than 2.7 and up to 40% faster than 2.8.
    
    Gradle now uses a more efficient mechanism to scan the filesystem, making up-to-date checks significantly faster. This improvement is only available when running Gradle with Java 7 or newer.
    
    Other improvements have been made to speed-up include and exclude pattern evaluation; these improvements apply to all supported Java versions.
    
    Gradle now uses much less memory than previous releases when performing incremental builds. By de-duplicating Strings used as file paths in internal caches, and by reducing the overhead of listing classes under test for Java projects, some builds use 30-70% less memory that Gradle 2.8."
    
    https://docs.gradle.org/current/release-notes
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Grant Henke, Guozhang Wang
    
    Closes #549 from ijuma/gradle-2.9

commit 8f6ffe1c28d43bebf1cef7198c1e154a2adc92c3
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Nov 18 10:42:15 2015 -0800

    KAFKA-2800; Update outdated dependencies
    
    Changes:
    * org.scala-lang:scala-library [2.10.5 -> 2.10.6]
       * Scala 2.10.6 resolves a license incompatibility in scala.util.Sorting
       * Otherwise identical to Scala 2.10.5
    * org.xerial.snappy:snappy-java [1.1.1.7 -> 1.1.2]
       * Fixes SnappyOutputStream.close() is not idempotent
    * net.jpountz.lz4:lz4 [1.2.0 -> 1.3]
    * junit:junit [4.11 -> 4.12]
    * org.easymock:easymock [3.3.1 -> 3.4]
    * org.powermock:powermock-api-easymock [1.6.2 -> 1.6.3]
    * org.powermock:powermock-module-junit4 [1.6.2 -> 1.6.3]
    * org.slf4j:slf4j-api [1.7.6 -> 1.7.12]
    * org.slf4j:slf4j-log4j12 [1.7.6 -> 1.7.12]
    * com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider [2.5.4 -> 2.6.3]
    * com.fasterxml.jackson.core:jackson-databind [2.5.4 -> 2.6.3]
    * org.eclipse.jetty:jetty-server [9.2.12.v20150709 -> 9.2.14.v20151106]
    * org.eclipse.jetty:jetty-servlet [9.2.12.v20150709 -> 9.2.14.v20151106]
    * org.bouncycastle:bcpkix-jdk15on [1.52 -> 1.53]
    * net.sf.jopt-simple:jopt-simple [3.2 -> 4.9]
    * removed explicit entry for org.objenesis:objenesis:2.2 (resolved transitively)
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #513 from granthenke/update-deps

commit 17c6f33126823c4f54ea22ed2284267271b58e21
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Nov 17 19:00:30 2015 -0800

    trivial fix to 0.9.0 docs

commit dbdec927b9badcdbe4a4b4b6ccebf5044ca32747
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Nov 17 18:34:51 2015 -0800

    KAFKA-2841; safe group metadata cache loading/unloading
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #530 from hachikuji/KAFKA-2841

commit 06d2c78164aca4b20d1d76f2ddef563b115f2b81
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Nov 17 18:10:38 2015 -0800

    MINOR: Introduce `producer.config` property to `ConsoleProducer`
    
    This makes it easier to pass security properties in the same way
    to `ConsoleConsumer` and `ConsoleProducer`.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #544 from ijuma/producer-config-in-console-producer

commit 36b1c1dae292b9a43f56c385de13b89dfd03cad8
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Nov 17 18:00:09 2015 -0800

    MINOR: fix shutdownHook in ConsoleConsumer
    
    Author: Confluent <confluent@Confluents-MacBook-Pro.local>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #548 from guozhangwang/HFConsoleConsumer

commit dacd21ec4e9028593faedeb7d2a4484394367612
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Tue Nov 17 17:46:59 2015 -0800

    KAFKA-2852; Updating the Authorizer CLI to use a consistent way to specify a list of values for a config options.
    
    …ecify a list of values for a config options.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #545 from Parth-Brahmbhatt/KAFKA-2852

commit 015862348002cc6d1148dda0555fe88c27998982
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Nov 17 17:39:21 2015 -0800

    MINOR: remove the group id from a restore consumer
    
    guozhangwang
    A restore consumer does not belong to a consumer group.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #543 from ymatsuda/no_group_for_restore_consumer

commit 1a36af80b79a634a652e594d8240924ac32376ae
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Nov 17 17:34:54 2015 -0800

    MINOR: add KStream merge operator
    
    guozhangwang
    
    Added KStreamBuilder.merge(KStream...).
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #536 from ymatsuda/kstream_merge_operator

commit ffc0965d38c364272078d771fc5ed5f8784e4012
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Nov 17 12:00:16 2015 -0800

    KAFKA-2746; Add support for using ConsumerGroupCommand on secure install
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jason Gustafson <jason@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #534 from SinghAsDev/KAFKA-2746

commit 52d5e88393630ce6f817bd003c7c787e36e31277
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Nov 17 08:36:43 2015 -0800

    KAFKA-2847; Remove principal builder class from client configs
    
    Also mark `PrincipalBuilder` as `Unstable` and  tweak docs.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #542 from ijuma/kafka-2847-remove-principal-builder-class-from-client-configs

commit f1169f1da8728db842aca23dcb6fde740a400699
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 16 22:00:34 2015 -0800

    KAFKA-2848; Use client SSL/SASL config utilities in Kafka Connect to avoid duplication of configs.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #539 from ewencp/kafka-2848-reuse-ssl-sasl-client-configs

commit ae315264dbc8a9efc5b5fbb1967a8a5df76dddb3
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Nov 16 17:57:59 2015 -0800

    trivial doc change for building customized user name

commit 6df9e7ff2c6cfb3c7ca16f94928d0e86f3d087e2
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Nov 16 15:50:46 2015 -0800

    KAFKA-2721; Avoid handling duplicate LeaderAndISR requests
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com?
    
    Closes #436 from lindong28/KAFKA-2721

commit 6cbd97597ccf456a4f01f19553da5a03e12c9366
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Nov 16 14:14:17 2015 -0800

    KAFKA-2809; Improve documentation linking
    
    Often it is useful to link to a specific header within the documentation. Especially when referencing docs in the mailing lists.
    
    This adds anchors and links for all headers in the docs.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #498 from granthenke/doc-links

commit 5fc4546de7f238a8ee9c6f0b4fe276f0da47707c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Nov 16 14:04:26 2015 -0800

    KAFKA-2831; Do not use ZKUtils in `ConsumerGroupCommand` if `new-consumer` is used
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ashish Singh <asingh@cloudera.com>, Jun Rao <junrao@gmail.com>
    
    Closes #528 from ijuma/kafka-2831-consumer-group-command-zookeeper-new-consumer

commit 4a3d244a2cb95654d18368de6e5b67661d4f4f10
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Nov 16 14:09:27 2015 -0800

    MINOR: do not create a StandbyTask if there is no state store in the task
    
    guozhangwang
    An optimization which may reduce unnecessary poll for standby tasks.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #535 from ymatsuda/remove_empty_standby_task

commit 45e7f71309f9a3e30d25a6ddd3171c67e3e79286
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Nov 16 13:34:42 2015 -0800

    KAFKA-2811: add standby tasks
    
    guozhangwang
    * added a new config param "num.standby.replicas" (the default value is 0).
    * added a new abstract class AbstractTask
    * added StandbyTask as a subclass of AbstractTask
    * modified StreamTask to a subclass of AbstractTask
    * StreamThread
      * standby tasks are created by calling StreamThread.addStandbyTask() from onPartitionsAssigned()
      * standby tasks are destroyed by calling StreamThread.removeStandbyTasks() from onPartitionRevoked()
      * In addStandbyTasks(), change log partitions are assigned to restoreConsumer.
      * In removeStandByTasks(), change log partitions are removed from restoreConsumer.
      * StreamThread polls change log records using restoreConsumer in the runLoop with timeout=0.
      * If records are returned, StreamThread calls StandbyTask.update and pass records to each standby tasks.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #526 from ymatsuda/standby_task

commit 356544caba6448c6ba3bcdb38bea787e1fbc277b
Author: Francois Visconte <f.visconte@criteo.com>
Date:   Sat Nov 14 09:25:57 2015 -0800

    KAFKA-2624; Change log message position
    
    Log warning message before truncating log in order to
    display right offset value for the truncated log.
    
    Author: Francois Visconte <f.visconte@criteo.com>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #287 from dopuskh3/KAFKA-2624

commit f6d369b70d329af1cc882998aa517926aa9458ab
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Nov 13 18:22:05 2015 -0800

    trivial 0.9.0 doc changes to fix links

commit 599a31c245618651c7973d040de793376f43bd95
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Nov 13 17:42:50 2015 -0800

    trivial 0.9.0 doc changes to AclCommand

commit 8e6bae21c64699245cf24dbaac3942f32a2a241b
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Fri Nov 13 17:36:09 2015 -0800

    KAFKA-2838; Allow comma in super users, allow comma in CLI authz prop…
    
    …erties.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>, Jun Rao <junrao@gmail.com>
    
    Closes #529 from Parth-Brahmbhatt/KAFKA-2838

commit 5d87eac856273ec505e96ed8d7f7a17fba474471
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Nov 13 14:17:35 2015 -0800

    additional trivial 0.9.0 doc changes

commit 43ef0150bdc4ca349af61bf4c75dfb8fd8d14691
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Nov 13 14:10:38 2015 -0800

    KAFKA-2833; print only group offset / metadata according to the formatter
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #527 from guozhangwang/K2833

commit a26dbcdf3ac57515cbc9a1c39d8c27e90f74188a
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Nov 13 12:56:15 2015 -0800

    KAFKA-2768: AdminClient ignore member list for non-stable groups
    
    …stabilizing
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma, Jason Gustafson, Guozhang Wang
    
    Closes #447 from SinghAsDev/KAFKA-2768

commit 002ec9c796acf8570754522a4eb1b0c3ee9aab13
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Nov 13 11:11:56 2015 -0800

    KAFKA-2821; fix deadlock in group metadata write callback
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #519 from hachikuji/KAFKA-2821

commit 4efe4ac6d785c708ec623a6dca24ae34d4b29097
Author: Ben Stopford <benstopford@gmail.com>
Date:   Fri Nov 13 10:42:50 2015 -0800

    KAFKA-2791; removed deprecated properties
    
    Removed support for BLOCK_ON_BUFFER_FULL_CONFIG (block.on.buffer.full)
    Removed support for METADATA_FETCH_TIMEOUT_CONFIG
    Removed support for TIMEOUT_CONFIG (aka timeout.ms)
    
    Added support for MAX_BLOCK_MS_CONFIG
    Added support for REQUEST_TIMEOUT_MS_CONFIG
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #525 from benstopford/KAFKA-2791

commit 397306cdfe22ea65ee39afae9ecdf11efd486dfa
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Nov 13 10:31:33 2015 -0800

    trivial doc changes

commit 4511aeebc3e37a3d9e2ebeabbd6bbfd16d681719
Author: Sriharsha Chintalapani <harsha@hortonworks.com>
Date:   Fri Nov 13 10:25:00 2015 -0800

    Minor: Missing License
    
    Author: Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Reviewers: Gwen Shapira
    
    Closes #524 from harshach/missing-license

commit da97330915f5c9f73dc55288cc271818044e163f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 13 10:03:47 2015 -0800

    KAFKA-2830; Change default fix version to 0.9.1.0 in kafka-merge-pr.py
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #523 from ijuma/kafka-2830-fix-version-0.9.1.0

commit 528c78fd30b77e8c60e8b3645e7d44404fd4e013
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Nov 13 08:29:28 2015 -0800

    KAFKA-2817; Check if socketChannel is connected in `SslTransportLayer.close`
    
    This avoids spurious log warning messages. Also tweak log message
    if wrapResult.getStatus != CLOSED.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Rajini Sivaram <rajinisivaram@googlemail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #511 from ijuma/kafka-2817-unconnected-ssl-transport-layer-close

commit 4170847f1227b73a20645af1b5b2d88375e37426
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Nov 12 21:23:28 2015 -0800

    KAFKA-2819; catch NoSuchElementException in ConsoleConsumer
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #516 from guozhangwang/K2819

commit 969d0cb0ae316ba0dfdb34ed096bfd56fe86ad92
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 12 18:54:20 2015 -0800

    KAFKA-2826: Make Kafka Connect ducktape services easier to extend.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #522 from ewencp/kafka-2826-extensible-connect-services

commit 2802bd081c9cfd91b8d7aa104c145ef0514ada49
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Nov 12 18:51:26 2015 -0800

    MINOR: Tuned timeout parameter to reduce chance of transient failure
    
    Increased timeout in downstream consumer doing validation step. This addresses a transient failure case in mirror maker tests with mirror maker failover.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #521 from granders/minor-mm-transient-failure

commit 2991c9865d87a715717dbc1bae431a4d39631d9e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 12 13:19:12 2015 -0800

    KAFKA-2814: Make Kafka Connect system test REST requests use hostname that is compatible with running under AWS.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #517 from ewencp/kafka-2814-connect-rest-on-aws

commit 28d71ce5e06a17248f944147e850f3e5e029bdee
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Nov 12 12:28:08 2015 -0800

    KAFKA-2822: DescribeConsumerGroup now returns empty list for non-existent group.
    
    …tent group, it used to throw IllegalArgumentException
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #515 from SinghAsDev/KAFKA-2822

commit 1408c670ea576a430287182e9aaa26793917129a
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 12 11:11:56 2015 -0800

    KAFKA-2807: Fix Kafka Connect packaging and move VerifiableSource/Sink into runtime jar.
    
    Gradle does not handle subprojects with the same name (top-level tools vs
    connect/tools) properly, making the dependency impossible to express correctly
    since we need to move the ThroughputThrottler class into the top level tools
    project. Moving the current set of tools into the runtime jar works fine since
    they are only used for system tests at the moment.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #512 from ewencp/kafka-2807-redux

commit ab5ac264a71d7f895b21b4acfd93d9581dabd7c1
Author: Jakub Nowak <jakub.nowak94@interia.pl>
Date:   Thu Nov 12 10:07:04 2015 -0800

    KAFKA-2690: Hide passwords while logging the config.
    
    Added PASSWORD_STRING in ConfigDef that returns "[hidden]" when method toString is invoked.
    
    Author: Jakub Nowak <jakub.nowak94@interia.pl>
    
    Reviewers: Ismael Juma, Gwen Shapira, Jun Rao
    
    Closes #371 from Mszak/ssl-password-protection

commit 370ce2b4b73b60ca52a4fbce246f3fd87b8dbf85
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Nov 12 09:59:47 2015 -0800

    KAFKA-2815: Fix KafkaStreamingPartitionAssignorTest.testSubscription
    
    Fails when order of elements is incorrect
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Yasuhiro Matsuda
    
    Closes #510 from granthenke/streams-test

commit d9a455243e2350a18b5c734f0a6edaeb74ac6698
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Nov 12 09:13:51 2015 -0800

    TRIVIAL: provide clearer error in describe group when group is inactive
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #502 from hachikuji/trivial-consumer-groups-fix

commit 2cf6218849a3634badaf70809923a31934182794
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 12 07:21:45 2015 -0800

    MINOR: Use Kafka artifact compiled with Scala 2.11 in quickstart.html
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #505 from ijuma/scala-2.11-in-quickstart

commit d60e2ea581289a02efcef3b692bbb043fbdf3199
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 12 07:20:10 2015 -0800

    MINOR: Fix logging message in `NetworkClient.poll` not to mention `producer`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #507 from ijuma/fix-error-message-in-network-client-poll

commit b5401f291a16977992c50f0a66d9f02aea07bbe7
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Nov 12 07:19:02 2015 -0800

    MINOR: Remove `InvalidReceiveException` catch in `SocketServer`
    
    `Selector.poll` no longer throws it.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #506 from ijuma/poll-no-longer-throws-invalid-receive-exception

commit 3fd168d9522d1ad25f5582fbe838cea15bdb525f
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Nov 11 22:18:19 2015 -0800

    KAFKA-2813; selector doesn't close socket connection on non-IOExceptions
    
    Patched Selector.poll() to close the connection on any exception.
    
    Author: Jun Rao <junrao@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Gwen Shapira <cshapi@gmail.com>
    
    Closes #501 from junrao/KAFKA-2813

commit df88d3be75396b48a762149af2f4bbcd60fe69b9
Author: Geoff Anderson <geoff@confluent.io>
Date:   Wed Nov 11 18:45:24 2015 -0800

    MINOR: Do not collect zk persistent data by default
    
    In system tests zookeeper service, it is overkill and space-intensive to collect zookeeper data logs by default. This minor patch turns off default collection.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #504 from granders/minor-zk-change-log-collect

commit 1cd22ed33f1e1f63d8cb63f68309e5d8f43be1e1
Author: Mayuresh Gharat <mgharat@mgharat-ld1.linkedin.biz>
Date:   Wed Nov 11 18:41:45 2015 -0800

    KAFKA2805; RecordAccumulator request timeout not enforced when all brokers are gone
    
    Removed the check for expiring only those batches whose metadata is unavailable. Now the batches will be expired irrespective of whether the leader is available or not, as soon as it reaches the requestimeout threshold.
    
    Author: Mayuresh Gharat <mgharat@mgharat-ld1.linkedin.biz>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #503 from MayureshGharat/kafka-2805

commit 124f73b1747a574982e9ca491712e6758ddbacea
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Nov 11 16:14:27 2015 -0800

    KAFKA-2763: better stream task assignment
    
    guozhangwang
    
    When the rebalance happens each consumer reports the following information to the coordinator.
    * Client UUID (a unique id assigned to an instance of KafkaStreaming)
    * Task ids of previously running tasks
    * Task ids of valid local states on the client's state directory
    
    TaskAssignor does the following
    * Assign a task to a client which was running it previously. If there is no such client, assign a task to a client which has its valid local state.
    * Try to balance the load among stream threads.
      * A client may have more than one stream threads. The assignor tries to assign tasks to a client proportionally to the number of threads.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #497 from ymatsuda/task_assignment

commit c6b8de4e6806d8f9f4af57e15f2a7f4170265c42
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Nov 11 15:55:12 2015 -0800

    KAFKA-2807: Move ThroughputThrottler back to tools jar to fix upgrade tests.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #499 from ewencp/kafka-2807-relocate-throughput-throttler

commit a8ccdc6154a1e10982cb80df82e8661903eb9ae5
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Nov 11 10:54:09 2015 -0800

    KAFKA-2790: doc improvements
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Jun Rao, Guozhang Wang
    
    Closes #491 from gwenshap/KAFKA-2790

commit e0098b4567541d1c0cefc6f57ce38f67a9133b5e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Nov 10 19:24:15 2015 -0800

    KAFKA-2770: Catch and ignore WakeupException for commit upon closing
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira, Geoff Anderson, Jason Gustafson
    
    Closes #470 from guozhangwang/K2770

commit ea702c384fcfb5a46c5d1354498e418c5801ed30
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Nov 10 16:37:16 2015 -0800

    KAFKA-2801; Process any remaining data in SSL network read buffer after handshake
    
    Process any remaining data in the network read buffer in `SslTransportLayer` when `read()` is invoked. On handshake completion, there could be application data ready to be processed that was read into `netReadBuffer` during handshake processing. `read()` is already invoked from `Selector` after handshake completion, but data already read into the `netReadBuffer` was not being processed. This PR adds a check for remaining data and continues with processing data if data is available.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #493 from rajinisivaram/KAFKA-2801

commit 04827e6e999c1b5e89e7dc8b1573ad263e66cd56
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Nov 10 15:57:02 2015 -0800

    KAFKA-2752: Follow up to fix checkstlye
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava
    
    Closes #492 from granthenke/fix

commit 9d9bb708bf59c93672306cd731b89d7df114bba7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Nov 10 14:55:47 2015 -0800

    KAFKA-2799: skip wakeup in the follow-up poll() call.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson
    
    Closes #490 from guozhangwang/K2799

commit 8db55618d5d5d5de97feab2bf8da4dc45387a76a
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Nov 10 14:54:15 2015 -0800

    KAFKA-2752: Add VerifiableSource/Sink connectors and rolling bounce Copycat system tests.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ben Stopford, Geoff Anderson, Guozhang Wang
    
    Closes #432 from ewencp/kafka-2752-copycat-clean-bounce-test

commit 64a1bfeb9b1b90c94cc62ee2587f9745c850ada3
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Nov 10 14:43:25 2015 -0800

    KAFKA-2793: Use ByteArrayDeserializer instead of StringDeserializer for keys in ConsoleConsumer with new consumer.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #482 from ewencp/kafka-2793-console-consumer-new-consumer-deserializer

commit 60c06734b345bbf292773e5b9206282ff3995968
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Tue Nov 10 14:27:55 2015 -0800

    KAFKA-2788; Allow specifying principals with comman in ACL CLI.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #489 from Parth-Brahmbhatt/KAFKA-2788

commit c455e608c1f2c7be6ff0a721f49c1fe3ede0165f
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Nov 10 13:06:55 2015 -0800

    KAFKA-2795: fix potential NPE in GroupMetadataManager.addGroup
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Onur Karaman, Guozhang Wang
    
    Closes #488 from hachikuji/KAFKA-2795

commit 1d884d1f60aec9ec7ea334761bead4c60b13c7a9
Author: Geoff Anderson <geoff@confluent.io>
Date:   Tue Nov 10 11:54:18 2015 -0800

    MINOR: update system test readme
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #487 from granders/minor-update-test-readme

commit 403d89edeaa7808f71c0e7318411c925895210f2
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Nov 10 11:07:26 2015 -0800

    KAFKA-2798: Use prefixedd configurations for Kafka Connect producer and consumer settings so they do not conflict with the distributed herder's settings.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #486 from ewencp/kafka-2798-conflicting-herder-producer-consumer-configs

commit ae5a5d7c08bb634576a414f6f2864c5b8a7e58a3
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Nov 10 10:26:51 2015 -0800

    KAFKA-2792: Don't wait for a response to the leave group message when closing the new consumer.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Onur Karaman, Gwen Shapira
    
    Closes #480 from ewencp/kafka-2792-fix-blocking-consumer-close

commit fe11488a7787732b6cc2ba306f745ea1f318208c
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Nov 10 10:17:13 2015 -0800

    KAFKA-2797: Only run rat when in the .git repository since it require s the .gitignore to generate the list of files to ignore
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #485 from ewencp/kafka-2797-disable-rat-when-git-missing

commit 590a4616a1030b3175ba5a548b5f1e1b49c323c2
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 9 20:43:07 2015 -0800

    KAFKA-2786: Only respond to SinkTask onPartitionsRevoked after the WorkerSinkTask has finished starting up.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #476 from ewencp/kafka-2786-on-partitions-assigned-only-after-start

commit bce664b42a0c414dc19e2c07406cf6f14890cbd1
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Nov 9 18:38:22 2015 -0800

    KAFKA-2274: verifiable consumer and integration testing
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang, Geoff Anderson
    
    Closes #465 from hachikuji/KAFKA-2274

commit c9264b4c8904bf330b70cd84b433a7a141ec9d0e
Author: Anna Povzner <anna@confluent.io>
Date:   Mon Nov 9 17:07:40 2015 -0800

    KAFKA-2769; Multi-consumer integration tests for consumer assignment incl. session timeouts and corresponding fixes
    
    -- Refactored multi-consumer integration group assignment validation tests for round-robin assignment
    -- Added multi-consumer integration tests for session timeout expiration:
       1. When a consumer stops polling
       2. When a consumer calls close()
    
    -- Fixes to issues found with session timeout expiration tests woth help from Jason Gustafson: Try to avoid  SendFailedException exception by cancelling the scheduled tasks and ensuring metadata update before sending group leave requests + send leave group request with retries.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #472 from apovzner/cpkafka-81

commit c6b93fa50de97c2fe79d5db98823a811c6743f69
Author: Geoff Anderson <geoff@confluent.io>
Date:   Mon Nov 9 16:36:42 2015 -0800

    KAFKA-2773: Fixed broken vagrant provision scripts for static zk/broker cluster
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava
    
    Closes #454 from granders/KAFKA-2773-vagrant-fix

commit 83eaf3284fe8535bd06743a367a469d3d01946b1
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 9 16:29:30 2015 -0800

    KAFKA-2379: Add basic documentation for Kafka Connect.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #475 from ewencp/kafka-2379-connect-docs

commit 79bdc17ab4b0157ceb5257e6c4ff646a3fa55f6d
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 9 15:08:34 2015 -0800

    KAFKA-2785; Include Kafka Connect jars in releaseTarGz.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #473 from ewencp/kafka-2785-include-copycat-jars-in-release

commit e2794a79c8d2e8ae9cf30bfe10bbed34951a004b
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Nov 9 14:11:14 2015 -0800

    MINOR: Make sure generated docs don't get checked in
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #469 from granthenke/generated-configs

commit 3ebb4ee1b0803b755eaefc3286fe107868b7b085
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon Nov 9 13:47:55 2015 -0800

    MINOR: Improve exception message that gets thrown for non-existent group
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Guozhang Wang
    
    Closes #471 from SinghAsDev/ExceptionMessage

commit a87b978223a827c34db1341b2da3e17e571c4464
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Nov 9 13:36:35 2015 -0800

    MINOR: remove old producer in config sections to align with APIs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #468 from guozhangwang/WikiUpdate

commit 359be3a682951fd469d690df8d9e7a5a89a9d03b
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Nov 9 11:17:18 2015 -0800

    KAFKA-2674: clarify onPartitionsRevoked behavior
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #467 from hachikuji/KAFKA-2674

commit 69af573b35f04657e31f60e636aba19ffa0b2c84
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Nov 9 11:02:46 2015 -0800

    KAFKA-2783; Drop outdated hadoop contrib modules
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #466 from granthenke/drop-contrib

commit 7073fa7efea4acd6615f9dad4f649f6094be6332
Author: Geoff Anderson <geoff@confluent.io>
Date:   Mon Nov 9 10:45:51 2015 -0800

    KAFKA-2258: add failover to mirrormaker test
    
    This PR adds failover to simple end to end mirror maker test
    
    Marked as WIP for 2 reasons:
    - We may want to add a couple more test cases where kafka is being used to store offsets
    - There appears to be a test failure in the hard failover case
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava
    
    Closes #427 from granders/KAFKA-2258-mirrormaker-test

commit 75f2b8c8b42459a3ab2962f75f0e05fbbb9e8333
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 9 10:39:34 2015 -0800

    KAFKA-2782: Fix KafkaBasedLogTest assertion and move it to the main test thread.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #463 from ewencp/kafka-2782-fix-kafka-based-log-test-assertion

commit 13ba57dcfc45e60de281cc55125e7446322308ba
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 9 10:36:57 2015 -0800

    KAFKA-2778: Use zero loss settings by default for Connect source producers.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #459 from ewencp/kafka-2778-connect-source-zero-loss-settings

commit bc76e6704e8f14d59bb5d4fcf9bdf544c9e463bf
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 9 10:27:18 2015 -0800

    KAFKA-2775: Move exceptions into API package for Kafka Connect.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #457 from ewencp/kafka-2775-exceptions-in-api-package

commit 2b04004de878823fe631af1f3f85108c0b38caec
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Nov 9 10:26:17 2015 -0800

    HOTFIX: bug updating cache when loading group metadata
    
    The bug causes only the first instance of group metadata in the topic to be written to the cache (because of the putIfNotExists in addGroup). Coordinator fail-over won't work properly unless the cache is loaded with the right metadata.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #462 from hachikuji/hotfix-group-loading

commit e9fc7b8c84908ae642339a2522a79f8bb5155728
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 9 10:19:27 2015 -0800

    KAFKA-2776: Fix lookup of schema conversion cache size in JsonConverter.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #458 from ewencp/kafka-2776-json-converter-cache-config-fix

commit a24f9a23a6d8759538e91072e8d96d158d03bb63
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Nov 9 09:10:20 2015 -0800

    KAFKA-2781; Only require signing artifacts when uploading archives.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #461 from ewencp/kafka-2781-no-signing-for-install

commit efbebc6e843850b7ed9a1d015413c99f114a7d92
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Nov 9 07:23:47 2015 -0800

    KAFKA-2779; Close SSL socket channel on remote connection close
    
    Close socket channel in finally block to avoid file descriptor leak when remote end closes the connection
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #460 from rajinisivaram/KAFKA-2779

commit f2031d40639ef34c1591c22971394ef41c87652c
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sun Nov 8 22:11:03 2015 -0800

    KAFKA-2774: Rename Copycat to Kafka Connect
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #456 from ewencp/kafka-2774-rename-copycat

commit f4b87deefecf4902992a84d4a3fe3b99a94ff72b
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sun Nov 8 20:41:35 2015 -0800

    KAFKA-2480: Handle retriable and non-retriable exceptions thrown by sink tasks.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #450 from ewencp/kafka-2480-unrecoverable-task-errors

commit 83fb734603376d1c9ef1d88bcb5f160da5522e45
Author: Jason Gustafson <jason@confluent.io>
Date:   Sun Nov 8 12:29:02 2015 -0800

    HOTFIX: fix group coordinator edge cases around metadata storage callback
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #451 from hachikuji/hotfix-group-coordinator

commit 34d9976656893abcec3d24c54b367eeb091c101d
Author: Ashish Singh <asingh@cloudera.com>
Date:   Sun Nov 8 11:36:14 2015 -0800

    KAFKA-2761: enable whitelist regex subscription for new consumer in ConsoleConsumer
    
    #412 is a pre-req.
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Guozhang Wang
    
    Closes #445 from SinghAsDev/KAFKA-2761

commit 23cc9c77b27889bb7d71d7ea74b80ab96c4529ae
Author: Jason Gustafson <jason@confluent.io>
Date:   Sun Nov 8 11:32:17 2015 -0800

    KAFKA-2723: new consumer exception cleanup
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #441 from hachikuji/K2723

commit b4e1bdf48b215e1acb3f81c964eb2c180d6dfa54
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Fri Nov 6 19:23:15 2015 -0800

    KAFKA-2666: Docs: Automatically generate documentation from config classes
    
    …the way we always planned to
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Jun Rao, Guozhang Wang
    
    Closes #382 from gwenshap/KAFKA-2666

commit 30bf985348dcc5b9dc2fba4ad38009342fa18442
Author: Flavio Junqueira <fpj@apache.org>
Date:   Fri Nov 6 20:22:34 2015 -0600

    KAFKA-2767; Upgrade ZkClient version to 0.7
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #449 from fpj/KAFKA-2767

commit 15524d0970868d2dd9bc16b9d5de4519fc469e11
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Nov 6 17:55:32 2015 -0800

    KAFKA-2766: use new producer by default in tooling
    
    Also update the API docs for new consumer.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #448 from guozhangwang/K2766

commit d297b3af265a5be5a83ee11a990060231ea4cc25
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Nov 6 17:50:46 2015 -0800

    KAFKA-2765: Add versions to Copycat Connector and Task interfaces and log versions when instantiating connectors and tasks.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #446 from ewencp/connector-versions

commit 130a561ad511db5a592e5a4217d6fa5dee704d33
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Fri Nov 6 15:35:59 2015 -0800

    MINOR: Remove unnecessary println
    
    Looks like this println might have been left in there by mistake.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #429 from rajinisivaram/latency-args-print

commit 09ff68673843109eedc5caae4bf46e62d1868aab
Author: Chris Pinola <chris@pinola.co>
Date:   Fri Nov 6 15:34:04 2015 -0800

    MINOR: Fix homophone typo in Design documentation
    
    Noticed that there was a small typo in section 4.1 of the Design documentation on the [website](https://kafka.apache.org/documentation.html#majordesignelements) ('new' vs. 'knew'). This patch corrects that.
    
    Author: Chris Pinola <chris@pinola.co>
    
    Reviewers: Guozhang Wang
    
    Closes #391 from chrnola/minor/design-doc-typo

commit a9e4ce79fe81d3fc8c9841ac9a14db53d3102854
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Nov 6 13:42:18 2015 -0800

    KAFKA-2734: kafka-console-consumer should allow empty topic for old consumer.
    
    …ot specifying topic
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Sriharsha Chintalapani, Guozhang Wang
    
    Closes #412 from SinghAsDev/KAFKA-2734

commit a423316d388c386aa905b3d195487370f8703787
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Nov 6 13:31:38 2015 -0800

    KAFKA-2760: Clean up interface of AdminClient.describeConsumerGroup.
    
    …roupId)
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #442 from SinghAsDev/KAFKA-2760

commit c006c5916ef7a8048ed55db64db27c7b64a3af59
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Nov 6 13:27:45 2015 -0800

    KAFKA-2764: Change use of Properties in Copycat to Maps.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira, Guozhang Wang
    
    Closes #444 from ewencp/kafka-2764-maps-not-properties

commit a76660ac811eb6e2cdf36a110ed4afb5bf3a617a
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Nov 6 10:27:18 2015 -0800

    KAFKA-2713: Run task start and stop methods in worker threads so they execute in parallel and cannot block the herder thread.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #443 from ewencp/kafka-2713-task-start-stop-threaded

commit b1eaa46a512295abb4b4eb8b98402fc60a2c911a
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Nov 5 20:32:10 2015 -0800

    HOTFIX: unsubscribe does not clear user assignment properly
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #439 from hachikuji/unsubscribe-hotfix

commit c3c0c04e62253f2a9f78b383bbf0d1a04d9b3b25
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Nov 5 18:56:26 2015 -0800

    KAFKA-2490: support new consumer in ConsumerGroupCommand
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Guozhang Wang, Jason Gustafson
    
    Closes #299 from SinghAsDev/KAFKA-2490

commit 33e879a389aeaff3576064b10a0f5dea5ad391ed
Author: Grant Henke <granthenke@gmail.com>
Date:   Thu Nov 5 18:17:30 2015 -0800

    KAFKA-2702: ConfigDef toHtmlTable() sorts in a way that is a bit conf…
    
    …using
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #379 from granthenke/config-html

commit 76bcccd61f61d33a4a4d4db02043a2f0063d0d38
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Nov 5 16:42:27 2015 -0800

    KAFKA-2745: Update JavaDoc for new / updated consumer APIs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jeff Holoman, Jason Gustafson, Gwen Shapira
    
    Closes #425 from guozhangwang/K2745

commit cbdd8218c16b56d952267c162dc1dfc93191571e
Author: Matthew Bruce <mbruce@blackberry.com>
Date:   Thu Nov 5 15:51:42 2015 -0800

    KAFKA-2756: Use request version Id instead of latest version Id to parse the corresponding response.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #438 from guozhangwang/K2756

commit 0273c4379f12d7c3daedc89b0838485270e16bf4
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Nov 5 15:49:29 2015 -0800

    MINOR: follow-up KAFKA-2730 to use two tags for broker id and fetcher id combination
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #434 from guozhangwang/K2730-hotfix

commit bf2563e2f73881491ea94e83013e0ff319a25016
Author: Jeff Holoman <jeff.holoman@gmail.com>
Date:   Thu Nov 5 13:31:01 2015 -0800

    KAFKA-2735: BrokerEndPoint should support uppercase hostnames.
    
    Added support for uppercase hostnames in BrokerEndPoint. Added unit test
    to cover this scenario.
    
    Author: jholoman <jeff.holoman@gmail.com>
    
    Reviewers: Grant Henke, Guozhang Wang
    
    Closes #415 from jholoman/KAFKA-2735

commit 490bbc91183d1468a164d80f826317f137026684
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Nov 5 13:16:58 2015 -0800

    KAFKA-2755: Suspicious reference forwarding cause NPE on handleDescribeGroup.
    
    …xistent consumer group
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Guozhang Wang
    
    Closes #435 from SinghAsDev/KAFKA-2755

commit 7eee11451e1f0d17efa27775becfb370a9894d56
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Nov 5 10:22:21 2015 -0800

    KAFKA-2753: improve SyncGroup error handling in client
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #433 from hachikuji/KAFKA-2753

commit a4551773ca8cb3c1b75cea873715f30053d88f47
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 5 10:13:23 2015 -0800

    KAFKA-2748: Ensure sink tasks commit offsets upon rebalance and rewind if the SinkTask flush fails.
    
    Also fix the incorrect consumer group ID setting which was giving each task its
    own group instead of one for the entire sink connector.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang
    
    Closes #431 from ewencp/kafka-2748-sink-task-rebalance-commit

commit d23785ff2df136090e3c80a3a6df5cb85443924b
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Thu Nov 5 09:11:24 2015 -0800

    KAFKA-2738: Replica FetcherThread should connect to leader endpoint matching its inter-broker security protocol.
    
    …atching its inter-broker security protocol
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Jun Rao, Guozhang Wang
    
    Closes #428 from gwenshap/KAFKA-2738

commit b30d68a4e31cb49c2e664bb2e3263e056a27db40
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 5 08:49:58 2015 -0800

    KAFKA-2743: Make forwarded task reconfiguration requests asynchronous on backoff on retrying.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #422 from ewencp/task-reconfiguration-async-with-backoff

commit 7d6515fb8f6141f5c34fe8434e97ea6ebd65941f
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 5 08:44:44 2015 -0800

    KAFKA-2741: Make SourceTaskContext and SinkTaskContext interfaces and keep implementations in runtime jar.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #420 from ewencp/task-context-interfaces

commit 4a9e7607b9e563195556873b6ec9b74561cedfbb
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 5 08:42:44 2015 -0800

    KAFKA-2742: Fix SourceTaskOffsetCommitter to handle removal of commit tasks when they are already in progress.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #421 from ewencp/wait-on-in-progress-source-offset-commits

commit 68f42210a1c8ce64846ffdc2cdbecc6fa5b87739
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Nov 4 17:31:34 2015 -0800

    MINOR: add test case for fetching from a compacted topic
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #426 from hachikuji/compacted-topics

commit ef5d168cc8f10ad4f0efe9df4cbe849a4b35496e
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Nov 4 15:04:03 2015 -0800

    KAFKA-2697: client-side support for leave group
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #414 from hachikuji/KAFKA-2697

commit 8de62253adb4c6b90badbf92881c0402068cd65c
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Nov 4 15:02:32 2015 -0800

    HOTFIX: Fix incorrect version used for group metadata version
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #424 from hachikuji/hotfix-metadata-storage

commit 70a784b64ab61bcd517619fed44419d59d467b27
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Nov 4 12:05:34 2015 -0800

    KAFKA-2744: Commit source task offsets after task is completely stopped
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #423 from ewencp/commit-source-offsets-after-work-thread-exits

commit c39e79bb5af5b4e56bec358f8ec3758e6822dbcf
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Nov 4 11:02:30 2015 -0800

    KAFKA-2691: Improve handling of authorization failure during metadata refresh
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao
    
    Closes #394 from hachikuji/KAFKA-2691

commit c30ee50d82131ead8bc64223ae5970555b0c78cf
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Nov 4 10:23:39 2015 -0800

    KAFKA-2730: use thread-id as metrics tags
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #416 from guozhangwang/K2730

commit aa73554c19b15a1589a77a4fae85c2d66a649acf
Author: Anna Povzner <anna@confluent.io>
Date:   Wed Nov 4 10:11:31 2015 -0800

    KAFKA-2737: Added single- and multi-consumer integration tests for round-robin assignment
    
    Two tests:
    1. One consumer subscribes to 2 topics, each with 2 partitions; includes adding and removing a topic.
    2. Several consumers subscribe to 2 topics, several partition each; includes adding one more consumer after initial assignment is done and verified.
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #413 from apovzner/cpkafka-76

commit 421de0a3f93f8d21f7ca0f1287a4305c00edaa08
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Wed Nov 4 09:57:50 2015 -0800

    KAFKA-2727: Topology partial construction
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #411 from ymatsuda/topology_partial_construction

commit 7ded64bc2edf8645d7fd113633a56791bf1e8e4a
Author: Michael G. Noll <michael@confluent.io>
Date:   Wed Nov 4 09:19:49 2015 -0800

    KAFKA-2740: Convert Windows bin scripts from CRLF to LF line encodings
    
    There are no functional changes to the modified scripts.
    
    Author: Michael G. Noll <michael@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #419 from miguno/KAFKA-2740

commit 70a7d5786cc3f04b5f3d964eb1fd1d826e9b9e0f
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Nov 4 05:52:16 2015 -0800

    KAFKA-2722; Improve ISR change propagation.
    
    The patch has two changes:
    1. fixed a bug in controller that it sends UpdateMetadataRequest of all the partitions in the cluster.
    2. Uses the following rules to propagate ISR change: 1) if there are ISR changes pending propagation and the last ISR change is more than five seconds ago, propagate the changes. 2) if there is ISR change at T in the recent five seconds, delay the propagation until T + 5s. 3) if the last propagation is more than 1 min ago, ignore rule No.2 and propagate ISR change if there are changes pending propagation.
    
    This algorithm avoids a fixed configuration of ISR propagation interval as we discussed about in KIP-29.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #402 from becketqin/KAFKA-2722

commit 98db5ea94fcf7600137b5072453705c2a62e1f54
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Nov 3 21:25:15 2015 -0800

    KAFKA-2644; Run relevant ducktape tests with SASL_PLAINTEXT and SASL_SSL
    
    Run sanity check, replication tests and benchmarks with SASL/Kerberos using MiniKdc.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Geoff Anderson <geoff@confluent.io>, Jun Rao <junrao@gmail.com>
    
    Closes #358 from rajinisivaram/KAFKA-2644

commit 596c203af1f33360c04f4be7c466310d11343f78
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Nov 3 14:46:04 2015 -0800

    KAFKA-2687: Add support for ListGroups and DescribeGroup APIs
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang, Jun Rao
    
    Closes #388 from hachikuji/K2687

commit f413143eddd713dc5f03d53fdeb10e4e7f3738b1
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Tue Nov 3 14:25:16 2015 -0800

    KAFKA-2441: SSL/TLS in official docs
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #406 from gwenshap/KAFKA-2441

commit 5aa5f19d38eda33f32e170e14bcd4fd0d2835fc0
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Tue Nov 3 13:17:20 2015 -0800

    KAFKA-2480: Add backoff timeout and support rewinds
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #340 from Ishiihara/backoff

commit edddc41b37d06f8e819976b20b2e8ac711033e95
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Nov 3 10:30:09 2015 -0800

    KAFKA-2716: Make Kafka core not depend on log4j-appender
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma
    
    Closes #405 from SinghAsDev/KAFKA-2716

commit 840e95897fdb5118aa1308ec1a3be27369b9d71e
Author: Flavio Junqueira <fpj@apache.org>
Date:   Tue Nov 3 09:42:20 2015 -0800

    KAFKA-2724: ZK Auth documentation.
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Gwen Shapira
    
    Closes #409 from fpj/KAFKA-2724

commit 694e03c35582212749db5efaabd98b9f723609d5
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Nov 3 08:10:37 2015 -0800

    KAFKA-2719; Use wildcard classpath for dependant-libs
    
    PR switches to wildcard classpath for dependant libs to restrict the length of classpath, thereby reducing command line length.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #400 from rajinisivaram/KAFKA-2719

commit 7c33475274cb6e65a8e8d907e7fef6e56bc8c8e6
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Nov 2 23:41:58 2015 -0800

    KAFKA-2017: Persist Group Metadata and Assignment before Responding
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Onur Karaman, Jason Gustafson, Jun Rao
    
    Closes #386 from guozhangwang/K2017

commit e466ccd711ae00c5bb046c18aacf353b1a460dcd
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Nov 2 14:40:52 2015 -0800

    KAFKA-2707: make KStream processor names deterministic
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #408 from ymatsuda/kstream_processor_name

commit 1f5d05fe718b7db7ee07c727b7a736fab09322d6
Author: Geoff Anderson <geoff@confluent.io>
Date:   Mon Nov 2 14:14:38 2015 -0800

    KAFKA-2726: Fix port collision between ntpdate and ntp daemon
    
    gwenshap Can you take a quick look? I have verified the change allows successful `vagrant provision` even with ntp daemon already running on the vm.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #407 from granders/KAFKA-2726-ntp-port-collision

commit 758272267c811bf559336ea45571bc420a62a478
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Nov 2 13:24:48 2015 -0800

    KAFKA-2706: make state stores first class citizens in the processor topology
    
    * Added StateStoreSupplier
    * StateStore
      * Added init(ProcessorContext context) method
    * TopologyBuilder
      * Added addStateStore(StateStoreSupplier supplier, String... processNames)
      * Added connectProessorAndStateStores(String processorName, String... stateStoreNames)
        * This is for the case processors are not created when a store is added to the topology. (used by KStream)
    * KStream
      * add stateStoreNames to process(), transform(), transformValues().
    * Refactored existing state stores to implement StateStoreSupplier
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #387 from ymatsuda/state_store_supplier

commit 6383593fed5215f31e050d5a459b161249ed8366
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Nov 2 11:14:10 2015 -0800

    KAFKA-2518: Update NOTICE file
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #404 from gwenshap/KAFKA-2518

commit 34775bd3ed7b8eb4ca3532d30a9d8e6bf7c0b738
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Nov 2 10:16:39 2015 -0800

    KAFKA-2681: Added SASL documentation
    
    … info from the wiki
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Sriharsha Chintalapani, Jun Rao
    
    Closes #401 from gwenshap/KAFKA-2681

commit 9d8dd9f104aef3a9db9005d85bc55a15f851d258
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sat Oct 31 09:01:59 2015 -0700

    KAFKA-2680; Use IBM ConfigFile class to load jaas config if IBM JDK
    
    Use IBM ConfigFile class with IBM JDK since JavaLoginConfig provided by SUN provider is not included with IBM JDK.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Flavio Junqueira <fpj@apache.org>, Jun Rao <junrao@gmail.com>
    
    Closes #357 from rajinisivaram/KAFKA-2680

commit b944356990d97401721a5752f8dcdd1ac5b8d4d4
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Oct 30 18:14:20 2015 -0700

    KAFKA-2660; Correct cleanableRatio calculation
    
    onurkaraman Could you have a look? This is the patch I discussed with you.
    
    Author: Dong Lin <lindong28@gmail.com>
    Author: Dong Lin <lindong@cis.upenn.edu>
    
    Reviewers: Onur Karaman <okaraman@linkedin.com>, Joel Koshy <jjkoshy@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #316 from lindong28/KAFKA-2660

commit eec222e9828b36064827f206b398655aa2d4cd29
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Oct 30 17:50:11 2015 -0700

    KAFKA-2574: Add ducktape based ssl test for KafkaLog4jAppender
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira, Geoff Anderson
    
    Closes #319 from SinghAsDev/KAFKA-2574

commit 637f9a31660bebd0a3b94d930792e0b19405acd0
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Oct 30 17:08:45 2015 -0700

    HOTFIX: log4j-appender not getting built
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira
    
    Closes #395 from SinghAsDev/HOTFIX-Log4jAppender

commit 1cc44830b90688f1a2034243b8ee03b97101f75c
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Fri Oct 30 15:30:34 2015 -0700

    KAFKA-2562: update kafka scripts to use new tools/code
    
    Updated  kafka-producer-perf-test.sh to use org.apache.kafka.clients.tools.ProducerPerformance.
    Updated build.gradle to add kafka-tools-0.9.0.0-SNAPSHOT.jar to kafka/libs  folder.
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma
    
    Closes #242 from omkreddy/KAFKA-2562

commit d50499a0e08586d61445df6e287762333dc22d0a
Author: Geoff Anderson <geoff@confluent.io>
Date:   Fri Oct 30 15:13:16 2015 -0700

    KAFKA-2715: Removed previous system_test folder
    
    ewencp Nothing too complicated here
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #392 from granders/minor-remove-system-test

commit c001b2040cb7bf3a24aa77ec8de1312d4f780620
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Oct 30 15:00:00 2015 -0700

    KAFKA-2369: Add REST API for Copycat.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira, James Cheng
    
    Closes #378 from ewencp/kafka-2369-copycat-rest-api

commit efdc2ad2e7ec62c6d4d72c8d672a2995be5032a0
Author: Anna Povzner <anna@confluent.io>
Date:   Fri Oct 30 14:54:18 2015 -0700

    KAFKA-2714: Added integration tests for exceptional cases in fetching
    
    Author: Anna Povzner <anna@confluent.io>
    
    Reviewers: Jason Gustafson
    
    Closes #393 from apovzner/cpkafka-84

commit d9ae33d4c0473ef53a9ea560536467333136c0a0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Oct 30 08:53:16 2015 -0700

    KAFKA-2711; SaslClientAuthenticator no longer needs KerberosNameParser in constructor
    
    Also refactor `KerberosNameParser` and `KerberosName` to make the code
    clearer and easier to use when `shortName` is not needed.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #390 from ijuma/kafka-2711

commit 622730905d7826694d6ae503ad61927dfa255d14
Author: Geoff Anderson <geoff@confluent.io>
Date:   Fri Oct 30 08:57:00 2015 -0700

    MINOR: Update system test MANIFEST.in
    
    ewencp
    Some *.properties files were missing from `kafkatest` package. This update makes `kafkatest` services once again useable by external dependencies
    
    I've tested this change on aws with confluent system tests
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava
    
    Closes #385 from granders/minor-update-test-manifest

commit 13803ae91cc2d25ef42b71f3737e6c2ee7eb8809
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Thu Oct 29 18:33:56 2015 -0700

    KAFKA-2502; Documentation for quotas
    
    Followed the approach specified here: https://issues.apache.org/jira/browse/KAFKA-2502
    I also made a minor fix to ConfigCommand to expose the right options on add-config.
    
    Author: Aditya Auradkar <aauradkar@linkedin.com>
    
    Reviewers: Gwen Shapira
    
    Closes #381 from auradkar/K-2502

commit e0ca8fdd7cf3fcc51a5a1152eacdf585434052d8
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Oct 29 15:53:19 2015 -0700

    MINOR: update to correct clock skew
    
    ewencp
    Updated the provisioning script to install ntp daemon.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #383 from granders/minor-systest-clock-skew

commit 0da65476175e398378381041232af718321a5829
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Thu Oct 29 12:07:43 2015 -0700

    KAFKA-2663; Trivial follow-up to edit comments

commit 42bcc4339f41bed320edde8bf141d0702798c021
Author: Flavio Junqueira <fpj@apache.org>
Date:   Thu Oct 29 12:00:50 2015 -0700

    KAFKA-2705; Remove static JAAS config file for ZK auth tests
    
    Remove static login config file.
    
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #380 from fpj/KAFKA-2705

commit 217eb90444ef6a6aacf95997666768ee849e6769
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Thu Oct 29 11:56:55 2015 -0700

    KAFKA-2663 KAFKA-2664; Add quota-delay time to request processing time break-up; avoid using copy-on-write map for metrics
    
    This has 2 fixes:
    KAFKA-2664 - This patch changes the underlying map implementation of Metrics.java to a ConcurrentHashMap. Using a CopyOnWriteMap caused new metrics creation to get extremely slow when the existing corpus of metrics is large. Using a ConcurrentHashMap seems to speed up metric creation time significantly
    
    KAFKA-2663 - Splitting out the throttleTime from the remote time. On throttled requests, the remote time went up artificially.
    
    Some status on using a ConcurrentMap. Time to create :
    - 100k sensors (1.5 seconds)
    - 200k sensors (3 seconds)
    - 400k sensors (9 seconds)
    - 500k sensors (14 seconds)
    
    Please refer this test (originally written by Joel) http://pastebin.com/LnKjbY9a
    
    Author: Aditya Auradkar <aauradkar@linkedin.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #369 from auradkar/K-2664

commit 1b5687b9e4cd10e0f91fb921d3569fdd44be163d
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Thu Oct 29 08:30:06 2015 -0700

    KAFKA-2598; Adding integration test for the authorizer at API level. …
    
    …Some bug fixes that I encountered while running the tests.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Jason Gustafson <jason@confluent.io>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #300 from Parth-Brahmbhatt/KAFKA-2598

commit 47c888078d257c45c3685c514d0d4556ac46f947
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Oct 28 20:44:41 2015 -0700

    MINOR: Fix missing copyright in config file added in KAFKA-2640.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #377 from ewencp/minor-jaas-config-copyright

commit bd3fe839ce0e4a7276d19e8e873783aa0cd76707
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Oct 28 15:35:13 2015 -0700

    MINOR: Add new build target for system test libs
    
    KAFKA-2644 adds MiniKdc for system tests and hence needs a target to collect all MiniKdc jars. At the moment, system tests run `gradlew jar`. Replacing that with `gradlew systemTestLibs` will enable kafka jars and test dependency jars to be built and copied into appropriate locations. Submitting this as a separate PR so that the new target can be added to the build scripts that run system tests before KAFKA-2644 is committed. A separate target for system test artifacts will allow dependency changes to be made in future without breaking test runs.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #361 from rajinisivaram/kafka-systemTestLibs

commit 443cd9ab0db5223b7c85ac8333f2fc1a0e554870
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Oct 28 14:14:11 2015 -0700

    KAFKA-2648: enforce non-empty group-ids in join-group request
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #362 from hachikuji/KAFKA-2648

commit 983b1f9e17a0f392cfb7785f572c767540a12e2b
Author: Flavio Junqueira <fpj@apache.org>
Date:   Wed Oct 28 13:20:26 2015 -0700

    KAFKA-2640; Add tests for ZK authentication
    
    I've added a couple of initial tests to verify the functionality. I've tested that the JAAS config file loads properly and SASL with DIGEST-MD5 works with ZooKeeper.
    
    Author: Flavio Junqueira <fpj@apache.org>
    Author: flavio junqueira <fpj@apache.org>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #324 from fpj/KAFKA-2640

commit 8838fa8010c146af6aab014a41bc7e68318b4eb0
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Oct 28 12:42:03 2015 -0700

    MINOR: KAFKA-2371 follow-up, DistributedHerder should wakeup WorkerGroupMember after assignment to ensure work is started immediately
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #360 from ewencp/minor-kafka-2371-follow-up-wakeup-after-rebalance

commit 9855bb9c655ebad0ed5586175452056466189b8a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Oct 28 10:48:39 2015 -0700

    KAFKA-2675; SASL/Kerberos follow up
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <schintalapani@hortonworks.com>, Jun Rao <junrao@gmail.com>
    
    Closes #376 from ijuma/KAFKA-2675-sasl-kerberos-follow-up

commit b6fe164dd6f9483469c0b0661c24467e33e91cd9
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Oct 28 10:11:05 2015 -0700

    MINOR: Clean-up MemoryRecords variables and APIs
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jun Rao
    
    Closes #348 from guozhangwang/MemoryRecordsCapacity

commit 80223baa3b7125fd656ed85b450498a21924ca71
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Oct 27 19:32:42 2015 -0700

    HOTFIX: Rename WakeupException in MirrorMaker
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #375 from guozhangwang/HFWakeup

commit 7a36d36478635ae16b64c6410b88c92b45d5f129
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Tue Oct 27 17:55:59 2015 -0700

    MINOR: Expose ReplicaManager gauges
    
    There are several gauges in core that are registered but cannot be accessed programmatically. For example, gauges "LeaderCount", "PartitionCount", "UnderReplicatedParittions" are all registered in ReplicaManager.scala but there is no way to access them programmatically if one has access to the kafka.server object. Other metrics,  such as isrExpandRate (also in ReplicaManager.scala) can be accessed. The solution here is trivial, add a var <variable name> in front of newGauge, as shown below
    val partitionCount newGauge(
         "PartitionCount",
         new Gauge[Int] {
           def value = allPartitions.size
         }
    )
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #364 from enothereska/gauges

commit 1ac2640f8095262f423c770060b737f81652e211
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Oct 27 17:39:19 2015 -0700

    KAFKA-2683: ensure wakeup exceptions raised to user
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #366 from hachikuji/KAFKA-2683

commit 13c3e049fbf22522c90c2a0b4b4f680b974d9bea
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Oct 27 16:26:47 2015 -0700

    HOTFIX: correct sourceNodes for kstream.through()
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #374 from ymatsuda/fix_through_operator

commit 0b05d3b939c5ed37a4253e7c3614d824e76ed664
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Oct 27 16:24:10 2015 -0700

    KAFKA-2677: ensure consumer sees coordinator disconnects
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #349 from hachikuji/KAFKA-2677

commit e6b343302f3208f7f6e0099fe2a7132ef9eaaafb
Author: Geoff Anderson <geoff@confluent.io>
Date:   Tue Oct 27 15:23:47 2015 -0700

    KAFKA-1888: rolling upgrade test
    
    ewencp gwenshap
    This needs some refactoring to avoid the duplicated code between replication test and upgrade test, but in shape for initial feedback.
    
    I'm interested in feedback on the added `KafkaConfig` class and `kafka_props` file. This addition makes it:
    - easier to attach different configs to different nodes (e.g. during broker upgrade process)
    - easier to reason about the configuration of a particular node
    
    Notes:
    - in the default values in the KafkaConfig class, I removed many properties which were in kafka.properties before. This is because most of those properties were set to what is already the default value.
    - when running non-trunk VerifiableProducer, I append the trunk tools jar to the classpath, and run it with the non-trunk kafka-run-class.sh script
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Dong Lin, Ewen Cheslack-Postava
    
    Closes #229 from granders/KAFKA-1888-upgrade-test

commit af42c37899e8fc66590e7f3c4893f8224441f6a8
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Oct 27 13:57:19 2015 -0700

    HOTFIX: call consumer.poll() even when no task is assigned
    
    StreamThread should keep calling consumer.poll() even when no task is assigned. This is necessary to get a task.
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #373 from ymatsuda/no_task

commit 38a1b605533632f61f4c23b69933eb496098311b
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Oct 27 13:49:19 2015 -0700

    HOTFIX: fix off-by-one stream offset commit
    
    guozhangwang
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #372 from ymatsuda/commit_offset

commit c6c4f50703ff250b737080aaf239969473af99f0
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Oct 27 13:44:59 2015 -0700

    HOTFIX: group rebalance can throw illegal generation or rebalance in progress
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #370 from hachikuji/hotfix-rebalance-error

commit 8bc59a3b8f29854b8c7178609b99d7c9491886dc
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Oct 27 10:00:01 2015 -0700

    MINOR: Fix compiler error in `KafkaLog4jAppender`
    
    The branch wasn't rebased after the capitalisation fix for SSL
    classes.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #368 from ijuma/fix-kafka-log4j-appender-compiler-error

commit d21cb66e7d21ed3d20fc1e13b9a856f764bb4237
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Oct 27 08:45:27 2015 -0700

    KAFKA-2447: Add capability to KafkaLog4jAppender to be able to use SSL
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira, Ismael Juma
    
    Closes #175 from SinghAsDev/KAFKA-2447

commit 2fd645ac2fec7cf089cb8175ee47823b67a07226
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Oct 27 07:59:52 2015 -0700

    KAFKA-2452: Add new consumer option to mirror maker.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ben Stopford, Guozhang Wang
    
    Closes #266 from becketqin/KAFKA-2452

commit 2e4aed7070f0283e2c1e0e563fdb3324482463a5
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Oct 27 07:44:32 2015 -0700

    KAFKA-2516: Rename o.a.k.client.tools to o.a.k.tools
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira, Ewen Cheslack-Postava
    
    Closes #310 from granthenke/tools-packaging

commit fc4ef479109fbae12470e44f8c12fe9e5f41e179
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Oct 27 07:43:19 2015 -0700

    KAFKA-2645: Document potentially breaking changes in the release note…
    
    …s for 0.9.0
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira, Guozhang Wang
    
    Closes #337 from granthenke/docs

commit e6f9b9e473f0396743cdfc5236bfd551316fc6f7
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Oct 26 20:14:19 2015 -0700

    KAFKA-2694: Reformat task id as group id and partition id
    
    guozhangwang
    
    * A task id is now a class, ```TaskId```, that has a topic group id and a partition id fields.
    * ```TopologyBuilder``` assigns a topic group id to a topic group. Related methods are changed accordingly.
    * A state store uses the partition id part of the task id as the change log partition id.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #365 from ymatsuda/task_id

commit b251bebbcc3074f0491fce988f1d46ccdc97f1fa
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Oct 26 18:30:41 2015 -0700

    MINOR: follow-up to KAFKA-2464 for renaming/cleanup
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Jiangjie Qin, Guozhang Wang
    
    Closes #354 from hachikuji/KAFKA-2464

commit 71399ffe4c52e2539a5794a17852c8c5b3d5fe72
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Mon Oct 26 13:33:51 2015 -0700

    KAFKA-2652: integrate new group protocol into partition grouping
    
    guozhangwang
    
    * added ```PartitionGrouper``` (abstract class)
     * This class is responsible for grouping partitions. Each group forms a task.
     * Users may implement this class for custom grouping.
    * added ```DefaultPartitionGrouper```
     * our default implementation of ```PartitionGrouper```
    * added ```KafkaStreamingPartitionAssignor```
     * We always use this as ```PartitionAssignor``` of stream consumers.
     * Actual grouping is delegated to ```PartitionGrouper```.
    * ```TopologyBuilder```
     * added ```topicGroups()```
       * This returns groups of related topics according to the topology
     * added ```copartitionSources(sourceNodes...)```
       * This is used by DSL layer. It asserts the specified source nodes must be copartitioned.
     * added ```copartitionGroups()```
       * This returns groups of copartitioned topics
    * KStream layer
     * keep track of source nodes to determine copartition sources when steams are joined
     * source nodes are set to null when partitioning property is not preserved (ex. ```map()```, ```transform()```), and this indicates the stream is no longer joinable
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #353 from ymatsuda/grouping

commit 939c4244e7353e0000939837b14ec7c7550aeb21
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Oct 26 10:17:16 2015 -0700

    KAFKA-2449: Update mirror maker docs
    
    …s to multiple source clusters
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #356 from gwenshap/KAFKA-2449

commit 16f194b20ad9795188f1d7781e7cbca1cd2a6a2d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Oct 24 09:42:19 2015 -0700

    KAFKA-2460; Fix capitalisation in SSL classes
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #355 from ijuma/kafka-2460-fix-capitalisation-in-ssl-classes

commit 6f2f1f9843f537b9bda3aa3951a867fdee661761
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Oct 23 17:01:33 2015 -0700

    KAFKA-2626: Handle null keys and value validation properly in OffsetStorageWriter.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #345 from ewencp/kafka-2626-offset-storage-writer-null-values

commit 2e61773590c0ba86cb8813e6ba17bf6ee33f4461
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Oct 23 16:37:30 2015 -0700

    KAFKA-2371: Add distributed support for Copycat.
    
    This adds coordination between DistributedHerders using the generalized consumer
    support, allowing automatic balancing of connectors and tasks across workers. A
    few pieces that require interaction between workers (resolving config
    inconsistencies, forwarding of configuration changes to the leader worker) are
    incomplete because they require REST API support to implement properly.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Jason Gustafson, Gwen Shapira
    
    Closes #321 from ewencp/kafka-2371-distributed-herder

commit 21443f214fc6f1f51037e27f8ece155cf1eb288c
Author: flavio junqueira <fpj@apache.org>
Date:   Fri Oct 23 15:11:07 2015 -0700

    KAFKA-2641; Upgrade path for ZK authentication
    
    This pull request adds a configuration parameter and a migration tool. It is also based on pull request #303, which should go in first.
    
    Author: flavio junqueira <fpj@apache.org>
    Author: Flavio Junqueira <fpj@apache.org>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #313 from fpj/KAFKA-2641

commit 701c46b3a32da78008ae48298778fca8b5a16bce
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Oct 22 22:27:46 2015 -0700

    KAFKA-2671: Enable starting Kafka server with a Properties object
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Eno Thereska, Gwen Shapira
    
    Closes #330 from SinghAsDev/KAFKA-2671

commit aa56dfb9e7cea19faa545a13d42d499a6958cbef
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Oct 22 21:06:10 2015 -0700

    KAFKA-2686: Reset needsPartitionAssignment in SubscriptionState.assign()
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson, Jun Rao
    
    Closes #352 from guozhangwang/K2686

commit bf292a6fa5b52844edfe256e8f1dd42da432d0c9
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Oct 22 09:52:09 2015 -0700

    MINOR: Restore `SslConsumerTest` which was accidentally deleted in client-side assignment commit
    
    Probably happened while resolving conflicts, commit: 86eb74d9236c586af5889fe79f4b9e066c9c2af3
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jason Gustafson
    
    Closes #350 from ijuma/restore-ssl-consumer-test

commit 2e25f899a118e7d4d5eb89118e447a87ad02f71c
Author: Dong Lin <lindong@cis.upenn.edu>
Date:   Thu Oct 22 09:26:05 2015 -0700

    KAFKA-2678; partition level lag metrics can be negative
    
    Author: Dong Lin <lindong@cis.upenn.edu>
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #346 from lindong28/KAFKA-2678

commit 65922b5388561e3ab830fd1f367faa289d205e2a
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Oct 21 17:10:36 2015 -0700

    KAFKA-2456 KAFKA-2472; SSL clean-ups
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #342 from ijuma/kafka-2472-fix-kafka-ssl-config-warnings

commit d9b1dc70817de9366513b0cbed0b6e0702d473fa
Author: Aditya Auradkar <aauradka@aauradka-mn1.(none)>
Date:   Wed Oct 21 16:07:39 2015 -0700

    KAFKA-2209; Change quotas dynamically using DynamicConfigManager
    
    Changes in this patch are:
    1. ClientIdConfigHandler now passes through the config changes to the quota manager.
    2. Removed static KafkaConfigs for quota overrides. These are no longer needed since we can override configs through ZooKeeper.
    3. Added testcases to verify that the config changes are propogated from ZK (written using AdminTools) to the actual Metric objects.
    
    Author: Aditya Auradkar <aauradka@aauradka-mn1.(none)>
    Author: Aditya Auradkar <aauradka@aauradka-mn1.linkedin.biz>
    
    Reviewers: Dong Lin <lindong28@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #298 from auradkar/K-2209

commit 361686d4a999298b6e5b63cacda72168172eb936
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Oct 21 14:39:39 2015 -0700

    KAFKA-2618; Disable SSL renegotiation for 0.9.0.0
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <schintalapani@hortonworks.com>, Rajini Sivaram <rajinisivaram@googlemail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #339 from ijuma/kafka-2618-disable-renegotiation

commit 30056538130ae1e2be35398b0ddd2ea04105bafd
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Oct 21 13:24:10 2015 -0700

    KAFKA-2454; Deadlock between log segment deletion and server shutdown.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #153 from becketqin/KAFKA-2454

commit 86eb74d9236c586af5889fe79f4b9e066c9c2af3
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Oct 21 12:13:42 2015 -0700

    KAFKA-2464: client-side assignment for new consumer
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jiangjie Qin, Onur Karaman, Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #165 from hachikuji/KAFKA-2464

commit 6e747d42974bd6b445a3ffed50281a1e8d55c3a1
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Oct 21 11:37:57 2015 -0700

    MINOR: Update to Gradle 2.8
    
    There have been a number of improvements between the version we are currently using (2.4) and the current version (2.8):
    
    https://gradle.org/docs/2.5/release-notes
    https://gradle.org/docs/2.6/release-notes
    https://gradle.org/docs/2.7/release-notes
    http://gradle.org/docs/current/release-notes
    
    I'm particularly interested in the performance improvements.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #343 from ijuma/gradle-2.8

commit 1d4a0b8811d82a6465015a71194a712679d63efe
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Oct 21 11:20:29 2015 -0700

    KAFKA-2667: Fix transient error in KafkaBasedLogTest.
    
    The test required a specific sequence of events for each Consumer.poll() call,
    but the MockConsumer.waitForPollThen() method could not guarantee that,
    resulting in race conditions. Add support for scheduling sequences of events
    even when running in multi-threaded environments.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #333 from ewencp/kafka-2667-kafka-based-log-transient-error

commit 0785feeb0fae2a4f75a59147197c5138109b1b39
Author: Eno Thereska <eno.thereska@gmail.com>
Date:   Wed Oct 21 10:04:49 2015 -0700

    KAFKA-2459: Mark last committed timestamp to fix connection backoff
    
    This fix applies to three JIRAs, since they are all connected.
    
    KAFKA-2459Connection backoff/blackout period should start when a connection is disconnected, not when the connection attempt was initiated
    Backoff when connection is disconnected
    
    KAFKA-2615Poll() method is broken wrt time
    Added Time through the NetworkClient API. Minimal change.
    
    KAFKA-1843Metadata fetch/refresh in new producer should handle all node connection states gracefully
    I’ve partially addressed this for a specific failure case in the JIRA.
    
    Author: Eno Thereska <eno.thereska@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Jason Gustafson, Ismael Juma, Guozhang Wang
    
    Closes #290 from enothereska/trunk

commit 44f6c4b946511ce4663d41bf40f2960d2faee198
Author: benstopford <benstopford@gmail.com>
Date:   Tue Oct 20 17:21:46 2015 -0700

    KAFKA-2338; Warn on max.message.bytes change
    
    - Both TopicCommand and ConfigCommand warn if message.max.bytes increases
    - Log failures on the broker if replication gets stuck due to an oversized message
    - Added blocking call to warning.
    
    Author: benstopford <benstopford@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #322 from benstopford/CPKAFKA-61

commit 403158b54b18cabf93eb15d4c4dd8ab66604bf9f
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Tue Oct 20 14:13:34 2015 -0700

    KAFKA-1686; Implement SASL/Kerberos
    
    This PR implements SASL/Kerberos which was originally submitted by harshach as https://github.com/apache/kafka/pull/191.
    
    I've been submitting PRs to Harsha's branch with fixes and improvements and he has integrated all, but the most recent one. I'm creating this PR so that the Jenkins can run the tests on the branch (they pass locally).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    Author: Sriharsha Chintalapani <harsha@hortonworks.com>
    Author: Harsha <harshach@users.noreply.github.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Rajini Sivaram <rajinisivaram@googlemail.com>, Parth Brahmbhatt <brahmbhatt.parth@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #334 from ijuma/KAFKA-1686-V1

commit 8f32617e6506a5f67d4f922f4088507994ba91ef
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Oct 19 19:33:27 2015 -0700

    HOTFIX: check logic of KAFKA-2515 should be on buffer.limit()
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #332 from guozhangwang/K2515-hotfix

commit 14c128a162a7540f22e78a2e4bab6f20662b49ce
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Oct 19 17:18:52 2015 -0700

    MINOR: Capture stderr in ConsumerPerformanceService.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #331 from ewencp/minor-capture-consumer-performance-stderr

commit 343db8a7f4d22a593f0aecc79d55869350803889
Author: Dong Lin <lindong@cis.upenn.edu>
Date:   Mon Oct 19 14:50:18 2015 -0700

    KAFKA-2669; Fix LogCleaner.awaitCleaned for LogCleanerIntegrationTest
    
    LogCleanerIntegrationTest calls LogCleaner.awaitCleaned() to wait until cleaner has processed up to given offset. However, existing awaitCleaned() implementation doesn't wait for this. This patch fix the problem.
    
    Author: Dong Lin <lindong@cis.upenn.edu>
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #327 from lindong28/KAFKA-2669

commit 6745435251feab3085056cd2f8c9c400da849048
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Oct 19 13:49:09 2015 -0700

    KAFKA-2656; Remove hardcoded default key and truststores
    
    Removed default hardcoded keystore and truststore in /tmp so that default JVM keystore/truststore may be used when keystore/truststore is not specified in Kafka server or client properties
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #312 from rajinisivaram/KAFKA-2656

commit 964114a8aa28024f0e34693bb78da618f36574d3
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Oct 19 13:39:19 2015 -0700

    MINOR: Reduce logging level for controller connection failures from `error` to `warn`
    
    Before we switched from `BlockingChannel` to `NetworkClient`, we were
    always reporting a successful connection due to the fact that
    `BlockingChannel.connect` catches and swallows all exceptions. We
    are now reporting failures (which is better), but `error` seems too
    noisy (as can be seen in our tests).
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #280 from ijuma/reduce-connection-failure-logging-level

commit 241b9ab58dcbde0ca2545fcbaea864d778f4f93d
Author: Gabriel Avellaneda <avellaneda.gabriel@gmail.com>
Date:   Sun Oct 18 22:45:27 2015 -0700

    MINOR: Fixed README examples on running specific tests.
    
    Author: GabrielNicolasAvellaneda <avellaneda.gabriel@gmail.com>
    
    Reviewers: Ismael Juma, Ewen Cheslack-Postava
    
    Closes #268 from GabrielNicolasAvellaneda/readme-updates

commit ce306ba4ebc77464bf8ff4d656e1f1f44979182e
Author: flavio junqueira <fpj@apache.org>
Date:   Sun Oct 18 15:23:52 2015 -0700

    KAFKA-2639: Refactoring of ZkUtils
    
    I've split the work of KAFKA-1695 because this refactoring touches a large number of files. Most of the changes are trivial, but I feel it will be easier to review this way.
    
    This pull request includes the one Parth-Brahmbhatt started to address KAFKA-1695.
    
    Author: flavio junqueira <fpj@apache.org>
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #303 from fpj/KAFKA-2639

commit 78a2e2f8f39b24774e5edc8cf0c1093889db2fdf
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Fri Oct 16 17:52:06 2015 -0700

    KAFKA-2665: Add images to code github
    
    …art of the code github
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #325 from gwenshap/KAFKA-2665

commit 636e14a99191eeededfb933aacfe2459c7c7bb6f
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Fri Oct 16 17:46:17 2015 -0700

    KAFKA-2397: add leave group request to force coordinator trigger rebalance
    
    Let's say every consumer in a group has session timeout s. Currently, if a consumer leaves the group, the worst case time to stabilize the group is 2s (s to detect the consumer failure + s for the rebalance window). If a consumer instead can declare they are leaving the group, the worst case time to stabilize the group would just be the s associated with the rebalance window.
    
    This is a low priority optimization!
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #103 from onurkaraman/leave-group

commit e2e5c891428e5f1288b6f4674983d924f8bdb779
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Oct 16 17:39:39 2015 -0700

    KAFKA-2515: Handle oversized messages properly in new consumer
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Dong Lin, Jun Rao
    
    Closes #318 from guozhangwang/K2515

commit ef65d0a360ed65180ddd84d17679f24671c66e14
Author: Liquan Pei <liquanpei@gmail.com>
Date:   Fri Oct 16 15:44:31 2015 -0700

    KAFKA-2484: Add schema projection utilities
    
    This PR adds schema projection utilities to copycat.
    
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava
    
    Closes #307 from Ishiihara/schema-projection

commit c553249b4e6d7d385821061f9742f15f90e94def
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Oct 16 14:46:26 2015 -0700

    KAFKA-2594: Add InMemoryLRUCacheStore as a preliminary method for bounding in-memory stores
    
    Added a new `KeyValueStore` implementation called `InMemoryLRUCacheStore` that keeps a maximum number of entries in-memory, and as the size exceeds the capacity the least-recently used entry is removed from the store and the backing topic. Also added unit tests for this new store and the existing `InMemoryKeyValueStore` and `RocksDBKeyValueStore` implementations. A new `KeyValueStoreTestDriver` class simplifies all of the other tests, and can be used by other libraries to help test their own custom implementations.
    
    This PR depends upon [KAFKA-2593](https://issues.apache.org/jira/browse/KAFKA-2593) and its PR at https://github.com/apache/kafka/pull/255. Once that PR is merged, I can rebase this PR if desired.
    
    Two issues were uncovered when creating these new unit tests, and both are also addressed as separate (small) commits in this PR:
    * The `RocksDBKeyValueStore` initialization was not creating the file system directory if missing.
    * `MeteredKeyValueStore` was casting to `ProcessorContextImpl` to access the `RecordCollector`, which prevent using `MeteredKeyValueStore` implementations in tests where something other than `ProcessorContextImpl` was used. The fix was to introduce a `RecordCollector.Supplier` interface to define this `recordCollector()` method, and change `ProcessorContextImpl` and `MockProcessorContext` to both implement this interface. Now, `MeteredKeyValueStore` can cast to the new interface to access the record collector rather than to a single concrete implementation, making it possible to use any and all current stores inside unit tests.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Edward Ribeiro, Guozhang Wang
    
    Closes #256 from rhauch/kafka-2594

commit aa66b42daca0791840da3c77d47c96cf98f19ef2
Author: Aditya Auradkar <aauradka@aauradka-mn1.linkedin.biz>
Date:   Fri Oct 16 09:47:04 2015 -0700

    KAFKA-2419 - Fix to prevent background thread from getting created when not required
    
    See here for more discussion: https://issues.apache.org/jira/browse/KAFKA-2419
    Basically, the fix involves adding a param to Metrics to indicate if it is capable of metric cleanup or not.
    
    Author: Aditya Auradkar <aauradka@aauradka-mn1.linkedin.biz>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #323 from auradkar/KAFKA-2419-fix

commit 7efa12705d91e21eec527ab49033b01ca5e3e3ce
Author: Mayuresh Gharat <mgharat@linkedin.com>
Date:   Fri Oct 16 09:45:32 2015 -0700

    KAFKA-2120: cleaning follow-up
    
    Trivial fix to get rid of unused statements in kafkaProducer.
    
    Author: Mayuresh Gharat <mgharat@mgharat-ld1.linkedin.biz>
    
    Reviewers: Edward Ribeiro, Guozhang Wang
    
    Closes #320 from MayureshGharat/kafka-2120-followup

commit 5338f8432f74054671e9da59ba6f97abb81a03f2
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Oct 15 17:28:23 2015 -0700

    KAFKA-2487: change kafka.examples.Consumer to use the new java consumer
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Guozhang Wang
    
    Closes #297 from SinghAsDev/KAFKA-2487

commit 50a076d1e9929d82107b3086f664a234a1c7b9f6
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Thu Oct 15 11:49:44 2015 -0700

    MINOR: set up temp directories properly in StreamTaskTest
    
    guozhangwang
    StreamTaskTest did not set up a temp directory for each test. This occasionally caused interference between tests through state directory locking.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #317 from ymatsuda/fix_StreamTaskTest

commit a4dbf9010754183965772066a9cd2c5c4a49d44a
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Thu Oct 15 11:11:32 2015 -0700

    KAFKA-2295; Support dynamically loaded classes from context class loader
    
    Rebased code..
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #314 from omkreddy/KAFKA-2295

commit c50d39ea82e282d08163ebe7f0e398de2dc8c128
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Thu Oct 15 11:06:51 2015 -0700

    KAFKA-2654: optimize unnecessary poll(0) away in StreamTask
    
    guozhangwang
    This change aims to remove unnecessary ```consumer.poll(0)``` calls.
    * ```once``` after some partition is resumed
    * whenever the size of the top queue in any task is below ```BUFFERED_RECORDS_PER_PARTITION_CONFIG```
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #315 from ymatsuda/less_poll_zero

commit 28e59a1df7da9bbfc133180ee332a68e4540ee3e
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Oct 14 14:53:12 2015 -0700

    TRIVIAL: add @throws ConsumerWakeupException in KafkaConsumer
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #311 from guozhangwang/wakeupComments

commit 362613347371e9d74184e900ab80ba230940a5c8
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Oct 14 14:28:14 2015 -0700

    KAFKA-2536: topics tool should allow users to alter topic configuration
    
    This is a minimal revert of some backward incompatible changes made in KAFKA-2205, with the addition of the deprecation logging message.
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #305 from granthenke/topic-configs

commit 5013a41a514973e9612012413832e063ab062aef
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Oct 14 14:06:14 2015 -0700

    KAFKA-2650: Change ConfigCommand --deleted-config option to align wit…
    
    …h TopicCommand
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #308 from granthenke/configcommand

commit 6e571225d51f5d71ffcfc4d22d108e89ae2f46ec
Author: Randall Hauch <rhauch@gmail.com>
Date:   Wed Oct 14 13:59:10 2015 -0700

    KAFKA-2593: Key value stores can use specified serializers and deserializers
    
    Add support for the key value stores to use specified serializers and deserializers (aka, "serdes"). Prior to this change, the stores were limited to only the default serdes specified in the topology's configuration and exposed to the processors via the ProcessorContext.
    
    Now, using InMemoryKeyValueStore and RocksDBKeyValueStore are similar: both are parameterized on the key and value types, and both have similar multiple static factory methods. The static factory methods either take explicit key and value serdes, take key and value class types so the serdes can be inferred (only for the built-in serdes for string, integer, long, and byte array types), or use the default serdes on the ProcessorContext.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #255 from rhauch/kafka-2593

commit f13d1155960a1ea907b09754877ee74586efd041
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Oct 14 13:35:49 2015 -0700

    KAFKA-2603: Add timeout arg to ConsoleConsumer for new consumer
    
    Added --timeout-ms argument to ConsoleConsumer that works with both old and new consumer. Also modified ducktape ConsoleConsumer service to use this arg instead of consumer.timeout.ms config that works only with the old consumer.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Aditya Auradkar, Ismael Juma, Guozhang Wang
    
    Closes #274 from rajinisivaram/KAFKA-2603

commit 27c099b043704d16a22c33e0602f0ae7295cab25
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Oct 13 18:50:32 2015 -0700

    MINOR: ignore wakeups when committing offsets on consumer close
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #306 from hachikuji/handle-wakeup-in-consumer-close

commit d8c5750799b9c5c4485514b6b02560679af8255d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Oct 13 18:48:45 2015 -0700

    KAFKA-2632: move fetchable check ahead in handleFetchResponse
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Jason Gustafson
    
    Closes #295 from guozhangwang/K2632

commit b1ce9494e3a964613d3d9534471df79593514c77
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Tue Oct 13 15:31:27 2015 -0700

    MINOR: flush record collector after local state flush
    
    guozhangwang
    Fix the order of flushing. Undoing the change I did sometime ago.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #304 from ymatsuda/flush_order

commit 123d27e4d005a384611671133fbecde7e390d24f
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Oct 13 13:54:40 2015 -0700

    KAFKA-2527; System Test for Quotas in Ducktape
    
    granders Can you take a look at this quota system test?
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Geoff Anderson, Ewen Cheslack-Postava
    
    Closes #275 from lindong28/KAFKA-2527

commit 36d4469326fe20c3f0657315321e6ad515530a3e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Oct 13 10:23:21 2015 -0700

    KAFKA-2372: Add Kafka-backed storage of Copycat configs.
    
    This also adds some other needed infrastructure for distributed Copycat, most
    importantly the DistributedHerder, and refactors some code for handling
    Kafka-backed logs into KafkaBasedLog since this is shared betweeen offset and
    config storage.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira, James Cheng
    
    Closes #241 from ewencp/kafka-2372-copycat-distributed-config

commit e2ec02e1d1580e73c06f1acbf3a53a1b8ee52930
Author: benstopford <benstopford@gmail.com>
Date:   Tue Oct 13 06:59:25 2015 -0700

    KAFKA-2637; Cipher suite setting should be configurable for SSL
    
    Enables Cipher suite setting. Code was previously reviewed by ijuma, harshach. Moving to an independent PR.
    
    Author: benstopford <benstopford@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #301 from benstopford/cipher-switch

commit 373332b0f98ade1a7d98e79c11cb5ea33dbe0985
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Oct 12 20:14:44 2015 -0700

    Closes #206 . *WONT FIX* - no new release planned for 0.8.2 branch

commit 518f78be0b96b92c03b985fbb61901c5cded7127
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Oct 12 18:53:06 2015 -0700

    closes pr #206. *WONT FIX* - no new release planned for 0.8.2 branch

commit d7340503a14e3f31d96e3582e36c0255cd008e03
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Oct 12 18:26:38 2015 -0700

    KAFKA-2613; Make maxParallelForks configurable via Gradle config so it can be turned down on shared build infrastructure.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma, Sriharsha Chintalapani
    
    Closes #293 from ewencp/kafka-2613-user-configurable-max-forks

commit dd514b2bb8c476642952bf923de8d4c81bbeca7d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Oct 12 17:19:45 2015 -0700

    KAFKA-2581: Run some existing ducktape tests with SSL
    
    Parametrize console consumer sanity test, replication tests and benchmarks tests to run with both PLAINTEXT and SSL.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Geoff Anderson, Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #271 from rajinisivaram/KAFKA-2581

commit 7915396ee891759200cb3d89bbcf3b84bf20ed6a
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Oct 12 13:36:19 2015 -0700

    KAFKA-2203: Getting Java8 to relax about javadoc and let our build pass
    
    This patch is different than the one attached to the JIRA - I'm applying the new javadoc rules to all subprojects while the one in the JIRA applies only to "clients". We need this since Copycat  has the same issues.
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #147 from gwenshap/KAFKA-2203

commit 9fde92f9f1f1e40ceb6b3d5ff9676ba590385825
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Mon Oct 12 12:22:39 2015 -0700

    KAFKA-2443 KAFKA-2567; Expose windowSize on Rate; - Throttle time should not return NaN
    
    This is a followup ticket from KAFKA-2084 to improve the windowSize calculation in Quotas. I've made the following changes:
    
    1. Added a windowSize function on Rate
    2. Calling Rate.windowSize in ClientQuotaManager to return the exact window size to use when computing the delay time.
    3. Changed the window size calculation subtly. The current calculation had a bug wherein, it used the number of elapsed seconds from the "lastWindowSeconds" of the most recent Sample object. However, the lastWindowSeconds is the time when the sample is created.. this causes an issue because it implies that the current window elapsed time is always "0" when the sample is created. This is incorrect as demonstrated in a testcase I added in MetricsTest. I've fixed the calculation to count the elapsed time from the "oldest" sample in the set since that gives us an accurate value of the exact amount of time elapsed
    
    Author: Aditya Auradkar <aauradkar@linkedin.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #213 from auradkar/K-2443

commit fe4818e0944a9146059b02fde3fea4cc15676bf6
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Oct 12 10:00:05 2015 -0700

    KAFKA-2633; Default logging from tools to Stderr
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #296 from granthenke/tools-log4j

commit bd98a99c1e28f17bccafc317c819c1a82bfc6244
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Oct 10 22:15:56 2015 -0700

    MINOR: Use the correct processor id in the processor thread name
    
    This restores the behaviour before 1265d7cb7.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #294 from ijuma/fix-processor-thread-name

commit 1265d7cb7f56b5f5aad940250dc705a9a060a6f0
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Sat Oct 10 15:24:36 2015 -0700

    KAFKA-2614; No more clients can connect after `TooManyConnectionsException` threshold (max.connections.per.ip) is reached
    
    * Call `ConnectionQuotas.decr` when calling `Selector.close` and when disconnections happen.
    * Expand `SocketServerTest` to test for this and to close sockets.
    * Refactor and clean-up `SocketServer` and `Acceptor` to make the code easier to understand.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #288 from ijuma/kafka-2614-connection-count-not-updated

commit c67ca65889721e3af7527ab26df49a9fb4db87ef
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Fri Oct 9 16:28:40 2015 -0700

    MINOR: putting back kstream stateful transform methods
    
    guozhangwang
    
    * added back type safe stateful transform methods (kstream.transform() and kstream.transformValues())
    * changed kstream.process() to void
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #292 from ymatsuda/transform_method

commit 96209b1e7a5ea9da0296a3319e3731b3802e3652
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Oct 9 13:08:31 2015 -0700

    MINOR: Fix exception message in Copycat's Time logical type.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #291 from ewencp/fixup-time-logical-type

commit 7233858bea1c548153ed00b7edffd55299db7cf2
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Oct 9 12:19:07 2015 -0700

    KAFKA-2600: Align Kafka Streams' interfaces with Java 8 functional interfaces
    
    A few of Kafka Stream's interfaces and classes are not as well-aligned with Java 8's functional interfaces. By making these changes, when Kafka moves to Java 8 these classes can extend standard Java 8 functional interfaces while remaining backward compatible. This will make it easier for developers to use Kafka Streams, and may allow us to eventually remove these custom interfaces and just use the standard Java 8 interfaces.
    
    The changes include:
    
    1. The 'apply' method of KStream's `Predicate` functional interface was renamed to `test` to match the method name on `java.util.function.BiPredicate`. This will allow KStream's `Predicate` to extend `BiPredicate` when Kafka moves to Java 8, and for the `KStream.filter` and `filterOut` methods to accept `BiPredicate`.
    2. Renamed the `ProcessorDef` and `WindowDef` interfaces to `ProcessorSupplier` and `WindowSupplier`, respectively. Also the `SlidingWindowDef` class was renamed to `SlidingWindowSupplier`, and the `MockProcessorDef` test class was renamed to `MockProcessorSupplier`. The `instance()` method in all were renamed to `get()`, so that all of these can extend/implement Java 8's `java.util.function.Supplier<T>` interface in the future with no other changes and while remaining backward compatible. Variable names that used some form of "def" were changed to use "supplier".
    
    These two sets of changes were made in separate commits.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #270 from rhauch/kafka-2600

commit 49822ff836e0fcd2a30bdf994d7b881a9de95cdf
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Oct 9 11:59:38 2015 -0700

    KAFKA-2622: Add Time logical type for Copycat.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #285 from ewencp/kafka-2622-time-logical-type

commit 6a06e22ef81aae3335ca59c94cb0fc33e9f4ceff
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Oct 8 23:39:17 2015 -0700

    KAFKA-2596: reject commits from unknown groups with positive generations
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Onur Karaman, Guozhang Wang
    
    Closes #267 from hachikuji/KAFKA-2596

commit 5a921a3239e8b6c6f0fd6a65093c491ac3e539fd
Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
Date:   Thu Oct 8 23:19:12 2015 -0700

    MINOR: typing ProcessorDef
    
    guozhangwang
    This code change properly types ProcessorDef. This also makes KStream.process() typesafe.
    
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #289 from ymatsuda/typing_ProcessorDef

commit f1110c3fbb166f94204b6bb18bc4e1a9100d3c4e
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Oct 7 21:59:14 2015 -0700

    KAFKA-2477: Fix a race condition between log append and fetch that causes OffsetOutOfRangeException.
    
    Tried two fixes. I prefer the second approach because it saves an additional offset search.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Guozhang Wang <wangguoz@gmail.com>, Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #204 from becketqin/KAFKA-2477

commit 693d4ca1a6fbb883fef5a2e7228ad56dd2f95fc8
Author: Mayuresh Gharat <mgharat@linkedin.com>
Date:   Wed Oct 7 18:30:53 2015 -0700

    KAFKA-2428: Add sanity check in KafkaConsumer for the timeouts
    
    Add sanity test in kafkaConsumer for the timeouts. This is a followup ticket for Kafka-2120.
    
    Author: Mayuresh Gharat <mgharat@mgharat-ld1.linkedin.biz>
    
    Reviewers: Dong Lin, Ismael Juma, Guozhang Wang
    
    Closes #282 from MayureshGharat/Kafka-2428

commit 2254f2bfaf5a6a2332ec390471ff3a7c34b8b890
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Wed Oct 7 18:13:58 2015 -0700

    Kafka-2587:  Only notification handler will update the cache and all verifications will use waitUntilTrue.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #277 from Parth-Brahmbhatt/KAFKA-2587

commit 118912e76e5c867a8727f90d40bb969e0e6b65c5
Author: Aditya Auradkar <aauradka@aauradka-mn1.linkedin.biz>
Date:   Wed Oct 7 13:08:07 2015 -0700

    KAFKA-2419; Garbage collect unused sensors
    
    As discussed in KAFKA-2419 - I've added a time based sensor retention config to Sensor. Sensors that have not been "recorded" for 'n' seconds are eligible for expiration.
    
    In addition to the time based retention, I've also altered several tests to close the Metrics and scheduler objects since they can cause leaks while running tests. This causes TestUtils.verifyNonDaemonThreadStatus to fail.
    
    Author: Aditya Auradkar <aauradka@aauradka-mn1.linkedin.biz>
    Author: Aditya Auradkar <aauradka@aauradka-mn1.(none)>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #233 from auradkar/K-2419

commit 2047a9afe1ef9cf81e6347fe27f0051c8758d226
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Wed Oct 7 09:28:22 2015 -0700

    KAFKA-2534: Fixes and unit tests for SSLTransportLayer buffer overflow
    
    Unit tests which mock buffer overflow and underflow in the SSL transport layer and fixes for the couple of issues in buffer overflow handling described in the JIRA.
    
    Author: Rajini Sivaram <rajinisivaram@googlemail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <schintalapani@hortonworks.com>, Jun Rao <junrao@gmail.com>
    
    Closes #205 from rajinisivaram/KAFKA-2534

commit 02e103b75aa6161c27358e83ab2828515c876701
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Oct 6 22:02:46 2015 -0700

    KAFKA-2476: Add Decimal, Date, and Timestamp logical types.
    
    To support Decimal, this also adds support for schema parameters, which is an
    extra set of String key value pairs which provide extra information about the
    schema. For Decimal, this is used to encode the scale parameter, which is part
    of the schema instead of being passed with every value.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #281 from ewencp/kafka-2476-copycat-logical-types

commit 174a43cd09d3a2a2785daf0cfa5ada1646d8bfcc
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Oct 6 15:31:28 2015 -0700

    KAFKA-2474: Add caching of JSON schema conversions to JsonConverter
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #250 from ewencp/kafka-2474-cache-json-schema-conversions

commit 23f9afb70bc5cdbf66550a1e69161e2fe06a909a
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Oct 6 14:26:08 2015 -0700

    KAFKA-2482: Allow sink tasks to get their current assignment, as well as pause and resume topic partitions.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #249 from ewencp/kafka-2482-sink-tasks-pause-consumption

commit a0ca8f6422e031c58e3a832852ba105e0f2efbad
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Oct 6 14:11:06 2015 -0700

    KAFKA-2573: Mirror maker system test hangs and eventually fails
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Geoff Anderson, Guozhang Wang
    
    Closes #234 from SinghAsDev/KAFKA-2573

commit b46cb3b2975afd8a3e82a0265c57760d8b9910da
Author: Edward Ribeiro <edward.ribeiro@gmail.com>
Date:   Tue Oct 6 13:39:17 2015 -0700

    KAFKA-2599: Fix Metadata.getClusterForCurrentTopics throws NPE
    
    …h null checking
    
    Author: Edward Ribeiro <edward.ribeiro@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #262 from eribeiro/KAFKA-2599

commit 726e23ef491637e03b0ba90c21992a639dcd158d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Oct 5 14:11:58 2015 -0700

    TRIVIAL: remove TODO in KafkaConsumer after KAFKA-2120
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Closes #278 from guozhangwang/TL-KafkaConsumer

commit f236bc20ff5995aa367089afcd0a6738aaaae754
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Oct 5 13:59:04 2015 -0700

    HOTFIX: Persistent store in ProcessorStateManagerTest
    
    ymatsuda junrao Could you take a quick look? The current unit test is failing on this.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Ismael Juma, Jun Rao
    
    Closes #276 from guozhangwang/HF-ProcessorStateManager

commit b88ba9a6bdde4d0828c513cde3251667ae13e655
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Oct 5 12:01:33 2015 -0700

    KAFKA-2604; Remove `completeAll` and improve timeout passed to `Selector.poll` from `NetworkClient.poll`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ewen Cheslack-Postava, Jason Gustafson, Guozhang Wang
    
    Closes #272 from ijuma/kafka-2640-remove-complete-all-poll-timeout

commit f9faf334b0f62aec04214236dd10e9ba36fb9567
Author: GabrielNicolasAvellaneda <avellaneda.gabriel@gmail.com>
Date:   Mon Oct 5 00:04:03 2015 -0500

    KAFKA-2601; ConsoleProducer tool shows stacktrace on invalid command parameters
    
    Author: GabrielNicolasAvellaneda <avellaneda.gabriel@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava <me@ewencp.org>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #269 from GabrielNicolasAvellaneda/KAFKA-2601-fix

commit 4016011457296e5f5d7d84bc12181eeea14b0a16
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Sat Oct 3 06:50:45 2015 -0700

    KAFKA-2425; Copy latest docs to kafka repo docs/ directory
    
    This PR copies the latest kafka docs to kafka repo docs directory. Here I have copied 0.8.3/ directory contents from svn website repo to kafka/docs repository.
    
    Some questions: This PR contains generated javadocs also.  Do we need to copy javadocs here?
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Gwen Shapira, Ismael Juma
    
    Closes #171 from omkreddy/KAFKA-2425-MOVE-DOCS-TO-KAFKA-REPO

commit 37f7d75e3d55c600902cd15c3cb219ddd221d23c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Oct 2 20:12:34 2015 -0700

    KAFKA-2591: Fix StreamingMetrics
    
    Remove state storage upon unclean shutdown and fix streaming metrics used for local state.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    
    Reviewers: Edward Ribeiro, Yasuhiro Matsuda, Jun Rao
    
    Closes #265 from guozhangwang/K2591

commit b56e02b656e47fa7a0b402d3870735fba2bbe699
Author: Randall Hauch <rhauch@gmail.com>
Date:   Fri Oct 2 16:03:01 2015 -0700

    KAFKA-2597: Add to .gitignore the Eclipse IDE directories
    
    The ` .metadata` and `.recommenders` keep IDE workspace state and should not be committed.
    
    Author: Randall Hauch <rhauch@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #259 from rhauch/kafka-2597

commit a3bd99811c6ed7b30611ff0592e4ce7bc8537260
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Oct 2 15:09:28 2015 -0700

    MINOR: remove no longer needed CommitType
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #258 from hachikuji/delete-committype

commit 4f8ad1561c761dd3ced22a5b8e2a6fa5e77283f2
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Oct 2 15:07:28 2015 -0700

    MINOR: Fix Vagrant setup script for use on Fedora
    
    I tested and verified that `vagrant --version | egrep -o "\d+\.\d+\.\d+"` works on Mac but failed on RedHad 6.4, while `vagrant --version | egrep -o "[0-9]\.[0-9]\.[0-9]"` works on both OS.
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Geoff Anderson, Guozhang Wang
    
    Closes #246 from lindong28/Vagrant-setup-on-Fedora

commit 7cfdf19b54ab60b9644dcbecccb9130d6621da57
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Oct 2 14:46:07 2015 -0700

    KAFKA-2517; Performance Regression post SSL implementation (zero copy)
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <schintalapani@hortonworks.com>, Ben Stopford <benstopford@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #273 from ijuma/kafka-2517-ssl-zero-copy-regression

commit 5764e54de147af81aac85acc00687c23e9646a5c
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Thu Oct 1 18:04:09 2015 -0700

    KAFKA-2212: Authorizer CLI implementation.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #230 from Parth-Brahmbhatt/KAFKA-2212

commit d03b871dd0c395d372e6a7d1ff027105380f588b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Oct 1 16:30:31 2015 -0700

    MINOR: Set `sendTime` in `doSend` instead of `InFlightRequests.add` and rename method names for consistency
    
    hachikuji MayureshGharat jjkoshy Thoughts?
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Mayuresh Gharat <gharatmayuresh15@gmail.com>, Jason Gustafson <jason@confluent.io>, Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #264 from ijuma/tweak-send-ms

commit 5e769ccd5bf81f82c90069d4b0e79182a1cfe3c0
Author: Jason Gustafson <jason@confluent.io>
Date:   Tue Sep 29 17:49:06 2015 -0700

    KAFKA-2570: commit offsets on rebalance/close when auto-commit is enabled
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #257 from hachikuji/KAFKA-2570

commit 6b1a92c89fce443902b7ef85e1f4b7eaa9bd33c3
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Tue Sep 29 15:17:09 2015 -0700

    KAFKA-2587; Increasing timeout for the test verification.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Closes #260 from Parth-Brahmbhatt/KAFKA-2587

commit f5596a851d8e8aa29686b6f9ae18cfa5183dd29c
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Sep 29 13:23:02 2015 -0700

    HOTFIX: Checkstyle import fix
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #261 from ijuma/checkstyle-import-fix

commit 73720113b97ccfcd796a844f87438546ed2e09e4
Author: Edward Ribeiro <edward.ribeiro@gmail.com>
Date:   Tue Sep 29 10:54:45 2015 -0700

    MINOR: fix Quota's equal() function
    
    It compares upper bound with itself.
    
    Author: Edward Ribeiro <edward.ribeiro@gmail.com>
    
    Reviewers: Aditya Auradkar, Ismael Juma, Guozhang Wang
    
    Closes #182 from eribeiro/equals-bug

commit 2c4e63a899c6cf832fba4be35773218a9ba5239f
Author: Mayuresh Gharat <gharatmayuresh15@gmail.com>
Date:   Tue Sep 29 10:28:21 2015 -0700

    KAFKA-2120; Add a request timeout to NetworkClient (KIP-19); reviewed by Jason Gustafson, Ismael Juma, Joel Koshy, Jun Rao, and Edward Ribeiro

commit 4e7db39556ba916c17f7dfeb32ff8ebefe468a33
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 28 14:51:06 2015 -0700

    MINOR: Make indenting in `checkstyle.xml` and `import-control.xml` consistent
    
    They now both use 2 spaces for indents, which is what `checkstyle.xml` was
    already doing. `import.xml` had a mixture of tabs and 4 spaces previously.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #253 from ijuma/fix-xml-indents

commit 41afdbe680c73621c309280a307e1f60b330905e
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Sep 28 14:41:18 2015 -0700

    KAFKA-2585; ConsoleConsumer should not hang infinitely upon exception
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ismael Juma, Onur Karaman, Gwen Shapira
    
    Closes #247 from lindong28/KAFKA-2585

commit c7bc5366dd874bf956873ba0f60c2c2820052fb3
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Mon Sep 28 08:40:32 2015 -0700

    KAFKA-2514: change default JVM options in kafka-run-class.sh.
    
    GC is set to G1 collector.
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #218 from omkreddy/KAFKA-2514

commit f540f4a9193fd8437708f3bfe7856bc41d35d727
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Sep 28 07:47:56 2015 -0700

    KAFKA-2586; Enable SSL for inter-broker communication when SSL is enabled in tests
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #252 from ijuma/kafka-2586-enable-inter-broker-ssl-in-tests

commit c20e3bf8d81330407cbbb5445a9f294d3df7a821
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Sep 28 05:58:11 2015 -0700

    HOTFIX: Checkstye fixes follow up for KAKFA-2531.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #248 from ewencp/hotfix-kafka-2531-checkstyle

commit e90562fb19996db901771ad9757d12b0a2f50f9e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Sep 28 05:46:09 2015 -0700

    MINOR: Fix FileStreamSourceTask to create the reader around System.in when using stdin as the input source.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #251 from ewencp/minor-fix-filestream-stdin-source

commit b62f8ea43b6d5307f7274fbe8b7984dd5ee22239
Author: Ashish Singh <asingh@cloudera.com>
Date:   Sat Sep 26 18:32:49 2015 -0700

    KAFKA-2531: Add Ducktape based tests for KafkaLog4jAppender
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Geoff Anderson, Edwerd Ribeiro, Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #235 from SinghAsDev/KAFKA-2531

commit 263c10ab7c8e8fde9d3566bf59dccaa454ee2605
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Sep 25 17:27:58 2015 -0700

    KIP-28: Add a processor client for Kafka Streaming
    
    This work has been contributed by Jesse Anderson, Randall Hauch, Yasuhiro Matsuda and Guozhang Wang. The detailed design can be found in https://cwiki.apache.org/confluence/display/KAFKA/KIP-28+-+Add+a+processor+client.
    
    Author: Guozhang Wang <wangguoz@gmail.com>
    Author: Yasuhiro Matsuda <yasuhiro.matsuda@gmail.com>
    Author: Yasuhiro Matsuda <yasuhiro@confluent.io>
    Author: ymatsuda <yasuhiro.matsuda@gmail.com>
    Author: Randall Hauch <rhauch@gmail.com>
    Author: Jesse Anderson <jesse@smokinghand.com>
    Author: Ismael Juma <ismael@juma.me.uk>
    Author: Jesse Anderson <eljefe6a@gmail.com>
    
    Reviewers: Ismael Juma, Randall Hauch, Edward Ribeiro, Gwen Shapira, Jun Rao, Jay Kreps, Yasuhiro Matsuda, Guozhang Wang
    
    Closes #130 from guozhangwang/streaming

commit ad120d5789306209ab8d110fcbd86d453d01641b
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 25 15:40:38 2015 -0700

    KAFKA-2582; ConsumerMetdata authorization error not returned to user
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #245 from hachikuji/KAFKA-2582

commit 10d5deac0c00a0f651be1857fbdde6c74d7e9dac
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 25 14:06:07 2015 -0700

    HOTFIX: remove unused import causing checkstyle to fail
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #244 from hachikuji/hotfix-checkstyle

commit a07fbd0f19962037ec386b1814dc6c95749c91a3
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Sep 25 12:01:41 2015 -0700

    KAFKA-2555: Fix infinite recursive ensurePartitionAssignment in callback's commitSync
    
    hachikuji ewencp I found this problem when adding new consumer to mirror maker which commits offset in the rebalance callback. It is not clear to me why we are triggering rebalance for commitSync() and fetchCommittedOffset(). Can you help review to see if I miss something?
    
    Regarding commitSync, After each poll() the partitions will be either assigned to a consumer or it will be already revoked. As long as user is using internal offset map, the offset map will always be valid. i.e. the offset map will always only contain the assigned partitions when commitSync is called. Hence there is no need to trigger a rebalance in commitSync().
    
    The same guarantee also apply to fetchCommittedOffset(), isn't the only requirement is to ensure we know the coordinator?
    
    Another related issue is that today the IllegalGenerationIdException is a bit confusing. When we receive an IllegalGenerationIdException from heartbeat, we need to use that same generation Id to commit offset and the coordinator will take it. So the generation ID was not really illegal. I will file a ticket for this issue.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #221 from becketqin/KAFKA-2555

commit 7e453df3179efed92d5bbe4ce9ee1d90a07cd503
Author: Jason Gustafson <jason@confluent.io>
Date:   Fri Sep 25 11:08:24 2015 -0700

    KAFKA-2409; have KafkaConsumer.committed return null when there is no commit
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Onur Karaman, Guozhang Wang
    
    Closes #243 from hachikuji/KAFKA-2409

commit fe798641a2ba5e60940fa91f5f01a14bcf98cf3e
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Sep 24 19:26:07 2015 -0700

    KAFKA-2579; prevent unauthorized clients from joining groups
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #240 from hachikuji/KAFKA-2579

commit 18d370124b51a97eb0522c220eb0ca619e315c6a
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Sep 24 19:16:28 2015 -0700

    KAFKA-2571; KafkaLog4jAppender dies while specifying acks config
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #231 from SinghAsDev/KAFKA-2571

commit 48b4d6938dfb9dc72c941e979ff0d0c4d921f743
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Sep 24 19:01:11 2015 -0700

    KAFKA-2373: Add Kafka-backed offset storage for Copycat.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira, James Cheng
    
    Closes #202 from ewencp/kafka-2373-copycat-distributed-offset

commit bcf374da9e0d9ec8d13ecdaf4a1a15691549442b
Author: Dong Lin <lindong28@gmail.com>
Date:   Thu Sep 24 14:40:03 2015 -0700

    KAFKA-2390; followup; add unit test for OffsetOutOfRange exception
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang
    
    Closes #239 from lindong28/KAFKA-2390-followup

commit ac757eb19ec50b79ab2b5336fa4d7411cd99456d
Author: Manikumar reddy O <manikumar.reddy@gmail.com>
Date:   Thu Sep 24 12:38:27 2015 -0700

    KAFKA-2554: change 0.8.3 to 0.9.0 in ApiVersion and other files
    
    Updated the version from 0.8.3 to 0.9.0. in ApiVersion.  Also updated in gradle.propeties.
    
    Author: Manikumar reddy O <manikumar.reddy@gmail.com>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #237 from omkreddy/KAFKA-2554

commit 8943b08c9fbd31f7c50d5e06934a5fc225d56460
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Sep 24 10:35:05 2015 -0700

    KAFKA-2548; kafka-merge-pr tool fails to update JIRA with fix version 0.9.0.0
    
    Simplified the logic to choose the default fix version. We just hardcode
    it for `trunk` and try to compute it based on the branch name for the
    rest.
    
    Removed logic that tries to handle forked release branches as it
    seems to be specific to how the Spark project handles their JIRA.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #238 from ijuma/kafka-2548-merge-pr-tool-4-segment-fix-version

commit 1daf6ac510602ee27210f069bbe7415d4610fbea
Author: flavio junqueira <fpj@apache.org>
Date:   Thu Sep 24 10:14:23 2015 -0700

    KAFKA-1387: Kafka getting stuck creating ephemeral node it has already created when two zookeeper sessions are established in a very short period of time
    
    This is a patch to get around the problem discussed in the KAFKA-1387 jira. The tests are not passing in my box when I run them all, but they do pass when I run them individually, which indicates that there is something leaking from a test to the next. I still need to work this out and also work on further testing this. I wanted to open this PR now so that it can start getting reviewed.
    
    Author: flavio junqueira <fpj@apache.org>
    Author: fpj <fpj@apache.org>
    Author: Flavio Junqueira <fpj@apache.org>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Guozhang Wang <wangguoz@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #178 from fpj/1387

commit 54dd6e3ad7038ce4a32108b44153ec81caff2c68
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Sep 24 09:25:11 2015 -0700

    KAFKA-2576; ConsumerPerformance hangs when SSL enabled for Multi-Partition Topic
    
    We now write to the channel with an empty buffer when
    there are pending bytes remaining and all data has been
    sent.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Sriharsha Chintalapani <schintalapani@hortonworks.com>, Ben Stopford <benstopford@gmail.com>, Jun Rao <junrao@gmail.com>
    
    Closes #236 from ijuma/kafka-2576-ssl-multi-partition-topic-hang

commit b9ceac3ace353526da9c5d0f5b486265c871793a
Author: Dong Lin <lindong28@gmail.com>
Date:   Wed Sep 23 16:53:05 2015 -0700

    KAFKA-2390; OffsetOutOfRangeException should contain the Offset and Partition info.
    
    Author: Dong Lin <lindong28@gmail.com>
    Author: Dong Lin <lindong@cis.upenn.edu>
    
    Reviewers: Jason Gustafson, Ismael Juma, Guozhang Wang
    
    Closes #118 from lindong28/KAFKA-2390

commit d1dd1e902685178a990861f9948fe07f820cf4ef
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Sep 23 14:10:06 2015 -0700

    KAFKA-2403; Add support for commit metadata in KafkaConsumer
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #119 from hachikuji/KAFKA-2403

commit 2837fa5a34420ea1ede90901ded6e9f3c94a3e7b
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue Sep 22 14:32:28 2015 -0700

    KAFKA-2557: separate REBALANCE_IN_PROGRESS and ILLEGAL_GENERATION error codes
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Jiangjie Qin, Jason Gustafson, Guozhang Wang
    
    Closes #222 from onurkaraman/KAFKA-2557

commit 4833d8a8c34b2fb86a5cf605ea5483d0b9eadc4f
Author: Flavio Junqueira <fpj@apache.org>
Date:   Mon Sep 21 18:25:42 2015 -0700

    KAFKA-2558: ServerShutdownTest is failing intermittently
    
    See jira for a description.
    
    Author: fpj <fpj@apache.org>
    
    Reviewers: Onur Karaman, Ismael Juma, Guozhang Wang
    
    Closes #224 from fpj/KAFKA-2558

commit 0990b6ba6a28276f79a1a8bfaf48455c6eddfa1f
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Mon Sep 21 17:47:18 2015 -0700

    KAFKA-2211: Adding simpleAclAuthorizer implementation and test cases.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #195 from Parth-Brahmbhatt/KAFKA-2211

commit 6ec88f7f8a18be7aff12fb0c73fc8abd00ef62d2
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Sep 21 13:14:17 2015 -0700

    KAFKA-2532; Remove Consumer reference from rebalance callback
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Onur Karaman, Guozhang Wang
    
    Closes #203 from hachikuji/KAFKA-2532

commit e18f6860c2b297cc2ce06f9f3cb37987af3bdbae
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon Sep 21 12:07:56 2015 -0700

    KAFKA-2533: Create a member Metadata.Listener inside KafkaConsumer
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Guozhang Wang
    
    Closes #220 from SinghAsDev/KAFKA-2533

commit 9ae98685ec7882598aee80d11af41d7c0828e1b9
Author: Flavio Junqueira <fpj@apache.org>
Date:   Mon Sep 21 11:59:59 2015 -0700

    KAFKA-2300: follow-up to clear the controller state upon resignment
    
    I have reopened this issue because the controller isn't cleaning up the state upon an exception and the test case was legitimately failing for me every now and then. I'm proposing a change to fix this.
    
    Author: fpj <fpj@apache.org>
    Author: flavio junqueira <fpj@apache.org>
    
    Reviewers: Ismael Juma, Gwen Shapira, Guozhang Wang
    
    Closes #212 from fpj/2300

commit 9dbeb71ab258955e04b46991c1baf880b07633f4
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Thu Sep 17 14:36:01 2015 -0700

    Revert "KAFKA-2120; Add a request timeout to NetworkClient (KIP-19); reviewed by Jason Gustafson, Ismael Juma, Joel Koshy, Jun Rao, and Edward Ribeiro"
    
    This reverts commit da39931afad8008bc2b385a75a462777be051435.

commit da39931afad8008bc2b385a75a462777be051435
Author: Mayuresh Gharat <gharatmayuresh15@gmail.com>
Date:   Wed Sep 16 10:31:57 2015 -0700

    KAFKA-2120; Add a request timeout to NetworkClient (KIP-19); reviewed by Jason Gustafson, Ismael Juma, Joel Koshy, Jun Rao, and Edward Ribeiro

commit b658e25207174578c26ea94a75e5b0ea10f06ba5
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Mon Sep 14 15:02:32 2015 -0700

    KAFKA-2549: Fixing checkstyle failure resulting due to unused imports…
    
    … in Selector.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #215 from Parth-Brahmbhatt/KAFKA-2549

commit 7199c87c32b94daec612bc022607bb86103bd8b2
Author: Geoff Anderson <geoff@confluent.io>
Date:   Mon Sep 14 15:00:04 2015 -0700

    MINOR: Added scripts to automate Vagrant setup for system tests
    
    Updated testing README accordingly.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #201 from granders/minor-vagrant-package-script

commit d88b5bdfde0b6d020e687f6d59ad88d577910ae9
Author: jholoman <jeff.holoman@gmail.com>
Date:   Mon Sep 14 13:14:53 2015 -0700

    KAFKA-2504: Stop logging WARN when client disconnects
    
    Author: jholoman <jeff.holoman@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #211 from jholoman/KAFKA-2504

commit b7d4043d8da1d296519faf321e9f0f7188d7d67a
Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
Date:   Sat Sep 12 21:58:34 2015 -0700

    KAFKA-2538: Fixing a compilation error in trunk.
    
    Author: Parth Brahmbhatt <brahmbhatt.parth@gmail.com>
    
    Reviewers: Guozhang Wang
    
    Closes #208 from Parth-Brahmbhatt/KAFKA-2538

commit 65bf3afe86ef883136fcd6bc857724b25e750bd7
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Sep 11 16:08:00 2015 -0700

    KAFKA-2440; Use `NetworkClient` instead of `SimpleConsumer` to fetch data from replica
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Aditya Auradkar <aauradkar@linkedin.com>, Jun Rao <junrao@gmail.com>
    
    Closes #194 from ijuma/kafka-2440-use-network-client-in-fetcher

commit 6c1957d004f9b1a7d115543327cade274edc9cfd
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Sep 11 15:57:36 2015 -0700

    KAFKA-2278: JmxTool should support querying all objects when object name is omitted
    
    …ame is omitted
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Aditya Auradkar, Manikumar Reddy, Guozhang Wang
    
    Closes #181 from lindong28/KAFKA-2278

commit 845514d62329be8382e6d02b8041fc858718d534
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Sep 11 15:49:51 2015 -0700

    KAFKA-2389: remove commit type from new consumer.
    
    A shot to remove commit type from new consumer. The coordinator constructor takes a default offset commit callback mainly for testing purpose.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Jason Gustafson, Guohang Wang
    
    Closes #134 from becketqin/KAFKA-2389

commit fd123965802f900fa474a8d5b1539e62d28bff73
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Sep 10 13:14:24 2015 -0700

    KAFKA-1893: Allow regex subscriptions in the new consumer
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Jason Gustafson, Guozhang Wang, Edward Ribeiro, Ismael Juma
    
    Closes #128 from SinghAsDev/KAFKA-1893

commit b8b1bca44095df0481fc6bb0d7ea5c06686b9337
Author: Geoff Anderson <geoff@confluent.io>
Date:   Tue Sep 8 17:59:49 2015 -0700

    KAFKA-2489: add benchmark for new consumer
    
    ewencp
    The changes here are smaller than they look - mostly refactoring/cleanup.
    
    - ConsumerPerformanceService: added new_consumer flag, and exposed more command-line settings
    - benchmark.py: refactored to use `parametrize` and `matrix` - this reduced some amount of repeated code
    - benchmark.py: added consumer performance tests with new consumer (using `parametrize`)
    - benchmark.py: added more detailed test descriptions
    - performance.py: broke into separate files
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Jason Gustafson, Gwen Shapira
    
    Closes #179 from granders/KAFKA-2489-benchmark-new-consumer

commit f8902981c65ac93426c0edc65d10381d7c285ea1
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Sep 8 15:17:15 2015 -0700

    TRIVIAL: change to API doc for seekToEnd() to clarify lazy evaluation
    
    Small clarification to docs. Current behaviour could confuse when doing something like:
    consumer.seekToEnd()
    consumer.send(msg)
    consumer.poll() //would return msg as seek evaluates lazily
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #199 from benstopford/minor-stuff

commit 92629756616849d62dde3d09c7ddd9bcf5f7326c
Author: Ben Stopford <benstopford@gmail.com>
Date:   Tue Sep 8 15:15:51 2015 -0700

    KAFKA-2453: Enable new consumer in EndToEndLatency
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Gwen Shapira, Jason Gustafson
    
    Closes #158 from benstopford/KAFKA-2453b

commit f25731265ef63e5440a188b3e5553c31fb9a397b
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Sep 4 09:30:13 2015 -0700

    KAFKA-2519; NetworkClient.close should remove node from inFlightRequests
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #193 from ijuma/kafka-2519-network-client-close-remove-in-flight

commit 4ffbfefccbbbc513e708bdacbf2ff32772b5c85f
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Sep 3 13:25:16 2015 -0700

    MINOR: Fix trace/debug logs in RequestChannel
    
    Author: Ashish Singh <asingh@cloudera.com>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #192 from SinghAsDev/KAFKA-2461-2

commit 24da542727225c7920ad974582fdca222a38ccc2
Author: asingh <asingh@cloudera.com>
Date:   Wed Sep 2 22:07:05 2015 -0700

    KAFKA-2461; request logger no longer logs extra information in debug mode
    
    Author: asingh <asingh@cloudera.com>
    
    Reviewers: Gwen Shapira
    
    Closes #169 from SinghAsDev/KAFKA-2461

commit 9223155e9c3f55107197758afc5238fe4cebeaa9
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Sep 2 18:22:26 2015 -0700

    KAFKA-2437; Trivial follow-up

commit 6f398d63a4b9a23e8a3dfa436b5522e505dd5b47
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Sep 2 18:11:58 2015 -0700

    KAFKA-2437; Fix ZookeeperLeaderElector to handle node deletion correctly.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Joel Koshy <jjkoshy.w@gmail.com>
    
    Closes #189 from becketqin/KAFKA-2437

commit 689d170ac32ed15af9098faa03a97609af14bf05
Author: Parth Brahmbhatt <pbrahmbhatt@hortonworks.com>
Date:   Wed Sep 2 18:09:13 2015 -0700

    kafka-2210; KafkaAuthorizer: Add all public entities, config changes and changes to KafkaAPI and kafkaServer to allow pluggable authorizer implementation; patched by Parth Brahmbhatt; reviewed Ismael Juma and Jun Rao

commit d02ca36ca1cccdb6962191b97f54ce96b9d75abc
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Wed Sep 2 11:55:08 2015 -0700

    KAFKA-2411; remove usage of blocking channel
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Jun Rao <junrao@gmail.com>, Gwen Shapira <cshapi@gmail.com>
    
    Closes #151 from ijuma/kafka-2411-remove-usage-of-blocking-channel

commit d0adf6abec7a61004d9fe35fc9999a40a953ea7b
Author: Geoff Anderson <geoff@confluent.io>
Date:   Wed Sep 2 11:33:07 2015 -0700

    TRIVIAL: Updated testing readme
    
    Minor update to point to testing tutorial, and install the correct version of vagrant-hostmanager
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Gwen Shapira
    
    Closes #187 from granders/minor-testing-readme-update

commit 17f85fcdef162c6d772db389350d3f334cbaa545
Author: Stevo Slavic <sslavic@gmail.com>
Date:   Wed Sep 2 10:17:01 2015 -0700

    KAFKA-2492; Upgraded zkclient dependency from 0.5 to 0.6
    
    Author: Stevo Slavic <sslavic@gmail.com>
    
    Reviewers: Ismael Juma, Ewen Cheslack-Postava, Flavio Junqueira
    
    Closes #184 from sslavic/feature/KAFKA-2492

commit ff189fa05ccdacac100f3d15d167dcbe561f57a6
Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
Date:   Wed Sep 2 10:13:23 2015 -0700

    TRIVIAL: Replace "it's" with "its" where appropriate
    
    No Jira ticket created, as the Contributing Code Changes doc says it's not necessary for javadoc typo fixes.
    
    Author: Magnus Reftel <magnus.reftel@skatteetaten.no>
    
    Reviewers: Gwen Shapira
    
    Closes #186 from magnusr/feature/its

commit e582447adb4708731aff74aa294e7ce2b30b0a41
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Sep 1 14:46:16 2015 -0700

    KAFKA-2332; Add quota metrics to old producer and consumer
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Aditya Auradkar <aauradkar@linkedin.com>, Joel Koshy <jjkoshy.w@gmail.com>, Jiangjie Qin <becket.qin@gmail.com>
    
    Closes #176 from lindong28/KAFKA-2332

commit 13c432f7952de27e9bf8cb4adb33a91ae3a4b738
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Aug 31 14:23:23 2015 -0700

    KAFKA-2486; fix performance regression in new consumer
    
    The sleep() in KafkaConsumer's poll blocked any pending IO from being completed and created a performance bottleneck. It was intended to implement the fetch backoff behavior, but that was a misunderstanding of the setting "retry.backoff.ms" which should only affect failed fetches.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #180 from hachikuji/KAFKA-2486

commit 8354959969c3fe2094b66c44c1c54c3949605e13
Author: Dong Lin <lindong28@gmail.com>
Date:   Mon Aug 31 12:39:01 2015 -0700

    KAFKA-2485; Allow producer performance to take properties from a file…
    
    … via --consumer.config command line parameter
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Ewen Cheslack-Postava, Onur Karaman
    
    Closes #174 from lindong28/KAFKA-2485

commit 3803e5cb37cb602ff9eab5562ff8db3a2dd79b45
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Aug 31 12:26:16 2015 -0700

    KAFKA-2475: Make Copycat only have a Converter class instead of Serializer, Deserializer, and Converter.
    
    The Converter class now translates directly between byte[] and Copycat's data
    API instead of requiring an intermediate runtime type like Avro's GenericRecord
    or Jackson's JsonNode.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #172 from ewencp/kafka-2475-unified-serializer-converter and squashes the following commits:
    
    566c52f [Ewen Cheslack-Postava] Checkstyle fixes
    320d0df [Ewen Cheslack-Postava] Restrict offset format.
    85797e7 [Ewen Cheslack-Postava] Add StringConverter for using Copycat with raw strings.
    698d65c [Ewen Cheslack-Postava] Move and update outdated comment about handing of types for BYTES type in Copycat.
    4bed051 [Ewen Cheslack-Postava] KAFKA-2475: Make Copycat only have a Converter class instead of Serializer, Deserializer, and Converter.

commit 9c936b186d390f59f1d4ad8cc2995f800036a3d6
Author: Geoff Anderson <geoff@confluent.io>
Date:   Fri Aug 28 11:22:39 2015 -0700

    MINOR: kafkatest add manifest
    
    This patch makes it possible to publish kafkatest (system test package) to pypi and use it as a library in other projects by:
    
    - including necessary static resources with the package
    - renaming the version to conform w/PEP 440, since python packaging tools reject the current version name
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #173 from granders/minor-kafkatest-add-manifest

commit 8956004a51a67c028f8acc73e82f4d1a3e4116c7
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Aug 27 20:45:42 2015 -0700

    KAFKA-2468: SIGINT during Kafka server startup can leave server deadlocked
    
    As we handle exceptions or invalid states in Kafka server by shutting it down, there is no reason to use exit() and not halt() in shutdown itself.
    
    Author: asingh <asingh@cloudera.com>
    
    Reviewers: Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #167 from SinghAsDev/KAFKA-2468

commit 2fa8c748537a86a8b81b43ab7df060b6e61f5085
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Aug 27 13:53:00 2015 -0700

    KAFKA-2377: Add basic system test for copycat using source and sink file connectors.
    
    Tests standalone mode by running separate source and sink connectors, catting
    data into the source file, and validating the output in the sink file. Restarts
    the service to verify that clean restarts will result in tasks resuming where
    they left off.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Geoff Andreson, Gwen Shapira
    
    Closes #150 from ewencp/kafka-2377-copycat-system-test

commit 492bfdfa873db649049382b9785cefef2d6d1eca
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Aug 27 11:58:42 2015 -0700

    KAFKA-2367; Add Copycat runtime data API.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira, Jay Kreps
    
    Closes #163 from ewencp/kafka-2367-copycat-runtime-data-api

commit 8c88d198a0bcd0292a6b7ec3b08ae138e41fcc6e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Aug 26 18:38:43 2015 -0700

    KAFKA-2467: Fix changes to behavior in ConsoleConsumer: properly parse consumer.config option, handle exceptions during message processing, and print number of processed messages to stderr.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang Wang
    
    Closes #166 from ewencp/kafka-2467-fix-console-consumer-behavior-regressions and squashes the following commits:
    
    8b5e30c [Ewen Cheslack-Postava] KAFKA-2466: Fix ConsoleConsumer exit process for new consumer to avoid ConcurrentModificationException.
    c6abe38 [Ewen Cheslack-Postava] Fix missing parameter in test.
    a6961ee [Ewen Cheslack-Postava] KAFKA-2467: Fix changes to behavior in ConsoleConsumer: properly parse consumer.config option, handle exceptions during message processing, and print number of processed messages to stderr.

commit 35eaef7bb4ebcf6b209312db774564451b052ca9
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Aug 26 17:20:51 2015 -0700

    KAFKA-2388: refactor KafkaConsumer subscribe API
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Edward Ribeiro, Onur Karaman, Ismael Juma, Guozhang Wang
    
    Closes #139 from hachikuji/KAFKA-2388 and squashes the following commits:
    
    377c67e [Jason Gustafson] KAFKA-2388; refactor KafkaConsumer subscribe API

commit 03f850f671ba3035eb150fa243dca0a2aed28302
Author: David Jacot <david.jacot@gmail.com>
Date:   Wed Aug 26 17:16:30 2015 -0500

    KAFKA-2072: Add StopReplica request/response to o.a.k.common.requests
    
    This PR adds StopReplica request and response as it is required by ijuma for KAFKA-2411. Migration of core module is addressed a separate PR (#141).
    
    ijuma Could you review it? gwenshap Could you take a look as well?
    
    Author: David Jacot <david.jacot@gmail.com>
    
    Reviewers: Ismael Juma <ismael@juma.me.uk>, Jun Rao <junrao@gmail.com>
    
    Closes #170 from dajac/KAFKA-2072-part-1

commit 8b538d62bd7ddcefd177bfed01b10b39fc971bb1
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Aug 26 13:49:33 2015 -0700

    KAFKA-1683; persisting session information in Requests
    
    Author: Gwen Shapira <cshapi@gmail.com>
    
    Reviewers: Sriharsha Chintalapa, Ismael Juma, Edward Ribeiro, Parth Brahmbhatt, Jun Rao
    
    Closes #155 from gwenshap/KAFKA-1683

commit 436b7ddc386eb688ba0f12836710f5e4bcaa06c8
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Tue Aug 25 17:52:39 2015 -0700

    KAFKA-2136; Add throttle time (on quota violation) in fetch/produce
    responses; reviewed by Joel Koshy, Dong Lin and Jun Rao

commit 5d453ba6d4654efc93e6b2d2f069139afa571b94
Author: Mayuresh Gharat <gharatmayuresh15@gmail.com>
Date:   Tue Aug 25 17:50:16 2015 -0700

    KAFKA-2351; Catch all exceptions in socket server's acceptor; reviewed by Grant Henke, Joel Koshy, Jiangjie Qin, Jun Rao

commit 1d2ae89c5a1dc5d18b8188bf737a8e1d195be325
Author: Geoff Anderson <geoff@confluent.io>
Date:   Sat Aug 22 19:23:36 2015 -0700

    KAFKA-2439; Add MirrorMaker service class for system tests
    
    Added MirrorMaker service and a few corresponding sanity checks, as well as necessary config template files. A few additional updates to accomodate the change in wait_until from ducktape0.2.0->0.3.0
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava, Gwen Shapira
    
    Closes #148 from granders/KAFKA-2439 and squashes the following commits:
    
    c7c3ebd [Geoff Anderson] MirrorMaker now can run as multi-node service. Added kill -9 to various clean_node methods.
    1e806f2 [Geoff Anderson] Various cleanups per review.
    1b4b049 [Geoff Anderson] Added MirrorMaker service and a few corresponding sanity checks, as well as necessary config template files. A few additional updates to accomodate the change in wait_until from ducktape0.2.0->0.3.0

commit 6acd37720df402a665094ba1153ae200ad5d6705
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Aug 21 12:52:30 2015 -0700

    KAFKA-2457; Fix how the argument is passed to `compileScala`
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira
    
    Closes #159 from ijuma/kafka-2457-fix

commit 3285a9c890c1800b15c85a80e676cf4365cbe785
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Aug 21 11:32:57 2015 -0700

    KAFKA-2457; StackOverflowError during builds
    
    The default is typically `1m` for 64-bit machines and the Scala compiler sometimes needs more than this.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Manikumar Reddy, Gwen Shapira
    
    Closes #157 from ijuma/kafka-2457-stackoverflowerror-during-builds

commit 9a6b57334953ef86603454e5b0d1287ee4281d03
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Aug 20 13:24:14 2015 -0700

    KAFKA-1901; Move Kafka version to be generated in code by build (instead of in manifest); reviewed by Ismael Juma, Joel Koshy, Jason Rosenberg

commit 767a8a7628bd936ee3da1f03c27639657cd0dd5e
Author: Ben Stopford <benstopford@gmail.com>
Date:   Thu Aug 20 13:00:58 2015 -0700

    KAFKA-2015: Enable ConsoleConsumer to use new consumer
    
    This extends the original patch done by GZ to provide Console access to both the new and old consumer API's. The code follows a pattern similar to that already used in ConsoleProducer.
    
    Author: Ben Stopford <benstopford@gmail.com>
    
    Reviewers: Jason Gustafson, Ismael Juma, Guozhang Wang
    
    Closes #144 from benstopford/KAFKA-2015 and squashes the following commits:
    
    5058a7b [Ben Stopford] Patch for KAFKA-2015: removed unused imports
    6e08bf4 [Ben Stopford] Patch for KAFKA-2015: fixed formatting error
    739457c [Ben Stopford] Patch for KAFKA-2015: switched to blocking poll + typo + fixed to match style guide
    883a626 [Ben Stopford] Patch for KAFKA-2015: incorporating comments to date.
    0660629 [Ben Stopford] Merge remote-tracking branch 'upstream/trunk' into KAFKA-2015
    e102ff6 [Ben Stopford] KAFKA-2015 - ported patch from jira in and altered to match exising ConsoleProducer template

commit e4fc456ab06a228c4228cbae58d391de1b768f9e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Aug 19 18:20:13 2015 -0700

    KAFKA-2330: Vagrantfile sets global configs instead of per-provider override configs; patched by Ewen Cheslack-Postava, reviewed by Geoff Anderson and Gwen Shapira

commit 0b04f9f34b37dd43c68c572dfae6bb75144f066c
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Wed Aug 19 18:16:59 2015 -0700

    KAFKA-2246; Fix incorrect config ZK path.
    
    This bug was introduced while committing KAFKA-2205. Basically, the path for topic overrides was renamed to "topic" from "topics". However, this causes existing topic config overrides to break because they will not be read from ZK anymore since the path is different.
    
    https://reviews.apache.org/r/34554/
    
    Author: Aditya Auradkar <aauradkar@linkedin.com>
    
    Reviewers: Joel Koshy
    
    Closes #152 from auradkar/2446

commit 47b7a686e9636a68226efeca221073f76d887f36
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Aug 19 14:32:25 2015 -0700

    KAFKA-2084; trivial follow-up (remove JUnit3Suite dependency)

commit 9e2c683f550b7ae58008d0bcb62238b7a2d89a65
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Tue Aug 18 21:51:15 2015 -0700

    kafka-1690; Add SSL support to Kafka Broker, Producer and Consumer; patched by Sriharsha Chintalapani; reviewed Rajini Sivaram, Joel Koshy, Michael Herstine, Ismael Juma, Dong Lin, Jiangjie Qin and Jun Rao

commit 503bd36647695e8cc91893ffb80346dd03eb0bc5
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Aug 18 13:03:11 2015 -0700

    KAFKA-2436; log.retention.hours should be honored by LogManager
    
    Author: Dong Lin <lindong28@gmail.com>
    
    Reviewers: Joel Koshy, Gwen Shapira
    
    Closes #142 from lindong28/KAFKA-2436

commit 786867c2e18f79fa17be120f78a253bb9822a861
Author: Sriharsha Chintalapani <harsha@hortonworks.com>
Date:   Sun Aug 16 20:53:39 2015 -0700

    KAFKA-2438; add maxParallelForks to build.gradle to speedup tests.
    
    Author: Sriharsha Chintalapani <harsha@hortonworks.com>
    
    Reviewers: Gwen Shapira
    
    Closes #143 from harshach/KAFKA-2438

commit 63b89658bcb5fc2d95e10d28987337c3d971163f
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Aug 14 21:55:42 2015 -0700

    KAFKA-1782: Follow up - add missing @Test annotations.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Guozhang
    
    Closes #140 from ewencp/kafka-1782-followup and squashes the following commits:
    
    fe36bd1 [Ewen Cheslack-Postava] Fix missing annotation of Before and After in ControllerFailoverTest.
    1dcaf39 [Ewen Cheslack-Postava] KAFKA-1782: Follow up - add missing @Test annotations.

commit bbb7d97adefe5826f2e02a8e55423ea215c9f749
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Fri Aug 14 18:51:48 2015 -0700

    KAFKA-2084; Add per-client-id byte-rate metrics and quota manager; reviewed by Joel Koshy, Dong Lin, Jun Rao and Edward Ribeiro

commit f6acfb08917946f15cb8de2fee786019124af212
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Aug 14 16:00:51 2015 -0700

    KAFKA-2366; Initial patch for Copycat
    
    This is an initial patch implementing the basics of Copycat for KIP-26.
    
    The intent here is to start a review of the key pieces of the core API and get a reasonably functional, baseline, non-distributed implementation of Copycat in place to get things rolling. The current patch has a number of known issues that need to be addressed before a final version:
    
    * Some build-related issues. Specifically, requires some locally-installed dependencies (see below), ignores checkstyle for the runtime data library because it's lifted from Avro currently and likely won't last in its current form, and some Gradle task dependencies aren't quite right because I haven't gotten rid of the dependency on `core` (which should now be an easy patch since new consumer groups are in a much better state).
    * This patch currently depends on some Confluent trunk code because I prototyped with our Avro serializers w/ schema-registry support. We need to figure out what we want to provide as an example built-in set of serializers. Unlike core Kafka where we could ignore the issue, providing only ByteArray or String serializers, this is pretty central to how Copycat works.
    * This patch uses a hacked up version of Avro as its runtime data format. Not sure if we want to go through the entire API discussion just to get some basic code committed, so I filed KAFKA-2367 to handle that separately. The core connector APIs and the runtime data APIs are entirely orthogonal.
    * This patch needs some updates to get aligned with recent new consumer changes (specifically, I'm aware of the ConcurrentModificationException issue on exit). More generally, the new consumer is in flux but Copycat depends on it, so there are likely to be some negative interactions.
    * The layout feels a bit awkward to me right now because I ported it from a Maven layout. We don't have nearly the same level of granularity in Kafka currently (core and clients, plus the mostly ignored examples, log4j-appender, and a couple of contribs). We might want to reorganize, although keeping data+api separate from runtime and connector plugins is useful for minimizing dependencies.
    * There are a variety of other things (e.g., I'm not happy with the exception hierarchy/how they are currently handled, TopicPartition doesn't really need to be duplicated unless we want Copycat entirely isolated from the Kafka APIs, etc), but I expect those we'll cover in the review.
    
    Before commenting on the patch, it's probably worth reviewing https://issues.apache.org/jira/browse/KAFKA-2365 and https://issues.apache.org/jira/browse/KAFKA-2366 to get an idea of what I had in mind for a) what we ultimately want with all the Copycat patches and b) what we aim to cover in this initial patch. My hope is that we can use a WIP patch (after the current obvious deficiencies are addressed) while recognizing that we want to make iterative progress with a bunch of subsequent PRs.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #99 from ewencp/copycat and squashes the following commits:
    
    a3a47a6 [Ewen Cheslack-Postava] Simplify Copycat exceptions, make them a subclass of KafkaException.
    8c108b0 [Ewen Cheslack-Postava] Rename Coordinator to Herder to avoid confusion with the consumer coordinator.
    7bf8075 [Ewen Cheslack-Postava] Make Copycat CLI speific to standalone mode, clean up some config and get rid of config storage in standalone mode.
    656a003 [Ewen Cheslack-Postava] Clarify and expand the explanation of the Copycat Coordinator interface.
    c0e5fdc [Ewen Cheslack-Postava] Merge remote-tracking branch 'origin/trunk' into copycat
    0fa7a36 [Ewen Cheslack-Postava] Mark Copycat classes as unstable and reduce visibility of some classes where possible.
    d55d31e [Ewen Cheslack-Postava] Reorganize Copycat code to put it all under one top-level directory.
    b29cb2c [Ewen Cheslack-Postava] Merge remote-tracking branch 'origin/trunk' into copycat
    d713a21 [Ewen Cheslack-Postava] Address Gwen's review comments.
    6787a85 [Ewen Cheslack-Postava] Make Converter generic to match serializers since some serialization formats do not require a base class of Object; update many other classes to have generic key and value class type parameters to match this change.
    b194c73 [Ewen Cheslack-Postava] Split Copycat converter option into two options for key and value.
    0b5a1a0 [Ewen Cheslack-Postava] Normalize naming to use partition for both source and Kafka, adjusting naming in CopycatRecord classes to clearly differentiate.
    e345142 [Ewen Cheslack-Postava] Remove Copycat reflection utils, use existing Utils and ConfigDef functionality from clients package.
    be5c387 [Ewen Cheslack-Postava] Minor cleanup
    122423e [Ewen Cheslack-Postava] Style cleanup
    6ba87de [Ewen Cheslack-Postava] Remove most of the Avro-based mock runtime data API, only preserving enough schema functionality to support basic primitive types for an initial patch.
    4674d13 [Ewen Cheslack-Postava] Address review comments, clean up some code styling.
    25b5739 [Ewen Cheslack-Postava] Fix sink task offset commit concurrency issue by moving it to the worker thread and waking up the consumer to ensure it exits promptly.
    0aefe21 [Ewen Cheslack-Postava] Add log4j settings for Copycat.
    220e42d [Ewen Cheslack-Postava] Replace Avro serializer with JSON serializer.
    1243a7c [Ewen Cheslack-Postava] Merge remote-tracking branch 'origin/trunk' into copycat
    5a618c6 [Ewen Cheslack-Postava] Remove offset serializers, instead reusing the existing serializers and removing schema projection support.
    e849e10 [Ewen Cheslack-Postava] Remove duplicated TopicPartition implementation.
    dec1379 [Ewen Cheslack-Postava] Switch to using new consumer coordinator instead of manually assigning partitions. Remove dependency of copycat-runtime on core.
    4a9b4f3 [Ewen Cheslack-Postava] Add some helpful Copycat-specific build and test targets that cover all Copycat packages.
    31cd1ca [Ewen Cheslack-Postava] Add CLI tools for Copycat.
    e14942c [Ewen Cheslack-Postava] Add Copycat file connector.
    0233456 [Ewen Cheslack-Postava] Add copycat-avro and copycat-runtime
    11981d2 [Ewen Cheslack-Postava] Add copycat-data and copycat-api

commit c8e62c9818a04c01a4eb16cf30772dfbd30d3a26
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Aug 13 15:22:54 2015 -0700

    MINOR: expose vagrant base box as variable
    
    Added base_box variable to Vagrantfile. This makes it possible to override the base box in Vagrantfile.local.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #137 from granders/minor-expose-vagrant-box and squashes the following commits:
    
    44936f7 [Geoff Anderson] Added base_box variable to Vagrantfile. This makes it possible to override the base box in Vagrantfile.local.

commit 2c55bd8aa2666ea11ee2814b04f782eef8fa52c6
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu Aug 13 17:54:36 2015 -0400

    KAFKA-2406: Throttle ISR propagation
    
    This is a follow up patch for KAFKA-2406. Further test to verify if this change alone is enough to solve the problem or not.
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    Author: Jiangjie Qin <jqin@jqin-ld1.linkedin.biz>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #114 from becketqin/KAFKA-2406

commit e2ebae80982c45c65f709efaedd89d10e109600f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Aug 13 10:35:09 2015 -0700

    KAFKA-2430; Listing of PR commits in commit message should be optional
    
    If there is a single commit in the PR, then it's never listed.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang Wang
    
    Closes #136 from ijuma/kafka-2430-optional-listing-commits and squashes the following commits:
    
    64f1aec [Ismael Juma] Listing of PR commits in commit message should be optional

commit 78685dc162a867c0b8870faf5baa6a098953ddc8
Author: Alexander Pakulov <a.pakulov@gmail.com>
Date:   Wed Aug 12 19:58:44 2015 -0700

    KAFKA-1782: fix JUnit3 Misuse
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Ewen Cheslack-Postava, Guozhang Wang
    
    Closes #135 from ewencp/kafka-1782-junit3-misusage and squashes the following commits:
    
    0ae6258 [Ewen Cheslack-Postava] KAFKA-1782: Junit3 Misusage

commit 04b0d870b263117e301584bfc00dd8e81486617a
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Aug 12 14:57:42 2015 -0700

    KAFKA-2429: Add annotations to mark classes as stable/unstable
    
    This also marks the consumer as unstable to show an example of using these annotations.
    
    Author: Ewen Cheslack-Postava <me@ewencp.org>
    
    Reviewers: Gwen Shapira
    
    Closes #133 from ewencp/stability-annotations and squashes the following commits:
    
    09c15c3 [Ewen Cheslack-Postava] KAFKA-2429: Add annotations to mark classes as stable/unstable

commit 3902dc024595baf715cdfc8fa4b66aacbeca72d1
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Aug 12 14:34:30 2015 -0700

    MINOR: Fix hard coded strings in ProduceResponse
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Ismael Juma, Ewen Cheslack-Postava and Guozhang Wang
    
    Closes #131 from granthenke/minor-string and squashes the following commits:
    
    3c6250d [Grant Henke] MINOR: Fix hard coded strings in ProduceResponse

commit a62d63007c89c0c6f7ad62fe4643f7adc7fbc661
Author: flavio junqueira <fpj@apache.org>
Date:   Wed Aug 12 14:31:39 2015 -0700

    KAFKA-2300: Error in controller log when broker tries to rejoin cluster
    
    Author: flavio junqueira <fpj@apache.org>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #102 from fpj/2300 and squashes the following commits:
    
    7bd2edb [flavio junqueira] KAFKA-2300: Removed unnecessary s" occurrences.
    aa6ec90 [flavio junqueira] KAFKA-2300: Wrapped all occurences of sendRequestToBrokers with try/catch and fixed string typo.
    f1261b1 [flavio junqueira] Fixed some style issues.
    9b6390a [flavio junqueira] Updated package name and removed unnecessary imports.
    dbd1bf3 [flavio junqueira] KAFKA-2300: Error in controller log when broker tries to rejoin cluster

commit be633a713e311c90ebfafc650eb3dcfb94ce372d
Author: Geoff Anderson <geoff@confluent.io>
Date:   Tue Aug 11 15:24:52 2015 -0700

    KAFKA-2408: ConsoleConsumerService direct log output to file
    
    console consumer writes to System.out, while (some) log4j loggers operate in other threads.
    
    This occasionally led to funky interleaved output which disrupted parsing of consumed messages by ConsoleConsumerService, leading to spurious test failures.
    
    This fix directs log output to a separate file.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Reviewers: Ewen Cheslack-Postava
    
    Closes #123 from granders/KAFKA-2408 and squashes the following commits:
    
    247b0e0 [Geoff Anderson] Updated line counting to use wc -l
    66d6f4f [Geoff Anderson] lower -> uperrcase constants
    e67f554 [Geoff Anderson] Changed incorrect license header
    af67e01 [Geoff Anderson] Merged in upstream trunk
    8f89044 [Geoff Anderson] Added another lifecycle check. Wait for log file to exist before exmaning contents.
    521a84b [Geoff Anderson] Updated console consumer to directo log output directly to file rather than stdout

commit 96534a7d502be58026feec3c2012f022bf330049
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Aug 11 15:07:40 2015 -0700

    KAFKA-2336: Changing offsets.topic.num.partitions after the offset topic is created breaks consumer group partition assignment; Reviewed by Jiangjie Qin, Gwen Shapira

commit 1fdb758f286868a00cbebcc5bbcfc8195529158e
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Aug 10 20:58:20 2015 -0700

    KAFKA-2202: fix consumerTimeoutMs computation on ConsumerPerformance; reviewed by Guozhang Wang

commit 1ed88f0eba860bce4be0269cdd4d38c2b57db7f7
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Aug 7 23:42:42 2015 -0700

    KAFKA-1997: Follow-up patch, hardcode key/value serializer in mirror maker to byte serializer.
    
    Hardcode the key/value serializer to ByteArraySerializer according to Jun’s comments.
    
    Author: Jiangjie Qin <jqin@jqin-ld1.linkedin.biz>
    
    Reviewers: Guozhang Wang
    
    Closes #120 from becketqin/KAFKA-1997 and squashes the following commits:
    
    7f2e5a6 [Jiangjie Qin] KAFKA-1997: Follow-up patch, hardcode key/value serializer in mirror maker to byte serializer.

commit 68ad80f8524931222d78a8125cd012321d784337
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Aug 7 16:16:34 2015 -0700

    KAFKA-2415; Fix transient failure in LogRecoveryTest
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    Author: Jiangjie Qin <jqin@jqin-ld1.linkedin.biz>
    
    Reviewers: Ismael Juma, Gwen Shapira
    
    Closes #121 from becketqin/KAFKA-2415 and squashes the following commits:
    
    7a9f453 [Jiangjie Qin] Addressed Ismael's comment
    346103c [Jiangjie Qin] KAFKA-2415: Fix transient failure in LogRecoveryTest

commit a36befd81ed97c18e3e676559617bffdbb191d65
Author: Dave Cromberge <davecromberge@gmail.com>
Date:   Fri Aug 7 16:10:25 2015 -0700

    MINOR: documentation fix in StringDecoder
    
    Author: Dave Cromberge <davecromberge@gmail.com>
    
    Closes #124 from davecromberge/documentation-fix and squashes the following commits:
    
    7b9b1ce [Dave Cromberge] minor documentation fix to StringDecoder

commit 47c99f38726dd5bd3bf2c2f8a8a999d36b53ffcf
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Aug 7 16:07:45 2015 -0700

    Minor: Fixes to Selector's javadoc
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Closes #126 from ijuma/minor-selector-javadoc-fixes and squashes the following commits:
    
    a26f529 [Ismael Juma] Minor fixes to Selector's javadoc

commit 63b820c592aba3ec6f26cc99c0c470795029b10c
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Fri Aug 7 15:20:09 2015 -0700

    KAFKA-2413; New consumer's subscribe(Topic...) api fails if called more than once
    
    Author: Onur Karaman <okaraman@linkedin.com>
    
    Reviewers: Ashish Singh, Ismael Juma, Jason Gustafson
    
    Closes #122 from onurkaraman/KAFKA-2413 and squashes the following commits:
    
    cc340fc [Onur Karaman] fix ConsumerCoordinator updateConsumer

commit f6373e4d9929d123a8474ab7673ee701f63ac593
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 6 15:52:43 2015 -0700

    KAFKA-2340: Improve KafkaConsumer Fetcher test coverage
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #112 from hachikuji/KAFKA-2340 and squashes the following commits:
    
    cc49ca2 [Jason Gustafson] KAFKA-2340; improve KafkaConsumer Fetcher test coverage

commit 006b45c7e5b94e70b3a4200f4646042f3557c48e
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Aug 6 14:17:30 2015 -0700

    KAFKA-2400: Expose heartbeat interval in KafkaConsumer configuration
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Guozhang Wang
    
    Closes #116 from hachikuji/KAFKA-2400 and squashes the following commits:
    
    3c1b1dd [Jason Gustafson] KAFKA-2400; expose heartbeat interval in KafkaConsumer configuration

commit 9b1c52d52e4e9bbbd89b125fd510bf8b247643ac
Author: Andrew Otto <acotto@gmail.com>
Date:   Wed Aug 5 16:51:25 2015 -0700

    MINOR: Fix typo in ReplicaVerificationTool output
    
    Author: Andrew Otto <acotto@gmail.com>
    
    Reviewers: Ismael Juma, Guozhang Wang
    
    Closes #101 from ottomata/trunk and squashes the following commits:
    
    10b76f3 [Andrew Otto] MINOR - Fix typo in ReplicaVerificationTool output

commit 907ee7b5eae9e163e7abb24f97dedbaa78bc9d8c
Author: Stevo Slavić <sslavic@gmail.com>
Date:   Wed Aug 5 16:34:57 2015 -0700

    MINOR: Fixed javadoc for committed return value
    
    If no offset has been committed, then committed method does not return (null) value, instead NoOffsetForPartitionException is thrown in that case.
    
    Author: Stevo Slavić <sslavic@gmail.com>
    
    Reviewers: Ismael, Guozhang
    
    Closes #89 from sslavic/patch-4 and squashes the following commits:
    
    5c0a152 [Stevo Slavić] MINOR: Fixed javadoc for committed return value

commit 4b798f0dee004ac6b96ff563a0e2df65e016c694
Author: Stevo Slavić <sslavic@gmail.com>
Date:   Wed Aug 5 16:33:55 2015 -0700

    MINOR: auto.offset.reset docs not in sync with validation
    
    In this commit https://github.com/apache/kafka/commit/0699ff2ce60abb466cab5315977a224f1a70a4da#diff-5533ddc72176acd1c32f5abbe94aa672 among other things auto.offset.reset possible options were changed from smallest to earliest and from largest to latest, but not in documentation for that configuration property.
    
    This patch fixes documentation for auto.offset.reset consumer configuration property so it is in sync with validation logic.
    
    Author: Stevo Slavić <sslavic@gmail.com>
    
    Reviewers: Jason, Ismael, Guozhang
    
    Closes #91 from sslavic/patch-5 and squashes the following commits:
    
    f4c9656 [Stevo Slavić] MINOR: auto.offset.reset docs not in sync with validation

commit 95c626dc04e033c4349e68d47a3bd6e21b77706c
Author: Stevo Slavić <sslavic@gmail.com>
Date:   Wed Aug 5 16:32:25 2015 -0700

    MINOR: ConsumerRecords are organized per topic partition
    
    ConsumerRecords has records organized per topic partition, not per topic as ConsumerRecords javadoc suggested.
    
    Author: Stevo Slavić <sslavic@gmail.com>
    
    Reviewers: Jason, Guozhang
    
    Closes #92 from sslavic/patch-6 and squashes the following commits:
    
    b08a58d [Stevo Slavić] MINOR: ConsumerRecords are organized per topic partition

commit 27d499fe66fc034669a1852ca33ee2f486e1b83c
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Aug 5 15:55:48 2015 -0700

    KAFKA-2393: Correctly Handle InvalidTopicException in KafkaApis.getTo…
    
    …picMetadata()
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Jun Rao <junrao@gmail.com>
    
    Closes #117 from granthenke/invalid-topic and squashes the following commits:
    
    0abda5f [Grant Henke] KAFKA-2393: Correctly Handle InvalidTopicException in KafkaApis.getTopicMetadata()

commit 85d8218ef41381c58eb16d7542e41416c82bdf4a
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Aug 5 12:50:05 2015 -0700

    KAFKA-2401: Fix transient failure in ProducerSendTest.testCloseWithZeroTimeoutFromSenderThread
    
    Author: Jiangjie Qin <becket.qin@gmail.com>
    
    Reviewers: Guozhang
    
    Closes #113 from becketqin/KAFKA-2401 and squashes the following commits:
    
    7d4223d [Jiangjie Qin] KAFKA-2401: fix transient failure in ProducerSendTest.testCloseWithZeroTimeoutFromSenderThread

commit fc40016cf3cc4143f2e8486722737da3461771e6
Author: Grant Henke <granthenke@gmail.com>
Date:   Wed Aug 5 11:46:11 2015 -0700

    KAFKA-2407: Only create log directory when it will be used
    
    Author: Grant Henke <granthenke@gmail.com>
    
    Reviewers: Gwen Shapira
    
    Closes #115 from granthenke/log-fix and squashes the following commits:
    
    de36138 [Grant Henke] Small comment fix
    49a8dd4 [Grant Henke] KAFKA-2407: Only create log directory when it will be used

commit 9cefb2a0fb7852d35cfe0f051bc6eadb8e9c4c80
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Tue Aug 4 19:04:58 2015 -0700

    KAFKA-2288; Follow-up to KAFKA-2249 - reduce logging and testing; Reviewd by Jun Rao

commit 7a666f7aa8b1be927579817187e0b5b93543b5e2
Author: Jaikiran Pai <jaikiran.pai@gmail.com>
Date:   Tue Aug 4 17:10:02 2015 -0700

    KAFKA-2405; Don't kill the JVM on session establishment failure
    
    As noted in the JIRA https://issues.apache.org/jira/browse/KAFKA-2405 currently the KafkaHealthCheck causes the JVM to terminate in cases where session establishment with Zookeeper fails. I don't know if retrying (after a while) is a better way to fix this but at least, IMO, the session establishment failure shouldn't kill the JVM. This commit removes the `System.exit()` call.
    
    Author: Jaikiran Pai <jaikiran.pai@gmail.com>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>
    
    Closes #111 from jaikiran/kafka-2405 and squashes the following commits:
    
    0255fdb [Jaikiran Pai] KAFKA-2405 Don't kill the JVM on session establishment failure

commit a56a79055dfba4687f476b0a4d20aeec1c4ebff7
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Tue Aug 4 15:11:27 2015 -0700

    kafka-2205; Generalize TopicConfigManager to handle multiple entity configs; patched by Aditya Auradkar; reviewed Jun Rao

commit 1a0179f21a3937065fea2b745de67967bcafcb68
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Tue Aug 4 11:33:03 2015 -0700

    HOTFIX; Encode/decode to utf-8 for commit title IO in kafka-merge-pr.py after KAFKA-2384
    
    This fix should be fine for Linux and OS X. Not sure about Windows though. This is a very specific fix for new functionality added in KAFKA-2384. There are other places where a similar error could occur, but are less likely.
    
    The script doesn't really support Unicode input at the moment.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang
    
    Closes #109 from ijuma/kafka-2384-hotfix and squashes the following commits:
    
    0ab8958 [Ismael Juma] Encode/decode to utf-8 for commit title IO in kafka-merge-pr.py

commit 4b400afceadcbe74e3ecbfeb7c3066fd436da192
Author: lvfangmin <lvfangmin@gmail.com>
Date:   Tue Aug 4 11:29:10 2015 -0700

    KAFKA-2055; Fix transient ConsumerBounceTest.testSeekAndCommitWithBrokerFailure failure.
    
    …kerFailures failure;
    
    Author: lvfangmin <lvfangmin@gmail.com>
    
    Reviewers: Guozhang
    
    Closes #98 from lvfangmin/KAFKA-2055 and squashes the following commits:
    
    057a1f1 [lvfangmin] KAFKA-2055; Fix transient ConsumerBounceTest.testSeekAndCommitWithBrokerFailures failure;

commit 3c09630844f6e70793f53a9d4f0ef562fe9d91d3
Author: Jason Gustafson <jason@confluent.io>
Date:   Mon Aug 3 15:42:33 2015 -0700

    KAFKA-2386; increase timeouts for transient test failure in ConsumerCoordinatorResponseTests
    
    There are two race conditions in the test case "testGenerationIdIncrementsOnRebalance." First, a delay before the second join group request can timeout the initial group and cause the generationId to unexpectedly reset. Second, a delay in the join group request handling will timeout the request itself and cause the test to fail.  This commit doesn't address these race conditions, but increases the timeouts to make them more unlikely. If the problem reoccurs, then we'll probably need a better solution.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>
    
    Closes #107 from hachikuji/KAFKA-2386 and squashes the following commits:
    
    a53460a [Jason Gustafson] KAFKA-2386; increase timeouts for transient test failure in ConsumerCoordinatorResponseTest

commit cd3dc7a5c9f3a68ad73d2ae7c975f9882f00036e
Author: Stevo Slavić <sslavic@gmail.com>
Date:   Mon Aug 3 14:12:00 2015 -0700

    MINOR: Added to .gitignore Kafka server logs directory
    
    When running Kafka server from sources, logs directory gets created in root of repository, and kafka server logs end up there. Currently that directory is not ignored by git.
    
    This change adds root logs directory to .gitignore so that Kafka server logs are ignored and do not get tracked by git.
    
    Author: Stevo Slavić <sslavic@gmail.com>
    
    Reviewers: Ismael Juma
    
    Closes #94 from sslavic/patch-7 and squashes the following commits:
    
    c7b62a7 [Stevo Slavić] MINOR: Added to .gitignore Kafka server logs

commit b152c0604cdce8882028b62601916b5d2b82d6a5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Aug 3 13:08:57 2015 -0700

    KAFKA-2384: Override commit message title in kafka-merge-pr.py
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang
    
    Closes #105 from ijuma/kafka-2384-override-commit-message-title and squashes the following commits:
    
    e042242 [Ismael Juma] Support overriding of commit message title in kafka-merge-pr.py

commit 23a36eb54958485d1e84c64cc739ca268e96b181
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Jul 30 14:29:21 2015 -0700

    KAFKA-2026: fix logging of unsued options always showing null; reviewed by Ewen Cheslack-Postava and Jiangjie Qin

commit be82a2afc9e38adc0109dc694834ca5947128877
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jul 30 14:23:43 2015 -0700

    KAFKA-2350; KafkaConsumer pause/resume API
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Reviewers: Ismael, Ashish, Guozhang
    
    Closes #100 from hachikuji/KAFKA-2350 and squashes the following commits:
    
    250e823 [Jason Gustafson] KAFKA-2350; KafkaConsumer pause/resume API

commit 1162cc1dd30e896e8c7a03f960b7d7bcbf883624
Author: Stevo Slavić <sslavic@gmail.com>
Date:   Wed Jul 29 18:23:54 2015 -0700

    MINOR: Fixed ConsumerRecord constructor javadoc
    
    Refactoring of ConsumerRecord made in https://github.com/apache/kafka/commit/0699ff2ce60abb466cab5315977a224f1a70a4da#diff-fafe8d3a3942f3c6394927881a9389b2 left ConsumerRecord constructor javadoc inconsistent with implementation.
    
    This patch fixes ConsumerRecord constructor javadoc to be inline with implementation.
    
    Author: Stevo Slavić <sslavic@gmail.com>
    
    Reviewers: Ismael, Guozhang
    
    Closes #85 from sslavic/patch-3 and squashes the following commits:
    
    c289c4f [Stevo Slavić] MINOR: Fixed ConsumerRecord constructor javadoc

commit b7bd2978dc3947297fefc06ff9b22949d5bd1b50
Author: David Jacot <david.jacot@gmail.com>
Date:   Wed Jul 29 10:34:42 2015 -0700

    KAFKA-2100; Client Error doesn't preserve or display original server error code when it is an unknown code; Reviewed by Gwen, Guozhang and Ewen

commit e43c9aff92c57da6abb0c1d0af3431a550110a89
Author: Geoff Anderson <geoff@confluent.io>
Date:   Tue Jul 28 17:22:14 2015 -0700

    KAFKA-2276; KIP-25 initial patch
    
    Initial patch for KIP-25
    
    Note that to install ducktape, do *not* use pip to install ducktape. Instead:
    
    ```
    $ git clone gitgithub.com:confluentinc/ducktape.git
    $ cd ducktape
    $ python setup.py install
    ```
    
    Author: Geoff Anderson <geoff@confluent.io>
    Author: Geoff <granders@gmail.com>
    Author: Liquan Pei <liquanpei@gmail.com>
    
    Reviewers: Ewen, Gwen, Jun, Guozhang
    
    Closes #70 from granders/KAFKA-2276 and squashes the following commits:
    
    a62fb6c [Geoff Anderson] fixed checkstyle errors
    a70f0f8 [Geoff Anderson] Merged in upstream trunk.
    8b62019 [Geoff Anderson] Merged in upstream trunk.
    47b7b64 [Geoff Anderson] Created separate tools jar so that the clients package does not pull in dependencies on the Jackson JSON tools or argparse4j.
    a9e6a14 [Geoff Anderson] Merged in upstream changes
    d18db7b [Geoff Anderson] fixed :rat errors (needed to add licenses)
    321fdf8 [Geoff Anderson] Ignore tests/ and vagrant/ directories when running rat build task
    795fc75 [Geoff Anderson] Merged in changes from upstream trunk.
    1d93f06 [Geoff Anderson] Updated provisioning to use java 7 in light of KAFKA-2316
    2ea4e29 [Geoff Anderson] Tweaked README, changed default log collection behavior on VerifiableProducer
    0eb6fdc [Geoff Anderson] Merged in system-tests
    69dd7be [Geoff Anderson] Merged in trunk
    4034dd6 [Geoff Anderson] Merged in upstream trunk
    ede6450 [Geoff] Merge pull request #4 from confluentinc/move_muckrake
    7751545 [Geoff Anderson] Corrected license headers
    e6d532f [Geoff Anderson] java 7 -> java 6
    8c61e2d [Geoff Anderson] Reverted jdk back to 6
    f14c507 [Geoff Anderson] Removed mode = "test" from Vagrantfile and Vagrantfile.local examples. Updated testing README to clarify aws setup.
    98b7253 [Geoff Anderson] Updated consumer tests to pre-populate kafka logs
    e6a41f1 [Geoff Anderson] removed stray println
    b15b24f [Geoff Anderson] leftover KafkaBenchmark in super call
    0f75187 [Geoff Anderson] Rmoved stray allow_fail. kafka_benchmark_test -> benchmark_test
    f469f84 [Geoff Anderson] Tweaked readme, added example Vagrantfile.local
    3d73857 [Geoff Anderson] Merged downstream changes
    42dcdb1 [Geoff Anderson] Tweaked behavior of stop_node, clean_node to generally fail fast
    7f7c3e0 [Geoff Anderson] Updated setup.py for kafkatest
    c60125c [Geoff Anderson] TestEndToEndLatency -> EndToEndLatency
    4f476fe [Geoff Anderson] Moved aws scripts to vagrant directory
    5af88fc [Geoff Anderson] Updated README to include aws quickstart
    e5edf03 [Geoff Anderson] Updated example aws Vagrantfile.local
    96533c3 [Geoff] Update aws-access-keys-commands
    25a413d [Geoff] Update aws-example-Vagrantfile.local
    884b20e [Geoff Anderson] Moved a bunch of files to kafkatest directory
    fc7c81c [Geoff Anderson] added setup.py
    632be12 [Geoff] Merge pull request #3 from confluentinc/verbose-client
    51a94fd [Geoff Anderson] Use argparse4j instead of joptsimple. ThroughputThrottler now has more intuitive behavior when targetThroughput is 0.
    a80a428 [Geoff Anderson] Added shell program for VerifiableProducer.
    d586fb0 [Geoff Anderson] Updated comments to reflect that throttler is not message-specific
    6842ed1 [Geoff Anderson] left out a file from last commit
    1228eef [Geoff Anderson] Renamed throttler
    9100417 [Geoff Anderson] Updated command-line options for VerifiableProducer. Extracted throughput logic to make it reusable.
    0a5de8e [Geoff Anderson] Fixed checkstyle errors. Changed name to VerifiableProducer. Added synchronization for thread safety on println statements.
    475423b [Geoff Anderson] Convert class to string before adding to json object.
    bc009f2 [Geoff Anderson] Got rid of VerboseProducer in core (moved to clients)
    c0526fe [Geoff Anderson] Updates per review comments.
    8b4b1f2 [Geoff Anderson] Minor updates to VerboseProducer
    2777712 [Geoff Anderson] Added some metadata to producer output.
    da94b8c [Geoff Anderson] Added number of messages option.
    07cd1c6 [Geoff Anderson] Added simple producer which prints status of produced messages to stdout.
    a278988 [Geoff Anderson] fixed typos
    f1914c3 [Liquan Pei] Merge pull request #2 from confluentinc/system_tests
    81e4156 [Liquan Pei] Bootstrap Kafka system tests

commit f4101ab3fcf7ec65f6541b157f1894ffdc8d861d
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Tue Jul 28 16:31:33 2015 -0700

    KAFKA-2089: Fix transient MetadataTest failure; reviewed by Jiangjie Qin and Guozhang Wang

commit 594b963930c2054199ed54203415d1cb7917df27
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Jul 28 15:49:22 2015 -0700

    KAFKA-2275: Add ListTopics() API to the Java consumer; reviewed by Jason Gustafson, Edward Ribeiro and Guozhang Wang

commit 3df46bf4ce9c134cc7b532be3d01f920127be706
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Jul 28 14:27:35 2015 -0700

    KAFKA-2347: Add setConsumerRebalanceListener method to ZookeeperConsumerConnector java api; reviewed by Jiangjie Qin, Ismael Juma, Grant Henke and Guozhang Wang

commit 269c2407d4e6e38b3b6be00566c480121b5dc51a
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Jul 28 14:23:44 2015 -0700

    KAFKA-2381: Fix concurrent modification on assigned partition while looping over it; reviewed by Jason Gustafson, Aditya Auradkar, Ewen Cheslack-Postava, Ismael Juma and Guozhang Wang

commit 57386de64530edcb54e9dae4566fb6d4a8b4700e
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Jul 28 14:09:10 2015 -0700

    KAFKA-2301: Warn ConsumerOffsetChecker as deprecated; reviewed by Ewen Cheslack-Postava and Guozhang Wang

commit 4389a11f68f4c0e028441acd0ef30951296c38ce
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Jul 27 10:54:23 2015 -0700

    KAFKA-2321; Introduce CONTRIBUTING.md
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Guozhang
    
    Closes #97 from ijuma/kafka-2321 and squashes the following commits:
    
    4834464 [Ismael Juma] KAFKA-2321; Introduce CONTRIBUTING.md

commit fd3a3cd59539a741b6d3c830870dae1d5a5f93b5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Fri Jul 24 09:19:59 2015 -0700

    KAFKA-2348; Drop support for Scala 2.9
    
    `testAll` passed locally.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Harsha, Ewen, Guozhang
    
    Closes #87 from ijuma/kafka-2348-drop-support-for-scala-2.9 and squashes the following commits:
    
    cf9796a [Ismael Juma] KAFKA-2348; Drop support for Scala 2.9

commit 520a8135f4820ee92e63427c5dbb2d5356e6a473
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jul 23 17:19:16 2015 -0700

    KAFKA-2353; SocketServer catch exception and close connection properly; reviewed by Gwen Shapira, Ismael Juma and Guozhang Wang

commit 66c8647d85f801893b9f882a7ad49242cef683fd
Author: Edward Ribeiro <edward.ribeiro@gmail.com>
Date:   Thu Jul 23 09:17:19 2015 -0700

    KAFKA-2355;  Add an unit test to validate the deletion of a partition marked as deleted; patched by Edward Ribeiro, reviewed by Ashish Singh, Ismael Juma and Grant Henke

commit 18adec7ed5ad71eb73171aff0e0c82d627cfa5d5
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jul 23 08:46:47 2015 -0700

    KAFKA-2344; kafka-merge-pr improvements
    
    The first 4 commits are adapted from changes that have been done to the Spark version and the last one is the feature that gwenshap asked for.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Reviewers: Gwen Shapira <cshapi@gmail.com>
    
    Closes #90 from ijuma/kafka-2344-merge-pr-improvements and squashes the following commits:
    
    900c371 [Ismael Juma] Allow reviewers to be entered during merge
    ac06347 [Ismael Juma] Allow primary author to be overridden during merge
    b309829 [Ismael Juma] Set JIRA resolution to "Fixed" instead of relying on default transition
    0c69a64 [Ismael Juma] Check return value of doctest.testmod()
    061cdce [Ismael Juma] Fix instructions on how to install the `jira-python` library

commit fd3b4cc41e9249ec6848cde8137691d32b2e79e5
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jul 22 13:00:03 2015 -0700

    KAFKA-2342; KafkaConsumer rebalance with in-flight fetch can cause invalid position
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Closes #88 from hachikuji/KAFKA-2342 and squashes the following commits:
    
    cabb017 [Jason Gustafson] KAFKA-2342; KafkaConsumer rebalance with in-flight fetch can cause invalid position

commit 2040890462a22614ccb836e43837f8739855b84f
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Mon Jul 20 16:40:54 2015 -0700

    KAFKA-2328; merge-kafka-pr.py script should not leave user in a detached branch
    
    The right command to get the branch name is `git rev-parse --abbrev-ref HEAD` instead of `git rev-parse HEAD`. The latter gives the commit hash causing a detached branch when we checkout to it. Seems like a bug we inherited from the Spark script.
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Closes #84 from ijuma/kafka-2328-merge-script-no-detached-branch and squashes the following commits:
    
    ae201dd [Ismael Juma] KAFKA-2328; merge-kafka-pr.py script should not leave user in a detached branch

commit 1d2bd6284b06b579c901e6be8919a8a27dbe11ee
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Jul 20 16:15:42 2015 -0700

    KAFKA-2337;  Verify that metric names will not collide when creating new topics; patched by Grant Henke; reviewed by Edward Ribeiro, Ashish Singh and Gwen Shapira

commit 84636272422b6379d57d4c5ef68b156edc1c67f8
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Fri Jul 17 10:49:40 2015 -0700

    Adding a file missed while committing KAFKA-2345

commit a5b11886df8c7aad0548efd2c7c3dbc579232f03
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Jul 17 10:32:43 2015 -0700

    KAFKA-2345;  Attempt to delete a topic already marked for deletion throws ZkNodeExistsException; patched by Ashish Singh; reviewed by Sriharsha Chintalapani and Ismael Juma

commit 15cba9f00dc606dd49e428f4ac8ccae0c0b8b37d
Author: Ismael Juma <ismael@juma.me.uk>
Date:   Thu Jul 16 21:46:46 2015 -0700

    KAFKA-2324; Update to Scala 2.11.7
    
    Author: Ismael Juma <ismael@juma.me.uk>
    
    Closes #82 from ijuma/kafka-2324 and squashes the following commits:
    
    d71bf5c [Ismael Juma] KAFKA-2324; Update to Scala 2.11.7

commit 31f621716ebace5a05d5cbf65d7d5bf2a902ea7b
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Jul 16 17:57:12 2015 -0700

    kafka-2103; kafka.producer.AsyncProducerTest failure; patched by Ewen Cheslack-Postava; reviewed by Jun Rao

commit 5033b9613e9e9f28c8eb60a734920d90d155e6f9
Author: Jason Gustafson <ason@confluent.io>
Date:   Thu Jul 16 17:29:25 2015 -0700

    kafka-2271; transient unit test failure in KafkaConfigConfigDefTest.testFromPropsToProps; patched by Jason Gustafson; reviewed by Jun Rao

commit 1e0ed7a592cd80cfca727b27ba01f6faa511531f
Author: Alexey Ozeritskiy <aozeritsky@gmail.com>
Date:   Thu Jul 16 17:13:12 2015 -0700

    kafka-2174; Wrong TopicMetadata deserialization; patched by Alexey Ozeritskiy; reviewed by Jun Rao

commit 8fa24a6171781bbdb2b814dcdc37520a92511f69
Author: Dong Lin <lindong28@gmail.com>
Date:   Thu Jul 16 16:38:41 2015 -0700

    kafka-2241; AbstractFetcherThread.shutdown() should not block on ReadableByteChannel.read(buffer); patched by Dong Lin; reviewed by Jun Rao

commit 458ebeb04bffb3237a46c12e05e270d9b26d4d40
Author: Ismael Juma <mlists@juma.me.uk>
Date:   Thu Jul 16 16:21:50 2015 -0700

    kafka-2323; Simplify ScalaTest dependency versions; patched by Ismael Juma; reviewed by Jun Rao

commit fa03a7c6c48550f01176402139201af75d3836a2
Author: Parth Brahmbhatt <pbrahmbhatt@hortonworks.com>
Date:   Thu Jul 16 12:59:27 2015 -0700

    KAFKA-2032: validate consumer's partition-assignment config; reviewed by Jason Rosenberg, Sriharsha Chintalapani and Guozhang Wang

commit 83d17e5b2403a4916d51ab69825ea657f8c802a7
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jul 15 19:00:37 2015 -0700

    [MINOR] fix new consumer heartbeat reschedule bug
    
    This commit fixes a minor issue introduced in the patch for KAFKA-2123. The schedule method requires the time the task should be executed, not a delay.
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Closes #79 from hachikuji/KAFKA-2123-fix and squashes the following commits:
    
    6eb7ec6 [Jason Gustafson] [Minor] fix new consumer heartbeat reschedule bug

commit 4fcb7acafe4c98cd2930e6d348d456a3eb7f7444
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jul 15 15:46:19 2015 -0700

    KAFKA-2335; fix comment about thread safety
    
    Author: Jason Gustafson <jason@confluent.io>
    
    Closes #78 from hachikuji/KAFKA-2335 and squashes the following commits:
    
    c697998 [Jason Gustafson] KAFKA-2335; fix comment about consumer thread safety

commit 99c0686be2141a0fffe1c55e279370a87ef8c1ea
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jul 15 12:38:45 2015 -0700

    KAFKA-2123: add callback in commit api and use a delayed queue for async requests; reviewed by Ewen Cheslack-Postava and Guozhang Wang

commit a7e0ac3659c2b499124a866bc0b16b6b1b412376
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Jul 13 22:08:33 2015 -0700

    KAFKA-2198: kafka-topics.sh exits with 0 status on failures; patched by Manikumar Reddy reviewed by Gwen Shapira

commit bdbb9672f5e035fd00801037e2affe64811ec6ab
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon Jul 13 17:16:34 2015 -0700

    kafka-972; MetadataRequest returns stale list of brokers; patched by Ashish Singh; reviewed by Jun Rao

commit 69b451e28944deb162f7427105c3090f41c8797f
Author: Tim Brooks <tbrooks8@gmail.com>
Date:   Mon Jul 13 13:13:02 2015 -0700

    KAFKA-2312: use atomic long for thread id reference; reviewed by Ewen Cheslack-Postava, Jason Gustafson, Ismael Juma and Guozhang Wang

commit 4aba4bc1dfb74cc378ea58d7b0a9f16c96cfe757
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Thu Jul 9 18:28:38 2015 -0700

    Trivial commit - explicitly exclude build/** from rat check

commit 9ca61d17915f09b8010fa1da5ad0285b076a96e1
Author: Jason Gustafson <jason@confluent.io>
Date:   Thu Jul 9 18:15:31 2015 -0700

    KAFKA-1740 follow-up: add state checking in handling heartbeat request; reviewed by Onur Karaman, Ewen Cheslack-Postavam and Guozhang Wang

commit ee88dbb67f19b787e12ccef37982c9459b78c7b6
Author: Geoff Anderson <geoff@confluent.io>
Date:   Thu Jul 9 14:58:01 2015 -0700

    KAFKA-2327; broker doesn't start if config defines advertised.host but not advertised.port
    
    Added unit tests as well. These fail without the fix, but pass with the fix.
    
    Author: Geoff Anderson <geoff@confluent.io>
    
    Closes #73 from granders/KAFKA-2327 and squashes the following commits:
    
    52a2085 [Geoff Anderson] Cleaned up unecessary toString calls
    23b3340 [Geoff Anderson] Fixes KAFKA-2327

commit 7df39e0394a6fd2f26e8f12768ebf7fecd56e3da
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Wed Jul 8 10:22:42 2015 -0700

    KAFKA-2316: Drop java 1.6 support; patched by Sriharsha Chintalapani reviewed by Ismael Juma and Gwen Shapira

commit 67b6b9a45ba6f096645f4f344dfdcf1df1e50dd6
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Jul 8 09:57:16 2015 -0700

    KAFKA-2308: make MemoryRecords idempotent; reviewed by Guozhang Wang

commit 4204f4a06bf23160ceec4aa54331db62681bff82
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Jul 7 21:48:42 2015 -0700

    Trivial commit - explicitly exclude build/rat-report.xml from rat check

commit 23d72bccbeeeb0774b86c47e05cdcd1575a5d38a
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Jul 7 18:09:00 2015 -0700

    KAFKA-2298; Client Selector can drop connections on InvalidReceiveException without notifying NetworkClient; reviewed by Jason Gustafson and Joel Koshy

commit f13dd8024d5bc1c11587a3b539556ea01e2c84ca
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue Jul 7 13:36:55 2015 -0700

    KAFKA-2313: javadoc fix for KafkaConsumer deserialization; reviewed by Guozhang Wang

commit 826276de1eaabfebf2a414c69ebcdff17429016c
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Jul 7 13:26:00 2015 -0700

    KAFKA-2317: follow-up of KAFKA1367; reviewed by Guozhang Wang

commit a99f70feb23db9ac4274cad9e8cbbf9934d3d075
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Jul 7 12:42:49 2015 -0700

    KAFKA-2306: add another metric for buffer exhausted; reviewed by Guozhang Wang

commit ad485e148d7ac104abe173687ba27dccff8e4d39
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Tue Jul 7 10:09:11 2015 -0700

    KAFKA-2304 Supported enabling JMX in Kafka Vagrantfile patch by Stevo Slavic reviewed by Ewen Cheslack-Postava

commit f77dc386c099da5ff0bac4d2a12b04f7f17f07d3
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Jul 7 09:45:26 2015 -0700

    kafka-1367; Broker topic metadata not kept in sync with ZooKeeper; patched by Ashish Singh; reviewed by Jun Rao

commit 271b18d119fdc37952c36c573ba185aa672e3f96
Author: Kostya Golikov <johnysilver7@gmail.com>
Date:   Tue Jul 7 09:12:57 2015 -0700

    KAFKA-2314: proper MirrorMaker's message handler help message; reviewed by Guozhang Wang

commit 2d96da05a0af7847aca5edc6d003a18be7f5216a
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon Jul 6 16:36:20 2015 -0700

    kafka-2132; Move Log4J appender to a separate module; patched by Ashish Singh; reviewed by Gwen Shapira, Aditya Auradkar and Jun Rao

commit fd612a2d50f1ee13009395f082357403c4277164
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Jul 6 15:47:40 2015 -0700

    kafka-2248; Use Apache Rat to enforce copyright headers; patched by Ewen Cheslack-Postava; reviewed by Gwen Shapira, Joel Joshy and Jun Rao

commit 3f8480ccfb011eb43da774737597c597f703e11b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Jul 2 11:41:51 2015 -0700

    KAFKA-1740: merge offset manager into consumer coordinator; reviewed by Onur Karaman and Jason Gustafson

commit 14e0ce0a47fb7f6ae6dab085b2ea9d5a1f644433
Author: Jason Gustafson <jason@confluent.io>
Date:   Wed Jul 1 15:28:11 2015 -0700

    KAFKA-2168: minor follow-up patch; reviewed by Guozhang Wang

commit 9ff5b27bc572850863f58a3767da3c72aa2a9831
Author: Tao Xiao <xiaotao183@gmail.com>
Date:   Mon Jun 29 18:47:47 2015 -0700

    KAFKA-2281: avoid unnecessary value copying if logAsString is false; reviewed by Guozhang Wang

commit 6d4991e312548bc81e0f6b790a370b6165a92df9
Author: Jeff Maxwell <jeff.maxwell@gmail.com>
Date:   Tue Jun 23 10:52:21 2015 -0700

    KAFKA-2294; javadoc compile error due to illegal <p/> , build failing (jdk 8); patched by Jeff Maxwell; reviewed by Jakob Homan

commit b6d326b0893e60b350608260fd1bd2542337cb5a
Author: Jason Gustafson <ason@confluent.io>
Date:   Tue Jun 23 00:07:19 2015 -0400

    kafka-2168; New consumer poll() can block other calls like position(), commit(), and close() indefinitely; patched by Jason Gustafson; reviewed by Jay Kreps, Ewen Cheslack-Postava, Guozhang Wang and Jun Rao

commit 2270a7537f7734ec02b2391fae280624520a664d
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Mon Jun 22 15:28:35 2015 -0700

    KAFKA-2293; Fix incorrect format specification in Partition.scala; reviewed by Joel Koshy

commit 1eac3ceaf94b3e7583c7b6de2cfe13539ab06dd6
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Mon Jun 22 10:14:14 2015 -0700

    KAFKA-2245; Add response tests for consumer coordinator; reviewed by Joel Koshy

commit dc54055d05742a4a7729a1fe1073c18e3d95cbb2
Author: Ivan Simoneko <simonenko.nsk@gmail.com>
Date:   Mon Jun 22 09:19:45 2015 -0700

    kafka-2235; LogCleaner offset map overflow; patched by Ivan Simoneko; reviewed by Jun Rao

commit cf28f893963c363bca43747e2f37fad3bb67d033
Author: Chris Black <chrisbblack@gmail.om>
Date:   Mon Jun 22 08:59:05 2015 -0700

    kafka-2290; OffsetIndex should open RandomAccessFile consistently; patched by Chris Black; reviewed by Jun Rao

commit 16ecf9806b286d9510103a4426bf0901d7dc8778
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Fri Jun 19 09:34:22 2015 -0700

    kafka-2012; Broker should automatically handle corrupt index files;  patched by Manikumar Reddy; reviewed by Jun Rao

commit ca758252c5a524fe6135a585282dd4bf747afef2
Author: Honghai Chen <waldenchen@163.com>
Date:   Fri Jun 19 07:52:37 2015 -0700

    kafka-1646; Improve consumer read performance for Windows; patched by Honghai Chen; reviewed by Jay Kreps and Jun Rao

commit 19c98cb8ed69d3d6da787dc04e1e88add5f6b9d7
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Jun 18 18:50:52 2015 -0700

    kafka-1758; corrupt recovery file prevents startup; patched by Manikumar Reddy; reviewed by Neha Narkhede and Jun Rao

commit 1c93bb16a91788d3489d4d784c13f1f0fddb6fb7
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Jun 18 17:00:34 2015 -0700

    trivial change to fix unit test failure introduced in kafka-2234

commit 5c2ca30f229c7f39fca65aed6bd45c382aacda77
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Jun 18 16:37:25 2015 -0700

    kafka-2234; Partition reassignment of a nonexistent topic prevents future reassignments; patched by Manikumar Reddy; reviewed by Jun Rao

commit d9c0ad6855b4871694ddf17c9d4546b021302ee8
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Jun 18 15:59:11 2015 -0700

    kafka-2265; creating a topic with large number of partitions takes a long time; patched by Manikumar Reddy; reviewed by Jun Rao

commit 5c9040745466945a04ea0315de583ccdab0614ac
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Thu Jun 18 14:07:33 2015 -0700

    kafka-2249; KafkaConfig does not preserve original Properties; patched by Gwen Shapira; reviewed by Jun Rao

commit ba86f0a25dd8675d3c840c33605494a2f637576f
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jun 16 16:41:20 2015 -0700

    trivial fix for stylecheck error on Jenkins

commit 9650e12df2502f85ea665ae46a982d6fd0d2a954
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Jun 16 15:50:17 2015 -0700

    kafka-2262; LogSegmentSize validation should be consistent; patched by Manikumar Reddy; reviewed by Jun Rao

commit 478505632edc8f4b51e4ed561d1adf455256c3e4
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Tue Jun 16 15:37:58 2015 -0700

    kafka-2252; Socket connection closing is logged, but not corresponding opening of socket; patched by Gwen Shapira; reviewed by Jun Rao

commit 7009f1d6fffe3866723d1d33a28a4572053eb4e5
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Jun 16 15:30:52 2015 -0700

    kafka-2264; SESSION_TIMEOUT_MS_CONFIG in ConsumerConfig should be int; patched by Manikumar Reddy; reviewed by Jun Rao

commit 28ecea421794d0c9a1c4f95375ccd1a6dfd8f365
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Tue Jun 16 15:25:16 2015 -0700

    kafka-2272; listeners endpoint parsing fails if the hostname has capital letter; patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit 395716ebf0af2520a33ef352a62c10a71239bb4f
Author: Proneet Verma <proneet11@gmail.com>
Date:   Tue Jun 16 15:03:40 2015 -0700

    kafka-2270; incorrect package name in unit tests; patched by Proneet Verma; reviewed by Jun Rao

commit 54e54f08077c9d71a5121e640b55836e6f7f2c9b
Author: Andrii Biletskyi <andrii.biletskyi@stealth.ly>
Date:   Tue Jun 16 14:46:48 2015 -0700

    kafka-2195; Add versionId to AbstractRequest.getErrorResponse and AbstractRequest.getRequest; patched by Andrii Biletskyi; reviewed by Jun Rao

commit 20a31a29f7aa6ce6687a13aa0cf60b92c5ac4d1e
Author: Tim Brooks <tbrooks8@gmail.com>
Date:   Mon Jun 15 17:43:56 2015 -0700

    kafka-2101; Metric metadata-age is reset on a failed update; patched by Tim Brooks; reviewed by Jun Rao

commit 719f2bddd147d4583a15ee8398bb0edccbbcc3f4
Author: Alexey Ozeritskiy <aozeritsky@gmail.com>
Date:   Fri Jun 12 18:45:48 2015 -0700

    kafka-2164; ReplicaFetcherThread: suspicious log message on reset offset; patched by Alexey Ozeritski; reviewed by Jun Rao

commit d31a2c2381bebc9c4b27e36fdf986183732e13eb
Author: Alexander Pakulov <a.pakulov@gmail.com>
Date:   Fri Jun 12 14:16:03 2015 -0700

    kafka-2232; make MockProducer generic; patched by Alexander Pakulov; reviewed by Jun Rao

commit 017c00caf44aaad3418cb99d3ef42c4d1b066ddd
Author: Jason Gustafson <ason@confluent.io>
Date:   Fri Jun 12 10:24:54 2015 -0700

    kafka-2266; Client Selector can drop idle connections without notifying NetworkClient; patched by Jason Gustafson; reviewed by Jun Rao

commit ab76dbd1f7f0bfdc9841baee64cfa37de1d870fb
Author: Ashish Singh <asingh@cloudera.com>
Date:   Thu Jun 11 15:27:51 2015 -0700

    kafka-2005; Generate html report for system tests; patched by Ashish Singh; reviewed by Jun Rao

commit 9f80665ec6deff8525b61096034af8dc0cc9a03c
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jun 10 11:28:53 2015 -0700

    KAFKA-2253; fix deadlock between removeWatchersLock and watcher operations list lock; reviewed by Onur Karaman and Jiangjie Qin

commit ca6d01bc690c2182a611bb65ca46995edc9f356e
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Jun 5 11:20:25 2015 -0700

    KAFKA-2246; UnknownTopicOrPartitionException should be an instance of InvalidMetadataException; reviewed by Ewen Cheslack-Postava and Joel Koshy

commit 78ba492e3e70fd9db61bc82469371d04a8d6b762
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Jun 3 21:40:35 2015 -0700

    kafka-1928; Move kafka.network over to using the network classes in org.apache.kafka.common.network; patched by Gwen Shapira; reviewed by Joel Koshy, Jay Kreps, Jiangjie Qin, Guozhang Wang and Jun Rao

commit d22987f01d50549d855ae092b69f520d75bfeb7b
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Jun 3 13:47:01 2015 -0700

    KAFKA-2208; add consumer side error handling upon coordinator failure; reviewed by Onur Karaman

commit 48edeca33b4d47f65ddf47c46b30d0ae605295b8
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jun 2 20:55:29 2015 -0700

    KAFKA-2161; Fix a few copyrights

commit 9e894aa0173b14d64a900bcf780d6b7809368384
Author: Yasuhiro Matsuda <yasuhiro.matsuda@gmail.com>
Date:   Mon Jun 1 14:15:16 2015 -0700

    kafka-2226; NullPointerException in TestPurgatoryPerformance; patched by Yasuhiro Matsuda; reviewed by Onur Karaman, Guozhang Wang and Jun Rao

commit 3d8494bca3074f49567f352f6eedd1ed008eeabd
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri May 29 14:50:45 2015 -0700

    KAFKA-2199 Make signing artifacts optional and disabled by
     default for SNAPSHOTs and allow remote Maven repository configuration from
     the command line.

commit 3836c57865fe9f75f193d9dbdc236c2b81133eac
Author: Ismael Juma <mlists@juma.me.uk>
Date:   Thu May 28 17:19:44 2015 -0700

    kafka-2185; Update to Gradle 2.4; patched by Ismael Juma; reviewed by Jun Rao

commit d6c45c70fb9773043766446e88370db9709e7995
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu May 28 13:27:05 2015 -0700

    KAFKA-2091; Expose a partitioner interface in the new producer
    (https://cwiki.apache.org/confluence/display/KAFKA/KIP-+22+-+Expose+a+Partitioner+interface+in+the+new+producer);
    reviewed by Joel Koshy and Jay Kreps

commit 05e8a78145fc3db673bb46be8ba1788558c5a26d
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu May 28 13:22:30 2015 -0700

    KAFKA-2186; Follow-up to KAFKA-1650 - add selective offset commit to consumer connector API; reviewed by Joel Koshy

commit c60f325014b911b8dec04848d598717e49b09011
Author: Ismael Juma <mlists@juma.me.uk>
Date:   Thu May 28 10:16:20 2015 -0700

    kafka-2189; Snappy compression of message batches less efficient in 0.8.2.1; patched by Ismael Juma; reviewed by Jun Rao

commit 43b92f8b1ce8140c432edf11b0c842f5fbe04120
Author: Vivek Madani <vivekpm@gmail.com>
Date:   Sun May 24 12:02:32 2015 -0700

    KAFKA-1737; Enforce ZKSerializer while creating ZkClient; reviewed by Guozhang Wang

commit 467736c7ad4a24e2eb1048b6fe4211bec02e4a05
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Thu May 21 14:32:58 2015 -0700

    Revert "KAFKA-2186; Follow-up to KAFKA-1650 - add selective offset commit to"
    
    This reverts commit 23ff851f30bb55e794aefd2fae5367845d9230ee.

commit 23ff851f30bb55e794aefd2fae5367845d9230ee
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed May 20 18:20:37 2015 -0700

    KAFKA-2186; Follow-up to KAFKA-1650 - add selective offset commit to
    consumer connector API; reviewed by Joel Koshy

commit b4f2391f9e6d7b8cd29a7d79365517c19799a9e7
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed May 20 18:10:45 2015 -0700

    KAFKA-2190; Flush mirror maker before commiting offsets; abort the
    mirror-maker producer with close(0) on send error; reviewed by Joel
    Koshy

commit bb133c63b0645c22f2d9b76393886fb506b14a93
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed May 20 10:27:39 2015 -0700

    KAFKA-1374; Log cleaner should be able to handle compressed messages; reviewed by Guozhang Wang

commit 29419581f5b28b66c7de7d5eb49b3bd6b62c9aba
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue May 19 21:39:00 2015 -0700

    KAFKA-2196; Remove identical topic constraint in round-robin assignor; reviewed by Guozhang Wang

commit 0ad646620614f257a0485ef3ff69ad8b83eeaf8d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue May 19 18:43:18 2015 -0700

    KAFKA-2160; remove watcher list if empty in purgatory; remove join-group purgatory in coordinator; reviewed by Jun Rao

commit 41ba26273b497e4cbcc947c742ff6831b7320152
Author: Parth Brahmbhatt <pbrahmbhatt@hortonworks.com>
Date:   Mon May 18 13:02:47 2015 -0700

    kafka-2169; Upgrade to zkclient-0.5; patched by Parth Brahmbhatt; reviewed by Jun Rao

commit 49026f11781181c38e9d5edb634be9d27245c961
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Thu May 14 14:54:59 2015 -0700

    KAFKA-1334; Add the heartbeat logic to consumer coordinator; reviewed by Guozhang Wang

commit 33af0cba3bff87874ae6cef61900cd065edad064
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue May 12 15:31:07 2015 -0700

    KAFKA-1660; Add API to the producer to support close with a timeout; reviewed by Joel Koshy and Jay Kreps.

commit 2d5e0f07613fba67a0e22aaeda61789588e6a73b
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue May 12 13:44:55 2015 -0700

    KAFKA-2163; The offsets manager's stale-offset-cleanup and offset load should be mutually exclusive; reviewed by Jun Rao

commit 9b57fe448f01b1b6f844908adf05dd26e174db48
Author: Todd Palino <tpalino@linkedin.com>
Date:   Tue May 12 13:39:42 2015 -0700

    KAFKA-2175; Change INFO to DEBUG for socket close on no error; and partition reassignment JSON; reviewed by Gwen Shapira and Joel Koshy

commit af506192332f223393639bb390c38a13e0f2ca82
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Mon May 11 17:41:54 2015 -0700

    KAFKA-2150; move partitionMapCond.await into partitionMapLock; reviewed by Guozhang Wang

commit 4328aa02c0fed198331d7bc6dcddf5d5065ef581
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu May 7 21:52:07 2015 -0700

    KAFKA-2121; add missing file

commit 5a47ef8ecbdf574bb18bd9ee5397188097924558
Author: Steven Wu <stevenz3wu@gmail.com>
Date:   Thu May 7 17:04:51 2015 -0700

    KAFKA-2121; Fix Closeable backward-compatibility; reviewed by Guozhang Wang

commit 31dadf0242e2c4884035f9da1b67d2e916e33743
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu May 7 15:48:40 2015 -0700

    KAFKA-1884; Add logging upon metadata response errors; reviewed by Guozhang Wang

commit 944628b0f5b5a7873c2bfd3d52c445b7ab0eaff3
Author: Ashish Singh <asingh@cloudera.com>
Date:   Mon May 4 11:58:46 2015 -0700

    KAFKA-2153 kafka-patch-review tool uploads a patch even if it is empty; reviewed by Neha Narkhede, Gwen Shapira

commit e40ebcff6a7da483b5b748053b223a2012c2274c
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Mon May 4 11:52:30 2015 -0700

    KAFKA-1886 SimpleConsumer swallowing ClosedByInterruptException; reviewed by Neha Narkhede

commit 161b1aa16ef0821c15fc7283d87cd83336b28d1a
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Sun May 3 17:26:20 2015 -0700

    KAFKA-2068 Phase 1; Merge in KAFKA-1841; reviewed by Jun Rao

commit f148d8659bca757ff889b404841b423d9e71ba41
Author: Joshi <rekhajoshm@gmail.com>
Date:   Mon Apr 27 14:02:15 2015 -0700

    KAFKA-1621 : Standardize --messages option. Closes #58

commit 2e90f5e51f688ca2e347668ab83d2d0c2730d071
Author: Jon Riehl <jriehl@spaceship.com>
Date:   Fri Sep 5 18:25:32 2014 -0500

    KAFKA-1054; Eliminate Scala Compilation Warnings
    
    Changes:
    - Suppressed compiler warnings about type erasure in matching via unboxing
    by Jon Riehl.
    - Suppressed warning caused by slight difference in input function type
    by John Riehl.
    - Fix compiler warnings: ServerShutdownTest, DelayedJoinGroup function
    signature by Blake Smith.
    - Fix Scala 2.11 warnings. `Pair` has been deprecated, `try` without
    `catch` and `finally` is useless and initialisation order fix by Ismael
    Juma.

commit 22b3db47e73931a72b8519155be3e48ab5e3849d
Author: Martin Lemanski <martin.lemanski@gmx.at>
Date:   Mon Apr 27 21:35:22 2015 -0500

    kafka-1940; Initial checkout and build failing; patched by Martin Lemanski; reviewed by Jun Rao

commit 97358411af15b64a4bc21c58a0e477fbe9c9b79d
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Apr 27 17:41:43 2015 -0700

    KAFKA-2121 Follow-up: minor bug fix as pointed out by Sean Lydon

commit dbfe8c0a7dfea65e9f32e6157da1c9a3ce256171
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Sun Apr 26 19:17:15 2015 -0500

    kafka-2118; Cleaner cannot clean after shutdown during replaceSegments; patched by Rajini Sivaram; reviewed by Jun Rao

commit ba3e089582d46b0193a734b6d1c5ebdd41da4dcc
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Sun Apr 26 13:09:00 2015 -0700

    KAFKA-2114 Unable to change min.insync.replicas default; reviewed by Neha

commit 1000bb6226d09f627b3d89f12300800ebee071e1
Author: Sasaki Toru <sasakitoa@nttdata.co.jp>
Date:   Sun Apr 26 12:52:26 2015 -0700

    KAFKA-2128 kafka.Kafka should return non-zero exit code when caught exception; reviewed by Neha

commit 4c010fc2d392a8367f1871745ec1bb19b99f558c
Author: Ismael Juma <mlists@juma.me.uk>
Date:   Sun Apr 26 12:12:51 2015 -0700

    KAFKA-2140 follow up, checking in newly renamed file ConsumerRebalanceFailedException

commit ae797467eb36d75083c87520d8ccaa759dafc7bb
Author: Sriharsha Chintalapani <harsha@hortonworks.com>
Date:   Sun Apr 26 09:37:14 2015 -0700

    KAFKA-2122 Remove controller.message.queue.size Config; reviewed by Neha Narkhede, Jun Rao, Onur

commit ed1a548c503f041c025e00e75d338b4fc4a51f47
Author: Ismael Juma <mlists@juma.me.uk>
Date:   Sun Apr 26 08:40:49 2015 -0700

    KAFKA-2140 Improve code readability; reviewed by Neha Narkhede

commit 622e707554f32bf239534c6d8aff566768b85f70
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Sat Apr 25 14:43:19 2015 -0700

    KAFKA-2034 sourceCompatibility not set in Kafka build.gradle; reviewed by Neha Narkhede and Ewen Cheslack-Postava

commit 2166104aff174e2ceb45638ca7be34f1db37e3e1
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Apr 24 12:41:32 2015 -0700

    KAFKA-2138; Fix producer to honor retry backoff; reviewed by Joel Koshy and Guozhang Wang

commit 01e94e2b4a22eb0dd9ec4c3bbc353d054b1904b1
Author: Steven Wu <stevenz3wu@gmail.com>
Date:   Wed Apr 22 10:12:45 2015 -0700

    KAFKA-2121; Close internnal modules upon client shutdown; reviewed by Ewen Cheslack-Postava and Guozhang Wang

commit 6b964461af23e604a1f7f96b24194c276efebe96
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Mon Apr 20 09:55:51 2015 -0700

    DelayedOperationTest.testRequestExpiry transient failure; reviewed by Neha Narkhede

commit ed11e177d4144a3a803b60f9040ee1bfc17b3b50
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Mon Apr 20 09:27:56 2015 -0700

    TopicConfigManager javadoc references incorrect paths; reviewed by Neha Narkhede

commit 3139cc31f6cab26f3dfd429c36280d1567dbf61a
Author: Jeff Holoman <jeff.holoman@gmail.com>
Date:   Sun Apr 19 11:46:18 2015 -0700

    kafka-1990; Add unlimited time-based log retention; patched by Jeff Holoman; reviewed by Jun Rao

commit 761711ecaf9ce8a876defdcaf6802c1e048edc3d
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Sun Apr 19 07:56:53 2015 -0700

    kafka-2131; Update new producer javadocs with correct documentation links; patched by Manikumar Reddy; reviewed by Jun Rao

commit 7c5b2405d89e279fbb2590a1c16147e488588ce6
Author: Ashish Singh <asingh@cloudera.com>
Date:   Sun Apr 19 07:53:46 2015 -0700

    kafka-1982; (add missing files) change kafka.examples.Producer to use the new java producer; patched by Ashish Singh; reviewed by Gwen Shapira, Mayuresh Gharat and Jun Rao

commit 5408931a2955adf8cb9d604d17dc9b5bd47b4d57
Author: Ashish Singh <asingh@cloudera.com>
Date:   Sun Apr 19 07:46:58 2015 -0700

    kafka-1982; change kafka.examples.Producer to use the new java producer; patched by Ashish Singh; reviewed by Gwen Shapira, Mayuresh Gharat and Jun Rao

commit 185eb9b59a9676f641af8bac8e8373ad4dfd5dc6
Author: Ashish Singh <asingh@cloudera.com>
Date:   Sat Apr 18 09:26:50 2015 -0700

    kafka-1994; Evaluate performance effect of chroot check on Topic creation; patched by Ashish Singh; reviewed by Gwen Shapira and Jun Rao

commit 35297a85ee4a0d9af8a3277b5ea79ed7c67496c2
Author: Zhiqiang He <ransom.hezhiqiang@huawei.com>
Date:   Sat Apr 18 08:49:01 2015 -0700

    kafka-2088; kafka-console-consumer.sh should not create zookeeper path when no brokers found and chroot was set in zookeeper.connect; patched by Zhiqiang He; reviewed by Gwen Shapira and Jun Rao

commit 813c4230d4c25fa3f411a9b9230cd3f605f09a28
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Apr 17 18:02:23 2015 -0700

    kafka-2119; ConsumerRecord key() and value() methods should not have throws Exception; patched by Ewen Cheslack-Postava; reviewed by Jun Rao

commit 5397d3c53e028a745f9d6dbfe8fc84c859656de0
Author: Rajini Sivaram <rajinisivaram@googlemail.com>
Date:   Thu Apr 16 10:26:49 2015 -0700

    kafka-2113; TestPurgatoryPerformance does not compile using IBM JDK; patched by Rajini Sivaram; reviewed by Yasuhiro Matsuda and Jun Rao

commit bfbd3acbf71fa1b913de154f7ffa12aead28a2d2
Author: Fangmin Lv <lvfangmin@gmail.com>
Date:   Wed Apr 15 11:16:58 2015 -0700

    KAFKA-2056; Fix transient testRangePartitionAssignor failure; reviewed by Guozhang Wang

commit 9e5d481c7ccb5ef82196b7093f3b916194bdd90d
Author: Flutra Osmani <flutra@gmail.com>
Date:   Tue Apr 14 14:42:53 2015 -0700

    KAFKA-1416; Unify sendMessages in TestUtils; reviewed by Guozhang Wang

commit 157fba840759e39bc1422fdca2597e2d9a77bfb2
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Apr 13 18:41:33 2015 -0700

    KAFKA-2117; Use the correct metadata field for reading offset struct; reviewed by Jun Rao and Jiangjie Qin

commit aa365639b2dd36d8feff761f09208154ce71964d
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Apr 13 09:21:53 2015 -0500

    kafka-2115; Error updating metrics in RequestChannel; patched by Gwen Shapira; reviewed by Jun Rao

commit fb86cf633833b1daa6ccf6f27b68836646d2bcba
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Apr 10 08:09:53 2015 -0700

    trivial fix for compilation error in scala 2.9.1

commit 26673f982e7da885cdb8f615cc7868237106de64
Author: Yasuhiro Matsuda <yasuhiro.matsuda@gmail.com>
Date:   Thu Apr 9 12:15:25 2015 -0700

    kafka-2112; make overflowWheel volatile; patched by Yasuhiro Matsuda; reviewed by Jun Rao

commit 2490b1c4994295ba6c291b1109c5d67ebb4c244d
Author: Tim Brooks <tbrooks8@gmail.com>
Date:   Wed Apr 8 19:06:05 2015 -0700

    kafka-2090; Remove duplicate check to metadataFetchInProgress; patched by Tim Brook; reviewed by Ewen Cheslack-PostavaJun Rao

commit 194d1fc030561fd06e39224584b58cc49e2f63e8
Author: Allen Wang <ax_wang@yahoo.com>
Date:   Wed Apr 8 17:21:29 2015 -0700

    kafka-2096; Enable keepalive socket option for broker to prevent socket leak; patched by Allen Wang; reviewed by Jun Rao

commit 6880f66c97f63b2d1f3750f1753ec8b6094cb8a5
Author: Yasuhiro Matsuda <yasuhiro.matsuda@gmail.com>
Date:   Wed Apr 8 15:19:59 2015 -0700

    kafka-1989; New purgatory design; patched by Yasuhiro Matsuda; reviewed by Guozhang Wang and Jun Rao

commit d3aa99c54a41d45d42c8fd19b98747b4190d8433
Author: Dave Beech <dbeech@apache.org>
Date:   Wed Apr 8 14:33:47 2015 -0700

    kafka-2109; Support retries in KafkaLog4jAppender; patched by Dave Beech; reviewed by Jun Rao

commit b47f811ee14a3a7507f435266bbbce85d71f7744
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Wed Apr 8 13:28:37 2015 -0700

    kafka-2104; testDuplicateListeners() has a typo; patched by Gwen Shapira; reviewed by Sriharsha Chintalapani, Onur Karaman and Jun Rao

commit fef709d51ae3d568c6b6a9ff41a16f1969d4ffd6
Author: Daniel Compton <desk@danielcompton.net>
Date:   Tue Apr 7 22:18:56 2015 -0700

    kafka-1517; Messages is a required argument to Producer Performance Test; patched by Daniel Compton; reviewed by Jun Rao

commit 06a26656ff103d2cdd7dc90f517278bd1df065a7
Author: Grant Henke <granthenke@gmail.com>
Date:   Tue Apr 7 21:13:20 2015 -0700

    kafka-1973; Remove the accidentally created LogCleanerManager.scala.orig; patched by Grant Henke; reviewed by Jun Rao

commit 013cda2d79e1b82755cf948b668f4fb40b4efe62
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Apr 7 15:38:36 2015 -0700

    KAFKA-1910 Follow-up; Revert the no-offset-committed error code; reviewed by Joel Koshy

commit 79f7cca85e9ed6511ad50cb9412bfa5c8e5b9ddb
Author: Sriharsha Chintalapani <harsha@hortonworks.com>
Date:   Tue Apr 7 15:26:26 2015 -0700

    KAFKA-1461; Implement per-partition back-off for replica fetcher; reviewed by Jun Rao and Guozhang Wang

commit d9ab917dcc972aa3ef3644aeb4c96094bd9e54d8
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Tue Apr 7 15:10:47 2015 -0700

    kafka-1992; checkEnoughReplicasReachOffset doesn't need to get requiredAcks; patched by Gwen Shapira; reviewed by Jeff Holoman, Jiangjie Qin and Jun Rao

commit b1cc72510792fdf83ac2d6f302ea07c7ea397ce4
Author: Pierre-Yves Ritschard <pyr@spootnik.org>
Date:   Tue Apr 7 14:40:06 2015 -0700

    kafka-2033; Small typo in documentation; patched by Pierre-Yves Ritschard; reviewed by Jun Rao

commit 04fce48e1af183d5133be1044d27e0f526e94f2a
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Apr 6 18:20:45 2015 -0700

    kafka-2099; BrokerEndPoint file, methods and object names should match; patched by Gwen Shapira; reviewed by Sriharsha Chintalapani and Jun Rao

commit 75e1cc8bc497e6aaa0dd05454d6c817ed0fb5e23
Author: Grant Henke <granthenke@gmail.com>
Date:   Mon Apr 6 13:34:31 2015 -0700

    kafka-2043; CompressionType is passed in each RecordAccumulator append; patched by Grant Henke; reviewed by Jun Rao

commit 9c23d93553a33c5d85231193614d192a9945796e
Author: Tong Li <litong02@us.ibm.com>
Date:   Sun Apr 5 21:46:11 2015 -0700

    kafka-1926; Replace kafka.utils.Utils with o.a.k.common.utils.Utils; patched by Tong Li; reviewed by Jun Rao

commit 53f31432a0e1da78abf31ad42297790445083072
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Sun Apr 5 17:21:37 2015 -0700

    kafka-1809; Refactor brokers to allow listening on multiple ports and IPs; patched by Gwen Shapira; reviewed by Joel Koshy and Jun Rao

commit 07598ad8a4e508e738c4af11f16b1649d90d5fdb
Author: paul mackles <paulm@loopr.com>
Date:   Sat Apr 4 19:36:54 2015 -0700

    KAFKA-1005 Shutdown consumer at the end of consumer performance test.

commit 9a071017ee80331dc5b776e04ee2ed77f1d751db
Author: Yaguo Zhou <zhouyaguo@gmail.com>
Date:   Sat Apr 4 16:05:45 2015 -0700

    KAFKA-1996 Fix scaladoc error.

commit 7acfa92c09bbfeb6d28a0771c09d36c9c89fc31f
Author: Rajini Sivaram <rajinisivaram@gmail.com>
Date:   Sat Apr 4 15:56:17 2015 -0700

    KAFKA-2024 Log compaction can generate unindexable segments.

commit a686a67f60beb42eb3d4942508fb15b636e5100d
Author: Yaguo Zhou <zhouyaguo@gmail.com>
Date:   Sat Apr 4 15:21:51 2015 -0700

    KAFKA-2002: Mx4JLoader doesn't disable when kafka_mx4jenable=false.

commit 70e5c92e213bff7502288c610c252735d6b68c08
Author: Tim Brooks <tim.brooks@staples.com>
Date:   Sat Apr 4 15:17:09 2015 -0700

    KAFKA-2050 Avoid calling .size() on linked list.

commit 6adaffd8ea4bc1f40bd5cf5268c30eb2df1868ab
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sat Apr 4 14:26:38 2015 -0700

    KAFKA-1501 Let the OS choose the port in unit tests to avoid collisions. Patch by Ewen CP, reviewed by Guozhang and me.

commit 15b93a410a8e988e09dc147c6d5250cbbe328b26
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Fri Apr 3 18:39:27 2015 -0700

    KAFKA-1546; Automate replica lag tuning; reviewed by Joel Koshy, Neha
    Narkhede, Jun Rao and Guozhang Wang

commit 48f997047228c327f91e8f848142b4607366fc3e
Author: Ted Malaska <ted.malaska@cloudera.com>
Date:   Fri Apr 3 11:43:52 2015 -0700

    KAFKA-1961 Prevent deletion of _consumer_offsets topic; reviewed by Neha Narkhede, Gwen Shapira and Jun Rao

commit ad722531daafadbcb27b0c0db0b9fcbb68b25b28
Author: Ted Malaska <ted.malaska@cloudera.com>
Date:   Thu Apr 2 18:20:54 2015 -0700

    kafka-2016; RollingBounceTest takes long; patched by Ted Malaska; reviewed by Jun Rao

commit 619d78eb521185f365a002e5f1987b75d3f35192
Author: Yasuhiro Matsuda <yasuhiro.matsuda@gmail.com>
Date:   Wed Apr 1 16:14:48 2015 -0700

    kafka-2013; benchmark test for the purgatory; patched by Yasuhiro Matsuda; reviewed by Jun Rao

commit 66c6f9b1c436187635674f82a9e9940d8f5331f2
Author: Ismael Juma <mlists@juma.me.uk>
Date:   Wed Apr 1 13:26:45 2015 -0700

    kafka-2039; Update Scala to 2.10.5 and 2.11.6; patched by Ismael Juma; reviewed by Jun Rao

commit d8fe98efee5a44ae12c1e3484fa20f89b0f30054
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Sat Mar 28 08:39:48 2015 -0700

    kafka-2044; Support requests and responses from o.a.k.common in KafkaApis; patched by Gwen Shapira; reviewed by Jun Rao

commit c5df2a8e3acca1e2c905fa6b78e73e09b1dd0cd7
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 26 17:16:33 2015 -0700

    KAFKA-1634; Bump up Offset Commit Request to v2 to add global retention and remove per-partition commit timestamp; reviewed by Joel Koshy and Jun Rao

commit d2f50fc3886896bc569fea7fb308036008b89f94
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 26 15:43:18 2015 -0700

    KAFKA-527; Use in-place decompression enabled inner iterator to replace old decompress function; reviewed by Joel Koshy and Jun Rao

commit 5b42b538eb46203f7fd308cb3d3f27dde98840b8
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Mar 25 14:01:19 2015 -0700

    KAFKA-2047; Move the stream creation into concurrent mirror maker threads; reviewed by Guozhang Wang

commit a74688de46c23dd34ad964372fbed05c1f7f4b3e
Author: Yasuhiro Matsuda <yasuhiro.matsuda@gmail.com>
Date:   Wed Mar 25 13:08:38 2015 -0700

    kafka-527; Compression support does numerous byte copies; patched by Yasuhiro Matsuda; reviewed by Guozhang Wang and Jun Rao

commit eb2100876b70d1e0d53a88c2513ca3a4ac7a1c1e
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Wed Mar 25 01:57:42 2015 -0400

    KAFKA-1856 Add PreCommit Patch Testing patch by Ashish K Singh reviewed by Gwen Shapira

commit 4e0da4965b83b25debdec4d55e075c18be436fa8
Author: Tao Xiao <xiaotao183@gmail.com>
Date:   Tue Mar 24 20:56:22 2015 -0700

    KAFKA-2048; Change lock synchronized to inLock() for partitionMapCond; reviewed by Guozhang Wang

commit 991195416e0c179d2d2a79891d0214244c287618
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Mar 24 15:48:46 2015 -0700

    KAFKA-2042; Update topic list of the metadata regardless of cluster information; reviewed by Guozhang Wang

commit c62cff355936eea2a96e3b9678c761334fce8ee2
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 19 16:10:23 2015 -0700

    trivial fix on coding style

commit b2c833aa41cb9a7a6232781b273402042e021607
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Mar 19 15:52:54 2015 -0700

    KAFKA-1910; Fix two bugs on MemoryRecords and KafkaConsumer; reviewed by Onur Karaman

commit 82789e75199fdc1cae115c5c2eadfd0f1ece4d0d
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Mar 18 14:58:11 2015 -0700

    KAFKA-1997; Hopefully last follow-up fix to get messageHandlerArgs right

commit 5bbbb7fddbddc823b0946fda6e82dfba4ab8b5fd
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Mar 17 14:22:01 2015 -0700

    KAFKA-1997; Follow-up to add the shutdown hook before starting the consumers; reviewed by Guozhang Wang

commit 1caaf6db400df7e37b7f0416bb83ab451018a5c8
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Fri Mar 13 15:17:08 2015 -0700

    KAFKA-1863; Add docs for possible thrown exception in Callback; reviewed by Jiangjie Qin

commit c41c7b40b63ecd668c727a897f29e276a1c5adf7
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Mar 13 15:06:10 2015 -0700

    KAFKA-1997; Refactor MirrorMaker based on KIP-3; reviewed by Joel Koshy and Guozhang Wang

commit b7439c8081465f8764e88326b3fa7b320f99f130
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu Mar 12 13:56:52 2015 -0700

    kafka-1461; Replica fetcher thread does not implement any back-off behavior; patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit 01f20e029fbd068a8493492a2c4a1364a5668579
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Wed Mar 11 16:25:21 2015 -0700

    KAFKA-1910 Follow-up again; fix ListOffsetResponse handling for the expected error codes

commit 1eb5f53aa4f5c5c0f67ce62d86e8d9b4e5bbc500
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Mar 10 17:31:17 2015 -0700

    KAFKA-1910; missed follow-up changes

commit 01d2a25235841feb01eac55f6ea5141750225a21
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Mar 10 16:18:00 2015 -0700

    KAFKA-1910; follow-up on fixing buffer.flip on produce requests

commit 0b92cec1e07a1f2d9aa70f3ecd7d0fb12290d2e2
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Tue Mar 10 11:19:48 2015 -0700

    KAFKA-1910; Refactor new consumer and fixed a bunch of corner cases / unit tests; reviewed by Onur Karaman and Jay Kreps

commit 67940c43e0efa6a49af1fe928fe73a13b21d57f1
Author: jqin <becket.qin@gmail.com>
Date:   Sun Mar 8 15:10:54 2015 -0700

    KAFKA-2009 Fix two minor bugs in mirror maker.

commit 8f0003f9b694b4da5fbd2f86db872d77a43eb63f
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Thu Mar 5 09:53:27 2015 -0500

    KAFKA-1845 KafkaConfig should use ConfigDef patch by Andrii Biletskyi reviewed by Gwen Shapira

commit 3a9f4b833bb7e86dc759361c33f4321ab043db05
Author: Tong Li <litong02@us.ibm.com>
Date:   Tue Mar 3 17:15:30 2015 -0800

    KAFKA-1988; Fix org.apache.kafka.common.utils.Utils.abs and add Partitioner.toPositive; reviewed by Jun Rao and Guozhang Wang

commit 00c643e6fd6b54c7270e2b5a27441d738c7bcbd5
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Mar 3 16:57:07 2015 -0800

    KAFKA-1755; trivial follow-up to fix comment in CleanerTest

commit 151ae42cdf2f54d83563da7c90cd087b99300408
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Tue Mar 3 16:53:50 2015 -0800

    kafka-1999; Fix failing unit-test: kafka.api.ProducerFailureHandlingTest > testNotEnoughReplicasAfterBrokerShutdown; patched by Gwen Shapira; reviewed by Jun Rao

commit 4c9ad9b8a23e5487fc17579c46472c3693114d8b
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Mar 3 16:14:03 2015 -0800

    KAFKA-2001; Trivial commit to fix OffsetCommitTest

commit 61f02fa542380e70c837fbc52deac74daec62505
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Mar 3 16:03:24 2015 -0800

    KAFKA-2001; Trivial commit to prevent OffsetCommitTest from hanging

commit 57d38f672bcb85fdb20d8ca3fab9bd60d1bc8965
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Tue Mar 3 11:21:04 2015 -0800

    KAFKA-1986; Request failure rate should not include invalid message size and offset out of range; reviewed by Joel Koshy

commit c5d654acb2097eabb1784dcc88145e111a3d037b
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Mar 3 11:18:07 2015 -0800

    KAFKA-1499; trivial follow-up (remove unnecessary parentheses)

commit 616987d196b654486a1261f4eed50e48560e3041
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Tue Mar 3 11:16:38 2015 -0800

    KAFKA-1852; Reject offset commits to unknown topics; reviewed by Joel Koshy

commit 1cd6ed9e2c07a63474ed80a8224bd431d5d4243c
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Mar 3 10:44:04 2015 -0800

    KAFKA-1755; Reject compressed and unkeyed messages sent to compacted topics; reviewed by Mayuresh Gharat, Neha Narkhede and Guozhang Wang

commit 0636928d961a6ceaab46d908f9372d913c3e5faf
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sat Feb 7 12:01:51 2015 -0800

    KAFKA-1865 Add a flush() method to the producer.

commit 22ff9e943a960a73d2f007b2c52b90e675a61299
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Sat Feb 28 07:41:27 2015 -0800

    KAFKA-1824 ConsoleProducer - properties key.separator and parse.key no longer work; reviewed by Neha Narkhede

commit 687abc98a4600bf90ed7a7acb6fb2a5e6eac2055
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Fri Feb 27 16:10:37 2015 -0800

    KAFKA-1866 LogStartOffset gauge throws exceptions after log.delete(); reviewed by Neha Narkhede

commit b56f5973c739072350f3f6bf6efa4eb05bc692bf
Author: Ashish Singh <asingh@cloudera.com>
Date:   Fri Feb 27 15:09:41 2015 -0800

    KAFKA-1664 Kafka does not properly parse multiple ZK nodes with non-root chroot; reviewed by Neha Narkhede and Jun Rao

commit a864172da53db009607989e2d7a6c0ff1c600995
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Feb 27 14:11:21 2015 -0800

    Deleting the ConsumerTest until the issue with the hanging test is resolved; discussed on the mailing list and got several +1s

commit e39373d16bc208128d5d6cf0e0672f27f35e3b20
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Feb 26 18:02:19 2015 -0800

    kafka-1400; transient unit test failure in SocketServerTest; patched by Jun Rao; reviewed by Ewen Cheslack-Postava and Jiangjie Qin

commit ef252dea704192a8055367d22e45f673f5b06e94
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Feb 26 15:03:12 2015 -0800

    kafka-1881; transient unit test failure in testDeleteTopicWithCleaner due to OOME; patched by Ewen Cheslack-Postava; reviewed by Jun Rao

commit b8904e9614b4c1f11b8487e7a4b88b1e37e1f20b
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Feb 25 10:59:28 2015 -0800

    KAFKA-1953; KAFKA-1962; Disambiguate purgatory metrics; restore delayed request metrics; reviewed by Guozhang Wang

commit 10311c138923dcded5d8f57f587c7f7ef1119dac
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Feb 24 14:07:27 2015 -0800

    kafka-1984; java producer may miss an available partition; patched by Jun Rao; reviewed by Ewen Cheslack-Postava, Jay Kreps, and Guozhang Wang

commit 7c82afddc812908f9289ded4e2cb0733b8116a77
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue Feb 24 08:25:27 2015 -0800

    Added script for bin/kafka-consumer-groups.sh that was mistakenly dropped from the original patch for KAFKA-1476

commit 41189ea5601837bdb697ade31f55e244abbe6d1c
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Feb 23 11:51:32 2015 -0800

    kafka-1971; starting a broker with a conflicting id will delete the previous broker registration; patched by Jun Rao; reviewed by Neha Narkhede

commit 3f1e0882297a102843dcd17e05f54ddbedb4882a
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sat Feb 21 21:10:28 2015 -0800

    KAFKA-1757 Unmap file prior to delete on windows.

commit 62c7e0e485b8b7693354c3a0a0bf95af671c93b6
Author: Honghai Chen <waldenchen@163.com>
Date:   Sat Feb 21 20:26:57 2015 -0800

    KAFKA-1947 can't explicitly set replica-assignment when add partitions; reviewed by Neha Narkhede

commit 19031823c15cb3a0e5fcecaaf5de79c09b5300ed
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Feb 4 17:01:51 2015 -0800

    KAFKA-1919: Always update the metadata, when a metadata response is received to ensure we back off.

commit fbb11549743aa00420e40696f11b48a705dce019
Author: Yasuhiro Matsuda <yasuhiro.matsuda@gmail.com>
Date:   Fri Feb 20 16:33:01 2015 -0800

    Leaner DelayedItem; reviewed by Neha Narkhede and Joel Koshy

commit 8c1b9325be4adc5065c6dbe3dcdbdccb1887d604
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Fri Feb 20 16:22:15 2015 -0800

    KAFKA-1867 liveBroker list not updated on a cluster with no topics; reviewed by Neha Narkhede

commit 38346fb106064a10047ecc7cefa634c6f1b09960
Author: Yaguo Zhou <zhouyaguo@gmail.com>
Date:   Fri Feb 20 14:36:20 2015 -0800

    Minor typo in KafkaConfig; reviewed by Gwen Shapira

commit 4c8817e3d156416240906dd06a4494386949ba0a
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Feb 18 17:53:45 2015 -0800

    KAFKA-1729; (followup patch)Add constructor to javaapi to allow
    constructing explicitly versioned offset fetch requests; reviewed by Jun Rao

commit f7f8ac1a8864acdbfc52326edc7cbeb9e35f4adf
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Wed Feb 18 16:36:58 2015 -0800

    KAFKA-1914; follow-up to fix SimpleFetchTest; reviewed by Joel Koshy

commit 8d72816f48d18d61e8ef8b174896c6d177a09a92
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Feb 18 14:38:03 2015 -0800

    KAFKA-1914; follow-up to address unit test failure

commit f5684366ef60125c4d799121a6c0adca4744e8ab
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Feb 18 13:39:05 2015 -0800

    kafka-1952; High CPU Usage in 0.8.2 release; patched by Jun Rao; reviewed by Guozhang Wang, Ewen Cheslack-Postava and Neha Narkhede

commit d5fbba633612fd08f15c523362a0c1ff5a121ff2
Author: Tong Li <litong01@us.ibm.com>
Date:   Tue Feb 17 23:49:57 2015 -0800

    KAFKA-1960; .gitignore does not exclude test generated files and folders; reviewed by Joel Koshy and Gwen Shapira

commit cdf06564458ac384119d21ac8b25a3a7ebe27014
Author: Tong Li <litong01@us.ibm.com>
Date:   Tue Feb 17 23:48:21 2015 -0800

    KAFKA-1959; Rename group to groupId in TestOffsetManager due to collision with Thread.group in IBM's JDK; reviewed by Joel Koshy and Gwen Shapira

commit cb40ec2e7a73bdecdfea6c88ffd8e8717b630d0f
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Tue Feb 17 17:36:12 2015 -0800

    KAFKA-1914; Include total produce/fetch stats in broker topic metrics.

commit b8be3140b68cb62d908ca78fe280b089ded851b8
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Tue Feb 17 17:33:04 2015 -0800

    KAFKA-1943; MessageSizeTooLarge and MessageSetSizeTooLarge should not be counted toward broker-side producer failure rate

commit 5b949c7b1ad5ab3f71cae6024eea10b59a7ad9b6
Author: Parth Brahmbhatt <pbrahmbhatt@hortonworks.com>
Date:   Tue Feb 17 16:18:35 2015 -0800

    KAFKA-1805; ProducerRecord should implement equals and hashCode; reviewed by Guozhang Wang

commit eab4f4c9f43e20b3d91bf0e2e9be6b6fd72f0acf
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Fri Feb 13 13:08:10 2015 -0800

    KAFKA-1697; Remove support for producer ack > 1 on the broker; reviewed by Joel Koshy

commit a3d6dcaf1bcc6189c3ef17b63719ae4d12dcb789
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Thu Feb 12 17:09:42 2015 -0800

    KAFKA-1948; Fix ConsumerTest.testPartitionReassignmentCallback handling issue; reviewed by Gwen Shapira

commit 9fe9913e95e1d3e114c74620d8da40f804f71b18
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue Feb 10 11:58:54 2015 -0800

    KAFKA-1476 Added a ConsumerCommand tool that will replace other consumer related tools in the future; reviewed by Neha Narkhede

commit 71602de0bbf7727f498a812033027f6cbfe34eb8
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 9 15:24:44 2015 -0800

    KAFKA-1333 follow-up; Add missing files for the coordinator folder

commit 39cd48de321585ac55c94ec407fede5858f38962
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 9 15:13:10 2015 -0800

    KAFKA-1333; Add the consumer coordinator to server; reviewed by Onur Karaman and Jay Kreps

commit 0839def4bdbfd9f5939e463f42cfbc81a98a8eff
Author: Guozhang Wang <wangguoz@gmail.com>
Date:   Mon Feb 9 09:33:16 2015 -0800

    KAFKA-1925; Fix coordinator broker id stuck with INT_MIN; reviewed by Jay Kreps

commit 1c6d5bbac672cbf49591aed0889510b10e3285fa
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Feb 2 21:36:21 2015 -0800

    KAFKA-1915: Add checkstyle for java code.

commit f1ba4ff87e60a6dc06fb3d16e84fa94f8c4a7d9e
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Mon Feb 2 18:17:15 2015 -0800

    KAFKA-1729; Add constructor to javaapi to allow constructing explicitly versioned offset commit requests; reviewed by Jun Rao

commit 75a286e4308831203cc7e1d4748bdab504e8a1f3
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Jan 29 20:09:36 2015 -0800

    KAFKA-1760 Follow-up: fix compilation issue with Scala 2.11

commit 0699ff2ce60abb466cab5315977a224f1a70a4da
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sun Jan 11 11:29:48 2015 -0800

    KAFKA-1760: New consumer.

commit 11ec9bf5a5f150e5c172f88bb3e60b197ee9df5a
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Jan 28 19:33:15 2015 -0600

    KAFKA-1861; Publishing kafka-client:test in order to utilize the helper utils in TestUtils; patched by Manikumar Reddy; reviewed by Jun Rao

commit f689e9b1e361cdf47e9966567631c06f614e446d
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Jan 28 19:07:39 2015 -0600

    KAFKA-1902; fix MetricName so that Yammer reporter can work correctly; patched by Jun Rao; reviewed by Manikumar Reddy, Manikumar Reddy and Joel Koshy

commit 0f6cc0a058bbd2736f1e638448fc64b58a9f6b41
Author: Eric Olander <olandere@gmail.com>
Date:   Sun Jan 25 19:27:54 2015 -0800

    KAFKA-1818 KAFKA-1818 clean up code to more idiomatic scala usage; reviewed by Neha Narkhede and Gwen Shapira

commit 0b171dee1fca16595f635bc9991056712e9e3b1a
Author: jaikiran pai <jai.forums2013@gmail.com>
Date:   Sun Jan 25 19:15:51 2015 -0800

    KAFKA-1885 Upgrade junit dependency in core to 4.6 version to allow running individual test methods via gradle command line; reviewed by Neha Narkhede

commit 4aa3dab3de088096461941353ba27cb37f1bd9d1
Author: jaikiran pai <jai.forums2013@gmail.com>
Date:   Sun Jan 25 18:54:51 2015 -0800

    KAFKA-1883 Fix NullPointerException in RequestSendThread; reviewed by Neha Narkhede

commit 995d0d369363ef3ad7cf43980746c52768b4df2e
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Sun Jan 25 18:43:17 2015 -0800

    KAFKA-1109 Need to fix GC log configuration code, not able to override KAFKA_GC_LOG_OPTS; reviewed by Neha Narkhede

commit ff5cbcacc6fc3217ea41c624fb293adeae7bb672
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Jan 23 18:23:32 2015 -0800

    KAFKA-1896; Record size function should check if value is null; reviewed by Guozhang Wang

commit 8cff9119f8d125e55898e2095512b90826522336
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Jan 23 09:07:12 2015 -0800

    KAFKA-1890 Fix bug preventing Mirror Maker from successful rebalance; reviewed by Gwen Shapira and Neha Narkhede

commit 54e53b7312274a3599229a36caa35f0cd931e341
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Thu Jan 22 22:29:33 2015 -0500

    KAFKA-1891 MirrorMaker hides consumer exception - making troubleshooting challenging patch by Gwen Shapira reviewed by Joe Stein

commit a0852d477ec097bd4efe120c21de020fccf6dc49
Author: Aditya Auradkar <aauradkar@linkedin.com>
Date:   Wed Jan 21 17:25:54 2015 -0800

    KAFKA-1848; check consumer shutting down flag inside retry loop; reviewed by Guozhang Wang

commit fcc2521858efd1bd99e06c319de9489330125a4d
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Jan 20 13:13:50 2015 -0800

    KAFKA-1823; Fix transient failure in PartitionAssignorTest; reviewed by Guozhang Wang and Neha Narkhede

commit 5d648cfdb13dee078bb1b3415f77dbe2d47d7ec4
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jan 19 11:18:23 2015 -0800

    KAFKA-1876; pom file for scala 2.11 should reference a specific version; patched by Jun Rao; reviewed by Joe Stein and Sriharsha Chintalapani

commit 07cff763633f20f51310e4f123963aaa0c008b2f
Author: jaikiran pai <jai.forums2013@gmail.com>
Date:   Mon Jan 19 09:05:25 2015 -0800

    KAFKA-1878; ProducerFailureHandlingTest.testCannotSendToInternalTopic fails with TimeoutException while trying to fetch metadata for topic; patched by jaikiran pai; reviewed by Jun Rao

commit 49d7f8ee1cd96a99f44ac48043db9ad8a5336c7d
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Jan 19 08:44:53 2015 -0800

    KAFKA-1723; num.partitions documented default is 1 while actual default is 2; patched by Manikumar Reddy; reviewed by Jun Rao

commit 09234f0e5206b8cb55e89cffc4a0ecfbaafc7f86
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 16 19:04:11 2015 -0800

    trivial change to remove -UseCompressedOops option from script

commit 5174df53778cb5cb2d6d86e4cec9f3185a2c85db
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 16 18:56:32 2015 -0800

    kafka-1864; Revisit defaults for the internal offsets topic; patched by Jun Rao; reviewed by Jeol Koshy, Neha Narkhede, and Gwen Shapira

commit 1769642bb779921267bd57d3d338591dbdf33842
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 16 18:34:39 2015 -0800

    kafka-1870; Cannot commit with simpleConsumer on Zookeeper only with Java API; patched by Jun Rao; reviewed by Jeol Koshy and Sriharsha Chintalapani

commit 602d572f6365f80f14e8c968390972ea9767e263
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Jan 15 17:58:32 2015 -0800

    kafka-1868; ConsoleConsumer shouldn't override dual.commit.enabled to false if not explicitly set; patched by Jun Rao; reviewed by Jeol Koshy

commit 45697ed6c6132475b5dd4dd0069a2a192a75d329
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Thu Jan 15 08:04:29 2015 -0800

    KAFKA-1499; Trivial follow-up (fix comments and whitespace)

commit 1c8f89bc73ec1844371c812215b255db037e24a5
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Jan 14 15:16:53 2015 -0800

    KAFKA-1499; Broker-side compression configuration; reviewed by Joel Koshy

commit a611178408cf8497054ff015caba18cfcff70a60
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Jan 14 12:02:50 2015 -0800

    KAFKA-1723 (delta patch to fix javadoc); make the metrics name in new producer more standard; patched by Manikumar Reddy; reviewed by Jun Rao

commit bfb2da3c82ab01f5914d5559ee196d5aa977b17c
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 13 09:54:32 2015 -0800

    trivial change to add byte serializer to ProducerPerformance; patched by Jun Rao

commit e79ebdfe222288f2c5d997ba7e7c5e18c8c514ed
Author: Jaikiran Pai <jai.forums2013@gmail.com>
Date:   Tue Jan 13 09:39:20 2015 -0800

    KAFKA-1854 Allow JIRA username and password to be prompted in the absence of a jira.ini file, during patch submission; reviewed by Neha Narkhede

commit 688e38ce45a7358a1e0bb359aa9b1a698a841619
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Jan 12 22:01:43 2015 -0800

    KAFKA-1723; make the metrics name in new producer more standard; patched by Manikumar Reddy; reviewed by Jay Kreps and Jun Rao

commit 6f4dea9dbce5cc9f69a917182981b41a56a98a85
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jan 12 18:45:45 2015 -0800

    kafka-1797; (missed parametric in a few files) add the serializer/deserializer api to the new java client; patched by Jun Rao

commit 14779dddb6a9bb3aefbaa825a62874f89bb47d2c
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Mon Jan 12 21:12:26 2015 -0800

    KAFKA-1819 Cleaner gets confused about deleted and re-created topics; reviewed by Neha Narkhede

commit ad4883a0cd5afc4219e28cdafbd98576eeaee2d1
Author: Jaikiran Pai <jai.forums2013@gmail.com>
Date:   Mon Jan 12 15:58:36 2015 -0800

    KAFKA-1836 metadata.fetch.timeout.ms set to zero blocks forever; reviewed by Neha Narkhede and Ewen Cheslack-Postava

commit b1b80860a01cc378cfada3549a3480f0773c3ff8
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Mon Jan 12 15:45:13 2015 -0800

    KAFKA-1070 Auto assign broker id; reviewed by Neha Narkhede

commit e52a6181bf0969f315ac0f0d325eac34d2b4a6ee
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 9 11:33:48 2015 -0800

    kafka-1851; OffsetFetchRequest returns extra partitions when input only contains unknown partitions; patched by Jun Rao; reviewed by Neha Narkhede

commit a93ef199b2375c422e35d82ac7aa3a2fdacc1e74
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 9 11:27:00 2015 -0800

    kafka-1797; (addressing Manikumar Reddy's comment) add the serializer/deserializer api to the new java client; patched by Jun Rao; reviewed by Manikumar Reddy and Neha Narkhede

commit f82518a85001307334132056fe32c28b452cf48b
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Tue Jan 6 22:40:27 2015 -0500

    KAFKA-1512 Fixes for limit the maximum number of connections per ip address patch by Jeff Holoman reviewed by Jay Krepps and Gwen Shapira

commit 517503db2616531b08ee4d08d39c0e1c0bd19e97
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 6 12:10:04 2015 -0800

    kafka-1797; (delta follow-up patch) add the serializer/deserializer api to the new java client; patched by Jun Rao; reviewed by Neha Narkhede

commit 50b734690a93e58030f69cede8d0a84d1e3f5461
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 6 11:07:46 2015 -0800

    kafka-1797; (follow-up patch) add the serializer/deserializer api to the new java client; patched by Jun Rao; reviewed by Jay Kreps

commit 4471dc08b64809f3cdcbff6b8c830e13df87b117
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Jan 6 10:56:32 2015 -0800

    kafka-1642; (followup patch) [Java New Producer Kafka Trunk] CPU Usage Spike to 100% when network connection is lost; patched by Ewen Cheslack-Postava; patched by Ewen Cheslack-Postava; reviewed by Jun Rao

commit 10c6dec34dae8820bf7ce24839c938135f9a9189
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Dec 23 17:04:45 2014 -0800

    KAFKA-1650; (Follow-up patch) to support no data loss in mirror maker; reviewed by Joel Koshy

commit 84521872d18dd90aff6eb47d470893f64749783f
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Thu Dec 18 17:05:02 2014 -0800

    KAFKA-1824 - fix ConsoleProducer so parse.key and key.separator will work again; reviewed by Neha Narkhede

commit 92d1d4cd31e1045f0e000e8d2d777c73f7529743
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Dec 17 16:29:09 2014 -0800

    kafka-1797; add the serializer/deserializer api to the new java client; patched by Jun Rao; reviewed by Neha Narkhede

commit ae0bb84fa7e599774cd984196dc62b3dc84b13ca
Author: Ashish Singh <asingh@cloudera.com>
Date:   Tue Dec 16 20:33:11 2014 -0800

    KAFKA-742: Existing directories under the Kafka data directory without any data cause process to not start; reviewed by Neha Narkhede

commit 523b36589e942cb99a95debd2c45e795ae533d08
Author: Anatoly Fayngelerin <fanatoly@gmail.com>
Date:   Fri Dec 12 11:51:41 2014 -0800

    kafka-1813; Build fails for scala 2.9.2; patched by Anatoly Fayngelerin; reviewed by Jun Rao

commit 0ef631bc694d0c6071450c43501ca319a58859f4
Author: Chris Cope <ccope@resilientscience.com>
Date:   Fri Dec 12 11:37:57 2014 -0800

    kafka-1815; ServerShutdownTest fails in trunk; patched by Chris Cope; reviewed by Jun Rao

commit e8ffbd0fee0bc715ad0fe6c9afe85715f84d8e51
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Fri Dec 12 03:46:29 2014 -0500

    KAFKA-1812 Allow IpV6 in configuration with parseCsvMap patch by Jeff Holoman reviewed by Gwen Shapira and Joe Stein

commit 2801629964882015a9148e1c0ade22da46376faa
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Dec 5 15:18:25 2014 -0800

    KAFKA-1650; avoid data loss when mirror maker shutdown uncleanly; reviewed by Guozhang Wang

commit 4fc74958e3569f6179c11fddace99b674c81f370
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Dec 5 09:18:26 2014 -0800

    KAFKA-1807 Improve accuracy of ProducerPerformance target throughput; reviewed by Neha Narkhede

commit 09e2fd651e0a98a96107f0ee1087c785a54b4e20
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Fri Dec 5 08:37:11 2014 -0500

    KAFKA-1173 Using Vagrant to get up and running with Apache Kafka patch by Ewen Cheslack-Postava reviewed by Joe Stein

commit 3cc10d5ff9bf73cff2045685f89d71fee92a41f4
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Dec 4 13:51:44 2014 -0800

    KAFKA-1720; Renamed Delayed Operations after KAFKA-1583; reviewed by Gwen Shapira and Joel Koshy

commit 7e9368baf2e1cd457293b815a665e5d3e4418dfb
Author: Dave Parfitt <diparfitt@gmail.com>
Date:   Tue Dec 2 17:53:21 2014 -0800

    kafka-1803; UncleanLeaderElectionEnableProp in LogConfig should be of boolean; patched by Dave Parfitt; reviewed by Jun Rao

commit 15f9e2762d32a0345a5ca13a1e981be646856b41
Author: Raman Gupta <rocketraman@gmail.com>
Date:   Tue Dec 2 16:35:02 2014 -0800

    kafka-1801; Remove non-functional variable definition in log4j.properties; patched by Raman Gupta; reviewed by Jun Rao

commit 723fa4c40d2d04a8557ef9a0ae1626e56f30a9a3
Author: Balaji Seshadri <balaji.seshadri@dish.com>
Date:   Tue Dec 2 15:17:20 2014 -0800

    KAFKA-328 Write unit test for kafka server startup and shutdown API; reviewed by Neha Narkhede

commit b24f9c0890302a5149aaaf26dc933bd0a842f1be
Author: dokovan <dokovan@hotmail.com>
Date:   Mon Dec 1 16:24:31 2014 -0800

    kafka-1798; ConfigDef.parseType() should throw exception on invalid boolean value; patched by dokovan; reviewed by Jun Rao

commit 74bc8860c3c3d582f88581fc7d9edffdfa2dc3a5
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Dec 1 16:04:01 2014 -0800

    kafka-1799; (add missing test file) ProducerConfig.METRIC_REPORTER_CLASSES_CONFIG doesn't work; patched by Manikumar Reddy; reviewed by Jun Rao

commit 8a719e037201e343e22a3d2479651e781ddaccc1
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Dec 1 16:02:47 2014 -0800

    kafka-1799; ProducerConfig.METRIC_REPORTER_CLASSES_CONFIG doesn't work; patched by Manikumar Reddy; reviewed by Jun Rao

commit 4408f487ae911e29dbc6ef4d94010a6fad702109
Author: Jean-Francois Im <jeanfrancois.im@gmail.com>
Date:   Mon Dec 1 10:09:58 2014 -0800

    KAFKA-1783; Add missing slash in documentation for consumer's ZK path; reviewed by Guozhang Wang

commit 834b6419806750ff555e8ffd104caa420004e84e
Author: Dmytro Kostiuchenko <edio@archlinux.us>
Date:   Tue Nov 25 14:36:31 2014 -0800

    kafka-1667; topic-level configuration not validated; patched by Dmytro Kostiuchenko; reviewed by Jun Rao

commit 9f8b8dad2b7ad31c9595f559f6d9e7d07d2f696d
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Nov 24 14:38:49 2014 -0800

    KAFKA-1580; disallow non-admin clients to produce to internal (e.g. offsets) topics; reviewed by Joel Koshy

commit 72601f783e24217734a3923c6318e12a0f600d0f
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Nov 24 11:44:48 2014 -0800

    KAFKA-1624; bump up default scala version to 2.11.4 to compile with java 8; reviewed by Joe Stein, Gwen Shapira and Joel Koshy

commit 409c367ceb5f9eae395cb346dd3fa02b8ee8ee70
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sun Nov 23 16:40:58 2014 -0800

    KAFKA-1654 Provide a way to override server configuration from command line; reviewed by Neha Narkhede

commit f0fd70929a1ad607aa1fbf6ed9b40b16ab95b807
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Nov 21 14:25:18 2014 -0800

    KAFKA-1770; clarify descriptive comments of UnknownTopicOrPartitionException; reviewed by Guozhang Wang

commit 457744a820d806e546edebbd8ffd33f6772e519f
Author: Vladimir Tretyakov <vladimir.tretyakov@sematext.com>
Date:   Wed Nov 19 17:57:41 2014 -0800

    kafka-1481; Stop using dashes AND underscores as separators in MBean names; patched by Vladimir Tretyakov; reviewed by Joel Koshy and Jun Rao

commit 1c7d783dd648d0e691ad80cb1357c52d3f0af11a
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Tue Nov 18 19:03:51 2014 -0800

    kafka-1743; ConsumerConnector.commitOffsets in 0.8.2 is not backward compatible; patched by Manikumar Reddy; reviewed by Jun Rao

commit 6f4b8a10115a7373917cf2a55b74aa8a14c547b9
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Nov 17 18:53:16 2014 -0800

    kafka-17693; javadoc should only include client facing packages; patched by Jun Rao; reviewed by Neha Narkhede

commit 26ad54c109db9eca01df926255017ece3eb65645
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Nov 14 15:15:14 2014 -0800

    kafka-1721; Snappy compressor is not thread safe; patched by Ewen Cheslack-Postava; reviewed by Jun Rao

commit 7d89867c05a7cca6e76cc48c47f8e703d68a9a43
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Nov 14 14:30:04 2014 -0800

    kafka-1642; [Java New Producer Kafka Trunk] CPU Usage Spike to 100% when network connection is lost; patched by Ewen Cheslack-Postava; reviewed by Guozhang Wang and Jun Rao

commit ca2cf97a6b151566f091a5dd016b93dfdaf87628
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Nov 14 10:02:45 2014 -0800

    KAFKA-1764; ZookeeperConsumerConnector should not put multiple shutdown commands to the same data chunk queue; reviewed by Joel Koshy and Guozhang Wang

commit 8c35030e4d24e603e5dbd53862ca6ae4fe59b4e9
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Thu Nov 13 20:58:03 2014 -0800

    Revert "KAFKA-1764; ZookeeperConsumerConnector should not put multiple shutdown commands to the same data chunk queue; reviewed by Joel Koshy and Guozhang Wang"
    
    This reverts commit d99af88eafefbfd1c537a64f8107cd9041346015.

commit d99af88eafefbfd1c537a64f8107cd9041346015
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu Nov 13 18:10:35 2014 -0800

    KAFKA-1764; ZookeeperConsumerConnector should not put multiple shutdown commands to the same data chunk queue; reviewed by Joel Koshy and Guozhang Wang

commit 2cd9ae74544efe049393e1a6bf60533aea956d7d
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Nov 12 15:54:50 2014 -0800

    KAFKA-1762; Update max-inflight-requests doc-string in producer config to note risk of reordering in the presence of retries

commit 53160bb07c9f77ed21f486ed448aff0277c139b0
Author: Onur Karaman <okaraman@linkedin.com>
Date:   Tue Nov 11 18:42:22 2014 -0800

    KAFKA-1742; ControllerContext removeTopic does not correctly update state; reviewed by Joel Koshy, Guozhang Wang and Neha Narkhede

commit 9b3da9fbfd60e3a0482ec7bd615dc9806cd9941c
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Sun Nov 9 20:23:46 2014 -0800

    KAFKA-1739 Remove testComplexCompressDecompress in MessageCompressionTest; reviewed by Neha Narkhede

commit f20e5108a271e1fc37ca6752773efa74e2fef67f
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Nov 7 10:46:21 2014 -0800

    kafka-1738; Partitions for topic not created after restart from forced shutdown; patched by Jun Rao; reviewed by Neha Narkhede

commit cbdcd5f108d783e9d0e758fbf0d8479968db3a68
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 6 18:16:13 2014 -0800

    KAFKA-1746 System tests don't handle errors well; reviewed by Neha Narkhede

commit 06e1a6552e2c1de08c185359f3114eb12e61cfae
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Nov 6 18:13:14 2014 -0800

    KAFKA-1747 TestcaseEnv improperly shares state between instances; reviewed by Neha Narkhede

commit 4bb020212aa0260a750b69dc18856cf25c1e7011
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Nov 4 10:09:22 2014 -0800

    KAFKA-1706; Add a byte bounded blocking queue utility; reviewed by Joel Koshy

commit 58e3f99e244d6c4b9ad4166cc5fcf75561d87dab
Author: Marc Chung <mchungWgmail.com>
Date:   Mon Nov 3 21:17:21 2014 -0800

    kafka-1733; Producer.send will block indeterminately when broker is unavailable; patched by Marc Chung; reviewed by Jun Rao

commit 1ed9cf6d03603518d950f7e9a5f122c4ed5d7cee
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Thu Oct 30 16:06:13 2014 -0700

    KAFKA-1647; Create replicas on follower transition even if leader is
    unavailable, otherwise replication offset checkpoints (high water marks)
    can be lost on hard kills and restarts; reviewed by Joel Koshy, Neha
    Narkhede, Jun Rao and Guozhang Wang

commit 89831204c092f3a417bf41945925a2e9a0ec828e
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Oct 29 17:11:03 2014 -0700

    KAFKA-1583; Encapsulate replicated log implementation details into
    ReplicaManager and refactor KafkaApis; reviewed by Joel Koshy and Jun
    Rao

commit 20f5b01feacd1e95d558073b7be511cb82888b3e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Oct 27 16:23:24 2014 -0700

    KAFKA-1732 DumpLogSegments tool fails when path has a '.'; reviewed by Neha Narkhede

commit 43cb192b59ab676d35c38f9144fbc98a954a11d3
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Fri Oct 24 09:26:39 2014 -0700

    KAFKA-1719 Make mirror maker exit when one consumer/producer thread exits; reviewed by Neha Narkhede, Joel Koshy and Guozhang Wang

commit 12ce4b1e1e0e6ec7fd3585baf3ed531ecc16a5d9
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Oct 24 09:04:14 2014 -0700

    KAFKA-1725 Configuration file bugs in system tests add noise to output and break a few tests; reviewed by Neha Narkhede

commit e402c7be723e5f189a8f2b4f91a28f3b26ea9112
Author: Joe Crobak <joecrow@gmail.com>
Date:   Thu Oct 23 17:06:49 2014 -0700

    kafka-1711; WARN Property topic is not valid when running console producer; patched by Joe Crobak; reviewed by Jun Rao

commit b77099626e8fc258abed67dc10b2816347ba0f2b
Author: Geoffrey Anderson <granders@gmail.com>
Date:   Thu Oct 23 16:12:20 2014 -0700

    kafka-1700; examples directory - README and shell scripts are out of date; patched by Geoffrey Anderson; reviewed by Jun Rao

commit 35f589bb4654b49035c27780717f560e74400444
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Oct 23 15:42:10 2014 -0700

    KAFKA-1641; Reset first dirty offset for compaction to earliest offset
    if the checkpointed offset is invalid; reviewed by Joel Koshy

commit cda1f73d0498d66aafc8c6e57f84e0cd3c69928a
Author: Muneyuki Noguchi <nogu.dev@gmail.com>
Date:   Thu Oct 23 14:52:07 2014 -0700

    kafka-1727; Fix comment about message format; patched by Muneyuki Noguchi; reviewed by Jun Rao

commit e8923ae33ac90170381d8c4a59a5eb810ee9f36d
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Wed Oct 22 09:59:17 2014 -0700

    KAFKA-1653 Duplicate broker ids allowed in replica assignment; reviewed by Neha Narkhede

commit 4b095760cb38c726c49e6f245ffd7dc8ccf49863
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Mon Oct 20 18:02:00 2014 -0700

    kafka-1698; Validator.ensureValid() only validates default config value; patched by Ewen Cheslack-Postava; reviewed by Jun Rao

commit 2d322a7bd12966e4a66f04b75add619a481ff22d
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Oct 20 11:07:44 2014 -0700

    kafka-1717; remove netty dependency through ZK 3.4.x; patched by Jun Rao; reviewed by Sriharsha Chintalapani and Neha Narkhede

commit 5152fb7e8eea720046ce844ca5153d2766ee002e
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Fri Oct 17 15:04:31 2014 -0700

    KAFKA-1108 When controlled shutdown attempt fails, the reason is not always logged; reviewed by Neha Narkhede

commit 5f1ad107b71318144af07a0fd9098b560c4efa82
Author: Ivan Lyutov <ivanlyutov@gmail.com>
Date:   Fri Oct 17 12:30:41 2014 -0700

    kafka-1671; uploaded archives are missing for Scala version 2.11; patched by Ivan Lyutov; reviewed by Jun Rao

commit 37356bfee09bf0dffc93d85270c342e03c36ca44
Author: James Oliver <jdo500@gmail.com>
Date:   Fri Oct 17 10:07:34 2014 -0700

    kafka-1493; Use a well-documented LZ4 compression format and remove redundant LZ4HC option; patched by James Oliver; reviewed by Jun Rao

commit 4271ecbf06d0ffe16db3222b4e75247641a4c35f
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Oct 15 17:07:30 2014 -0700

    KAFKA-1637 SimpleConsumer.fetchOffset returns wrong error code when no offset exists for topic/partition/consumer group; reviewed by Neha Narkhede and Joel Koshy

commit 841387b23ac30707dd7f24a79de441c3302458d4
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Oct 14 22:31:50 2014 -0700

    Revert "KAFKA-1637 SimpleConsumer.fetchOffset returns wrong error code when no offset exists for topic/partition/consumer group; reviewed by Neha Narkhede"
    
    This reverts commit de432a09e632f78df9e580b51277f81582c3f026.

commit de432a09e632f78df9e580b51277f81582c3f026
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Oct 14 21:46:53 2014 -0700

    KAFKA-1637 SimpleConsumer.fetchOffset returns wrong error code when no offset exists for topic/partition/consumer group; reviewed by Neha Narkhede

commit 22643bfc2b683b426eb41d4b66cf90c3b7ec7f0d
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Tue Oct 14 21:16:48 2014 -0700

    KAFKA-979 Add jitter for time based rolling; reviewed by Neha Narkhede and Joel Koshy

commit d5041bc79fd656fe361c7f6643f9f26c2e8f22fe
Author: Alexis Midon <midon@apache.org>
Date:   Mon Oct 13 16:16:14 2014 -0700

    kafka-1702; Messages silently Lost by producer; patched by Alexis Midon; reviewed by Jun Rao

commit be2e8a769efe35dc5c360545e6220a9fe652cced
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Mon Oct 13 11:36:21 2014 -0700

    KAFKA-1305. Controller can hang on controlled shutdown with auto leader balance enabled; reviewed by Neha Narkhede and Jun Rao

commit 0d65f043fed14c482a788d403c6a05544c0dd01b
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sun Oct 12 16:15:40 2014 -0700

    KAFKA-1471 Add producer unit tests for LZ4 and LZ4HC compression codecs; patched by James Oliver; reviewed by Neha Narkhede

commit 7062ed7db36f913328a9124797c47f70e3461025
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Sun Oct 12 15:50:31 2014 -0700

    KAFKA-1692 Include client ID in new producer IO thread name; reviewed by Neha Narkhede

commit 1733c0bfb06a86eba7b16db3c80cabc91fc04b22
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Sun Oct 12 08:44:59 2014 -0700

    kafka-1670 (followup to fix system tests); Corrupt log files for segment.bytes values close to Int.MaxInt; patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit 09b2b3cbe07e8cdea42434fa6c54af0a064a93a2
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu Oct 9 21:08:38 2014 -0700

    kafka-1699; autoRebalanceScheduler.shutdown() causes deadlock while controller shutting down; patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit 043190c601f37e42c32189f3df5ddd986e57da95
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Thu Oct 9 18:24:53 2014 -0700

    kafka-1555; provide strong consistency with reasonable availability; patched by Gwen Shapira; reviewed by Joel Koshy and Jun Rao

commit 58e58529b350a3da860b1f51fdfa356dfc42761f
Author: Mayuresh Gharat <gharatmayuresh15@gmail.com>
Date:   Thu Oct 9 16:34:40 2014 -0700

    KAFKA-1648; Robin consumer balance throws an NPE when there are no topics

commit a314461fa04b3249608607d1040c8e0cf8724bac
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu Oct 9 14:51:08 2014 -0700

    kafka-1558; AdminUtils.deleteTopic does not work; patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit a7e49298b02ae35c227a40deae63debeae91138f
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu Oct 9 14:29:21 2014 -0700

    kafka-1681; Newly elected KafkaController might not start deletion of pending topics; patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit c940470e32916e2dbbe8f95bd295950a3681c5b7
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu Oct 9 08:05:32 2014 -0700

    kafka-1670; Corrupt log files for segment.bytes values close to Int.MaxInt; patched by Sriharsha Chintalapani; reviewed by Jay Kreps and Jun Rao

commit 68b9f7716df1d994a9d43bec6bc42c90e66f1e99
Author: Anton Karamanov <ataraxer@gmail.com>
Date:   Tue Oct 7 18:22:31 2014 -0700

    kafka-1644; Inherit FetchResponse from RequestOrResponse; patched by Anton Karamanov; reviewed by Jun Rao

commit 1a6c9207c7c19f04b91b455e86bbf4e779e7e7a2
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Oct 6 17:21:30 2014 -0700

    kafka-1468; (followup) add back inadventently removed commit; patched by Guozhang Wang; reviewed by Jun Rao

commit 88595bfb5229bda0ad7c3de2ce3b04f95a9f38a7
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Mon Oct 6 17:16:07 2014 -0700

    KAFKA-1668 Print an error if you try to alter a topic that doesn't exist.

commit f452c426bb562ffc5cc2db38665591d157d5c80a
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Oct 6 07:45:23 2014 -0700

    kafka-1673; potential java.lang.IllegalStateException in BufferPool.allocate(); patched by Jun Rao; reviewed by Jay Kreps

commit 40948a33c93ab7b5bdc62c7cf680538e920afa4d
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Sat Oct 4 18:09:16 2014 -0700

    KAFKA-1663 Controller unable to shutdown after a soft failure; reviewed by Neha Narkhede

commit 9cb59f319e26a5ad0b2646f9718bdb90deb21656
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Sat Oct 4 16:34:16 2014 -0700

    KAFKA-1057 Trim whitespaces from user specified configs; reviewed by Neha Narkhede

commit e05704c40b51b399e2143faa3dbb668daca9890c
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Fri Oct 3 22:04:36 2014 -0400

    KAFKA-1662 gradle release issue permgen space patch by Sriharsha Chintalapani reviewed by Joe Sein

commit 795e262b9f7c9c046b397e670f35698f17d2c13d
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Sep 30 08:13:45 2014 -0700

    bump up release version to 0.8.3

commit 54b6419bb37ed88c8b77aee3c0c23aeb9b5be419
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Mon Sep 29 18:20:54 2014 -0700

    KAFKA-1577; Follow-up patch: Fix exception in connection-quotas while shutting down by forcing key-cancellation; reviewed by Joel Koshy and Neha Narkhede

commit 6861d4688ad044447881bfff22a1183ed8b6fc9e
Author: BalajiSeshadri <balaji.seshadri@dish.com>
Date:   Mon Sep 29 14:40:09 2014 -0700

    kafka-1618 (followup); Exception thrown when running console producer with no port number for the broker; patched by Balaji Seshadri; reviewed by Jun Rao

commit a9c7d77249224666b1e5fcded213c516fdd46ac0
Author: BalajiSeshadri <balaji.seshadri@dish.com>
Date:   Fri Sep 26 15:30:47 2014 -0700

    KAFKA-1618 Exception thrown when running console producer with no port number for the broker; reviewed by Neha Narkhede

commit 9c17747baab829adb268da28b4d943bbd6ef4e9f
Author: Ewen Cheslack-Postava <me@ewencp.org>
Date:   Thu Sep 25 21:23:08 2014 -0700

    KAFKA-589 Clean shutdown after startup connection failure; reviewed by Neha Narkhede

commit f750dba65f9d9552a61a0754c46fa6e294785b31
Author: Jonathan Creasy <jonathan@ghostlab.net>
Date:   Thu Sep 25 13:18:12 2014 -0700

    KAFKA-404 When using chroot path, create chroot on startup if it doesn't exist; reviewed by Neha Narkhede

commit 084566b837ee2204b6898b82156e811d0601085f
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Wed Sep 24 21:13:21 2014 -0700

    kafka-1645; some more jars in our src release; patched by Joe Stein; reviewed by Jun Rao

commit 27bc37289c316fb5a978423f4b2c88f49ae15e52
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Sep 23 14:39:10 2014 -0700

    trivial change to README to make the gradle wrapper download clearer

commit db0b0b8509ce904a0eab021a0453a80cecf3efb7
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Tue Sep 23 12:46:02 2014 -0400

    KAFKA-1490 remove gradlew initial setup output from source distribution patch by Ivan Lyutov reviewed by Joe Stein

commit d2d1ef357b3b07e83f880ee2a6e02fb3c18ae011
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Tue Sep 23 12:06:17 2014 -0400

    KAFKA-1490 remove gradlew initial setup output from source distribution patch by Ivan Lyutov reviewed by Joe Stein

commit 6d7057566f0c3a872f625957aa086b993e76071f
Author: Ivan Lyutov <ivanlyutov@gmail.com>
Date:   Sat Sep 20 15:43:51 2014 -0700

    kafka-1622; project shouldn't require signing to build; patched by Ivan Lyutov; reviewed by Jun Rao

commit 8eac7d789f588b48ad278f4db620402c426c65bc
Author: nicu marasoiu <nmarasoi@adobe.com>
Date:   Sat Sep 20 13:50:30 2014 -0700

    KAFKA-1282 Disconnect idle socket connection in Selector; reviewed by Neha Narkhede and Jun Rao

commit be5edd2f8d0c0355cb33feb2ac7482b7df7dccbc
Author: Krzysztof Szafrański <k.p.szafranski@gmail.com>
Date:   Thu Sep 18 15:53:48 2014 -0700

    kafka-1123; Broker IPv6 addresses parsed incorrectly; patched by Krzysztof Szafrański; reviewed by Jun Rao

commit c892c08df01c3dfc2d466bd37a6838072d390819
Author: Anton Karamanov <ataraxer@gmail.com>
Date:   Wed Sep 17 09:50:10 2014 -0700

    kafka-1620; Make kafka api protocol implementation public; patched by Anton Karamanov; reviewed by Jun Rao

commit a1423aec7bd2ba857bf3d5e829c960907c297def
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Sep 16 21:55:40 2014 -0700

    trivial change to javadoc for makeLeaders(); patched by Lantao Jin

commit cf0f5750b39e675cf9a9c6d6394a665366db0f58
Author: Alexis Midon <midon@apache.org>
Date:   Mon Sep 15 20:34:14 2014 -0700

    KAFKA-1597 New metrics: ResponseQueueSize and BeingSentResponses; reviewed by Neha Narkhede and Jun Rao

commit d677701b93b3b792fac6191588984f7a5323eecd
Author: Guan Liao <guan@mailchimp.com>
Date:   Sun Sep 14 20:40:05 2014 -0700

    KAFKA-1496 Using batch message in sync producer only sends the first message if we use a Scala Stream as the argument; reviewed by Neha Narkhede

commit 3e8854c0c86e75311994d805bcb3b2d5d9836879
Author: Peter Pham <peter.pham@wedgenetworks.com>
Date:   Sun Sep 14 20:22:40 2014 -0700

    KAFKA-847 kafka appender layout does not work for kafka 0.7.1; reviewed by Neha Narkhede and Jun Rao

commit cb6a1597b768404d758540e3ed53f5918c28c31b
Author: Gwen Shapira <cshapi@gmail.com>
Date:   Sun Sep 14 20:13:44 2014 -0700

    KAFKA-1611 Improve system test configuration; reviewed by Neha Narkhede and Guozhang Wang

commit f5ab8e1780cf80f267906e3259ad4f9278c32d28
Author: Roger Hoover <roger.hoover@gmail.com>
Date:   Sun Sep 14 11:16:17 2014 -0700

    kafka-1369; snappy version update 1.1.x; patched by Roger Hoover; reviewed by Jun Rao

commit f9d9b3814317f80ea08df9c7879de966aa0a2554
Author: Stevo Slavic <sslavic@apache.org>
Date:   Sun Sep 14 10:45:37 2014 -0700

    kafka-1419 (followup); cross build for scala 2.11; patched by Stevo Slavic; reviewed by Jun Rao

commit 8d0ab1de70f3361d26e1e2cbfc4363f5ca45d4c2
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Sep 14 10:16:07 2014 -0700

    kafka-1619; perf dir can be removed; patched by Jun Rao; reviewed by Guozhang Wang, Neha Narkhede and Stevo Slavic

commit 3d3c544d6f87ddff58fc01be00410321ef0d497d
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Sun Sep 14 09:32:55 2014 -0700

    KAFKA-1147 Consumer socket timeout should be greater than fetch max wait; reviewed by Neha Narkhede and Jun Rao

commit e22f8ededaf838e7cec9dd22975d8461764ab076
Author: Nicu Marasoiu <nmarasoi@adobe.com>
Date:   Fri Sep 5 12:20:31 2014 -0700

    KAFKA-1510; Do full (unfiltered) offset commits when offsets storage is set to Kafka; reviewed by Joel Koshy

commit ffb81a581b6cbd3bd7338ec88022aa745a05b1c9
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Sep 4 22:23:25 2014 -0700

    kafka-1616; Purgatory Size and Num.Delayed.Request metrics are incorrect; patched by Guozhang Wang; reviewed by Jun Rao

commit ae24141275727255e0dd5d8a739648851d0a0491
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Tue Sep 2 14:17:10 2014 -0400

    KAFKA-1485 Upgrade to Zookeeper 3.4.6 missing file

commit 3abe3403a1a9dfb2eae4b73f79e60b99401079f6
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Sat Aug 30 12:14:54 2014 -0400

    KAFKA-1502 source jar is empty patch by Jun Rao reviewed by Joe Stein

commit 953e35b5c591559a600b4e6bd01d1dd1f2e979db
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Fri Aug 29 17:55:14 2014 -0700

    KAFKA-687; Provide a roundrobin partition assignment strategy that considers partitions from all topics; reviewed by Jun Rao and Guozhang Wang.

commit 538122fa793fe59021ac35feaef22e302b194030
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Fri Aug 29 14:08:21 2014 -0700

    KAFKA-1577; Swallow errors from connection-quotas in closing sockets on shutdown; reviewed by Joel Koshy

commit 2cdc83e85b56c946eed51da6143fbe9d2d0c9d08
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Thu Aug 28 21:15:10 2014 -0400

    KAFKA-1485 Upgrade to Zookeeper 3.4.6 and create shim for ZKCLI so system tests can run patch by Gwen Shapira reviewed by Joe Stein and Jun Rao

commit aa775a199edbdbb4bcb1b3ac8f75d7e5c80fcaee
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Aug 22 17:05:33 2014 -0700

    kafka-1609; New producer metadata response handling should only exclude a PartitionInfo when its error is LEADER_NOT_AVAILABLE; patched by Dong Lin; reviewed by Jun Rao

commit a30491ac5d3fc5967e8c4b16c68bdbfc312748f5
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Tue Aug 19 17:53:21 2014 -0700

    kafka-1603; MirrorMaker consumer does not put the message key into ProducerRecord; patched by Jiangjie Qin; reviewed by Jun Rao

commit f402b7a96d802c1cf8624416c98da416e193e7fd
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Mon Aug 18 15:49:29 2014 -0700

    kafka-1598; Fix variable typo in Kafka main class; patched by Jarek Jarcec Cecho; reviewed by Jun Rao

commit 780225506d89b587d3974615b8444ef2b62122d5
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Aug 18 11:44:42 2014 -0700

    KAFKA-1576: Make delete topic command a little more user-friendly. Patch from Gwen Shapira.

commit c6f08b6094924ff3560a8e16090c85ed1a415b03
Author: Jonathan Natkins <natty@wibidata.com>
Date:   Fri Aug 15 15:49:54 2014 -0700

    KAFKA-1580; Reject producer requests to internal topics; reviewed by Joel Koshy and Neha Narkhede

commit d678449b967ed92a5a02289c061f201da25b07de
Author: Dong Lin <lindong28@gmail.com>
Date:   Fri Aug 15 10:46:34 2014 -0700

    KAFKA-1582; System Test should wait for producer to finish; reviewed by Joel Koshy and Guozhang Wang

commit caf256ad8ce1b204959b431b6268c7c66f9c480d
Author: Jonathan Natkins <natty@wibidata.com>
Date:   Thu Aug 14 17:46:12 2014 -0700

    KAFKA-1560 Make arguments to jira-python API more explicit in kafka-patch-review's get_jira(); reviewed by Neha Narkhede

commit a552d4b743c44db0adcb58273b92301b2a4df38b
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Aug 13 13:08:57 2014 -0700

    kafka-1567; Metric memory leaking after closing the clients; patched by Jiangjie Qin; reviewed by Guozhang Wang and Jun Rao

commit aa70a7d02552585a83c62784b92b67ed8ae3a304
Author: Jiangjie Qin <becket.qin@gmail.com>
Date:   Wed Aug 13 13:08:57 2014 -0700

    kafka-1567; Metric memory leaking after closing the clients; patched by Jiangjie Qin; reviewed by Guozhang Wang and Jun Rao

commit 48cc2dc0ead0df1501abf16f583b3e365488e2d0
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Tue Aug 12 12:49:29 2014 -0400

    Revert KAFKA-1485 Upgrade to Zookeeper 3.4.6 since system tests are failing

commit 8a8c49028a19444684a23cb1ef456d0dc82e022f
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Mon Aug 11 17:12:29 2014 -0400

    trunk is the 0.8.2 snapshot

commit 0607953f3ad5a8a77bdd83870897541af66c7ced
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Aug 11 07:45:50 2014 -0700

    kafka-1574; unit tests can hang on socketserver shutdown; patched by Jun Rao; reviewed by Jay Kreps and Guozhang Wang

commit 4d0759713fb2722bac8ce7dcbbb047d7af99280a
Author: Ivan Lyutov <ivanlyutov@gmail.com>
Date:   Sun Aug 10 21:20:30 2014 -0700

    kafka-1419; cross build for scala 2.11; patched by Ivan Lyutov; reviewed by Joe Stein and Jun Rao

commit c9894fb6ee4d33155bdb669a2e2f64ed9c3f9441
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Aug 8 13:50:08 2014 -0700

    kafka-1578; Controller should de-register all listeners upon designation; patched by Guozhang Wang; reviewed by Jun Rao

commit 0dc243b92a6ae1683795caf8222edc1b2bb49565
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Tue Aug 5 21:27:57 2014 -0700

    kafka-1430; Purgatory redesign; patched by Guozhang Wang; reviewed by Jun Rao

commit 7a67a72261bcb5b09d9defb2fd95a65c89e75172
Author: vagrant <vagrant@precise64.(none)>
Date:   Tue Aug 5 22:24:03 2014 +0000

    KAFKA-1485 Upgrade to Zookeeper 3.4.6 patch by Gwen Shapira reviewed by Joe Stein

commit 09690e339aabea6e9141f7e2ddd50449cc1c9180
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Aug 5 14:28:11 2014 -0700

    KAFKA-1550; Patch review tool should use git format-patch for patch generation; reviewed by Guozhang Wang and Joel Koshy

commit 0386790e757fe4eeae4a179e573f71ef8c7de43c
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Aug 4 21:24:05 2014 -0700

    trivial change to remove a compilation warning; patched by Jun Rao

commit 1d2e776d8c4ffbe59e40985ecfc3b010d99519d1
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Aug 4 21:19:49 2014 -0700

    kafka-1571; MetadataTest hangs; patched by Jun Rao; reviewed by Guozhang Wang

commit f8d521a9616134d78966419e5cf2aa73e8d6a5c5
Author: Jonathan Natkins <natty@wibidata.com>
Date:   Mon Aug 4 07:21:25 2014 -0700

    kafka-1562; kafka-topics.sh alter add partitions resets cleanup.policy; patched by Jonathan Natkins; reviewed by Jun Rao

commit a01a101e82d5b06e89857e79c4b8268589d81fca
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Jul 30 08:14:41 2014 -0700

    kafka-1451; Broker stuck due to leader election race; patched by Manikumar Reddy; reviewed by Jun Rao

commit 50f2b245c1a666400fab7ddfdebf7c1c2bdf3084
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jul 28 10:58:58 2014 -0700

    kafka-1542 (trivail followup patch to fix NullPointerException); normal IOException in the new producer is logged as ERROR; patched by Jun Rao

commit f489493c385e3266c3bc17db2e8ebc215a6e54e2
Author: Anton Karamanov <ataraxer@gmail.com>
Date:   Sun Jul 27 21:13:20 2014 -0700

    kafka-1414; Speedup broker startup after hard reset; patched by Anton Karamanov; reviewed by Jay Kreps and Jun Rao

commit fa34841d9889fc45b4824b729b71bfb2215a082d
Author: David Corley <davidcorley@gmail.com>
Date:   Sun Jul 27 10:55:30 2014 -0700

    kafka-1542; normal IOException in the new producer is logged as ERROR; patched by David Corley; reviewed by Jun Rao

commit 7f2278fb9de08141f21b017ba66752857dcdeba4
Author: Nicu Marasoiu <nmarasoi@adobe.com>
Date:   Sun Jul 27 09:59:08 2014 -0700

    kafka-1549; dead brokers coming in the TopicMetadataResponse; patched by Nicu Marasoiu; reviewed by Jun Rao

commit d9e5080dfceff12ea599f8d518ad402ba7d54c9d
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu Jul 24 16:48:21 2014 -0700

    KAFKA-1483 Split Brain about Leader Partitions; reviewed by Guozhang, Jun and Neha

commit db41f98ea943d806362487b8f8192360a488eb39
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Jul 24 15:53:24 2014 -0700

    KAFKA-1544 Log cleaner takes a long time to shut down. Patch from Manikumar Reddy.

commit 3f1a9c4cee778d089d3ec3167555c2b89cdc48bb
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Jul 23 17:08:51 2014 -0700

    kafka-1192; Enable DumpLogSegments tool to deserialize messages; patched by Manikumar Reddy; reviewed by Guozhang Wang and Jun Rao

commit ff05e9b3616a222e29a42f6e8fdf41945a417f41
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Tue Jul 22 14:14:19 2014 -0700

    kafka-1533; transient unit test failure in ProducerFailureHandlingTest; reviewed by Guozhang Wang; reviewed by Jun Rao

commit 014b700f0323b4dc00d3aa0e1b598f7e2ed07957
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jul 22 10:53:34 2014 -0700

    kafka-1462 (followup patch); Add new request and response formats for the new consumer and coordinator communication; patched by Jun Rao; reviewed by Jay Kreps

commit 1e4b0841b37e9e6526d7a7a7c643b1369d9f03c5
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Jul 21 10:22:50 2014 -0700

    KAFKA-1539 Fsync offset checkpoint file after writing.

commit 592678e4d72151940002ffb1a367ec433b27f2ef
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Sat Jul 19 21:00:22 2014 -0400

    KAFKA-1180 WhiteList topic filter gets a NullPointerException on complex Regex patch by Joe Stein, reviewed by Joel Koshy

commit fc0e03f79131746da81c05c12e056862c08d79d4
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Jul 17 18:20:01 2014 -0700

    kafka-1462; Add new request and response formats for the new consumer and coordinator communication; patched by Jun Rao; reviewed by Guozhang Wang and Jay Kreps

commit 4ebcdfd51f1e9e4c3d684204e6a785fae6c0e549
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Jul 17 15:53:52 2014 -0700

    KAFKA-1535 Have the metadata response contain all alive brokers rather than just the ones needed for the given topics.

commit 8e444a3562d6723b9f33cbdaa6a461409c84c98b
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Jun 30 21:28:04 2014 -0700

    KAFKA-1512 Add per-ip connection limits.

commit b428d8cc48237099af648de12d18be78d54446eb
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Wed Jul 16 08:13:06 2014 -0700

    kafka-1531; zookeeper.connection.timeout.ms is set to 10000000 in configuration file in Kafka tarball; patched by Manikumar Reddy; reviewed by Jun Rao

commit 3e6b386b72b0d1a39621d7e166f2228c97646e1d
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jul 15 14:53:15 2014 -0700

    kafka-1529; transient unit test failure in testAutoCreateAfterDeleteTopic; patched by Jun Rao; reviewed by Guozhang Wang and Neha Narkhede

commit 4b3d03e8e0d660b27c7823c03dde075d6ce8348b
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sat Jul 12 12:49:04 2014 -0700

    KAFKA-1258 Automatically delete temporary directories with a shutdown hook during tests to avoid leaking temp files. Patch by Manikumar Reddy.

commit 83a9aa55d340f6b2720394a49f01a88509e17e52
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Fri Jul 11 13:08:24 2014 -0700

    KAFKA-1515 Producer can hang during metadata updates. Patch by Guozhang.

commit 8034390ef0f49a1ed180bc1e883dbbd1f6d864a0
Author: Alan Lee <coderiff@gmail.com>
Date:   Thu Jul 10 09:45:05 2014 -0700

    kafka-1406; Fix scaladoc/javadoc warnings; patched by Alan Lee; reviewed by Jun Rao

commit 420628d695cc675711b94af5cfd14653147bf7f7
Author: Manikumar Reddy <manikumar.reddy@gmail.com>
Date:   Thu Jul 10 08:27:33 2014 -0700

    kafka-1325; Fix inconsistent per topic log configs; patched by Manikumar Reddy; reviewed by Jun Rao

commit cd3ce27d4baf5434676ec040d64663ad3ce09817
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Jul 8 13:16:56 2014 -0700

    KAFKA-1515 Fix a bug that could result in blocking for a long period of time in the producer. Patch from Guozhang Wang.

commit 6de56b30b0f9aee19bf110431bcb4511d9b748f2
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Jul 3 21:15:01 2014 -0700

    KAFKA-1519 Make it possible to disable the line seperator in the console consumer. Patch from Gwen Shapira.

commit b1a1cae880817332f172dccaa5e3e4a69228074f
Author: Evgeny Vereshchagin <evvers@ya.ru>
Date:   Wed Jul 2 22:09:26 2014 -0700

    kafka-1513; Cleanup KafkaServerStartable code; patched by Evgeny Vereshchagin; reviewed by Jun Rao

commit 2a4718c1a7e8e1566c5c87468779fdd1f95fe3bc
Author: Jianwen Wang <JackieWang518@gmail.com>
Date:   Wed Jul 2 21:54:42 2014 -0700

    kafka-1503; all partitions are using same broker as their leader after broker is down;  patched by Jianwen Wang; reviewed by Guozhang Wang and Jun Rao

commit b8d87d0b22cc4e87bac2e9fdfe761b23734851ff
Author: Jakob Homan <jghoman@gmail.com>
Date:   Wed Jul 2 15:01:06 2014 -0700

    KAFKA-1308 Publish jar of test utilities to Maven

commit e3dfad304e6c2ffc146cdb9bc25a1d683f289ace
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Jul 1 14:47:57 2014 -0700

    KAFKA-1498 Follow-up: add metric on avg record size.

commit f1c6e97d718581566d037a48640ac3d869d1f15a
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Jul 1 13:21:36 2014 -0700

    KAFKA-1498 Misc. producer performance enhancements. Patch from Guozhang.

commit c4b95641ea295478f9480b264652b7b52d8f71c5
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Fri Jun 27 11:09:18 2014 -0700

    KAFKA-1491; Always read coordinator information in consumer metadata response; reviewed by Neha Narkhede.

commit 62f208704fe7fb08f085d569a26e780e0050dba0
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu Jun 26 16:16:03 2014 -0700

    KAFKA-1096 An old controller coming out of long GC could update its epoch to the latest controller's epoch; reviewed by Neha Narkhede

commit 6b0ae4bba0d0f8e4c8da19de65a8f03f162bec39
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Jun 18 09:41:20 2014 -0700

    KAFKA-1291 Add wrapper scripts and usage information to each command.

commit d0c019a07ee63a8c31de2d60513ed8f03494e348
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Jun 18 15:41:56 2014 -0700

    KAFKA-1316 Follow-up patch for concurrent modification exception.

commit dd048d8fee60db7282076a71eeeb8a1d0a4381d9
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Wed Jun 18 21:13:41 2014 -0700

    KAFKA-1382 follow up patch; reviewed by Neha Narkhede

commit 548d1ba0939c43fff14531510140e2c641b1caa5
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Jun 10 17:41:29 2014 -0700

    KAFKA-1326 Refactor Sender to support consumer.

commit dcc88408c98a07cb9a816ab55cd81e55f1d2217d
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jun 10 17:14:45 2014 -0700

    KAFKA-1488; new metrics for measuring the ratio when the new producer is block for space allocation; patched by Jun Rao; reviewed by Guozhang Wang and Joel Koshy

commit bb01847579dcf86841956c29278649bcf8609732
Author: Dong Lin <lindong28@gmail.com>
Date:   Tue Jun 10 16:51:10 2014 -0700

    KAFKA-1472; Add the compression ratio metrics in the new producer; patched by Dong Lin; reviewed by Guozhang Wang and Jun Rao

commit dee16451e04a4bb905a0479e08fa1f0848fea4fb
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Jun 10 14:54:41 2014 -0700

    KAFKA-1382. Update zkVersion on partition state update failures; reviewed by Neha Narkhede

commit b04a3be54e872599a1e3a0fda488de5f19ce7c24
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Tue Jun 10 10:35:32 2014 -0700

    KAFKA-1298 (followup); Controlled shutdown tool doesn't seem to work out of the box;  patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit 6d1992274cce97dc13e5ace099b7af1a69eb3894
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Mon Jun 9 08:18:08 2014 -0700

    kafka-1438 (follow-up); Migrate client tools out of perf;  patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit d3007171102a95cd2979fad6dec5d0bbefb57d7a
Author: Sebastian Geller <info@cmb-tradecenter.org>
Date:   Fri Jun 6 10:02:38 2014 -0700

    KAFKA-1469 Util.abs function does not return correct absolute values for negative values; patched by Guozhang Wang and Neha Narkhede

commit ee4456a3f45eac7df31a170d6ce9d0a4a2fe98a0
Author: Timothy Chen <tnachen@gmail.com>
Date:   Fri Jun 6 09:45:55 2014 -0700

    KAFKA-1443 Add delete topic option to topic commands; reviewed by Neha Narkhede

commit 1363ed7c5268546e657d2d8d9e9e3aeac2df04d8
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Wed Jun 4 22:20:50 2014 -0700

    KAFKA-1438 Migrate client tools out of perf; reviewed by Neha Narkhede

commit df449a24a7bd7b87502cab93c847a0dfea12c6db
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Jun 4 13:33:23 2014 -0700

    kafka-1473; transient unit test failure in testRequestHandlingDuringDeleteTopic;  patched by Guozhang Wang; reviewed by Jun Rao

commit 3a048e80d526d5eaa39ec1588c6ee47af975d015
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Tue Jun 3 07:36:00 2014 -0700

    kafka-924 (follow-up); Specify console consumer properties via a single --property command line parameter;;  patched by Sriharsha Chintalapani; reviewed by Jun Rao

commit 02311c0642b3358e8180191ea0542e985ed0f6dc
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Apr 22 13:51:49 2014 -0700

    KAFKA-1468 Misc. improvements from benchmarking.

commit 26eb1277e502efe1b1c5c4e4382fc80fa231bade
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Wed May 28 16:58:05 2014 -0700

    KAFKA-1459 follow up minor patch

commit e73e90e99984c29151dbae063c72ab737cf99968
Author: Jun Rao <junrao@gmail.com>
Date:   Wed May 28 09:42:18 2014 -0700

    trival fix to remove reference of sbt in README

commit f8ea4ac01d63831d7f5e170d7669e92fca73b673
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Tue May 27 14:55:53 2014 -0700

    KAFKA-924. Specify console consumer properties via a single --property command line parameter; reviewed by Neha Narkhede

commit 0ccc1dc08e3664bb2c9bc1548d4d7966e14cc7f9
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Tue May 27 13:43:24 2014 -0700

    KAFKA-1459 kafka.tools.ConsumerOffsetChecker throws NoNodeException; reviewed by Neha Narkhede

commit 01ea4eb42dfea5f47586e2f12be2344f7910fee0
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue May 27 10:21:16 2014 -0700

    KAFKA-1444 kafka.javaapi.TopicMetadata and PartitionMetadata doesn't forward the toString method; reviewed by Neha Narkhede

commit 547ccedcfa081de2679f9607e4e868041c2cc55f
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Mon May 26 11:34:50 2014 -0400

    KAFKA-1456 Add LZ4 and LZ4C as a compression codec patch by James Oliver reviewed by Joe Stein

commit 52f1149ddbb31ff33d1fd122bb9ffed937be14f6
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu May 22 11:32:18 2014 -0700

    KAFKA-1446 Consumer metrics for rebalance; reviewed by Neha Narkhede and Joel Koshy

commit d0df33df3df314ccd42f700a592e8efc31e80f87
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Wed May 21 11:14:12 2014 -0700

    KAFKA-1298 Controlled shutdown tool doesn't seem to work out of the box; reviewed by Neha Narkhede

commit bf83131dffbdb6c39de0135e0426701ca141f150
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue May 20 22:11:19 2014 -0700

    KAFKA-1328 follow up: Updated javadoc

commit c24740c7b0f6a6e7c66659da786a346650b76766
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue May 20 16:49:31 2014 -0700

    KAFKA-1328 New consumer APIs; reviewed by Jun Rao and Guozhang Wang

commit bf7fb63218640873781720a494d1114fbe628795
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri May 16 15:31:53 2014 -0700

    kafka-1453 (2nd follow-up); Add a channel queue jmx in Mirror Maker;  patched by Guozhang Wang; reviewed by Jun Rao

commit 345c52ee3581847ddfaa4e53173714d8d97896c5
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri May 16 10:52:58 2014 -0700

    kafka-1453 (follow-up); Add a channel queue jmx in Mirror Maker;  patched by Guozhang Wang; reviewed by Jun Rao

commit b4c1089fa963ec204dc350693a6a69dc929c99c3
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu May 15 21:26:41 2014 -0700

    kafka-1453; Add a channel queue jmx in Mirror Maker;  patched by Guozhang Wang; reviewed by Jun Rao

commit 8d454f374b4f879b50825b192617167070749b4f
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu May 15 17:36:00 2014 -0700

    KAFKA-1179 createMessageStreams() in javaapi.ZookeeperConsumerConnector does not throw; reviewed by Neha Narkhede

commit 99f10739b5921534dddc6e3773e4f8a05b8909b0
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu May 15 16:56:45 2014 -0700

    KAFKA-1445 Send all partitions, regardless of how full, whenever we are sending a request to a broker. Patch from Guozhang.

commit b866c5506a936572c9a948c4bae68da0d045fc53
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu May 15 15:48:16 2014 -0700

    KAFKA-1431 ConsoleConsumer - Option to clean zk consumer path;reviewed by Neha Narkhede and Jun Rao

commit c179c45f2375cb1253e519d0be8c8e9e6ff679f6
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue May 6 10:55:44 2014 -0700

    KAFKA-1437; Consumer metadata response should include (empty) coordinator information if the coordinator is unavailable; reviewed by Neha Narkhede and Guozhang Wang.

commit 31e32b386b7c31ca6b69f883a94268902e2cf17b
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Tue May 13 17:32:10 2014 -0700

    kafka-1396; fix transient unit test ProducerFailureHandlingTest.testBrokerFailure;  patched by Guozhang Wang; reviewed by Jun Rao

commit 1d35cce79d3f2e928fe27d109f962c0a9dda73ea
Author: Sriharsha Chintalapani <schintalapani@hortonworks.com>
Date:   Thu May 8 16:02:55 2014 -0700

    KAFKA-1442 RBTools post-review is deprecated; reviewed by Neha Narkhede

commit 754dacb90b48ee2cd226d544ab0c9cefa692f171
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed May 7 20:42:42 2014 -0700

    kafka-1432; followup patch to enable new producer in system test;  patched by Guozhang Wang; reviewed by Neha Narkhede, Jun Rao

commit 2848a7ab5e80bce9007420517a634229e03ec6f9
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed May 7 10:07:40 2014 -0700

    KAFKA-1432 followup - Fixing the shutdown sequence furthermore; reviewed by Neha Narkhede

commit 4fe5c46848821872fb6e21513cd47d564242c576
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue May 6 18:03:59 2014 -0700

    kafka-1384; Log Broker state; followup commit to add the missing new file

commit 9b6bf407874ef0fda12d8b2cc7f8331ce4aebeea
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue May 6 16:36:09 2014 -0700

    kafka-1384; Log Broker state; patched by Timothy Chen; reviewed by Joel Koshy and Jun Rao

commit 44c39c4ea48f365445b8c08ce57d0f16b15f0d0b
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue May 6 10:36:45 2014 -0700

    kafka-1397; delete topic is not working; patched by Timothy Chen; reviewed by Neha Narkhede and Jun Rao

commit 3f7a9061b4d1b9ef9e0f4dae3117fd985f84e072
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon May 5 16:56:42 2014 -0700

    KAFKA-1432 Make num.producerThreads configurable on new MirrrorMaker; reviewed by Neha Narkhede, Jun Rao

commit fe18595492ee91a6a8a796b21c66a682ee9db4a0
Author: Arup Malakar <amalakar@gmail.com>
Date:   Fri May 2 07:44:59 2014 -0700

    kafka-1146; toString() on KafkaStream gets stuck indefinitely; patched by Arup Malakar; reviewed by Jun Rao

commit 0062d4cc94843bfc67b1cb03bad708a8121f9d06
Author: Jun Rao <junrao@gmail.com>
Date:   Thu May 1 16:34:50 2014 -0700

    kafka-1412; transient unit test failure in ProducerSendTest.testAutoCreateTopic; patched by Jun Rao; reviewed by Guozhang Wang and Neha Narkhede

commit 198c793ab1f96f1fc4b46ec35aa7008335583fdc
Author: Alex Couture-Beil <alex_apache@mofo.ca>
Date:   Thu May 1 10:16:28 2014 -0700

    KAFKA-1425; Expose metric for LogStartOffset; reviewed by Joel Koshy and Jun Rao

commit 6b4217d192275e35b6b6d1a73ef37dcba46d1ac1
Author: Jun Rao <junrao@gmail.com>
Date:   Thu May 1 08:54:03 2014 -0700

    kafka-1433; transient unit test failure in ZookeeperConsumerConnectorTest; patched by Jun Rao; reviewed by Guozhang Wang

commit 3de97c7c4039783f4a5d1db9de48f6778123a953
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Apr 29 10:33:00 2014 -0700

    kafka-1400; transient unit test failure in SocketServerTest; patched by Neha Narkhede; reviewed by Guozhang and Jun Rao

commit bbb357c174ffe4ead1229301847c08c3879c6723
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Apr 28 15:37:29 2014 -0700

    KAFKA-1428 Ensure we close the file handle when reading the config.

commit 2f5666408fa9cf44c59f068f19d654a4b7b52914
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Apr 28 15:01:59 2014 -0700

    kafka-1383; transient unit test failure in SocketServerTest; patched by Jun Rao; reviewed by Guozhang Wang and Neha Narkhede

commit 631536327e3aad866d7c797984794a8800fa9fc3
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Apr 28 14:59:35 2014 -0700

    kafka-1424; (followup patch) transient unit test failure in testSendWithDeadBroker; patched by Jun Rao; reviewed by Guozhang Wang and Neha Narkhede

commit 8a0314d01786541f06d0eb41b2e81c8bb1d45a8d
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Apr 25 14:31:33 2014 -0700

    kafka-1395; fix unit tests in AutoOffsetResetTest; patched by Guozhang Wang; reviewed by Neha Narkhede, Jun Rao

commit c9bb24f153e0975f68386cd7818feceb3ebade3e
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Apr 25 13:44:52 2014 -0700

    kafka-1392; all TestUtiles.waitUntilTrue() should throw an exception if the return value is false; patched by Jun Rao; reviewed by Guozhang Wang, Neha Narkhede and Joel Koshy

commit 0bd4c87f9f88fe7f011c7eefc0410132fcf30ff2
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Apr 25 11:49:02 2014 -0700

    kafka-1409; oversized messages can slow down the brokers; patched by Guozhang Wang; reviewed by Neha Narkhede, Jun Rao

commit e69c613274250bca2bd40a2b3523b55c8231978b
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Apr 25 08:22:34 2014 -0700

    kafka-1424; transient unit test failure in testSendWithDeadBroker; patched by Jun Rao; reviewed by Timothy Chen

commit 3ebbaaea99d9ce94026fb1eef7d024839cf2e436
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Apr 24 15:23:42 2014 -0700

    kafka-1418; transient unit test failure in ProducerFailureHandlingTest; patched by Jun Rao; reviewed by Guozhang Wang and Joel Koshy

commit 0efdfa6f7b6be688d5c531e801c9d37882e55f7f
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Apr 23 17:26:46 2014 -0700

    kafka-1389; transient unit test failure in ProducerFailureHandlingTest; patched by Jun Rao; reviewed by Guozhang Wang and Neha Narkhede

commit 93af67cd4f75d2f4cc3a25ad999fe6349925504e
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Tue Apr 22 17:47:55 2014 -0700

    kafka-1359; Followup on K1359: change nanoTime to currentTimeMillis in metrics; patched by Guozhang Wang; reviewed by Neha Narkhede, Jun Rao

commit caafc9d614dcb8584fbaf01902fbeaf2d5ea6786
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Apr 22 17:22:27 2014 -0700

    kafka-1410; MetadataCache cleanup; patched by Jun Rao; reviewed by Timothy Chen, Joel Koshy

commit ed68ba402e088070da0513a3675ed420ec6a70b0
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Apr 22 13:56:00 2014 -0700

    kafka-1411; remove unused test cases; patched by Jun Rao; reviewed by Guozhang Wang

commit 3af3efe3773348fd7adb8ca43f2abc5490416e55
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Mon Apr 21 17:06:39 2014 -0700

    KAFKA-1327; Log cleaner metrics follow-up patch to reset dirtiest log cleanable ratio; reviewed by Jun Rao
    (cherry picked from commit 874620d)

commit 89f040c8c9807fc4f9e219f0b57279b692b6e45d
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Fri Apr 18 11:03:37 2014 -0700

    KAFKA-1398 Dynamic config follow-on-comments.

commit 037c054be260bcc3b470b9724572cb814b704bff
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Fri Apr 18 13:10:34 2014 -0700

    KAFKA-1362; Publish sources and javadoc jars; (also removed Scala 2.8.2-specific actions). Reviewed by Jun Rao and Joe Stein

commit 8b052150f55fb9a6f8c4aedc6b3fa0528719671e
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Apr 16 17:32:43 2014 -0700

    KAFKA-1337: Fix incorrect producer configs after config renaming.

commit b9351e04f0a26f2f9e4abc7ec526ed802495f991
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Apr 17 17:07:27 2014 -0700

    KAFKA-1398 dynamic config changes are broken.

commit 97f13ec73255f3978c1cbb80ea26f446cf756515
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Apr 15 14:08:21 2014 -0700

    KAFKA-1323; Fix regression due to KAFKA-1315 (support for relative
    directories in log.dirs property broke). Patched by Timothy Chen and
    Guozhang Wang; reviewed by Joel Koshy, Neha Narkhede and Jun Rao.

commit ec075c5a853e4168ff30cf133493588671aa2fac
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Apr 16 10:19:18 2014 -0700

    KAFKA-1359: Ensure all topic/server metrics registered at once.

commit 9a6f7113ed630d8e6bb50f4a58846d976a2d5f97
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Apr 15 13:46:54 2014 -0700

    kafka-1390; TestUtils.waitUntilLeaderIsElectedOrChanged may wait longer than it needs; patched by Jun Rao; reviewed by Guozhang Wang

commit 4bd33e5ba792667913991638a15f0a2c9f20d7b5
Author: Stevo Slavic <sslavic@apache.org>
Date:   Sun Apr 13 08:43:53 2014 -0700

    kafka-1210; Windows Bat files are not working properly; patched by Stevo Slavic; reviewed by Jun Rao

commit 2bfd49b955831f3455ff486ce4f613d73239a317
Author: Jun Rao <junrao@gmail.com>
Date:   Sat Apr 12 13:51:29 2014 -0700

    kafka-1381; transient unit test failure in AddPartitionsTest; patched by Jun Rao; reviewed by Neha Narkhede

commit d37ca7f627551c9960e2edb8498784bf2487d53e
Author: Jun Rao <junrao@gmail.com>
Date:   Sat Apr 12 13:48:57 2014 -0700

    kafka-1378; transient unit test failure in LogRecoveryTest; patched by Jun Rao; reviewed by Neha Narkhede

commit 05612ac44de775cf3bc8ffdc15c033920d4a1440
Author: Jun Rao <junrao@gmail.com>
Date:   Sat Apr 12 13:47:13 2014 -0700

    kafka-1377; transient unit test failure in LogOffsetTest; patched by Jun Rao; reviewed by Neha Narkhede

commit 6bb616e5ae6a2f45cfa190e245c9217a8bf9771a
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Apr 11 21:29:09 2014 -0700

    trivial change to add kafka doap project file

commit a3a2cba842a9945d4ce7b032e311d17956c33249
Author: Timothy Chen <tnachen@gmail.com>
Date:   Fri Apr 11 20:31:13 2014 -0700

    kafka-1363; testTopicConfigChangesDuringDeleteTopic hangs; patched by Timothy Chen; reviewed by Guozhang Wang, Neha Narkhede and Jun Rao

commit 2d429e19da22416aeb7de68b9e00f33a337e31a0
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Apr 11 14:39:35 2014 -0700

    kafka-1337; follow-up patch to add broker list for new producer in system test overriden function; patched by Guozhang Wang; reviewed by Neha Narkhede, Jun Rao

commit 44ee6b7c9d9da207bebe6d927b38ed7df1388df3
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Apr 9 18:52:23 2014 -0700

    kafka-1353;report capacity used by request thread pool and network thread pool; patched by Guozhang Wang; reviewed by Jun Rao

commit 47019a849e69209c16defa81001055aa9f57674d
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Apr 9 14:53:03 2014 -0700

    kafka-1376; transient test failure in UncleanLeaderElectionTest; patched by Jun Rao; reviewed by Joel Koshy

commit 911ff524515148421ff58b41f271c21f792ed9de
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Apr 9 14:49:17 2014 -0700

    kafka-1364; ReplicaManagerTest hard-codes log dir; patched by Guozhang Wang; reviewed by Jun Rao

commit 8d15de85114da6012530f0dd837f131bd1e367cd
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Apr 8 14:21:46 2014 -0700

    KAFKA-1373; Set first dirty (uncompacted) offset to first offset of the
    log if no checkpoint exists. Reviewed by Neha Narkhede and Timothy Chen.

commit 75d5f5bff8519b36d5eb0a904ebbd0d3c0b7c8cc
Author: Stevo Slavic <sslavic@apache.org>
Date:   Wed Apr 9 08:24:13 2014 -0700

    kafka-1375; Formatting for in README.md is broken; patched by Stevo Slavic; reviewed by Jun Rao

commit de6066e8e78e62739e3eb6f771d0739bf9b73dfd
Author: Stevo Slavic <sslavic@apache.org>
Date:   Wed Apr 9 08:13:53 2014 -0700

    kafka-1370; Gradle startup script for Windows; patched by Stevo Slavic; reviewed by Jun Rao

commit 33e07a61f9a0455da544659b62e4ce8ffca7e9ab
Author: Stevo Slavic <sslavic@apache.org>
Date:   Wed Apr 9 08:08:17 2014 -0700

    kafka-1371; Ignore build output dirs; patched by Stevo Slavic; reviewed by Jun Rao

commit a39f2c18c027708ff5830a81c1263c6ebb073445
Author: Ivan Lyutov <ivanlyutov@gmail.com>
Date:   Tue Apr 8 17:56:59 2014 -0700

    kafka-1352; Reduce logging on the server; patched by Ivan Lyutovg; reviewed by Guozhang Wang and Jun Rao

commit 69655d5fb92ea7e15ebcbfbe345bea9fe04f69d1
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Apr 8 11:14:35 2014 -0700

    Trivial: update javadoc comment for KAFKA-1355

commit 0e1d853c04cb2fe86cf98f0b1006a96e1bb1e177
Author: Timothy Chen <tnachen@gmail.com>
Date:   Tue Apr 8 10:44:06 2014 -0700

    KAFKA-1356 Topic metadata requests takes too long to process; reviewed by Neha Narkhede, Joel Koshy and Guozhang Wang

commit 8f94bc3315e7d469489da55f94e08a51235c01f3
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Tue Apr 8 10:15:01 2014 -0700

    KAFKA-1366 Multiple Unit Test failures with new producer; reviewed by Neha Narkhede

commit a840c73c36f10e212190ca4ed3918af08a8810e6
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Apr 7 18:08:54 2014 -0700

    kafka-1337 followup to fix system tests

commit 62fcaedd66c46d8c15e1fd1725badcd575b10849
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Mon Apr 7 16:24:14 2014 -0700

    KAFKA-1355; Avoid sending all topic metadata on state changes. Reviewed by Neha Narkhede and Timothy Chen

commit 640f3b05efd00d5e1d7bfc8fe9c90c7aadc3d087
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Mar 27 12:12:32 2014 -0700

    KAFKA-1337 Rationalize the producer configs.

commit 3721821108ef344423ebe149a4dad96a3b2f989f
Author: Ivan Lyutov <ivanlyutov@gmail.com>
Date:   Wed Apr 2 12:07:02 2014 -0700

    kafka-1344; Kafka-console-producer.sh support snappy compression; patched by Ivan Lyutovg; reviewed by Jun Rao

commit 4f23ed32debfd77272ee972ed064567d7d614bf2
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Apr 1 10:39:55 2014 -0700

    KAFKA-1327 Add log cleaner metrics.

commit 98952b3cc7bb9b08ad553da014c80b79d0bc24d6
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Apr 1 12:47:42 2014 -0700

    KAFKA-1251 Further metric naming standardization.

commit bd784aeb20b6a4252675c681116b47ea86402130
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Apr 1 11:40:03 2014 -0700

    kafka-1318; waiting for producer to stop is not reliable in system tests; patched by Jun Rao; reviewed by Guozhang Wang, Timothy Chen and Neha Narkhede

commit 083b6265c93619dd8b672c59fc31f0ed3d5da29b
Author: Timothy Chen <tnachen@gmail.com>
Date:   Mon Mar 31 22:36:35 2014 -0700

    KAFKA-1341 Client Selector doesn't check connection id properly; reviewed by Jay Kreps and Neha Narkhede

commit f82ce3314f74c6755f09eec1044cf68ea6d1dc9f
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Mar 31 22:29:14 2014 -0700

    KAFKA-1350 Fix excessive state change logging;reviewed by Jun,Joel,Guozhang and Tim

commit 1d5bbc8b5afa35d7a7784670bcea4e9cf2093723
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Mar 31 16:05:55 2014 -0700

    kafka-1320; Change compression.codec to compression.type in new producer configs of system tests; patched by Guozhang Wang; reviewed by Jun Rao

commit fb92b3a2cdf571715b948f81f1f8bb4bc363d497
Author: Timothy Chen <tnachen@gmail.com>
Date:   Fri Mar 28 18:12:53 2014 -0700

    KAFKA-1317 KafkaServer 0.8.1 not responding to .shutdown() cleanly, possibly related to TopicDeletionManager or MetricsMeter state; reviewed by Neha Narkhede

commit e287e02b12ca3ca00184fabf07a7dc0a52571a23
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Mar 27 21:00:33 2014 -0700

    KAFKA-1251 Missed one per-node metric.

commit 23d7fc470638c4dffa5ca005ef2e3d34c14dc92e
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Mar 18 17:38:56 2014 -0700

    KAFKA-1251: Add metrics to the producer.

commit 9bc47bc1365d17c34f8d43239846de28219a663c
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Mar 26 21:50:30 2014 -0700

    KAFKA-1253 Compression in the new producer: follow up patch to push new files

commit 466a83b78c2bfcb9ac3116748394e7845a99bf7a
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Mar 26 21:48:55 2014 -0700

    KAFKA-1253 Compression in the new producer; reviewed by Jay Kreps and Jun Rao

commit 455c490f63692de076bbf06749bf4aec8f481bbc
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Mar 23 17:54:24 2014 -0700

    kafka-1319; kafka jar doesn't depend on metrics-annotation any more; patched by Jun Rao; reviewed by Neha Narkhede

commit d9be502bcc6b9d7e5716c01d2273189c00506f53
Author: Timothy Chen <tnachen@gmail.com>
Date:   Thu Mar 20 17:34:25 2014 -0700

    KAFKA-1315 log.dirs property in KafkaServer intolerant of trailing slash; reviewed by Neha Narkhede and Guozhang Wang

commit 80e92064dcc1fdcf96af91b73816f5bb16fe6536
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Mar 20 09:08:19 2014 -0700

    kafka-1297; releaseTarGz target needs signing task; trivial change to README.

commit 8477b4f2a216562e36e0e09b105fdc4daa503e96
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Mar 19 14:21:15 2014 -0700

    KAFKA-1312: Augment .gitignore. Patch from Timothy Chen.

commit 4484916d656243384d91e172a8e0b7ca240785f0
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Mar 18 17:20:32 2014 -0700

    KAFKA-1311 Add a flag to turn off delete topic until it is stable; reviewed by Joel Koshy and Guozhang Wang

commit 74e22092519270428c067a5209ec3028e0745bea
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Mar 18 10:55:19 2014 -0700

    kafka-1304; unregistered mbean exception in new producer; reviewed by Jay Kreps

commit cc859dcca791dc8e1e6eeabe8b88387a11241b24
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Mar 18 10:51:50 2014 -0700

    kafka-1307; potential socket leak in new producer and clean up; reviewed by Jay Kreps, Guozhang Wang and Neha Narkhede

commit 423d9d5af9481b782c7655dc2410e61e1b48a0bb
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Mar 18 10:38:03 2014 -0700

    KAFKA-1309; Fix cross-compilation issue (due to use of deprecated JavaConversions API in javaapi.OffsetCommitRequest; reviewed by Neha Narkhede

commit 53e4061b2b0170ee35939ba1d6462e6c6f37ccea
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Mar 17 18:46:30 2014 -0700

    KAFKA-1028 follow up: New test UncleanLeaderElectionTest

commit 616086b909252eeee2cb05f379659a2de2c7bd83
Author: Andrew Olson <andrew.olson@cerner.com>
Date:   Mon Mar 17 18:39:57 2014 -0700

    KAFKA-1028 per topic configuration of preference for consistency over availability; reviewed by Neha Narkhede and Jay Kreps

commit a670537aa33732b15b56644d8ccc1681e16395f5
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Fri Mar 14 15:14:33 2014 -0700

    KAFKA-1012; Consumer offset management in Kafka; patched by Tejas Patil and Joel Koshy; feedback and reviews from Neha Narkhede, Jun Rao, Guozhang Wang, Sriram Subramanian, Joe Stein, Chris Riccomini

commit 84a3a9a3d9a5f1c4936dfb9d65b4bf0cd3b445d6
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Mar 13 14:25:37 2014 -0700

    kafka-1302; cleanup logging in new producer; reviewed by Jay Kreps, Guozhang Wang and Neha Narkhede

commit c124bbbb6c3e2152915411e1c3b00fca67634eed
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Mar 11 20:56:32 2014 -0700

    kafka-1301; system testcase_0206 fails using the new producer; patched by Jun Rao; reviewed by Jay Kreps

commit c765d7bd4e30e0b952fc4bc00d142f7939b498a6
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Mar 6 19:06:25 2014 -0800

    kafka-1240; Add ability to existing system tests to use the new producer client; patched by Jun Rao; reviewed by Neha Narkhede

commit 74c54c7eeb236cbf66710751165ea9f632cf3f52
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Mar 6 18:08:55 2014 -0800

    KAFKA-1281 add the new producer to existing tools; reviewed by Jun Rao and Guozhang Wang

commit c3520fe7e0e50f0eeb4f82ad1ed961bdd39440fc
Author: Martin Kleppmann <martin@rapportive.com>
Date:   Thu Mar 6 09:34:37 2014 -0800

    kafka-server-stop.sh doesn't stop broker; reviewed by Neha Narkhede

commit 6319f26e6f47350f1e7926dea153ed848f464d2e
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Mar 6 08:26:12 2014 -0800

    TRIVIAL: Fix spurious logging in console consumer.

commit 4524f384dc041f33297b47b181be6b59061577b4
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Mar 5 14:35:07 2014 -0800

    KAFKA-1286: Trivial fix up: Use || instead of |.

commit 2404191be9f4323fc6144a8f56ae36f794d50da6
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Mar 5 13:32:08 2014 -0800

    KAFKA-1286 Follow-up comment from Jun: Change the backoff default time configuration.

commit 5ba48348b3abb8f84fda0798d992ff2e0a04051d
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Mar 4 20:05:51 2014 -0800

    KAFKA-1286 Retry can block. Patch from Guozhang, reviewed by jay.

commit 153ac8aa604014351e6958dce5d479e4875031fa
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Tue Mar 4 15:49:12 2014 -0500

    KAFKA-1288 add enclosing dir in release tar gz patch by Jun Rao, reviewed by Neha Narkhede

commit 77118a935ee28da80c67d4050f41a1e7e838ebaa
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Tue Mar 4 15:30:59 2014 -0500

    KAFKA-1289 Misc. nitpicks in log cleaner for new 0.8.1 features patch by Jay Kreps, reviewed by Sriram Subramanian and Jun Rao

commit 40c6555eb0d0db25d6bd06c5eb4040246805c79f
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Mar 3 09:35:21 2014 -0800

    kafka-1287; enable log4j in command line tools using the new producer; patched by Jun Rao; reviewed by Guozhang Wang and Neha Narkhede

commit 220cc842a6e866806e3f53c394b5547fe7c44b3e
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Feb 28 13:53:37 2014 -0800

    kafka-1285; enable log4j in unit test; patched by Jun Rao; reviewed by Neha Narkhede

commit 8cdb234ad81ec324f15c9c1f8e484861926076f9
Author: Rajasekar Elango <e.rajasekar@gmail.com>
Date:   Fri Feb 28 08:02:42 2014 -0800

    kafka-1041; Number of file handles increases indefinitely in producer if broker host is unresolvable; patched by Rajasekar Elango; reviewed by Jun Rao

commit f1a53b972eb1f8e75db54d3272d9eb7c398e238a
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Feb 20 20:17:01 2014 -0800

    KAFKA-1250 Add logging to new producer.

commit a810b8ecbe66f36f8ef58a440d439a54762b3d9c
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Feb 27 14:25:02 2014 -0800

    TRIVIAL: Fix failing producer integration tests.

commit eb6da57492caad7a6b71692ad184a95c89035b67
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Feb 27 14:15:41 2014 -0800

    kafka-1212; System test exception handling does not stop background producer threads; patched by Guozhang Wang; reviewed by Neha Narkhede, Joel Koshy, and Jun Rao

commit 5e2a9a560d847bd0cf364d86bd6784f70d99c71a
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Feb 27 10:50:15 2014 -0800

    KAFKA-1260 Integration Test for New Producer Part II: Broker Failure Handling; reviewed by Jay Kreps, Neha Narkhede and Jun Rao

commit 57be6c81a748a30e583037ddc70d2eec9acc7832
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Feb 25 18:09:59 2014 -0800

    kafka-1280; exclude kafka-clients jar from dependant-libs dir; patched by Jun Rao; reviewed by Neha Narkhede

commit edbed2823fc3e4948bb56ec3bee02fe4ad1bbdca
Author: Nathan Brown <nbrown.us@gmail.com>
Date:   Tue Feb 25 09:37:15 2014 -0800

    kafka-1278; More flexible helper scripts; patched by Nathan Brown; reviewed by Jun Rao

commit 00afb619cb1f2aaca0ddc785ab1d649428f9c93e
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Feb 25 00:26:14 2014 -0800

    Check delete state of topic

commit 5b80758b57d8063b8a8124562cc5c83854a99e00
Merge: 5de68ef4a 3955915a5
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Feb 25 00:22:04 2014 -0800

    Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into trunk

commit 3955915a5f8a0daa7b96be69a87b3fbd013c9501
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Feb 24 14:44:32 2014 -0800

    KAFKA-1279 Socket server should close all connections when it is shutdown.

commit 5de68ef4aef7812fd9f2d5e4fb6158bf753658e3
Merge: 2d848c5ae 993e1aac8
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Mon Feb 24 01:50:02 2014 -0800

    Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into trunk
    
    Conflicts:
            core/src/main/scala/kafka/controller/KafkaController.scala

commit 993e1aac8f351b9ea5c322c568505d795f6d664a
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Feb 20 21:34:10 2014 -0800

    KAFKA-1276 Make topic command list the possible topic-level configs that are available.

commit 6ab9b1ecd89c74a42233fc792684e7a8757e9460
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Feb 20 17:44:41 2014 -0800

    kafka-1235; Enable server to indefinitely retry on controlled shutdown; patched by Guozhang Wang; reviewed by Jun Rao

commit 90bea0b12e3944226df29d78d3aa9658cfb7799a
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Feb 20 09:44:21 2014 -0800

    kafka-1271; controller logs exceptions during ZK session expiration; patched by Jun Rao; reviewed by Guozhang Wang and Jay kreps

commit d392f56b803c41a32860346398f36c9a453d0406
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Feb 19 21:32:46 2014 -0800

    trivial change to use the correct path of kafka-clients.jar in kafka-run-class.sh

commit a8297cc6ca90f2b528091a46e3cf254e84e74d47
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Thu Feb 20 00:11:31 2014 -0500

    KAFKA-1254 remove vestigial sbt patch by Joe Stein; reviewed by Jun Rao

commit 16c69a844fabfe512f8c090fedde2014e392800b
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Wed Feb 19 10:53:11 2014 -0500

    KAFKA-1274 gradle.properties needs the variables used in the build.gradle patch by Joe Stein; Reviewed by Jun Rao

commit 22f76d8b362417858e61f0f9a2fc80d620790f2f
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Feb 18 19:31:30 2014 -0800

    Fix compile issue from last commit. Oops. :-(

commit 3f0b67b6ac864befccfdd4bb5dee08c0b33c3b43
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Feb 13 13:48:21 2014 -0800

    KAFKA-1252 Implement retries in new producer.

commit f550cc76cd4aa6a1ed771c477ed8cc832520ba1a
Author: Kostya Golikov <johnysilver7@gmail.com>
Date:   Mon Feb 17 11:43:45 2014 -0800

    Liars in PrimitiveApiTest that promise to test api in compression mode, but don't do this actually; patched by Kostya Golikov; reviewed by Guozhang Wang and Jun Rao

commit dc5a993e676da4f7042ba1dd9efc034202d46263
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Fri Feb 14 14:15:32 2014 -0500

    KAFKA-1245 the jar files and pom are not being signed so nexus is failing to publish them patch by Joe Stein; Reviewed by Jun Rao

commit 5be973674fe726181fc12e7a098b46286a545361
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Thu Feb 13 22:45:53 2014 -0500

    KAFKA-1263 Snazzy up the README markdown for better visibility on github; patched by Joe Stein; reviewed by Neha Narkhede

commit 3d830c9ef1a186cd36e4f5c7bdc2dfef2d51edc7
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Feb 13 14:46:46 2014 -0800

    KAFKA-1188 Stale LeaderAndIsr request could be handled by the broker on Controller failover; reviewed by Neha, Jun

commit 7e154a36f74ad0ea7e0f6d48b71a5a73d99330e7
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Feb 12 15:30:08 2014 -0800

    KAFKA-1261 Make it possible to configure the metadata refresh.

commit 84a5803a7e5235e3fa0af7de8e40bdf77ff9affe
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Feb 12 12:50:26 2014 -0800

    KAFKA-1233 Follow up changes to new producer integration test; reviewed by Jay Kreps

commit b494cd9de6002c59b7181cefab6854b9a0c88817
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Feb 12 08:22:51 2014 -0800

    kafka-1244,kafka-1246,kafka-1249; various gradle issues for release; patched by Jun Rao; reviewed by Neha Narkhede

commit ef1e30bf5b0aba1758522f8cacd2804d3bfbd4fb
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Feb 11 16:24:08 2014 -0800

    KAFKA-1259 Close blocked only until all messages had been sent not until all acknowledgements had been received.

commit e1845ba1d80f0ba89d01d450c066aae90b416ab1
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Feb 11 17:03:36 2014 -0800

    KAFKA-1257 Only send metadata requests to nodes with no in-flight requests.

commit cdd03d19943d42b6401b255196c83ee32ef6c792
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Feb 11 19:29:35 2014 -0800

    KAFKA-1237 Follow up review suggestions on new mirror maker; reviewed by Guozhang Wang

commit d6303ec79e6871c901951e7dcde93d4996b52c49
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Feb 11 18:03:19 2014 -0800

    KAFKA-1233 Adding the new test file

commit a0939f412d7c5c0e294f7d1c2779ae9321338155
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Tue Feb 11 14:25:31 2014 -0800

    KAFKA-1233 Integration test for the new producer; reviewed by Jay Kreps and Neha Narkhede

commit 71e21c6bacb75bf7b5f65dc67c921d4c7583fa12
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Feb 10 21:40:34 2014 -0800

    KAFKA-1237 mirror maker using 08 consumer and 09 producer; reviewed by Jay Kreps and Joel Koshy

commit 6b80dbb97b3d9b533f60d5c09639ea6c7c5f2be5
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sun Feb 9 15:16:51 2014 -0800

    KAFKA-1236 Fix various breakages in the perf tests. Make the producer test use either the old or the new producer.

commit 02bb382621ea5079ac77094928d12a129db251c0
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sun Feb 9 15:05:04 2014 -0800

    Fix bug in ByteBufferSend that lead to incorrect complete() method.

commit d2ec321a03e654552ee364f6572437f233b0c226
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Fri Feb 7 09:08:33 2014 -0800

    KAFKA-1238 Move metadata req/resp parsing into its own classes and avoid updating cluster metadata if there are no available nodes.

commit 962b5475cbccfba7dbc424915fe517123f5e5203
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Feb 6 20:21:47 2014 -0800

    KAFKA-1241 Better error message for underflow on read of struct.

commit 8014b6ff694d07956da10135508d98c625f3da3d
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Sun Feb 9 09:16:06 2014 -0500

    KAFKA-1158 run rat is not needed this is documented now in the release not part of the server running

commit 1a7048d41bb56118d4f31ff972618ebe13007857
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Sat Feb 8 11:09:39 2014 -0800

    KAFKA-330 Delete topic followup - more tests and Joel's review comments

commit 36eae8f63c81f8d38c2351054c15bf7d5eb612d9
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Feb 7 14:19:06 2014 -0800

    trivial fix to add missing license header using .gradlew licenseFormatMain and ./gradlew licenseFormatTest; patched by Jun Rao

commit 52614ad65e698a9860ab22b2ce66bae773263b36
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Feb 7 13:48:04 2014 -0800

    kafka-1171; Gradle build for Kafka; patched by David Arthur, Joe Stein, Chris Freeman and Jun Rao; reviewed by Guozhang Wang, Joel Koshy and Neha Narkhede

commit 8c9a7811c492d23b706ff2c3a728d8c49a387885
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Feb 6 21:19:34 2014 -0800

    Minor fix for delete topic

commit 1032bf74054a198d5d663713be1152a9216ca150
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Feb 6 21:00:17 2014 -0800

    kafka-1232; make TopicCommand more consistent; patched by Jun Rao; reviewed by Guozhang Wang and Neha Narkhede

commit 167acb832d7f104eb2c344dcfd7b914c763d881d
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Feb 6 20:18:10 2014 -0800

    KAFKA-330 Delete topic; reviewed by Jun Rao, Guozhang Wang and Joel Koshy

commit fa6339c19cd06880d32ec9a5ee6b66e7f1488dcf
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Feb 6 16:25:11 2014 -0800

    Rename client package from kafka.* to org.apache.kafka.*

commit 3220af1fe2fad8da1f5bcc101ab9d3e8919b03bd
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Feb 6 10:49:37 2014 -0800

    TRIVIAL: Fix misc. numerical issues in histogram.

commit 2d848c5ae0d10fc4d49ad9a3477b8c46f1c3dab7
Merge: 3f473566a 253f86e31
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Wed Feb 5 22:06:42 2014 -0800

    Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into trunk

commit 253f86e31062fb86401abdc13835c251eef47417
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sun Feb 2 21:52:25 2014 -0800

    Implement a few of the API suggestions from the mailing list.

commit c9052c5ff510f4b750d456b7efa159b39501da98
Author: Moritz Schwörer <mr.mosch@gmail.com>
Date:   Tue Feb 4 08:04:35 2014 -0800

    trivial typo fix; patched by Moritz Schwörer; reviewed by Jun Rao

commit 74b42a8f810281e26d80d764fc8f391836b87844
Author: Jason Rosenberg <jbrosenberg@gmail.com>
Date:   Mon Feb 3 21:16:28 2014 -0800

    KAFKA-1164 kafka should depend on snappy 1.0.5 (instead of 1.0.4.1); reviewed by Neha Narkhede

commit 2b0c6a7d7b83a58362e32191674e55da25d3077f
Author: Ahmy Yulrizka <yulrizka@gmail.com>
Date:   Thu Jan 30 10:14:53 2014 -0800

    kafka-1228; Socket Leak on ReplicaFetcherThread; patched by Ahmy Yulrizka; reviewed by Jun Rao

commit 9c1d8e35c5913d22098cf80ae69035131cfee87f
Author: Evelina Stepanova <stepanova.e.a@gmail.com>
Date:   Thu Jan 30 08:36:53 2014 -0800

    KAFKA-1184 High-Level Consumer: expose fetcher threads number as a parameter; reviewed by Neha Narkhede

commit 269d16d3c915d09f650ae32aa81542bd8522ca68
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Jan 23 12:41:11 2014 -0800

    KAFKA-1227 New producer!

commit 3f473566ab2ef51f17034dc02f632df5d38fe307
Merge: 72610d1fc 26a02c32d
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Mon Jan 27 13:25:06 2014 -0800

    Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into trunk
    
    Conflicts:
            core/src/main/scala/kafka/controller/KafkaController.scala

commit 26a02c32dda0222c6ab1ad897992558c1c1eab76
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Fri Jan 24 18:00:01 2014 -0800

    KAFKA-1055 BrokerTopicStats should distinguish between messages received and messages actually appended (i.e., not dropped for various reasons).

commit c9028ad8c5d8bac9278836ebbc21fada5e6b562b
Author: Philp K. Warren <pkwarren@gmail.com>
Date:   Fri Jan 24 09:58:28 2014 -0800

    kafka-1214; Support arguments to zookeeper-shell.sh script; patched by Philp K. Warren; reviewed by Jun Rao

commit e1f7bea157c828d1eefdc5f9cf0337be79d809eb
Author: Ailing Zhang <zhangal1992@gmail.com>
Date:   Fri Jan 17 08:29:28 2014 -0800

    kafka-1205; README in examples not update; patched by Ailing Zhang; reviewed by Jun Rao

commit c2ed6415fcfa02d08dde031f0f799f5a0f18d8c5
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Jan 15 20:57:07 2014 -0800

    kafka-1208; Update system test still to use kafka-topics instead of kafka-create-topics shell; patched by Guozhang Wang; reviewed by Jun Rao

commit 855340a2e65ffbb79520c49d0b9a231b94acd538
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Jan 15 08:37:14 2014 -0800

    kafka-1202; optimize ZK access in KafkaController; also incorporating fixes in kafka-1020; patched by Jun Rao and Guozhang Wang; reviewed by Neha Narkhede and Joel Koshy

commit d401292abb0f3660895173d4613f712058ae097f
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Mon Jan 13 21:16:32 2014 -0500

    KAFKA-1200 inconsistent log levels when consumed offset is reset patch by Dima Pekar reviewed by Joe Stein

commit d2e2c607d1490cf2121dd64f4e79f34ba64c8ed7
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Jan 13 13:59:33 2014 -0800

    KAFKA-1199 Add a reduced access log level; reviewed by Guozhang Wang and Jun Rao

commit f63e3f730673f60ca179030cf0d64380689c2a40
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 7 22:36:00 2014 -0800

    kafka-1074; Reassign partitions should delete the old replicas from disk; patched by Jun Rao; reviewed by Jay Kreps, Neha Narkhede and Guozhang Wang

commit 15f3c8417e07e6bc6cbe0c5991f5641396c61b24
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Jan 3 12:21:49 2014 -0800

    kafka-1198; NullPointerException in describe topic; patched by Guozhang Wang; reviewed by Jun Rao

commit 3f88be6318670864b372deccb2af705e8c84382a
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Jan 3 11:29:53 2014 -0800

    KAFKA-1187 Controller should retry connecting to brokers to send state change requests; reviewed by Jun Rao and Guozhang Wang

commit a119f532c8b310122d85391efe11fd26027ef7f9
Merge: 10fa20001 b23cf1968
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Jan 3 11:06:04 2014 -0800

    Rebased from trunk to resolve conflicts between KAFKA-1185 and KAFKA-930

commit 10fa20001dd22a2cfc7da065d75d7cf6c0009b42
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Dec 20 14:39:03 2013 -0800

    KAFKA-1185 Improve leader elector module to have a resign API; reviewed by Guozhang Wang and Jun Rao

commit b23cf1968f2aa4f8dbd6629634ae813b5e14564c
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Fri Dec 20 14:04:23 2013 -0800

    KAFKA-930 leader auto rebalance feature; reviewed by Neha Narkhede, Jun Rao and Guozhang Wang

commit 72610d1fc0bbf706a14f1605bf9862ea3830e707
Merge: e88f1acda b5d16871c
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Fri Dec 20 13:01:45 2013 -0800

    Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into trunk

commit e88f1acdaac9fe738787ccb8375519293c913a37
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Fri Dec 20 11:22:26 2013 -0800

    some more changes

commit 425af9b4a7afeb21191c33ba6bc3f20623a3f0b3
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Fri Dec 20 11:11:20 2013 -0800

    use zk for auto rebalance

commit b5d16871c02a585643aec3229546af04721bb42c
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Dec 19 12:54:10 2013 -0800

    KAFKA-1139 Topic data change handling callback should not call syncedRebalance directly; reviewed by Guozhang Wang and Jun Rao

commit dd58d753ce3ffb41776a6fa6322cb822f2222500
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Dec 11 16:34:34 2013 -0800

    KAFKA-1134 onControllerFailover function should be synchronized with other functions; reviewed by Neha Narkhede

commit 169a79e687799bffd5cf1f4bb86855bf3725cb88
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Dec 11 16:20:38 2013 -0800

    KAFKA-1142 Patch review tool should take diff with origin from last divergent point; reviewed by Neha Narkhede

commit 6bc290f66d738a9133afe93e2a6ac64f1344c111
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Dec 11 11:18:24 2013 -0800

    KAFKA-1178 Replica fetcher thread dies while becoming follower; reviewed by Jun Rao and Guozhang Wang

commit 55d77c67c236488df2b9f6bb59d99eeb645a0553
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Mon Dec 9 22:51:41 2013 -0800

    Address code review feedbacks

commit 32aae7202ce041128fb1f6d2ea43580ee7864d74
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Dec 6 16:26:53 2013 -0800

    KAFKA-1170 ISR can be inconsistent during partition reassignment for low throughput partitions; reviewed by Jun Rao and Guozhang Wang

commit 876cfdb59730f0e0c0f87aed15d65fa747c19bd3
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Dec 5 16:57:26 2013 -0800

    KAFKA-1167 Improve the kafka-topics tool to list the topics with overridden configs; reviewed by Jun Rao

commit 7dee06ee99bf2610d71df04e4e5238a10a8388a2
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Dec 5 09:38:24 2013 -0800

    kafka-1169; missing synchronization in access to leaderCache in KafkaApis; patched by Jun Rao; reviewed by Neha Narkhede

commit 8a2ba3f6f2eab88db4b5ea6d880ec2feba93276c
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Dec 4 15:47:18 2013 -0800

    kafka-1168; OfflinePartitionCount in JMX can be incorrect during controlled shutdown; patched by Jun Rao; reviewed by Swapnil Ghike

commit 6c36beef873e8696e3e68b38c886893e01ce6dbb
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Tue Dec 3 16:50:18 2013 -0800

    minor fix for KAFKA-1152; ReplicaManager's handling of the leaderAndIsrRequest should gracefully handle leader == -1; patched by Swapnil Ghike; reviewed by Jun Rao

commit ea3961fc84c5a45a5458b9db4080b32f28855f7b
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Dec 3 16:25:31 2013 -0800

    KAFKA-1156 Improve reassignment tool to output the existing assignment to facilitate rollbacks; reviewed by Jun Rao

commit b638b0f34623769e2efbcb7c2c36f7b742f6b690
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Dec 2 21:55:48 2013 -0800

    kafka-1157; Clean up Per-topic Configuration from Kafka properties; patched by Guozhang Wang; reviewed by Jun Rao

commit 7c7951426df5fe8a65b176fe49584868e7af3b4f
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Dec 2 13:58:10 2013 -0800

    kafka-1154; replicas may not have consistent data after becoming follower; patched by Jun Rao; reviewed by Guozhang Wang and Neha Narkhede

commit 224f192c776b4348596fbf068771c98aa9db9f3d
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Fri Nov 29 09:29:56 2013 -0800

    kafka-1152; ReplicaManager's handling of the leaderAndIsrRequest should gracefully handle leader == -1; patched by Swapnil Ghike; reviewed by Jun Rao

commit df288b75a0c6685deeda99ce4db3e17fff39b0ad
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Nov 27 21:56:55 2013 -0800

    kafka-1140; Move the decoding logic from ConsumerIterator.makeNext to next; patched by Guozhang Wang; reviewed by Jun Rao

commit ac239da502c4de10f63b0b5d638c3d8b11711eae
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Mon Nov 25 19:46:42 2013 -0800

    Update description of num.partitions config in sample server properties - issue reported by Vaibhav Puranik

commit 583044cd5109cd060bdfc9e516f4c85d1d4e73a0
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Nov 25 15:34:04 2013 -0800

    recommit kafka-1112 since it's inadvently reverted in the commit of kafka-1135

commit bb2dc49bde2f77b7ceb9e47a0f710204530774a4
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Sun Nov 24 21:33:45 2013 -0500

    KAFKA-1133 LICENSE and NOTICE files need to get into META-INF when jars are built before they're signed for publishing to maven reviewed by Joel Koshy

commit 87efda7f818218e0868be7032c73c994d75931fd
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Nov 22 09:16:39 2013 -0800

    kafka-1103; Consumer uses two zkclients; patched by Guozhang Wang; reviewed by Joel Koshy and Jun Rao

commit 2477a7468e7bfe728abae793236d8aaf1c211d3b
Author: Jie Huang <ie.huang@intel.com>
Date:   Fri Nov 22 08:25:05 2013 -0800

    kafka-1136; Add subAppend in Log4jAppender for generic usage; patched by Jie Huang; reviewed by Joel Koshy and Jun Rao

commit 99dd94c9b659775e738e12330d90ae7ebe7bdbb6
Author: drunkedcat <whitelilis@gmail.com>
Date:   Thu Nov 21 21:37:34 2013 -0800

    kafka-933; Hadoop example running DataGenerator causes kafka.message.Message cannot be cast to [B exception; patched by drunkedcat; reviewed by Jun Rao

commit 7f32a1c276f5a027870d7cc340cce34274d9a896
Merge: 033872b31 cd81d37ac
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Thu Nov 21 09:25:35 2013 -0800

    Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into trunk

commit cd81d37ac872654c0cc68fab830ee457c56b7c6a
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Nov 20 21:42:24 2013 -0800

    fix for scala 2.10.1 compilation issued introduced in kafka-1117

commit c2dd071b52632c638fefcf864cc2aa1a2cac629b
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Wed Nov 20 15:16:40 2013 -0700

    KAFKA-1131 copy license and notice to the release files, reviewed by David Arthur

commit 9b0776d157afd9eacddb84a99f2420fa9c0d505b
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Nov 20 10:05:40 2013 -0800

    kafka-1135; Code cleanup - use Json.encode() to write json data to zk; patched by Swapnil Ghike; reviewed by Neha Narkhede, Guozhang Wang and Jun Rao

commit 440e45e5131131a30987b991eabfee147061c42b
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Nov 20 09:21:56 2013 -0800

    kafka-1117; tool for checking the consistency among replicas; patched by Jun Rao; reviewed by Neha Narkhede, Joel Koshy, Swapnil Ghike, Guozhang Wang

commit 033872b316fd5a68d7463138d8199fb5d821f41b
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Nov 19 17:38:13 2013 -0800

    commit missing code

commit a4cd17a37bf0f5ccae7b8f6a404c8b8c0de4dbad
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Nov 19 17:15:01 2013 -0800

    some more changes

commit 09e807bda103fe632e62312f036b850a59576f36
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Nov 19 17:07:43 2013 -0800

    fix merge conflicts

commit 5bcb41835f58be142bb6ac7c3155dfc163a516b4
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Nov 19 17:03:39 2013 -0800

    Add auto leader rebalance support

commit 39c5b75c9675636d1f77a549fc55b527ed1d7f38
Merge: 793b60763 58789d7cb
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Nov 19 16:04:16 2013 -0800

    Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into trunk

commit 58789d7cbe21f0b29f4a94a1fe75d1f1e0851d86
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Nov 18 21:02:00 2013 -0800

    kafka-1127; kafka and zookeeper server should start in daemon mode and log to correct position; patched by Raymond Liu; reviewed by Jun Rao

commit 7c54e39bd48c9908c220ee68cee608a0d0cf5d9d
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Nov 18 18:31:32 2013 -0800

    KAFKA-1112; broker can not start itself after kafka is killed with -9; patched by Jay Kreps and Jun Rao; reviewed by Jay Kreps, Neha Narkhede and Guozhang Wang

commit 793b60763c0bb073dd5cacf3117b34877f557fb8
Merge: 7c920e97e eedbea652
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Mon Nov 18 03:15:27 2013 -0800

    Merge branch 'trunk' of http://git-wip-us.apache.org/repos/asf/kafka into trunk
    
    Conflicts:
            core/src/main/scala/kafka/admin/AdminUtils.scala
            core/src/main/scala/kafka/admin/TopicCommand.scala

commit eedbea6526986783257ad0e025c451a8ee3d9095
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Nov 7 17:45:39 2013 -0800

    KAFKA-1119 Kafka 0.8.1 overwrites previous per topic config changes; reviewed by Joel Koshy, Guozhang Wang, Swapnil Ghike, Jay Kreps

commit a700c99efddb3ae83b42a2bcf5c58dd16ee7edf1
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Thu Nov 7 20:39:43 2013 -0500

    KAFKA-1126 Remove the DISCLAIMER it is left over from incubation reviewed by Neha

commit 98616188645d1d57e98a6b92f615345fc7653d9d
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Tue Nov 5 18:13:58 2013 -0800

    KAFKA-1121 DumpLogSegments tool should print absolute file name to report inconsistencies; reviewed by Neha Narkhede and Guozhang Wang

commit 7d1ac1d806ea893a1503c35dbd6087941dc5c25c
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Sun Nov 3 16:18:11 2013 -0800

    Minor logging improvement

commit df7f7a255bdd803cddfdf3fea2ace4f1ae366377
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Nov 1 10:27:36 2013 -0700

    KAFKA-1097 Race condition while reassigning low throughput partition leads to incorrect ISR information in zookeeper; reviewed by Jun Rao, Guozhang Wang

commit e602ed0582b04d7b6fd442990dd3182f1e2834a5
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Nov 1 10:03:37 2013 -0700

    KAFKA-1113 log.cleanup.interval.mins property should be renamed; Trivial patch, no review

commit a4fafefdb3a2701d30f14feed3be11f1c0905c31
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Oct 31 21:27:38 2013 -0700

    KAFKA-1107 Follow up review cleanup comments

commit ec547737de730cddb29200eba62c0165f901447b
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Oct 31 21:14:17 2013 -0700

    KAFKA-1107 Broker unnecessarily recovers all logs when upgrading from 0.8 to 0.8.1; reviewed by Jay Kreps and Guozhang Wang

commit a55ec0620f6ce805fafe2e1d4035ec3e0ab4e0d0
Author: Roger Hoover <roger.hoover@gmail.com>
Date:   Wed Oct 30 21:06:23 2013 -0700

    kafka-1092; Add server config parameter to separate bind address and ZK hostname; patched by Roger Hoover; reviewed by Jun Rao

commit bf4dbd5ee3be67a214c01aae0bf01b1492994cf5
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Oct 30 16:21:49 2013 -0700

    KAFKA-1060 Break-down sendTime into responseQueueTime and the real sendTime; reviewed by Neha Narkhede and Jun Rao

commit bd49e4f3e77c86a9cd93262e628143fff762d4ee
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Tue Oct 29 13:11:17 2013 -0700

    KAFKA-1001; Handle follower transition in batch; patched by Guozhang Wang; reviewed by Jun Rao

commit 274b12f3351e007f76e8ef64ba9baf5b0824e690
Author: Alan Vasile <alinachegalati@yahoo.com>
Date:   Fri Oct 25 08:12:36 2013 -0700

    kafka-918; Change log.retention.hours to be log.retention.mins; patched by Alin Vasile; reviewed by Jun Rao

commit 0e90c246c68954204ea524139023d97173bfde56
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Oct 24 21:33:53 2013 -0700

    KAFKA-1098 Fix failing test in LogCleaner.

commit 0198e67febfa805b7a5d7ef8a939254bbe0b0d00
Author: Joris Van Remoortere <joris.van.remoortere@gmail.com>
Date:   Mon Oct 21 11:14:31 2013 -0700

    KAFKA-1042 follow up compilation fix; reviewed by Neha Narkhede

commit b61d147fd0774370a41d2a6cadcbfd30c7703a34
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Sat Oct 19 16:37:50 2013 -0700

    KAFKA-1094 Configure reviewboard url in kafka-patch-review tool; reviewed by Neha Narkhede

commit d030778861e6d274281adf7e0311dc4d51448c84
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Fri Oct 18 11:15:39 2013 -0700

    KAFKA-1042 logSegments(from, to) Misses first segment.
    
    I think this patch also fixes the continual timing problems we have had in log tests. The root cause
    was that we weren't passing through the clock instance so we were mixing instances of MockTime and SystemTime.
    This worked only because MockTime initializes to SystemTime.milliseconds so as long as the test took less than 1 ms it worked!

commit d0e948ca86730a900adbe3300fe4af01cf15922a
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Oct 17 10:26:53 2013 -0700

    kafka-1090; testPipelinedRequestOrdering has transient failures; patched by Jun Rao; reviewed by Joel Koshy, Guozhang Wang, and Neha Narkhede

commit c66e4d58687bee54bae6a31e976d4b9b63c36de1
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Oct 17 09:37:06 2013 -0700

    kafka-1091; full topic list can be read from metadata cache in the broker instead of ZK; patched by Jun Rao; reviewed by Joel Koshy, Guozhang Wang, Swapnil Ghike, and Neha Narkhede

commit b448d4e075f0f138530e6cfc0634f4035c8d1878
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Oct 16 16:36:53 2013 -0700

    KAFKA-1086 Improve GetOffsetShell to find metadata automatically; reviewed by Jun Rao and Joel Koshy

commit d5dfa28596857d5564c14b598901653714717bdc
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Oct 16 09:36:40 2013 -0700

    KAFKA-1089; Fix run-class and log4j for migration tool system test; reviewed by Jun Rao

commit ccdb56201e494d6025e47a48c82f233ccc9386ac
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Oct 9 16:55:49 2013 -0700

    KAFKA-1036 Close checkpoint file before renaming it for Windows compatibility.

commit c98b6de15db9a2ce72f44a5b2736f74de5066113
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Oct 9 13:50:09 2013 -0700

    KAFKA-1008 Lock around unmap on windows.

commit a160f1023b23c7d9d79c7970a72f48ae883dfe07
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Oct 15 09:58:08 2013 -0700

    KAFKA-1086 Improve GetOffsetShell to find metadata automatically; reviewed by Jun Rao

commit e351039b1a9ed188e3be1581f31674b876094274
Author: Francois Saint-Jacques <fsaintjacques@gmail.com>
Date:   Tue Oct 15 09:47:40 2013 -0700

    kafka-1084; Validate properties for custom serializers; patched by Francois Saint-Jacquese; reviewed by Jun Rao

commit 062d910e3235ef71b1e7a01472f4360658c83bea
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Tue Oct 15 09:30:22 2013 -0700

    KAFKA-1087 Empty topic list causes consumer to fetch metadata of all topics; reviewed by Guozhang Wang and Neha Narkhede

commit 3e7c9c6abfed90b4e6e0e1bb3c806adf1c6bbbe9
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Oct 14 09:39:10 2013 -0700

    KAFKA-1081 Clean up shell scripts. Removed re-run of failed command. Use exec instead of subprocess execution.

commit b0fecacbe8232deea5ea8a71e8dd9b57c7cf0435
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Fri Oct 11 00:59:43 2013 -0400

    KAFKA-1018 tidy up the pom, 0.8.0 release, build the test jars now too

commit ace95c48a924db69ea6c6053d4cc2943c7b8958a
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Oct 10 07:58:10 2013 -0700

    trivial change to remove unused command bin/kafka-add-partitions.sh

commit 8d4dbe60f188c48a7f0d552b7b1109fb8e126521
Author: Sriram Subramanian <sriram@gmail.com>
Date:   Wed Oct 9 20:44:49 2013 -0700

    kafka-1052; integrate add-partitions command into topicCommand; patched by Sriram Subramanian; reviewed by Jun Rao

commit 7c920e97ef9e2db80774d6ccd9b85e3934e92645
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Wed Oct 9 10:54:09 2013 -0700

    change comments

commit b998f5d8790cf6f4d079cba399f5c5ea8ea43e68
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Wed Oct 9 10:47:18 2013 -0700

    commit the remaining changes

commit c304a92a1ce39cc7b7e329fde0b97f93cb8caee3
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Oct 8 23:42:34 2013 -0700

    Move AddPartitions into TopicCommand

commit 343a1e2660aa7c3c847c459360a5fbbcb065c759
Merge: bfc4ba499 b384c27c3
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Oct 8 13:05:40 2013 -0700

    Merge remote-tracking branch 'origin/0.8' into trunk

commit b384c27c33dc12d466b4e432b03faea5f88b55aa
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Oct 8 13:04:12 2013 -0700

    kafka-954; tidy up README file for better general availability; patched by Jun Rao; reviewed by Joe Stein and Neha Narkhede

commit a6904a2644a95a3d8d2a59e3915a76e7ee43557a
Author: John Fung <fung.john@gmail.com>
Date:   Tue Oct 8 09:22:32 2013 -0700

    kafka-1078; Update System Test to handle controller data returned by ZK; patched by John Fung; reviewed by Jun Rao

commit f53fe18361a434c388e88b0eed90b8faa0983fd8
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Oct 8 09:12:28 2013 -0700

    kafka-1069; MBean kafka.cluster.Partition report wrong UnderReplicated status; patched by Jun Rao; reviewed by Neha Narkhede

commit bfc4ba499521addf3d109c3fbe77b8908eabc644
Merge: 8959690e9 1cb217579
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Oct 7 14:29:16 2013 -0700

    Merge remote branch 'origin/0.8' into trunk

commit 1cb217579bbb1f9d4df24a3d32bf88644697b7fe
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Oct 7 14:05:40 2013 -0700

    KAFKA-1075; Consumer will not rebalance upon topic partition change; reviewed by Neha Narkhede and Jun Rao

commit 40efe0a972e8a1673b51b05f3937265d97acb01c
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Oct 7 14:00:14 2013 -0700

    trivial follow-up patch for kafka-1073 to fix unit tests; patched by Jun Rao

commit 71ed6ca3368ff38909f502565a4bf0f39e70fc6c
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Oct 7 09:22:12 2013 -0700

    kafka-1073; CheckReassignmentStatus is broken; patched by Jun Rao; reviewed by Guozhang Wang, Swapnil Ghike and Neha Narkhede

commit 2c6d3c7b450e50e2efaab8d55a5574b2ec1cd376
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Oct 6 09:11:07 2013 -0700

    kafka-1076; system tests in 0.8 are broken due to wrong log4j config; patched by Joel Koshy; reviewed by Jay Kreps and Jun Rao

commit 93921a3a5720a1ffd9e272d59d8a7627da28e89e
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Oct 3 17:46:53 2013 -0700

    KAFKA-1071; The random partition selected in DefaultEventHandler is not random across producer instances; reviewed by Neha Narkhede and Jun Rao

commit dcbf0bf0b7e949e0f2652d6f3bd967349813bf6f
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Oct 1 13:22:46 2013 -0700

    KAFKA-1068 OfflinePartitionCount metrics may be incorrect after the controller failover; reviewed by Neha Narkhede and Guozhang Wang

commit 56ada9576204b754e792a3d3c9063908f4f24b4d
Author: Joe Stein <joe.stein@stealth.ly>
Date:   Thu Sep 26 23:01:09 2013 -0400

    KAFKA-939 sbt publish-local fails due to invalid javac flags passed to javadoc patch by Frank Grimes reviewed by Joe Stein

commit bb7b45cd5d454d64c3454b01f8f3f1e13ed26ff3
Author: Sam Meder <sam.meder@gmail.com>
Date:   Tue Sep 24 08:31:18 2013 -0700

    kafka-946; Kafka Hadoop Consumer fails when verifying message checksum; patched by Sam Meder; reviewed by Jun Rao

commit 61b8b2bf818c36e5844a32b24b2855c32bd34254
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Sep 20 09:56:28 2013 -0700

    KAFKA-1062 Reading topic metadata from zookeeper leads to incompatible ordering of partition list; reviewed by Neha and Guozhang

commit 8959690e96f22e6905f80c76faa355448e4d2e51
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Sep 17 20:44:33 2013 -0700

    KAFKA-1053 Kafka patch review tool that integrates JIRA and reviewboard; reviewed by Joel Koshy, Swapnil Ghike and Guozhang Wang

commit d6f95cf97a928067977fef5216e954d5147fd138
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Sep 17 20:44:33 2013 -0700

    KAFKA-1053 Kafka patch review tool that integrates JIRA and reviewboard; reviewed by Joel Koshy, Swapnil Ghike and Guozhang Wang

commit c6ca971738700643ecba78ad1f3998062481aab9
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Sep 17 14:22:48 2013 -0700

    KAFKA-1030 Addition of partitions requires bouncing all the consumers of that topic; reviewed by Neha, Swapnil, Joel

commit 9feef9fd60920cf25a88e03dc5711745c0b7c0c5
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sun Sep 15 08:18:07 2013 -0700

    Trivial commit: Fix whitespace in Utils.rm.

commit aebf746190685d055358ca122aedc424fe024afa
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Sep 13 16:29:39 2013 -0700

    KAFKA-1038; fetch response should use empty messageset instead of null when handling errors; patched by Jun Rao; reviewed by Neha Narkhede

commit 0c1885b800077e4d360935a6d91fe1068a684560
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Sep 13 16:17:55 2013 -0700

    KAFKA-955 (followup patch) After a leader change, messages sent with ack=0 are lost; reviewed by Neha Narkhede and Jun Rao

commit 324936609f9e087aa4168e7f7581148e34b346a4
Merge: fed901cad c12d2ea9e
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Sep 13 15:36:53 2013 -0700

    merge from 0.8 c12d2ea9e5b4bdcf9aeb07c89c69553a9f270c82 to trunk

commit fed901cad2e7f8fe8dffd36b72006d912c18743a
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Sep 13 13:17:17 2013 -0700

    KAFKA-1046 New files

commit 8e554c4d2acf5108805905b9f06198f20398ee3a
Author: Christopher Freeman <cfreeman@linkedin.com>
Date:   Fri Sep 13 12:55:43 2013 -0700

    KAFKA-1046 Added support for Scala 2.10 builds while maintaining compatibility with 2.8.x; reviewed by Neha and Jun

commit 75d95d9b0770d187916bed1dd1ca7a3e82ef08b0
Merge: ff6292904 da4512174
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Sep 11 09:49:48 2013 -0700

    merge from 0.8 da4512174b6f7c395ffe053a86d2c6bb19d2538a and resolve conflicts

commit c12d2ea9e5b4bdcf9aeb07c89c69553a9f270c82
Author: Christopher Freeman <cfreeman@linkedin.com>
Date:   Mon Sep 9 15:20:47 2013 -0700

    KAFKA-1046 Added support for Scala 2.10 builds while maintaining compatibility with 2.8.x; reviewed by Neha and Jun

commit da4512174b6f7c395ffe053a86d2c6bb19d2538a
Author: Rajasekar Elango <e.rajasekar@gmail.com>
Date:   Thu Sep 5 07:45:01 2013 -0700

    kafka-1035; Add message-send-max-retries and retry-backoff-ms options to console producer; patched by Rajasekar Elango; reviewed by Guaozhang Wang and Jun Rao

commit 20953b52558935ba210eaee18e9504bf16bfec27
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Sep 3 20:50:45 2013 -0700

    kafka-937; delta patch; ConsumerFetcherThread can deadlock; patched by Jun Rao; reviewed by Joel Koshy

commit f89ddced1ba058f0c51697957cde8bb2e2b05c4d
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Wed Aug 28 10:16:50 2013 -0700

    KAFKA-955 After a leader change, messages sent with ack=0 are lost; reviewed by Jay Kreps, Neha Narkhede and Jun Rao

commit ea54700d57e18e59e210814b70bddca38739d414
Merge: 51de7c55d 39fc578d5
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Aug 28 09:53:07 2013 -0700

    Merge branch '0.8' of http://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit 51de7c55d2b3107b79953f401fc8c9530bd0eea0
Author: Vladislav Pernin <vladislav.pernin@gmail.com>
Date:   Wed Aug 28 09:51:19 2013 -0700

    kafka-1031; Little modification to the stop script to be able to kill the proper process; patched by Vladislav Pernin; reviewed by Jun Rao

commit 39fc578d5da3f871fbcd5205de010f1f574507d1
Author: Sriram Subramanian <sriram@gmail.com>
Date:   Tue Aug 27 22:12:25 2013 -0700

    KAFKA-990 Fix ReassignPartitionCommand and improve usability; reviewed by Neha, Jun, Joel and Guozhang

commit 7640bee3d281e0658f97997738a1f1f599fd4c07
Author: Sam Meder <sam.meder@gmail.com>
Date:   Tue Aug 27 10:16:33 2013 -0700

    KAFKA-1029 Zookeeper leader election stuck in ephemeral node retry loop; reviewed by Neha and Guozhang

commit d217f4cc276eee021a0d756d3390b633e43f7115
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Thu Aug 22 09:52:48 2013 -0700

    kafka-1017; High number of open file handles in 0.8 producer; patched by Swapnil Ghike; reviewed by Neha Narkhede and Jun Rao

commit ff6292904a67cd021d365ef1e07c113002b80582
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Aug 19 09:45:39 2013 -0700

    KAFKA-1009 DumpLogSegments tool should return error on non-existing files; reviewed by Neha Narkhede

commit ceb55cad5863fa7c39615e48a5d6358eb416a83e
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Aug 19 08:17:26 2013 -0700

    kafka-649; patch v5; Cleanup log4j logging; patched by Guozhang Wang; reviewed by Jun Rao

commit 6849da0505da1f38edfbfb64e27cff504231142a
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Aug 16 21:51:35 2013 -0700

    kafka-992; follow-up patch; Double Check on Broker Registration to Avoid False NodeExist Exception; patched by Guozhang Wang; reviewed by Neha Narkhede and Jun Rao

commit 7a9faa49ed5c7581cb2bd6c86b68df06a8879fec
Author: Sam Meder <sam.meder@gmail.com>
Date:   Fri Aug 16 10:13:30 2013 -0700

    kafka-1010; Concurrency issue in getCluster() causes rebalance failure and dead consumer; patched by Sam Meder; reviewed by Jun Rao

commit 1db824ed2fcdaa45c3b1d0dcbf9101299fded09c
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Fri Aug 9 15:44:00 2013 -0700

    KAFKA-992 followup: Fix zookeeper de-registration bug for controller and consumer; reviewed by Neha Narkhede

commit 1d75e09313b5b3f1cde6c39fdda20bc7185cfdf6
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Aug 9 15:29:08 2013 -0700

    Revert "KAFKA-992 follow up: Fix the zookeeper de-registration issue for controller and consumer; reviewed by Neha Narkhede"
    
    This reverts commit 81c49bbdae5e490f9d5dc7b042ee60e617fbb22b.

commit 81c49bbdae5e490f9d5dc7b042ee60e617fbb22b
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Aug 8 22:06:03 2013 -0700

    KAFKA-992 follow up: Fix the zookeeper de-registration issue for controller and consumer; reviewed by Neha Narkhede

commit e7a546b67cdcdcbb1071ed805a4e4177cbbc15ff
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Aug 7 10:24:21 2013 -0700

    kafka-1003; ConsumerFetcherManager should pass clientId as metricsPrefix to AbstractFetcherManager; patched by Swapnil Ghike; reviewed by Jun Rao

commit 9753d15ef1da0ecab9bbee51d8cdc08c2159c50b
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Tue Aug 6 20:41:59 2013 -0700

    KAFKA-999 Controlled shutdown never succeeds until the broker is killed; reviewed by Neha Narkhede

commit df18fe13ad50bba3dbc7d1db0ecd8b698169ade2
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Wed Jul 17 14:45:03 2013 -0700

    KAFKA-615 fsync asynchronous from log roll. Patch reviewed by Jun and Sriram.

commit 1d6ad3d7d441bc7174a445a4e5e49319ee1003eb
Author: Phil Hargett <phil.hargett@mirror-image.com>
Date:   Mon Aug 5 18:59:34 2013 -0700

    kafka-989; Race condition shutting down high-level consumer results in spinning background thread; patched by Phil Hargett; reviewed by Jun Rao

commit 7fbbb6666bef10f31301c4af17a6077e8895fa06
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Aug 5 13:23:55 2013 -0700

    KAFKA-992 follow up. Fix broken unit test

commit 14af713252f016929f8150f2f6c2df9d0d447ddb
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Jul 11 08:06:43 2013 -0700

    Misc. minor house-keeping fixes: add reasonable GC settings, fix up README, fix up example configs, fix the logging for tools, use a log directory for logs instead of the root directory.

commit f3f8fa5c8c17ade2205ef0f80d9092cae640327d
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Mon Aug 5 10:05:44 2013 -0700

    KAFKA-992 Double Check on Broker Registration to Avoid False NodeExist Exception; reviewed by Neha Narkhede and Swapnil Ghike

commit 493a46613e9a90c0879de96d04c42696fdf95510
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sat Aug 3 09:58:48 2013 -0700

    KAFKA-985 integer overflow in log time configuration values. Patch from Frank Fejes.

commit bdb2fdc6460c48189b487e1e8a75c344e32aa222
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sat Aug 3 09:46:50 2013 -0700

    KAFKA-995 Ensure that replica fetch size is > max message size on server.

commit 81a9f6a682e5ca35a041717d6c1d4a60af5fd36a
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Fri Aug 2 16:18:25 2013 -0700

    KAFKA-915; Mirror maker system tests should wait for topics to be created. (This patch is a work-around until KAFKA-956 is resolved.); patched by John Fung; reviewed by Joel Koshy.

commit ed3e146cf4b48683756e3c445f539fa99ba9076a
Merge: 0c8aefc25 b6479e8ad
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Aug 1 21:31:46 2013 -0700

    Merge branch '0.8' of http://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit 0c8aefc251d03ba824cecd6acbcbdf143fdebfb8
Author: Sam Meder <sam.meder@gmail.com>
Date:   Thu Aug 1 21:30:05 2013 -0700

    kafka-994; High level consumer doesn't throw an exception when the message it is trying to fetch exceeds the configured fetch size; patched by Sam Meder; reviewed by Jay Kreps and Jun Rao

commit b6479e8adca6be8e363d289be29dc755e0655550
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Thu Aug 1 17:11:58 2013 -0700

    KAFKA-991; Rename config queue size to queue bytes in hadoop producer; patched by Swapnil Ghike, reviewed by Joel Koshy.

commit 8edd3e63024832f2c05b5819ab3dfc2e0b300729
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Thu Aug 1 14:58:25 2013 -0700

    KAFKA-991; Reduce the queue size in hadoop producer; patched by Swapnil Ghike, reviewed by Jay Kreps and Joel Koshy.

commit d285e263bf403f3db27f5d138594c395643a2284
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Jul 29 15:32:36 2013 -0700

    KAFKA-925 Add a partition key that overrides the message's stored key. Patch reviewed by Joel.

commit 76d39052f717cb6d9fdac6a516df298036b5ffff
Author: Guozhang Wang <guwang@linkedin.com>
Date:   Thu Jul 25 10:10:35 2013 -0700

    kafka-959; DefaultEventHandler can send more produce requests than necesary; patched by Guozhanh Wang; reviewed by Jun Rao

commit bc5620cbd270cd8ab443f567fee5203c66db253f
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Jul 24 18:03:52 2013 -0700

    KAFKA-983; Expose MirrorMaker cleanShutdown method. Patched by Swapnil Ghike.

commit 5cf6a546649c213c33ef41d5d47e6af959c0c587
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Jul 24 10:28:26 2013 -0700

    KAFKA-957; MirrorMaker needs to preserve ordering for keyed messages from source cluster; patched by Guozhang Wang, reviewed by Joel Koshy

commit 401d59199cf727f5001dcec3eaa05fa9cdfd079e
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Tue Jul 23 11:18:50 2013 -0700

    KAFKA-987 Avoid checkpointing offsets in Kafka consumer that have not changed since the last commit; reviewed by Neha Narkhede

commit ce7d588055e7d3aacebcc696665b1260fa2e9063
Author: John Fung <fung.john@gmail.com>
Date:   Tue Jul 23 10:32:30 2013 -0700

    kafka-883; System Test - update migration tool testsuite after 0.7 ProducerPerformance sends seq MessageID; patched by John Fung; reviewed by Jun Rao

commit f596ab577869a71811fee6bffdfcd171cd188fa6
Author: John Fung <fung.john@gmail.com>
Date:   Tue Jul 23 09:46:25 2013 -0700

    kafka-832; System Test - set retry.backoff.ms=300 to all test cases; patched by John Fung; reviewed by Jun Rao

commit d3aa3ef073fe773a10168f925a45747f52c4e3c0
Author: John Fung <fung.john@gmail.com>
Date:   Tue Jul 23 09:38:52 2013 -0700

    kafka-879; In system test, read the new leader from zookeeper instead of broker log on completion of become-leader state transition; patched by John Fung; reviewed by Jun Rao

commit 3817857b15f9ce03f10a9730f0ff4619d728b06f
Author: Sriram Subramanian <sriram@gmail.com>
Date:   Mon Jul 22 21:33:28 2013 -0700

    kafka-347; change number of partitions of a topic online; patched by Sriram Subramanian; reviewed by Neha Narkehede, Guozhang Wang, Joel Koshy and Jun Rao

commit b1891e700889e8e4ae78a6d73d785ff681ac70b9
Author: Joe Stein <joestein@Joes-MacBook-Air.local>
Date:   Sun Jul 14 21:21:13 2013 -0400

    KAFKA-974 can't use public release maven repo because of failure of downloaded dependency

commit c27c768463a5dc6be113f2e5b3e00bf8d9d9d602
Author: David Arthur <mumrah@gmail.com>
Date:   Thu Jul 11 15:34:57 2013 -0700

    KAFKA-852, remove clientId from Offset{Fetch,Commit}Response. Reviewed by Jay.

commit db37ed0054305a3f5d824166914092076b10ac1e
Merge: 2cda5d1fc c39d37e9d
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Jul 10 23:36:51 2013 -0700

    kafka-965; merge c39d37e9dd97bf2462ffbd1a96c0b2cb05034bae from 0.8 to trunk; patched by Jun Rao; reviewed by Jay Kreps

commit bf31a6bf705f0438dfc15320ff7047a62eb8f94d
Author: Sriram Subramanian <sriram@gmail.com>
Date:   Wed Jul 10 22:50:28 2013 -0700

    kafka-969; Need to prevent failure of rebalance when there are no brokers available when consumer comes up; patched by Sriram Subramanian; reviewed by Joel Koshy and Jun Rao

commit 2cda5d1fca90e93ecfd44665fe32033ddce99c52
Merge: c98bdd3e4 3b470f56b
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jul 8 15:49:53 2013 -0700

    Merge branch 'trunk' of https://git-wip-us.apache.org/repos/asf/kafka into trunk

commit c98bdd3e4f6edb7a4db97a876c26e7d37e88e12a
Merge: 731ba9007 988d4d8e6
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jul 8 15:42:24 2013 -0700

    kafka-896; merge 0.8 (988d4d8e65a14390abd748318a64e281e4a37c19) to trunk; patched by Jun Rao; reviewed by Jay Kreps

commit c39d37e9dd97bf2462ffbd1a96c0b2cb05034bae
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Mon Jul 8 13:07:16 2013 -0700

    kafka-964; Default hadoop-producer configs to request.required.acks = 1; Patched by Swapnil Ghike; reviewed by Jun Rao

commit 6b53c649e9d5708d683431522ca750e2fde40fb9
Author: Joe Stein <joestein@Joes-MacBook-Air.local>
Date:   Sun Jul 7 09:20:08 2013 -0400

    KAFKA-963 when publishing to maven repository central missing signature on everything

commit 86e314aa7301cc2802bb4910c07f0957e391ed18
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jun 25 21:12:19 2013 -0700

    kafka-937; fix bug exposed in ConsumerOffsetChecker; patched by Jun Rao; reviewed by Alexey Ozeritskiy

commit 5f14a69c2e5c21be9b1257e62040e89f400ac2d9
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Jun 23 22:04:46 2013 -0700

    kafka-950; Leader election rate may be reported on a non-controller; patched by Jun Rao; reviewed by Sriram Subramanian

commit 5a084f7be6986ccbe6ede9df0b519d0fd7929d01
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Jun 23 22:03:14 2013 -0700

    kafka-951; Leader election rate may be reported on a non-controller; patched by Jun Rao; reviewed by Swapnil Ghike

commit cc6027b3279ac5cd8908d01d35511c93716fbe60
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Jun 20 13:22:56 2013 -0700

    kafka-947; isr-expiration-thread may block LeaderAndIsr request for a relatively long period; patched by Jun Rao; reviewed by Joel Koshy

commit 7b43f0132ce93a231b21e943d665ec4227f67b6b
Author: Joe Stein <joestein@Joes-MacBook-Air.local>
Date:   Wed Jun 19 23:01:26 2013 -0400

    KAFKA-944 fixing up for release pom output from publish and publish-local is not accurate

commit 0a8716f8e026abcc586057a4fbaeb32d538cd393
Author: Joe Stein <joestein@Joes-MacBook-Air.local>
Date:   Mon Jun 17 12:21:22 2013 -0400

    KAFKA-942 version jar name change for 0.8.0-beta1 release

commit 7ad742d802498542d0b60e87c331053805a94ac7
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jun 17 08:27:59 2013 -0700

    trival change to increase default producer request timeout

commit 23acbd309f5e17de71db46cb6f1a60c8d38ea4e4
Author: Joe Stein <joestein@Joes-MacBook-Air.local>
Date:   Thu Jun 13 16:05:56 2013 -0400

    KAFKA-941 Add Apache 2.0 license to missing code source files

commit 5bd33c1517bb2e7734166dc3e787ac90a4ef8f86
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Jun 12 20:50:38 2013 -0700

    kafka-937; ConsumerFetcherThread can deadlock; patched by Jun Rao; reviewed by Joel Koshy

commit 640026467cf705fbcf6fd6bcada058b18a95bff5
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed Jun 12 20:42:40 2013 -0700

    kafka-940; Scala match error in javaapi.Implicits; patched by Joel Koshy; reviewed by Jun Rao

commit 6881bf08f26ec64c056c6880922c4321679ba92d
Author: Sam Meder <sam.meder@gmail.com>
Date:   Tue Jun 11 22:43:41 2013 -0700

    kafka-938; High CPU usage when more or less idle; patched by Sam Meder; reviewed by Jun Rao

commit ddb7947c05583ea317e8f994f07b83bf6d5213c3
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Jun 9 09:15:17 2013 -0700

    trival change to review unneeded error logging since an exception is already thrown to the caller

commit 9b30aceea3996853b95464d29a2582dbc173d2ac
Author: Sriram Subramanian <sriram@gmail.com>
Date:   Thu Jun 6 09:30:22 2013 -0700

    KAFKA-935: Fix shutdown tool to work with new controlled shutdown API; reviewed by Neha Narkhede

commit 9bd2a11486420a313f800d734cab8a858fac6d0e
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jun 3 17:58:48 2013 -0700

    kafka-931; make zookeeper.connect a required property; patched by Jun Rao; reviewed by Neha Narkhede

commit fb37ea8c749c41b1e34158debc7e9221b4db8f31
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Jun 3 17:04:46 2013 -0700

    KAFKA-905 Logs can have same offsets causing recovery failure; reviewed by Jun, Neha and Jay

commit 43c43b1c6d05fb93f4ca96a4e1a1aa8c6fd58d18
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jun 3 16:51:41 2013 -0700

    kafka-903; Attempt to swap the new high watermark file with the old one failed on Windows; patched by Jun Rao; reviewed by Neha Narkhede, Jay Kreps and Sriram Subramania

commit 4f387ae43544c422b1845b3da5ab09aee8e4acd0
Author: Sriram Subramanian <sriram@gmail.com>
Date:   Mon Jun 3 16:08:37 2013 -0700

    kafka-927; Integrate controlled shutdown into kafka shutdown hook; patched by Sriram Subramanian; reviewed by Neha Narkhede and Jun Rao

commit 658427638f1b00ae1d284e579b4631f7119e54cc
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Jun 3 14:06:08 2013 -0700

    KAFKA-928 new topics may not be processed after ZK session expiration in controller; reviewed by Jun Rao

commit 4850519a2c32b3ee882eb79375ba77de8d0488f7
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Fri May 31 10:43:28 2013 -0700

    KAFKA-921; Expose max lag and min fetch rate mbeans for consumers and replica fetchers; reviewed by Jun Rao.

commit 1caae2c2a10856ea2a31c8b82f1fae5b107a2a07
Author: Jun Rao <junrao@gmail.com>
Date:   Thu May 30 22:16:47 2013 -0700

    kafka-899; LeaderNotAvailableException the first time a new message for a partition is processed; patched by Jun Rao; reviewed by Neha Narkhede

commit d93cbc610a412d099324c2b4ce04660a00178fa9
Author: Jun Rao <junrao@gmail.com>
Date:   Thu May 30 20:32:10 2013 -0700

    kafka-920; zkclient jar 0.2.0 is not compatible with 0.1.0; patched by Jun Rao; reviewed by Neha Narkhede

commit dc0de292531f0af0a0eba71d170c7bd2706500d8
Author: Milosz Tanski <milosz@adfin.com>
Date:   Wed May 29 21:43:41 2013 -0700

    kafka-856; Correlation id for OffsetFetch request (#2) always responds with 0; patched by Milosz Tanski; reviewed by Jun Rao

commit 492ed7a35d031b737b7c98dadcc8be777b9d2d57
Author: Jun Rao <junrao@gmail.com>
Date:   Wed May 29 21:34:11 2013 -0700

    trivial change to fix incorrect comment in Message

commit 3b470f56b479f618b7e90577f9857b4e25b38c1a
Author: Colin B <lanzaa+asf@gmail.com>
Date:   Wed May 29 21:25:34 2013 -0700

    kafka-891; NullPointerException in ConsoleConsumer; patched by Colin B.; reviewed by Neha Narkhede and Jun Rao

commit 436dd25a4885fa13749604111000f52724eb4ccd
Author: Jun Rao <junrao@gmail.com>
Date:   Wed May 29 20:26:08 2013 -0700

    kafka-259; Give better error message when trying to run shell scripts without having built/downloaded the jars yet; patched by Ashwanth Fernando; reviewed by Jun Rao

commit bbb161aa250ce3071b03e01d9fa82091f23e1b30
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed May 29 09:52:23 2013 -0700

    KAFKA-923 Improve controller failover latency. Remove unnecessary zookeeper reads; reviewed by Jun Rao

commit e4f287db6142cafdf1ddb4ebf7110180ec06f7c4
Author: Jun Rao <junrao@gmail.com>
Date:   Wed May 29 10:00:51 2013 -0700

    kafka-649; Cleanup log4j logging (extra); patched by Jun Rao; reviewed by Neha Narkhede

commit 312ed2e67a0bca194ee3012c61239d30d8890566
Author: Jun Rao <junrao@gmail.com>
Date:   Wed May 29 09:56:27 2013 -0700

    kafka-900; ClosedByInterruptException when high-level consumer shutdown normally; patched by Jun Rao; reviewed by Neha Narkhede

commit 85c71591548d1069ff78214dd943df87fa87b3db
Author: John Fung <fung.john@gmail.com>
Date:   Wed May 29 09:36:45 2013 -0700

    KAFKA-922 System Test - set retry.backoff.ms=300 to testcase_0119; reviewed by Neha Narkhede

commit 517af4779aed73efa9889b89d99a9c789f091b06
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue May 28 09:55:39 2013 -0700

    KAFKA-916; Break deadlock between fetcher shutdown and error partition handling; reviewed by Jun Rao.

commit 59599cc127f32e17b07092a6c59fce742d027c47
Author: Phil Hargett <phil.hargett@mirror-images.com>
Date:   Fri May 24 22:00:57 2013 -0700

    kafka-919; Disabling of auto commit is ignored during consumer group rebalancing; patched by Phil Hargett; reviewed by Jun Rao

commit ffd84eb23fcbb279a63ba5d4cb72077a0c079cff
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Wed May 22 16:26:04 2013 -0700

    KAFKA-914; Break deadlock between initial rebalance and watcher-triggered rebalances; reviewed by Jun Rao and Neha Narkhede

commit 32cd8994bf35b65a8053e0caea9a7710cc889df7
Author: Jun Rao <junrao@gmail.com>
Date:   Wed May 22 16:23:21 2013 -0700

    kafka-907; controller needs to close socket channel to brokers on exception ; patched by Jun Rao; reviewed by Neha Narkhede

commit e93937c88639146657f314bfdd29b200c054cade
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed May 22 10:29:45 2013 -0700

    Minor logging fix

commit 2d40ca30d34b2d4de35d5b811858b0f915451a19
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue May 21 10:01:51 2013 -0700

    KAFKA-901 follow up changes to fix update metadata response handling and request logging

commit eff59330f2ce19e7074d74f4d268774dd260bca7
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri May 17 16:59:40 2013 -0700

    KAFKA-901: Follow up minor changes

commit cfdc403e1780882f62df6e9a092cda6bea017fbe
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri May 17 15:45:33 2013 -0700

    KAFKA-901 Kafka server can become unavailable if clients send several metadata requests; reviewed by Jun Rao

commit 988d4d8e65a14390abd748318a64e281e4a37c19
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Apr 30 17:20:54 2013 -0700

    KAFKA-892 Change request log to include request completion not handling; reviewed by Joel Koshy

commit cae19aa44f36775d8f95256e63e0cb50a0c0ba9f
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Apr 30 15:35:01 2013 -0700

    KAFKA-889 Add mbeans to track socket server's response queue size in addition to request queue size; reviewed by Jun Rao and Joel Koshy

commit d726e14eea2133cb8a1e52d20f6a17047f726e1c
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Apr 30 12:42:15 2013 -0700

    KAFKA-890 The list of brokers for fetching metadata should be shuffled; reviewed by Joel Koshy

commit 103aef8ca3c0eb1ff5574df656bfe5273ed9492b
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Apr 29 17:04:42 2013 -0700

    KAFKA-887 Standardize logging for partition information to [%s,%d] format; reviewed by Swapnil and Jun

commit a61e7381382ada885debef15379675fea6974ec1
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Apr 29 11:09:14 2013 -0700

    change to standardize on [%s,%d] for partition

commit e37a4644209de00f265a5361b31ca63cafc895e9
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Fri Apr 26 14:13:00 2013 -0700

    Trivial commit - warn on consumer fetch request errors.

commit 6e640e355632d97e322e462c2bbc379c05d407a4
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Apr 25 19:03:21 2013 -0700

    kafka-880; NoLeaderPartitionSet should be cleared before leader finder thread is started up; patched by Jun Rao; reviewed by Neha Narkhede

commit 2d7403174f8fd6d35fce05585a7ee6edb8af7dd4
Author: Swapnil Ghike <sriram@gmail.com>
Date:   Thu Apr 25 18:57:31 2013 -0700

    kafka-871; Rename ZkConfig properties; patched by Swapnil Ghike; reviewed by Jun Rao

commit ede85875a3aea5723baf82736cc71bb1a04a6102
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Tue Apr 23 10:40:47 2013 -0700

    KAFKA-872; Socket server should set send/recv socket buffer sizes; reviewed by Jun Rao.

commit 1976ce8069818c2c6d093b5b75e8f7b6653120bc
Author: David Stein <dstein205@gmail.com>
Date:   Mon Apr 22 19:19:13 2013 -0700

    KAFKA-870 hadoop-producer KafkaRecordWriter writes entire input buffer capacity, even when intended payload is smaller; reviewed by Neha Narkhede

commit f1d2141ca065d51b41aeac8c7e2124672298d5f0
Author: Sriram Subramanian <sriram@gmail.com>
Date:   Mon Apr 22 16:50:29 2013 -0700

    kafka-866; Recover segment does shallow iteration to fix index causing inconsistencies; patched by Sriram Subramanian; reviewed by Jun Rao

commit 731ba9007d4e2fa2f3a5e44f7b30827975fca420
Merge: 9ff4e8eb1 51421fcc0
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Apr 17 21:52:04 2013 -0700

    kafka-823; merge 0.8 (51421fcc0111031bb77f779a6f6c00520d526a34) to trunk; patched by Jun Rao; reviewed by Jay Kreps

commit c5bb1d49942fd94a1ead938567031f9faaeacfbd
Author: Cosmin Lehene <clehene@adobe.com>
Date:   Wed Apr 17 08:20:30 2013 -0700

    kafka-843; (addendum) Re-add the release-zip sbt target; patched by Cosmin Lehene; reviewed by Jun Rao

commit b29b6296ac5b799a78d61920a3f4131051230a02
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Mon Apr 15 18:09:57 2013 -0700

    kafka-861; IndexOutOfBoundsException while fetching data from leader; patched by Sriram Subramanian; reviewed by Jun Rao and Neha Narkhede

commit 158baf661c142d1ebeb96a817f5a121ca71360ac
Author: Cosmin Lehene <clehene@adobe.com>
Date:   Thu Apr 11 11:01:11 2013 -0700

    kafka-843; Re-add the release-zip sbt target; patched by Cosmin Lehene; reviewed by Jun Rao

commit f9e36ca790060a12a51569169cc4a53c4ebc5d74
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Apr 11 10:09:24 2013 -0700

    KAFKA-860 Replica fetcher thread errors out and dies during rolling bounce of cluster; reviewed by Jun Rao, Jay Kreps

commit 6dbf9212ae4dc6ed7f91fc99135b8a3b35ab5edb
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Apr 9 16:07:48 2013 -0700

    KAFKA-826 Make Kafka 0.8 depend on metrics 2.2.0 instead of 3.x; reviewed by Swapnil Ghike, Neha Narkhede, Matt Christiansen, Scott Carey

commit ae362b0864cab835088fc1cd2faf8f646a502af6
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Apr 9 15:37:33 2013 -0700

    kafka-649; Cleanup log4j logging; patched by Jun Rao; reviewed by Jay Kreps

commit ef123c20b82dab2f9bfa125bbb81521b0ff806ae
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Apr 9 14:11:07 2013 -0700

    KAFKA-858 High watermark values can be overwritten during controlled shutdown; reviewed by Jun Rao

commit d4a70eb9b04bd4cec286cfb09eeeb3794ab4f4ee
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Apr 8 09:48:03 2013 -0700

    kafka-850; add an option to show under replicated partitions in list topic command; patched by Jun Rao; reviewed by Neha Narkhede

commit 756be5363b83782b55922dfedd8ef9d3b405199c
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Apr 4 21:27:20 2013 -0700

    KAFKA-849 Bug in controller's startup/failover logic fails to update in memory leader and isr cache causing other state changes to work incorrectly; reviewed by Jun Rao and Swapnil Ghike

commit 1d3c343f57db55076c7e627bc362b4a64e22dcb2
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Apr 4 21:19:52 2013 -0700

    KAFKA-851 Broken handling of leader and isr request leads to incorrect high watermark checkpoint file; reviewed by Jun Rao and Swapnil Ghike

commit afecc9f23108b100b27017974b132331d6bab8e6
Author: John Fung <fung.john@gmail.com>
Date:   Thu Apr 4 16:18:50 2013 -0700

    KAFKA-844 System Test - Mirror Maker cases enhancements; reviewed by Neha Narkhede

commit 3ead78b966a8464efa6d53fbb81fcb0efc75ba63
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Apr 3 23:40:05 2013 -0700

    KAFKA-840 Post commit

commit 5a50f7e555510b8cde08cd588cf4b67b06484b16
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Apr 3 17:15:06 2013 -0700

    kafka-846; AbstractFetcherThread should do shallow instead of deep iteration; patched by Jun Rao; reviewed by Neha Narkhede

commit bd262ac708062e502406e8d775f4c9432a5364e7
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Apr 3 13:43:50 2013 -0700

    KAFKA-842 Mirror maker can lose some messages during shutdown; reviewed by Jun Rao

commit 3c27988ca4036985f4c7bef62b9bbae3f95f0fb9
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Apr 1 10:41:40 2013 -0700

    kafka-827; improve list topic output format; patched by Jun Rao; reviewed by Neha Narkhede

commit a9ce73cfd36bdb197e722ce8b828f27153f9e4ed
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Mon Apr 1 09:17:12 2013 -0700

    KAFKA-840 Controller tries to perform preferred replica election on failover before state machines have started up; reviewed by Neha Narkhede

commit 06911384f2f32fe17a3057c9830e3f7dc30d66e6
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Mar 29 13:24:45 2013 -0700

    trivial fix to print key properly in DumpLogSegments

commit 68528dafa1fcfb7a469654575288e19f5b4bda04
Author: Dragos Manolescu <dam@micro-workflow.com>
Date:   Fri Mar 29 08:28:35 2013 -0700

    kafka-807; LineMessageReader doesn't correctly parse the key separator; patched by Dragos Manolescu; reviewed by Jun Rao

commit 9f6af315ca101272748de54fd1347c9def7d80af
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Mar 29 08:24:25 2013 -0700

    KAFKA-831 Controller does not send the complete list of partitions to a newly started broker; reviewed by Jun Rao and Swapnil Ghike

commit 6e05d7da865898c1c44f552c735484dfe2603b60
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Mar 28 16:34:47 2013 -0700

    kafka-832; 0.8 Consumer prevents rebalance if consumer thread is blocked or slow; patched by Jun Rao; reviewed by Neha Narkhede

commit 1d5e95f6c4067884a374deddd88ec3f471664658
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Mar 28 16:29:37 2013 -0700

    KAFKA-831 Controller does not send the complete list of partitions to a newly started broker; reviewed by Jun Rao

commit 66b103895720700c5ea47e8f75a1105aca6e9342
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Mar 28 09:54:02 2013 -0700

    KAFKA-829 Mirror maker needs to share the migration tool request channel; reviewed by Jun Rao

commit be3ce14721a97df8331331b024ac602dcf66abe3
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Mar 28 09:45:52 2013 -0700

    Missing file from KAFKA-828

commit 2fe3f9fef6e641ed64aca654b607c4d398e11d25
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Thu Mar 28 08:50:38 2013 -0700

    KAFKA-828 Preferred Replica Election does not delete the admin path on controller failover; reviewed by Neha Narkhede and Jun Rao

commit f570cce1f4bec4ce50b4b1878a804b725f316b91
Author: John Fung <fung.john@gmail.com>
Date:   Wed Mar 27 16:58:54 2013 -0700

    kafka-819; System Test : Add validation of log segment index to offset; patched by John Fung; reviewed by Jun Rao

commit c5e354d3ab8ee4f9d18da6c084d4abfb00911b7c
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Mar 27 13:29:18 2013 -0700

    KAFKA-830 partition replica assignment map in the controller should be a Set; reviewed by Jun Rao and Swapnil Ghike

commit 26c50fac47802e4aa03793c60cb8316995bb37f1
Author: John Fung <fung.john@gmail.com>
Date:   Mon Mar 25 14:08:24 2013 -0700

    kafka-791; Fix validation bugs in System Test; patched by John Fung; reviewed by Jun Rao

commit e367f3ffb3340a0f0c0f46b0787d12476d751815
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Mar 25 10:47:29 2013 -0700

    kafka-825; KafkaController.isActive() needs to be synchronized; patched by Jun Rao; reviewed by Neha Narkhede

commit df221297c715f2a9dbe389f727a840ea1ab27e47
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Mon Mar 25 10:45:44 2013 -0700

    kafka-813; (add the missing file) Minor cleanup in Controller; patched by Swapnil Ghike; reviewed by Neha Narkhede and Jun Rao

commit 28ee7855360b8e6ea690fc802dac4eaa60ad81e2
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Mon Mar 25 09:31:57 2013 -0700

    kafka-813; Minor cleanup in Controller; patched by Swapnil Ghike; reviewed by Neha Narkhede and Jun Rao

commit 51421fcc0111031bb77f779a6f6c00520d526a34
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Mar 22 09:32:27 2013 -0700

    KAFKA-816 Reduce noise in Kafka server logs due to NotLeaderForPartitionException; reviewed by Jun Rao

commit 08b2a37c33ed907614e9621f315bb737f9be490e
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Mar 22 09:12:41 2013 -0700

    KAFKA-820 Topic metadata request handling fails to return all metadata about replicas; reviewed by Jun Rao

commit 7b14ebae3382427b44a928d0b186001735c15efb
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Mar 20 09:44:36 2013 -0700

    kafka-811; (Delta) Fix clientId in migration tool; patched by Swapnil Ghike; reviewed by Jun Rao

commit a737986e54ea53a2b93f3d08f5eb7fd155095f3c
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Mar 19 17:19:20 2013 -0700

    KAFKA-815 Improve SimpleConsumerShell to take in a max messages config option;reviewed by Jun Rao

commit a376f922149330995f91d427d76ff1595fbd26ce
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Mar 19 16:32:59 2013 -0700

    Support deep iteration in DumpLogSegments tool; patched by Jun Rao; reviewed by Neha Narkhede; kafka-812

commit 46ebdc16e99c4bb9236a6c25c47ff2c97fdc0f53
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Mar 18 15:53:03 2013 -0700

    Incorrect index in the log of a follower; patched by Jun Rao; reviewed by Neha Narkhede and Jay Kreps; kafka-804

commit d40d255bc86a8b82dddd79c71f4a0309af6731e0
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Mon Mar 18 14:34:14 2013 -0700

    KAFKA-811 Fix clientId in migration tool; reviewed by Neha Narkhede

commit 7fd9268f7b89afa2e41b526f1f4d7bfc90a519cf
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Mar 15 08:31:13 2013 -0700

    KAFKA-808 Migration tool internal queue between consumer and producer threads should be configurable; reviewed by Jun Rao

commit 3b3fb7fed622cc0339c3b9e3fb175e6093e427a3
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Mar 13 15:11:15 2013 -0700

    kafka-763 delta; Add an option to replica from the largest offset during unclean leader election; patched by Swapnil Ghike; reviewed by Jun Rao

commit 0a9283530418781941b7c232a8b09e4ec071b0e9
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Mar 13 13:11:47 2013 -0700

    KAFKA-763 follow up changes; reviewed by Neha Narkhede

commit c5462864aab05b98158bcbe623123db083b8e136
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Mar 13 11:50:59 2013 -0700

    KAFKA-802 Flush message interval is based on compressed message count; reviewed by Jun Rao

commit dd9676163956b3e577808a1e9744aa9fb5e83e4e
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Mar 13 10:10:52 2013 -0700

    kafka-801; Fix MessagesInPerSec mbean to count uncompressed message rate; patched by Jun Rao; reviewed by Neha Narkhede

commit 290d5e0eac38e9917c64353a131154821b899f26
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Tue Mar 12 20:59:09 2013 -0700

    kafka-763; Add an option to replica from the largest offset during unclean leader election; patched by Swapnil Ghike; reviewed by Jun Rao

commit 485afe646af282c59927b177ddc70742349cdad8
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Mar 12 11:21:30 2013 -0700

    KAFKA-800 inSyncReplica in Partition needs some tweaks; reviewed by Jun Rao and Neha Narkhede

commit 9ff4e8eb10e0ddd86f257e99d55971a132426605
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Mar 12 11:17:12 2013 -0700

    KAFKA-739 Handle null message payloads in messages and in the log cleaner. Reviewed by Jun and Neha.

commit da1dc17887e536824df35958c6abdc14828fb4cb
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Sat Mar 9 14:53:22 2013 -0800

    KAFKA-798 Use biased histograms instead of uniform histograms in KafkaMetricsGroup; reviewed by Neha Narkhede

commit c1ed12e44ddebe41dc464683e3d7eeb4e6d39a45
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Fri Mar 8 15:07:39 2013 -0800

    KAFKA-554 Dynamic per-topic configuration. This patch adds a mechanism for storing per-topic configurations in zookeeper and dynamically making config changes across the cluster. Reviewed by Neha and Jun.

commit b5edbb193b33ebf0b3056935a537967ff21478a6
Author: John Fung <fung.john@gmail.com>
Date:   Fri Mar 8 14:59:50 2013 -0800

    kafka-792; Update multiple attributes in testcase_xxxx_properties.json; patched by John Fung; reviewed by Jun Rao

commit 5a275b077af41803e22e5ac53a1fe474c53116ff
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Mar 7 18:31:20 2013 -0800

    KAFKA-787 Simple Consumer connecting to Broker that is not the Leader generates wrong error; reviewed by Jun Rao

commit 19ae1959b091df44475243e3b199d6121ddedc72
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Thu Mar 7 18:20:33 2013 -0800

    Include controllerId in all requests sent by controller; patched by Swapnil Ghike; reviewed by Jun Rao; kafka-793

commit 771760ce23f00ba86b916420d8e209b2611b23c0
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Mar 6 16:08:56 2013 -0800

    MirrorMaker with shallow.iterator.enable=true produces unreadble messages; patched by Jun Rao; reviewed by Neha Narkhede; kafka-732

commit eae1bd52ef1d991834151898e768e57de8bb07bf
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Mar 6 12:54:39 2013 -0800

    Standardize Zk data structures for Re-assign partitions and Preferred replication election; patched by Swapnil Ghike; reviewed by Jun Rao; kafka-779

commit 2457bc49ef39c70622816250025eefc3bfcc7640
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Mar 6 09:33:57 2013 -0800

    KAFKA-513 Add state change log to Kafka brokers; reviewed by Neha Narkhede

commit 2e64c6a5f221c616b2ac222fdadb96618f65e1ec
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Mar 6 09:21:56 2013 -0800

    Use withRequiredArg while parsing jopt options in all tools; patched by Swapnil Ghike; reviewed by Jun Rao; kafka-786

commit a971a27b59dacb4fbc882a8fead5406c5b4144c6
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Mar 5 09:38:29 2013 -0800

    KAFKA-785 Resolve bugs in PreferredReplicaLeaderElection admin tool; reviewed by Swapnil Ghike and Neha Narkhede

commit 0ee46e05ddcbf1d6bc2aa0039800aaeac860ad56
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Mon Mar 4 22:40:12 2013 -0800

    System Test Transient Failure on testcase_0122; patched by Sriram Subramanian; reviewed by Jun Rao and Neha Narkhede; kafka-772

commit 4f2742d60d16f5ba468aa66d2c3ed7aa37479dce
Merge: 82b11aa0d 92ecebecd
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Mar 3 20:20:41 2013 -0800

    merge from 0.8 and resolve conflicts

commit 82b11aa0d4bc32c5a351ace3a67cd2d57c9d1e8d
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Mar 1 13:54:00 2013 -0800

    KAFKA-759 Commit/FetchOffset APIs should not return versionId; reviewed by Neha Narkhede

commit 92ecebecd0551eb61e4ee31dfd020fe51f4090e2
Merge: db65c9573 cea27356f
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Feb 27 19:23:16 2013 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit db65c9573533b5d6f8a3a5cbfdd287ebdcde72e4
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Wed Feb 27 19:17:43 2013 -0800

    KAFKA-776 Changing ZK format breaks some tools; reviewed by Neha Narkhede

commit cea27356feedb66f91b734c9c63de1ea44ac0d47
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Feb 27 19:17:43 2013 -0800

    KAFKA-776 Changing ZK format breaks some tools; reviewed by Neha Narkhede

commit 89622c8e88ddddeddb8c3449ef1782c1d399c2b0
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Tue Feb 26 17:36:06 2013 -0800

    KAFKA-671 DelayedProduce requests should not hold full producer request data; reviewed by Neha Narkhede, Jun Rao and Jay Kreps

commit 4f752cab189878053c4eb2dd78515bbf94026f3e
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Feb 26 16:44:46 2013 -0800

    KAFKA-775 Very long error message on the producer during produce requests failures; skipped review since patch is minor log4j change

commit 6989dac889f2afd3cd192d345d3bd29995e605b9
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Feb 26 16:34:11 2013 -0800

    KAFKA-774 Periodic refresh of topic metadata on the producer does not check for error code in the response; reviewed by Swapnil Ghike

commit 37ca9db782b43180385704201633ca38e932b4cf
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Tue Feb 26 15:21:24 2013 -0800

    KAFKA-773 kafka.integration.PrimitiveApiTest fails intermittently; reviewed by Neha Narkhede

commit 76a4fbfb13a3541960c8c9312defdb69fa4c3f32
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Feb 25 09:53:40 2013 -0800

    Minor commit post KAFKA-765

commit db1cb5bbd9dbd46da67cb3bf859829ffa1d69ad8
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Feb 25 00:13:45 2013 -0800

    KAFKA-765 Corrupted messages in produce request could shutdown the broker; reviewed by Jun Rao and Sriram Subramanian

commit 218e6a53c1385be897d9f8a3a39baa38b68d7992
Author: David Arthur <mumrah@gmail.com>
Date:   Sun Feb 24 18:10:21 2013 -0800

    KAFKA-771 NPE in handleOffsetCommitRequest; reviewed by Neha Narkhede

commit d925b157f42b13cb410a86e8850c23a11de3d2f1
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Sun Feb 24 14:27:21 2013 -0800

    KAFKA-734 Migration tool needs a revamp, it was poorly written and has many performance bugs; reviewed by Jun Rao

commit ccfdabc045175491ebe95ee50d18646caeafd916
Merge: 9115977b3 4d8fb1eeb
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Feb 22 18:48:14 2013 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit 9115977b38ad207028c7c194524a408b9e5789f0
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Feb 22 18:47:37 2013 -0800

    Add missing metrics in 0.8; patched by Swapnil Ghike; reviewed by Jun Rao; kafka-604

commit 4d8fb1eebc043fab11c58d3309e93cc83ef24a89
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Feb 22 17:48:10 2013 -0800

    KAFKA-736 Add an option to the 0.8 producer to mimic 0.7 producer behavior; reviewed by Jun Rao and Sriram Subramanian

commit 828ce83dcb442d1cc6c0dbc538d12bbb04a0884d
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Feb 22 16:43:54 2013 -0800

    standardizing json values stored in ZK; patched by Swapnil Ghike; reviewed by Jun Rao; kafka-755

commit 144a0a2ac02ecf6297f4dee4ae773be59095b1e7
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Fri Feb 22 15:26:03 2013 -0800

    KAFKA-769 On startup, a brokers highwatermark for every topic partition gets reset to zero; reviewed by Neha Narkhede

commit 0be45b334b821b079d6d0336515248bf11b4cf8d
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Fri Feb 22 15:03:02 2013 -0800

    KAFKA-767 Message Size check should be done after assigning the offsets; reviewed by Neha Narkhede and Jun Rao

commit b056a9a1eca8fb27812c7e4bc5872a9d96aae866
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Fri Feb 22 08:13:31 2013 -0800

    KAFKA-770 KafkaConfig properties should be verified in the constructor; reviewed by Neha Narkhede

commit 049ac882bfa3d9f01100f84ab4cf9b0a41ae88a8
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Feb 21 21:48:43 2013 -0800

    broker should exit if hitting exceptions durin startup; patched by Jun Rao; reviewed by Sriram Subramanian, Swapnil Ghike and Neha Narkhede; kafka-768

commit 859959f974225dd066ae94fc8254809203ffd980
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Feb 21 21:42:18 2013 -0800

    Improve second replica assignment; patched by Jun Rao; reviewed by Guozhang Wang; kafka-762

commit 30f992c52dd3aba8cc35c9835df5b5e56581e0d8
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Feb 18 14:54:28 2013 -0800

    startHighWaterMarksCheckPointThread is never called; patched by Sriram Subramanian; reviewed by Jun Rao; kafka-758

commit b84168a3e3b68bb7d6d2904d4f7c591e43fc5435
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Feb 14 08:23:48 2013 -0800

    Fix windows build script - kafka-run-class.bat; patched by Mark deVilliers; reviewed by Jun Rao; kafka-751

commit 8103b4f6355a8267aa5638cfd382412221bdddfa
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Feb 13 14:12:44 2013 -0800

    trivial change to save kafka broker log to a file, in addition to console

commit e81b0a3ded9ff31f5089f2a3f294fbe0aef9614b
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Feb 13 14:01:57 2013 -0800

    Fatal error during KafkaServerStable startup when hard-failed broker is re-started; patched by Swapnil Ghike; reviewed by Jun Rao and Jay Kreps; kafka-757

commit 48745f04d12988121cb770cbd33ed3ed6fe98cff
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Feb 12 12:29:59 2013 -0800

    Processor thread blocks due to infinite loop during fetch response send; patched by Sriram Subramanian; reviewed by Jun Rao; kafka-756

commit 879d2692ea1192a4989297acbcbc01092ccbfb54
Merge: 2f0df95f7 790a1504c
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Feb 12 07:52:21 2013 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit 2f0df95f796db9049ed2dfc8e1253957e9e0cfd8
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Feb 12 07:50:49 2013 -0800

    PreferredReplicaLeaderElectionCommand has command line error; patched by Jun Rao; reviewed by Maxime Brugidou; kafka-743

commit 790a1504c3437b84ce2d910b9769a2b4ae481ed3
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Fri Feb 8 10:50:38 2013 -0800

    KAFKA-748 Maintain mmap position after resizing index. Also add a few more assertions.

commit b89fc2be8a771a8a7b4a618805a6154ec0bda18b
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Feb 7 10:03:19 2013 -0800

    Minor log4j fixes for DefaultEventHandler to avoid printing ByteBufferMessageSets in error messages. This makes reading the important part of the error message very difficult

commit 814c9709c07c514b1a1255e2adb5555c323e6485
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Feb 5 22:05:28 2013 -0800

    Follow up to KAFKA-695:Broker shuts down due to attempt to read a closed index file, reviewed by Neha and Jay

commit 826f02a74e00bec1efb9d60b43cf9e0702d8d58a
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Feb 5 20:11:03 2013 -0800

    KAFKA-749 Bug in socket server shutdown logic makes the broker hang on shutdown until it has to be killed; reviewed by Sriram and Jay Kreps

commit aed6c3c0313ec00fa10b2fb0dd07658c96a99647
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Feb 5 17:35:58 2013 -0800

    partition state machine log4j change

commit 1086d001d8f2389cd8cf409d099ca3260b00eb49
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Feb 5 15:04:18 2013 -0800

    Minor log4j fix to ISR shrinking logic

commit 295734f6abb69d0c184faa0085ca198040b2adbf
Author: Sam Shah <shahsam@umich.edu>
Date:   Fri Feb 1 10:46:00 2013 -0800

    KAFKA-713 Update Hadoop producer for Kafka 0.8 changes; reviewed by Neha Narkhede

commit 2ae069024120a7c9775ac53966f0af08435f2e5b
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 29 18:01:28 2013 -0800

    System Test : Disable shallow.iterator in Mirror Maker test cases to make compression work correctly; patched by John Fung; reviewed by Jun Rao; kafka-737

commit b3a4fe9cedca778a95b7f22054cb8f8ef6cf38c7
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 29 17:00:49 2013 -0800

    correlationId is not set in FetchRequest in AbstractFetcherThread; patched by Jun Rao; reviewed by Neha Narkhede and Swapnil Ghike; kafka-738

commit e7edb5e1e933f5535378d546bcf4d8b178d2e69c
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Jan 28 19:31:17 2013 -0800

    KAFKA-631 Implement a log cleaner for Kafka. Reviewed by Neha.

commit 1fb3e8c037c01ecfe6bb1d4261b59cb19baae6cf
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jan 28 16:50:28 2013 -0800

    KAFKA-695 Broker shuts down due to attempt to read a closed index file;reviewed by Neha Narkhede, Jay Kreps

commit 92f177b309834a9b572bbab33e8f6198316bd156
Merge: 999813821 40a80fa7b
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 25 22:03:39 2013 -0800

    merge 0.8 to trunk and resolve conflicts

commit 40a80fa7b7ae3d49e32c40fbaad1a4e402b2ac71
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Fri Jan 25 13:06:13 2013 -0800

    KAFKA-700 log client ip when we log each request on the broker; reviewed by Neha Narkhede

commit 22a010b8bcd19e29a9acfe1489ffb6db429f8e07
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Fri Jan 25 08:34:52 2013 -0800

    Fixing the perf subproject that broker after the sbt upgrade

commit 758778ebaa357f41fb9f1e4f3c1a13c639ad6d2f
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Jan 24 14:04:02 2013 -0800

    KAFKA-651 Add system tests for auto create topic; reviewed by Neha Narkhede

commit 8d41620a427a027d212c241ae105d09cd470e64f
Author: Sriram Subramanian <sriram.sub@gmail.com>
Date:   Thu Jan 24 11:50:18 2013 -0800

    KAFKA-696 Fix toString() API for all requests to make logging easier to read; reviewed by Neha Narkhede, Jun Rao

commit a15f1f2d84d133a3e01b2c7fe88cbed033ee7bac
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Jan 24 10:47:17 2013 -0800

    KAFKA-720 Migration tool halts silently; reviewed by Neha Narkhede

commit 8e7effc0550f57064fba0c3b48a248ad9c3ab003
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Jan 24 10:06:32 2013 -0800

    Minor log4j fix in the producer

commit cb3359f9f14c4632ed31b7fcef7f311d7597955c
Author: Joe Stein <joestein@apache.org>
Date:   Thu Jan 24 01:23:44 2013 -0500

    KAFKA-731 use a variable for the ivy2 path in kafka-run-class.sh patch by Joe Stein reviewed by Neha Narkhede

commit aeac593a90e0d796260f876159d3cf2b0416ca61
Author: Joe Stein <joestein@apache.org>
Date:   Wed Jan 23 21:02:12 2013 -0500

    KAFKA-728 snappy jar missing from path in kafka-run-class.sh patch by John Fung reviewed by Joe Stein

commit 2bee455ed86f5780862c09edd01cd347a5551665
Author: John Fung <fung.john@gmail.com>
Date:   Wed Jan 23 15:00:09 2013 -0800

    KAFKA-730: Update zookeeper classpath in system_test/migration_tool_testsuite/0.7/bin/kafka-run-class.sh; reviewed by Neha Narkhede

commit 7833c894a89779b4d49c329b16d66b3296f6c09d
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Jan 23 14:22:31 2013 -0800

    KAFKA-714: ConsoleConsumer throws SocketTimeoutException when fetching topic metadata; reviewed by Neha Narkhede

commit 311a5d81d8a8b34e18e1ad2fdc491661477de83c
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Wed Jan 23 14:07:19 2013 -0800

    KAFKA-727 broker can still expose uncommitted data to a consumer; reviewed by Neha Narkhede

commit 22bde135a85da9507f08698f29403c792db31e42
Merge: eb0d5a7f8 307b1f338
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Jan 23 13:47:34 2013 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit eb0d5a7f815ac51e3bdcf7bb2c1d3af9f33f2d83
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Jan 23 13:47:27 2013 -0800

    KAFKA-708 ISR becomes empty while marking a partition offline; reviewed by Jun Rao

commit 307b1f338ad9748809c9b782dc3f28263edcadf2
Author: Jun Rao <junrao@gmail.com>
Date:   Wed Jan 23 12:06:20 2013 -0800

    Add ReplicaFetcherThread name to mbean names; kafka-726; patched by Swapnil Ghike; reviewed by Jun Rao

commit 22cd8bfd6eca64a1a6d23ecef7f5dc938ac02c7f
Merge: b5d685bb7 0d197f9b9
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Jan 22 12:15:37 2013 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit b5d685bb7c1649f46f6553b0e807e704ffcef748
Author: John Fung <fung.john@gmail.com>
Date:   Tue Jan 22 12:15:10 2013 -0800

    KAFKA-722 Fix the classpath in kafka-run-class.sh; reviewed by Neha Narkhede

commit 0d197f9b97c586d53bb5328eaac67ef0c39601bd
Author: Joel Koshy <jjkoshy@apache.org>
Date:   Tue Jan 22 12:12:11 2013 -0800

    KAFKA-705 Shutting down brokers should not receive stop replica requests if controlled shutdown status is incomplete; reviewed by Neha Narkhede

commit 5e3e181aceb22dd7054f134beee53e185dc0d05b
Author: Joe Stein <joestein@apache.org>
Date:   Mon Jan 21 21:33:53 2013 -0500

    KAFKA-139 cross-compile multiple Scala versions the dependency jars moved and the bin scripts needed to point to the new locations

commit d5c980a912e2d1f48e99ccc16c713b1ba187b716
Merge: e6aa60081 f112ef2b5
Author: Joe Stein <joestein@apache.org>
Date:   Mon Jan 21 14:42:01 2013 -0500

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit e6aa600813549ed6219ea5cfda95ecb08dc3717d
Merge: 1e011bf42 241fea700
Author: Joe Stein <joestein@apache.org>
Date:   Mon Jan 21 14:41:47 2013 -0500

    KAFKA-139 cross-compile multiple Scala versions and upgrade to SBT 0.12.1 patch by Derek Chen-Becker reviewed by Joe Stein

commit f112ef2b5799cc8cf7786e98d1269145a19ef361
Author: Joel Koshy <jjkoshy@apache.org>
Date:   Mon Jan 21 10:47:31 2013 -0800

    KAFKA-705 Allow restarted replicas to follow a leader that is on a shutting down broker; reviewed by Neha Narkhede.

commit 5490884e9cbd28ac57e4b73bec72bcab81ce6523
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Jan 21 09:53:41 2013 -0800

    Revert "draft patch"
    
    This reverts commit aa1546b0907c959a4df90a7e3d48bad0890d1f2f.

commit 426ef1662590893ff27a4be0b5f17b73115f154c
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Jan 21 00:20:12 2013 -0800

    KAFKA-707 Improve error message in the producer when sending data to a partition without an active leader; reviewed by Jun Rao

commit 2d059148febe3804116311924ad7953c40914dc1
Merge: aa1546b09 96dc29843
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Mon Jan 21 00:19:03 2013 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit 999813821c091adcc5c50d0cb6b8c702473a0a8c
Merge: 9ee795ac5 96dc29843
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Jan 20 20:53:36 2013 -0800

    Merge remote branch 'origin/0.8' into trunk

commit 96dc298438994fb5c93daa8c544bf8581a0eeb69
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Jan 20 20:52:54 2013 -0800

    Some arguments are always set to default in ProducerPerformance; patched by John Fung; committed by Jun Rao; kafka-710

commit 1e011bf42efce996a553d6c0a2d7e51b45622b6b
Author: Joe Stein <josephstein@Josephs-MacBook-Pro.local>
Date:   Sun Jan 20 22:37:56 2013 -0500

    KAFKA-709 change in default blocking tripped test checking queue is full so updated test in case someone changes the new default to something else

commit aa1546b0907c959a4df90a7e3d48bad0890d1f2f
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Sat Jan 19 14:38:46 2013 -0800

    draft patch

commit ecd1f19f5aea2d2907d1a5594080062cb5c945f1
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Thu Jan 17 21:31:06 2013 -0800

    KAFKA-709 Default queue.enqueue.timeout.ms to -1; reviewed by Jay Kreps

commit 9ee795ac563c3ce4c4f03e022c7f951e065ad1ed
Merge: 362eba981 214a0af46
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Jan 17 10:17:30 2013 -0800

    merge from 0.8 and resolve conflict in Log

commit 214a0af46b98aa9eaf54d0fbe982bc8ba2ae0a74
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Jan 17 09:36:01 2013 -0800

    Consumer rebalance fails if no leader available for a partition and stops all fetchers; patched by Maxime Brugidou; reviewed by Jun Rao; kafka-693

commit da7f14676e677bb6b4fc1ea75fe9792709954591
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Wed Jan 16 10:00:22 2013 -0800

    KAFKA-702 Deadlock between request handler/processor threads; reviewed by Neha Narkhede, Jun Rao

commit 777f66220153a64cd33cd5484a64de556f4fa3a8
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 15 21:26:45 2013 -0800

    Disallow clients to set replicaId in FetchRequest; kafka-699; patched by Jun Rao; reviewed by Neha Narkhede

commit de1a4d727693c39be19fd9db427746fa6c8a4a12
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Mon Jan 14 09:29:52 2013 -0800

    KAFKA-698 Avoid advancing the log end offset until the append has actually happened since reads may be happening in the meantime.

commit 362eba981de40a69ae509a291649531ead6f6aee
Merge: b052e80de b2eec991d
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 15 09:46:34 2013 -0800

    Merge remote branch 'origin/0.8' into trunk

commit 3696d728116ee1b408d11bab54ca3f0234438610
Merge: eeb817ac2 b2eec991d
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Tue Jan 15 09:46:04 2013 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into 0.8

commit eeb817ac23f4aa756ebe404a85eeb618a7cb5a08
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Tue Jan 15 09:45:33 2013 -0800

    KAFKA-697 ConsoleConsumer throws InvalidConfigException for . in client id; reviewed by Jun Rao, Neha Narkhede, John Fung

commit b2eec991d35e7d17b3cfc05438d81637a056aa83
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 15 09:45:28 2013 -0800

    ConsoleConsumer throws InvalidConfigException; kafka-697; patched by Swapnil Ghike; reviewed by Jun Rao

commit b052e80de20785946dff27559ee3fd5eb45e7ce1
Merge: d7f410925 bd5504c05
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jan 14 14:30:52 2013 -0800

    Merge remote branch 'origin/0.8' into trunk

commit bd5504c0520d393715afe524313c5c8ac00337a2
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jan 14 14:29:34 2013 -0800

    System Test - Update all testcase_xxxx_properties.json for properties keys uniform naming convention; kafka-688; patched by Jun Rao; reviewed by Jun Rao

commit 53818bb7ee8022486eee06a22328200fc5cfced1
Author: Jun Rao <junrao@gmail.com>
Date:   Mon Jan 14 09:21:10 2013 -0800

    ConsoleProducer does not exit correctly; kafka-701; patched by Maxime Brugidou; reviewed by Jun Rao

commit d7f410925e870f3f8b220fb7bdc2c2f265f06ed6
Merge: 9249b76d1 c02e7fd69
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Jan 13 14:00:52 2013 -0800

    Merge remote branch 'origin/0.8' into trunk

commit c02e7fd690301e93454638a73cd31343cad178b8
Author: Jun Rao <junrao@gmail.com>
Date:   Sun Jan 13 13:59:10 2013 -0800

    trivial fix to log4j.properties, which stops outputing info level message after kafka-683

commit 9249b76d1d04f2583843cf5fe09ba8bbdf611183
Merge: ed36a7f07 a40953196
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 11 18:25:56 2013 -0800

    merge from 0.8 and resolve conflicts

commit a40953196e1ef558eb61b78219a20c20a4bd63df
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 11 16:12:57 2013 -0800

    Use uniform convention for naming properties keys; kafka-648; patched by Sriram Subramanian; reviewed by Jun Rao

commit dbe87f6df314190225956fff338dd14173e04715
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jan 11 14:06:42 2013 -0800

    KAFKA-683 Fix correlation id in all requests sent to kafka; reviewed by Jun Rao

commit 03eb903ce223ab55c5acbcf4243ce805aaaf4fad
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jan 11 14:06:00 2013 -0800

    KAFKA-683 Fix correlation id in all requests sent to kafka; reviewed by Jun Rao

commit c12608c5fed04ece82582cb5b764ceb0b5b389e0
Author: Ben Fleis <ben@monkey.org>
Date:   Fri Jan 11 09:55:52 2013 -0800

    KAFKA-692 ConsoleConsumer outputs diagnostic message to stdout instead of stderr; reviewed by Neha Narkhede

commit b71e6dc352770f22daec0c9a3682138666f032be
Author: Jun Rao <junrao@gmail.com>
Date:   Thu Jan 10 11:03:19 2013 -0800

    Fault tolerance broken with replication factor 1; kafka-691; patched by Maxime Brugidou; reviewed by Jun Rao

commit ddd66cbd80d1765898fd82322dc5c5afc9b29fba
Author: Joe Stein <joestein@apache.org>
Date:   Wed Jan 9 16:48:23 2013 -0800

    KAFKA-133 publish kafka to maven - patch by Maxime Brugidou with updates for depen by Otis Gospodnetic, reviewed by Joe Stein

commit e0b3b6316342271d798af10494c0ceab13e1eb02
Author: Neha Narkhede <neha.narkhede@gmail.com>
Date:   Wed Jan 9 08:49:11 2013 -0800

    KAFKA-690 TopicMetadataRequest throws exception when no topics are specified, reviewed by Jay Kreps and Neha Narkhede

commit 85c9e91c8010c9455ac484c1c679437bd5f43a3c
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 8 13:57:16 2013 -0800

    ConsoleProducer does not have the queue-size option; kafka-684; patched by Maxime Brugidou; reviewed by Jun Rao

commit fd94251d89180cdb6cf815cf2d6f568e15b85c59
Author: Jun Rao <junrao@gmail.com>
Date:   Tue Jan 8 13:43:53 2013 -0800

    ConsumerOffsetChecker does not work with 0.8; kafka-685; patched by Maxime Brugidou; reviewed by Jun Rao

commit 241fea700758cec7746103c50d1751155d08576a
Author: Derek Chen-Becker <derek@precog.com>
Date:   Mon Jan 7 10:42:01 2013 -0700

    Updated SBT JAR to 0.12.1

commit ed36a7f07a45650862e115f42696b9ec70e563a5
Author: Joe Stein <joestein@apache.org>
Date:   Sun Jan 6 19:45:51 2013 -0800

    KAFKA-133 publish kafka to maven - patch by Maxime Brugidou with updates for depen by Otis Gospodnetic, reviewed by Joe Stein

commit dc9edc462257f535ebf1acc2d6a1404904b8798e
Author: Joe Stein <joestein@apache.org>
Date:   Sat Jan 5 10:55:41 2013 -0800

    fixed incubation url
    
    Signed-off-by: Joe Stein <joestein@apache.org>

commit 274cd02f1ad69650e8abe7022d36049124219317
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Fri Jan 4 15:56:41 2013 -0800

    KAFKA-657 Change property name to offset.metadata.max.bytes for consistency.

commit 222c0e46ab78a12e1f58e3fb526667a4f73d344a
Author: David Arthur <mumrah@gmail.com>
Date:   Fri Jan 4 14:30:03 2013 -0800

    KAFKA-657 Add APIs for the consumer to commit and fetch offsets on the broker.

commit a39c34a2d138b3bdc5af70f4888982b02dea0742
Merge: 32dae955d 2f4bfc645
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 4 13:42:27 2013 -0800

    Merge remote branch 'origin/0.8' into trunk

commit 2f4bfc645a597892c3b0a8dfe722158f3b993874
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 4 13:39:07 2013 -0800

    ApiUtils#writeShortString uses String length instead of byte length; kafka-680; patched by David Arthur; reviewed by Jun Rao

commit 6cf46e7cabd2041cb0c171bab4166d5f8b377a51
Author: Jun Rao <junrao@gmail.com>
Date:   Fri Jan 4 09:13:22 2013 -0800

    High watermark recovered incorrrectly from file; kafka-681; patched by Jun Rao; reviewed by Joel Koshy, Neha Narkhede and John Fung

commit 25d77cc69c5f12394f55e22516fc90fd3c272166
Author: Joel Koshy <jjkoshy@apache.org>
Date:   Wed Jan 2 14:08:46 2013 -0800

    KAFKA-668 Store jmx port in broker zk string - controlled shutdown admin tool should not require controller JMX url/port to be supplied. Reviewed by Jun Rao.

commit c6d41102d81ac48b345d3f42d669e6a6bbfbe062
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Thu Dec 20 14:13:22 2012 -0800

    KAFKA-675 Allow the user to override the host that we bind to. Patch from Matan Amir<matan.amir@voxer.com> with slight changes
    to improve error messages for a bad host or port.

commit 32dae955d5e2e2dd45bddb628cb07c874241d856
Merge: 739b2df68 85ec04452
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Dec 18 09:43:41 2012 -0800

    Merge branch '0.8' into trunk
    
    Conflicts:
            core/src/main/scala/kafka/log/Log.scala
            core/src/test/scala/unit/kafka/admin/AdminTest.scala
            core/src/test/scala/unit/kafka/log/LogTest.scala
            core/src/test/scala/unit/kafka/server/LogOffsetTest.scala

commit 85ec04452b1039acd927b9794ab848f4f052c765
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Tue Dec 18 09:00:27 2012 -0800

    KAFKA-676 Change the build script for the core sub project to create a test jar. Reviewed by Neha.

commit 04b52743f8eaa9057b0b5687fb3681e1bd1e2d49
Author: Joel Koshy <jjkoshy@gmail.com>
Date:   Mon Dec 17 16:35:32 2012 -0800

    KAFKA-664 RequestPurgatory should clean up satisfied requests from watchers map. Also, simplify the purge logic - purge based on an incoming request interval.

commit 4e5a6fc0cf3454e665cd156ca2b8db34e3d0bcaf
Merge: 994fe081b af83dfbe0
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Dec 17 15:54:04 2012 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into kafka-646

commit 994fe081b6e429ba1cfd5c09d464015c41e64cf7
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Mon Dec 17 15:53:12 2012 -0800

    KAFKA-646 Missing files from previous commit

commit af83dfbe0c092eea37e9b1b840870386bb612db8
Author: Jun Rao <jrao@jrao-ld.linkedin.biz>
Date:   Mon Dec 17 14:56:13 2012 -0800

    trivial change to increase default offset commit interval to reduce ZK load

commit 792b071ccaa9a01259af34cd86a705d474df7036
Merge: 8ad9018ea 9001d7483
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Dec 17 14:33:03 2012 -0800

    Merge branch '0.8' of https://git-wip-us.apache.org/repos/asf/kafka into kafka-646

commit 9001d74839772d148443d3d86aca48f5dbbc890b
Author: John Fung <fung.john@gmail.com>
Date:   Mon Dec 17 14:12:27 2012 -0800

    KAFKA-647 Provide a property in System Test for no. of topics and topics string will be generated automatically; reviewed by Neha Narkhede

commit 8ad9018ea197676bdc4e57ccf985dc752e54e5c7
Author: Swapnil Ghike <sghike@linkedin.com>
Date:   Mon Dec 17 14:05:17 2012 -0800

    KAFKA-646 Provide aggregate stats at the high level Producer and ZookeeperConsumerConnector level; reviewed by Neha Narkhede

commit 739b2df6806c10b934f69e6181555fccb85cd9b8
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sun Dec 16 11:28:16 2012 -0800

    KAFKA-374 Move off the default java crc implementation to the crc code borrowed from Hadoop. Patch reviewed by Joe.

commit f0d26335f2aa3397f0fd6125bfd833c331e90ae9
Author: Jay Kreps <jay.kreps@gmail.com>
Date:   Sun Dec 16 11:05:50 2012 -0800

    KAFKA-673 The logic that controls whether to run recovery on the log is reversed. Reviewed by Neha.

commit 45cb03d456c3c541815691e80f5216a6e524c95c
Author: Derek Chen-Becker <derek@precog.com>
Date:   Fri Dec 14 17:12:38 2012 -0700

    Re-applied old patch from KAFKA-139
    
    Had to make some additional changes based on further mainline work. Leaving
    KafkaProject.scala in place as a reference for now.

commit 3244bcafe4233611fc0366f9df53ec98b44ca571
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Dec 13 10:15:32 2012 -0800

    KAFKA-670 Clean spurious .index files; reviewed by Neha Narkhede

commit ac35ae1fef0294cc5a33908209598f938dc7d84c
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Dec 11 19:47:13 2012 +0000

    KAFKA-636 Make log segment delete an asynchronous background action done by the scheduler. Patch reviewed by Jun and Neha.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/trunk@1420361 13f79535-47bb-0310-9956-ffa450edef68

commit f9702c66b76873de6b2cce1f688e233dae4bf590
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Dec 11 19:35:54 2012 +0000

    KAFKA-667 Change the .highwatermark file name.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1420356 13f79535-47bb-0310-9956-ffa450edef68

commit e15432efd3d43b2814703d2d5ed6d05758861a6b
Author: Jun Rao <junrao@apache.org>
Date:   Tue Dec 11 05:38:37 2012 +0000

    provides windows batch script for starting Kafka/Zookeeper; patched by Antoine Vianey; reviewed by Jun Rao; kafka-581
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1420001 13f79535-47bb-0310-9956-ffa450edef68

commit a10be4b69c904a596af198feaac4cef4c391bf4c
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Dec 10 19:31:29 2012 +0000

    KAFKA-597 Refactor scheduler. Fixes a couple of bugs, and adds the ability to mock scheduled tasks.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/trunk@1419692 13f79535-47bb-0310-9956-ffa450edef68

commit 133c88278da2469bdf5c3d012a03c5eb117022bd
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Dec 10 18:23:22 2012 +0000

    KAFKA-654 Irrecoverable error while trying to roll a segment that already exists; patched by Neha Narkhede; reviewed by Jay Kreps
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1419627 13f79535-47bb-0310-9956-ffa450edef68

commit 8a93698a75fccb8fbad5c9c24b6657c646e11b3a
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sat Dec 8 00:45:15 2012 +0000

    Patching remaining files from KAFKA-644
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1418569 13f79535-47bb-0310-9956-ffa450edef68

commit 12706637371fa95067dbbb76c246a4fe983387c7
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Dec 7 23:07:16 2012 +0000

    KAFKA-644 https://svn.apache.org/repos/asf/kafka/branches/0.8; patched by John Fung; reviewed by Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1418545 13f79535-47bb-0310-9956-ffa450edef68

commit ab2494470c56d48b79eea3260d6db3c8274fe2aa
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Fri Dec 7 18:27:48 2012 +0000

    KAFKA-642 Missed message magic version on last checkin.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1418423 13f79535-47bb-0310-9956-ffa450edef68

commit f5a48b06e31ebe925dc99abfb6518f6057871318
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Fri Dec 7 04:01:29 2012 +0000

    KAFKA-642 Remove the response version and baseline all versions/magic bytes etc to 0.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1418181 13f79535-47bb-0310-9956-ffa450edef68

commit a4c767582991787ca4a06b6e2844b23a2010def9
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Fri Dec 7 01:09:11 2012 +0000

    KAFKA-633 Fix mostly consistent test failure in testShutdownBroker; patched by Joel Koshy; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1418155 13f79535-47bb-0310-9956-ffa450edef68

commit 98042e912392ec01173a4fcc5413a72577ee7576
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Dec 6 16:23:12 2012 +0000

    KAFKA-642 Addressing Jun's follow up comments--(1) add parans to make statement more clear, (2) remove the initial offset from the fetch response since the message set itself now contains all offsets.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1417977 13f79535-47bb-0310-9956-ffa450edef68

commit e11447650a9a9fbaebff0e5c6a369375e087f1ae
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Dec 6 04:23:44 2012 +0000

    KAFKA-642 Fixes to protocol. Patch reviewed by Neha and Joel.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1417734 13f79535-47bb-0310-9956-ffa450edef68

commit 494706999c43003f1f16ce3558bebe39421ff3eb
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Sun Dec 2 20:55:27 2012 +0000

    KAFKA-521 Missing files on last commit.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/trunk@1416254 13f79535-47bb-0310-9956-ffa450edef68

commit 4be0b1be29e301500515b6c5e00655b06e829045
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Sun Dec 2 20:50:01 2012 +0000

    KAFKA-521 Refactor the log subsystem. Patch reviewed by Neha.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/trunk@1416253 13f79535-47bb-0310-9956-ffa450edef68

commit 6ca7b3acfdfe34752c42a0a1a26ea991b8e4c3b1
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sat Dec 1 02:04:19 2012 +0000

    KAFKA-608 and KAFKA-630 getTopicMetadata does not respect producer config settings and fix auto-create topic; patched by Neha Narkhede; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1415909 13f79535-47bb-0310-9956-ffa450edef68

commit 6486fd1a9f503af24c83d16a014a6405ae07cf9b
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Nov 30 17:49:49 2012 +0000

    KAFKA-640 kafka.common.InvalidClientIdException in broker log4j messages; patched by Swapnil; reviewed by Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1415765 13f79535-47bb-0310-9956-ffa450edef68

commit d7c71c0949e0cbae8963ca76bc69d64bee8f10af
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Nov 29 01:31:18 2012 +0000

    KAFKA-622 Create mbeans per client; patched by Swapnil; reviewed by Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1415021 13f79535-47bb-0310-9956-ffa450edef68

commit e556063520193c8065d7f8e39153d23dae8cf8b8
Author: Jun Rao <junrao@apache.org>
Date:   Thu Nov 29 00:09:31 2012 +0000

    DumpLogSegment offset verification is incorrect for compressed messages (second fix); patched by Yang Ye; reviewed by Jun Rao; KAFKA-614
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1415004 13f79535-47bb-0310-9956-ffa450edef68

commit 7b2d9c33126f21efa06d2b2f9f275c66fbaac078
Author: Jun Rao <junrao@apache.org>
Date:   Thu Nov 29 00:03:13 2012 +0000

    remove ProducerShell; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-638
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1415002 13f79535-47bb-0310-9956-ffa450edef68

commit bdb04bba67326bdf1451df3ec4a855ed3c109869
Author: Jun Rao <junrao@apache.org>
Date:   Wed Nov 28 21:05:17 2012 +0000

    ProducerRequest should take ByteBufferMessageSet instead of MessageSet; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-632
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1414917 13f79535-47bb-0310-9956-ffa450edef68

commit 45ba1019cb007c9876b2392577a4db7a9ab5dba8
Author: Gavin McDonald <gmcdonald@apache.org>
Date:   Wed Nov 28 08:41:58 2012 +0000

    Kafka has become a TLP
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/trunk@1414576 13f79535-47bb-0310-9956-ffa450edef68

commit 961affa3fcf2721fc80883f4710bb1a92bb18b17
Author: Gavin McDonald <gmcdonald@apache.org>
Date:   Wed Nov 28 08:41:58 2012 +0000

    Kafka has become a TLP
    
    git-svn-id: https://svn.apache.org/repos/asf/kafka/branches/0.8@1414576 13f79535-47bb-0310-9956-ffa450edef68

commit 6e6522c7c96c15007a69eba24ea0db8ec16fb978
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Nov 26 20:59:21 2012 +0000

    KAFKA-544. Follow-up items on key-retention. Addresses misc. comments from Joel, see ticket for details.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1413839 13f79535-47bb-0310-9956-ffa450edef68

commit 3f432cd01c4728396f277e33897f6f898c530c99
Merge: dd21b3512 602acaf41
Author: Jun Rao <junrao@apache.org>
Date:   Mon Nov 26 17:33:03 2012 +0000

    copy branch 0.8 to trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1413738 13f79535-47bb-0310-9956-ffa450edef68

commit 602acaf412f924ab139c731d629b9b129301d20b
Author: Jun Rao <junrao@apache.org>
Date:   Mon Nov 19 05:51:59 2012 +0000

    move shutting down of fetcher thread out of critical path; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-612
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1411070 13f79535-47bb-0310-9956-ffa450edef68

commit 8e7b0d40169f93710d08ee36e53b4a16c1d3a344
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sun Nov 18 22:48:20 2012 +0000

    KAFKA-532 Multiple controllers can co-exist during soft failures; patched by Neha Narkhede; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1411010 13f79535-47bb-0310-9956-ffa450edef68

commit 79d3be92932bbe0222c6cf61add639eeb676063f
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Sat Nov 17 01:38:14 2012 +0000

    Fix deadlock between leader-finder-thread and consumer-fetcher-thread during broker failure; patched by Joel Koshy; reviewed by Jun Rao; KAFKA-618
    pre-commit-status-crumb=5e65bf7a-f347-4600-b3ae-99eed1cd2a78
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1410665 13f79535-47bb-0310-9956-ffa450edef68

commit 39edb7beea33bc0075c15f88183764f8515e1874
Author: Jun Rao <junrao@apache.org>
Date:   Sat Nov 17 01:33:58 2012 +0000

    MigrationTool should disable shallow iteration in the 0.7 consumer; patched by Yang Ye; reviewed by Jun Rao; KAFKA-613
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1410662 13f79535-47bb-0310-9956-ffa450edef68

commit 92d64170bbae8b1d44c55c61181de2451f0bf5de
Author: Jun Rao <junrao@apache.org>
Date:   Sat Nov 17 00:28:38 2012 +0000

    DumpLogSegment offset verification is incorrect for compressed messages; patched by Yang Ye; reviewed by Jun Rao; KAFKA-614
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1410649 13f79535-47bb-0310-9956-ffa450edef68

commit 8c884ee6a6433745e68febdc68f0b22520a7e335
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Fri Nov 16 21:55:36 2012 +0000

    KAFKA-544 Trivial fix--migration tool is using message when it should be using a byte array. Checked in w/o review.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1410588 13f79535-47bb-0310-9956-ffa450edef68

commit e13ecfc1df8966c91384e9c7787f9026b0c500ab
Author: Jun Rao <junrao@apache.org>
Date:   Fri Nov 16 19:38:14 2012 +0000

    System Test - Log Retention Cases should wait longer before getting the common starting offset in replica log segments; patched by John Fung; reviewed by Jun Rao; KAFKA-605
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1410547 13f79535-47bb-0310-9956-ffa450edef68

commit 125548274a414355bb1241695e7593cc0ddc7b5b
Author: Jun Rao <junrao@apache.org>
Date:   Fri Nov 16 00:31:58 2012 +0000

    trivial fix to make the default value replica.fetch.min.bytes better for replication
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1410125 13f79535-47bb-0310-9956-ffa450edef68

commit 60d0587e8fca7197683b55e00537c32ddee4795d
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Nov 15 22:54:45 2012 +0000

    KAFKA-545 Add some log performance tests.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1410088 13f79535-47bb-0310-9956-ffa450edef68

commit f4ccf21d5d65ae313b2a400eb831df6d2d3daa67
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Nov 15 22:15:14 2012 +0000

    KAFKA-544 Store the key given to the producer in the message. Expose this key in the consumer. Patch reviewed by Jun.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1410055 13f79535-47bb-0310-9956-ffa450edef68

commit 22e032fdd4f8fd8dff5c4b77c61834b4f7561980
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Nov 15 00:28:28 2012 +0000

    KAFKA-574 KafkaController unnecessarily reads leaderAndIsr info from ZK ; patched by Prashanth; reviewed by Jun and Neha
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1409618 13f79535-47bb-0310-9956-ffa450edef68

commit 6c97767b88de625ea5101999ace7fb78744b75b5
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Wed Nov 14 18:57:48 2012 +0000

    Remove custom metrics jar and replace with latest from metrics HEAD; patched by Joel Koshy; reviewed by Jun Rao; KAFKA-585.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1409296 13f79535-47bb-0310-9956-ffa450edef68

commit 1cc8c3beab1cf42d8f6d3216af081b767761693c
Author: Jun Rao <junrao@apache.org>
Date:   Fri Nov 9 22:58:23 2012 +0000

    Add test cases to test log size retention and more; patched by John Fung; reviewed by Jun Rao; KAFKA-591
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1407680 13f79535-47bb-0310-9956-ffa450edef68

commit 6800b0ed3b2519952c3253023c4fda06627bc1e0
Author: Jun Rao <junrao@apache.org>
Date:   Thu Nov 8 06:19:55 2012 +0000

    Fix commit() in zk consumer for compressed messages; patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-546
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1406940 13f79535-47bb-0310-9956-ffa450edef68

commit ed6243852af125c0399b9ceae817f863043b2373
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Nov 6 03:43:15 2012 +0000

    KAFKA-593 Empty log index file created when it shouldn't be empty; Patched by Yang Ye; reviewed by Jun and Jay
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1406036 13f79535-47bb-0310-9956-ffa450edef68

commit f54f481873b9fe8f5675ef5a1faf823aa590697a
Author: Jun Rao <junrao@apache.org>
Date:   Mon Nov 5 23:37:24 2012 +0000

    extend DumpLogSegments to verify consistency btw data and index; patched by Yang Ye; reviewed by Jun Rao; KAFKA-577
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1406009 13f79535-47bb-0310-9956-ffa450edef68

commit 989c9bfbab5838525783a0cb3ca48c5db4939c85
Author: Jun Rao <junrao@apache.org>
Date:   Mon Nov 5 23:10:38 2012 +0000

    LogSegment.firstAppendTime not reset after truncate to; patched by Swapnil Ghike; reviewed by Jun Rao, Neha Narkhede; KAFKA-596
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1406004 13f79535-47bb-0310-9956-ffa450edef68

commit 75fc5eab35aa33cffd9c09a2070dfe287db0ef4e
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Fri Nov 2 19:01:38 2012 +0000

    KAFKA-188 Support multiple data directories.
    Patch reviewed by Neha and Jun.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1405102 13f79535-47bb-0310-9956-ffa450edef68

commit 3adf92151a2f794559d9ef9961bd04b7ba6af1fd
Author: Jun Rao <junrao@apache.org>
Date:   Fri Nov 2 02:07:03 2012 +0000

    KafkaRequestHandler needs to handle exceptions; patched by Yang Ye; reviewed by Jun Rao; KAFKA-491
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1404857 13f79535-47bb-0310-9956-ffa450edef68

commit 1828b1852cd745ae3ed5847fef55fdc53890ffdf
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 31 15:25:43 2012 +0000

    system test configs are broken; patched by John Fung; reviewed by Jun Rao; kafka-586
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1404203 13f79535-47bb-0310-9956-ffa450edef68

commit 6d86e43f0a44f3ba0d4188a7b44c83e0ed351927
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 31 15:21:11 2012 +0000

    Update System Test due to new argument --sync in ProducerPerformance; patched by Jun Rao; reviewed by Neha Narkhede and Jun Rao; kafka-594
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1404197 13f79535-47bb-0310-9956-ffa450edef68

commit 414e9faf9badd67bdfd4f0d055a771a41775165e
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Oct 30 20:18:45 2012 +0000

    KAFKA-588 Fix bug in OffsetIndex.truncateTo. Reviewed by Neha.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1403859 13f79535-47bb-0310-9956-ffa450edef68

commit 4d7c0b7a51cea25b3d42dfe588d771b750e0a8b1
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 30 01:36:44 2012 +0000

    Register metrics beans at kafka server startup; patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-592
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1403601 13f79535-47bb-0310-9956-ffa450edef68

commit ddabfa7da5580fc633a184ba6a031a93863d5415
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 30 01:28:01 2012 +0000

    Partition.makeFollower() reads broker info from ZK; patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-575
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1403598 13f79535-47bb-0310-9956-ffa450edef68

commit 743ac37382113f526d706a7cb65340d1f8880897
Author: Jun Rao <junrao@apache.org>
Date:   Mon Oct 29 22:09:43 2012 +0000

    extend DumpLogSegments to verify consistency btw data and index; patched by Yang Ye; reviewed by Neha Narkhede and Jun Rao; KAFKA-577
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1403553 13f79535-47bb-0310-9956-ffa450edef68

commit 4f529c74445804a85d8eabfb353727b032094589
Author: Jun Rao <junrao@apache.org>
Date:   Sat Oct 27 01:18:27 2012 +0000

    trivial fix to use foreach instead of map
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1402731 13f79535-47bb-0310-9956-ffa450edef68

commit 947ad072af00cb16b818836041be1d48e1e142f4
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Fri Oct 26 05:23:55 2012 +0000

    Implement clean shutdown in replication; patched by Joel Koshy; reviewed by Jun Rao and Neha Narkhede; KAFKA-340
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1402395 13f79535-47bb-0310-9956-ffa450edef68

commit 9eb9e510118d1a69a3ab9ceac2acee6ab08099d6
Author: Jun Rao <junrao@apache.org>
Date:   Thu Oct 25 18:15:41 2012 +0000

    produce/fetch remote time metric not set correctly when num.acks = 1; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-584
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1402250 13f79535-47bb-0310-9956-ffa450edef68

commit 4ef91667692101cec0e82bfb9f0d3c14cd915ef0
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 24 23:00:25 2012 +0000

    trivial fix to add the missing Logging class
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1401909 13f79535-47bb-0310-9956-ffa450edef68

commit adebb7d78a52fc7c5cca1e2368c7e54d64f6a626
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 24 20:56:16 2012 +0000

    Add more test cases to System Test ; patched by John Fung; reviewed by Jun Rao; KAFKA-571
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1401875 13f79535-47bb-0310-9956-ffa450edef68

commit 0d9f7ffe4d6d0eb571a3699176eb765c2e77cf47
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 24 16:57:56 2012 +0000

    provides windows batch script for starting Kafka/Zookeeper; patched by Antoine Vianey; reviewed by Jun Rao; kafka-581
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1401782 13f79535-47bb-0310-9956-ffa450edef68

commit 68d8f59045defe4da5e10d2fe4351ba2247d433c
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 24 16:46:32 2012 +0000

    remove connection timeout in SyncProducer; patched by Swapnil Ghike; reviewed by Jun Rao; kafka-579
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1401775 13f79535-47bb-0310-9956-ffa450edef68

commit 23bce10e779a8be03a3f1883e60c9a5e85cf6fe0
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 24 16:19:26 2012 +0000

    Change MessageSet.sizeInBytes to Int; patched by Swapnil Ghike; reviewed by Jun Rao; kafka-556
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1401760 13f79535-47bb-0310-9956-ffa450edef68

commit 3deb6cd4208351fa6831331da5b60e8e2ffc97c6
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 24 14:19:18 2012 +0000

    SimpleConsumer throws UnsupportedOperationException: empty.head; patched by Yang Ye; reviewed by Jun Rao; kafka-576
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1401704 13f79535-47bb-0310-9956-ffa450edef68

commit 2c66f5b701bff82cca8dcdb759194557e412719a
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 23 17:25:02 2012 +0000

    system test testcase_0122 under replication fails due to large # of data loss; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-580
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1401356 13f79535-47bb-0310-9956-ffa450edef68

commit 1b7b43c6e1387baea50fb7c1225411342db5b62b
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Oct 23 01:26:08 2012 +0000

    KAFKA-541 Move to metrics csv reporter for system tests; patched by Yang Ye; reviewed by Neha, Jun and Joel
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1401138 13f79535-47bb-0310-9956-ffa450edef68

commit e35854062f7dd48714ef756657321020d7351a5c
Author: Jun Rao <junrao@apache.org>
Date:   Fri Oct 19 00:09:32 2012 +0000

    System Test : Leader Failure Log Segment Checksum Mismatched When request-num-acks is 1; patched by Jun Rao; reviewed by John Fung, Joel Koshy and Neha Narkhede; KAFKA-573
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1399934 13f79535-47bb-0310-9956-ffa450edef68

commit 98f64070891a34e3a8b3f0483a7f5397b8a6933b
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Oct 16 17:30:46 2012 +0000

    KAFKA-537 Expose clientId in ConsumerConfig and fix correlation id; patched by Yang Ye; reviewed by Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1398893 13f79535-47bb-0310-9956-ffa450edef68

commit d1a22b2e3b59c2cf00adabd75d29ddd53938bacb
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Sat Oct 13 03:35:02 2012 +0000

    KAFKA-569 Split up utils package and do some cleanup. Patch reviewed by Neha.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397765 13f79535-47bb-0310-9956-ffa450edef68

commit 3015d0a447a72fd571e71123bae0e541c46a1830
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sat Oct 13 00:39:41 2012 +0000

    KAFKA-43 Move leader to preferred replica; patched by Neha Narkhede; reviewed by Joel Koshy and Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397747 13f79535-47bb-0310-9956-ffa450edef68

commit 669ae397f8846d8ddc5af350b44bd7c0e442d3aa
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sat Oct 13 00:21:45 2012 +0000

    KAFKA-548 remove partition from ProducerRequestPartitionData and FetchResponsePartitionData; patched by Yang Ye; reviewed by Neha and Joel
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397744 13f79535-47bb-0310-9956-ffa450edef68

commit c0fdcd305c8487610b7bdb2ac080b4a1055534f3
Author: Jun Rao <junrao@apache.org>
Date:   Fri Oct 12 20:28:14 2012 +0000

    Replication Data Loss in Mirror Maker Bouncing testcase; patched by Jun Rao; reviewed by Joel Koshy, John Fung and Neha Narkhede; kafka-567
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397717 13f79535-47bb-0310-9956-ffa450edef68

commit 2b13581711ec506e87a93f0c3dc0ec43fb66707f
Author: Jun Rao <junrao@apache.org>
Date:   Fri Oct 12 15:50:10 2012 +0000

    trival fix to remove 2 empty files
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397623 13f79535-47bb-0310-9956-ffa450edef68

commit 3629f6f882b354265489d4b2b7c80975bb9134d7
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Oct 12 04:48:33 2012 +0000

    Changing kafka-server-stop.sh to use SIGTERM for Kafka server process termination. No review
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397434 13f79535-47bb-0310-9956-ffa450edef68

commit dd44ec672a95a414972747a23c76cbe74efb37ea
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Oct 12 02:56:28 2012 +0000

    KAFKA-432 allow consumer to read from followers; patched by Yang Ye; reviewed by Neha and Jun
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397422 13f79535-47bb-0310-9956-ffa450edef68

commit 97d434513fe949005ae87d7c0fb3912708f3f728
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Fri Oct 12 00:15:26 2012 +0000

    KAFKA-506 Hadoop consumer not advancing to next offset. No review.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397388 13f79535-47bb-0310-9956-ffa450edef68

commit eb06b93f97808a7071df43621bd09a4f168864f8
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Oct 11 23:30:23 2012 +0000

    KAFKA-510 Broker needs to know replication factor per partition; patched by Yang Ye; reviewed by Neha Narkhede, Jun Rao and Joel Koshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397372 13f79535-47bb-0310-9956-ffa450edef68

commit 432423518310a5ed9e8f6fbcf238767b25d63f35
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Oct 11 17:40:00 2012 +0000

    KAFKA-557 Patch to avoid assigning offsets to Log.appends as part of replication. Reviewed by Neha.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397190 13f79535-47bb-0310-9956-ffa450edef68

commit aaa5d14e39d1b784facf5048b99a097ce45cdc8a
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Oct 11 16:06:50 2012 +0000

    KAFKA-506 Misc. follow-up cleanups from Neha's review.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1397134 13f79535-47bb-0310-9956-ffa450edef68

commit 93fdcfa0e2a26a7fa68fd882564903ca5d9710fd
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 10 21:43:44 2012 +0000

    KAFKA-42 part 2: new files
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396814 13f79535-47bb-0310-9956-ffa450edef68

commit 23d7620442df299f43d147a2ad924b2759f7efbd
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 10 21:27:11 2012 +0000

    KAFKA-42 Cluster expansion feature; patched by Neha; reviewed by Jun
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396808 13f79535-47bb-0310-9956-ffa450edef68

commit a1698e2b70341cae20c53fb6b2e890df34b29a3e
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 10 18:42:57 2012 +0000

    Reverting KAFKA-42 since it accidentally contained changes to metrics package. Didn't catch it due to a stale sbt cache. It is better to redo the patch and then commit
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396726 13f79535-47bb-0310-9956-ffa450edef68

commit 6d0042b4f4125b3731d3b85a0e741f1dde1413fe
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 10 18:03:07 2012 +0000

    KAFKA-42 Cluster expansion feature; patched by Neha Narkhede; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396713 13f79535-47bb-0310-9956-ffa450edef68

commit 01a8b8d12377eae66a1924d2e26ed4e94d3f52bc
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 10 17:32:10 2012 +0000

    Reverting KAFKA-510, to be reapplied after addressing review comments and after KAFKA-42 is checked in
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396704 13f79535-47bb-0310-9956-ffa450edef68

commit cdc6ca2c7bd691b194f631942e14586284e8d655
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 10 17:03:11 2012 +0000

    trival fix to make run_sanity.sh executable
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396693 13f79535-47bb-0310-9956-ffa450edef68

commit 1b4d3c3061d030ce5ebf67c15803fff7f9bca4ac
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 10 16:56:57 2012 +0000

    KAFKA-502 Adding 30 more system tests, reviewed by Jun and Neha; patched by John Fung
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396687 13f79535-47bb-0310-9956-ffa450edef68

commit 3c335bfbdc2720863a5fe18c6aa27dea0528b719
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 10 16:33:42 2012 +0000

    trival fix to kafka-563: KafkaScheduler shutdown in ZookeeperConsumerConnector should check for config.autocommit
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396678 13f79535-47bb-0310-9956-ffa450edef68

commit 6ccdc40ae8767138be01f7dab5db1ece771f7c99
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 10 16:25:42 2012 +0000

    broker needs to know the replication factor per partition; patched by Yang Ye; reviewed by Jun Rao; kafka-510
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396673 13f79535-47bb-0310-9956-ffa450edef68

commit a975113c0eb038d8ffdb1e4286b367bcec3a66cc
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 10 15:46:42 2012 +0000

    confusing reference to zk.connect in config/producer.properties; patched by yazgoo; reviewed by Jun Rao; kafka-553
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396652 13f79535-47bb-0310-9956-ffa450edef68

commit 5a33bfa9d42b1158273ec24ac9633bd149162488
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Wed Oct 10 04:24:27 2012 +0000

    KAFKA-543 Avoid sending duplicate topic names in TopicMetadataRequest. Reviewed by Neha.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396465 13f79535-47bb-0310-9956-ffa450edef68

commit dd21b35120119dc35da7e800bfd50dad3dd2f44b
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Wed Oct 10 00:06:28 2012 +0000

    Fix wildcard consumption to work with greater than one stream; KAFKA-550; patched by Joel Koshy; reviewed by Jun Rao and Neha Narkhede.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1396425 13f79535-47bb-0310-9956-ffa450edef68

commit 2f41be0916e0a15ed19d639528e3e46e0b175034
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Wed Oct 10 00:06:28 2012 +0000

    Fix wildcard consumption to work with greater than one stream; KAFKA-550; patched by Joel Koshy; reviewed by Jun Rao and Neha Narkhede.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396425 13f79535-47bb-0310-9956-ffa450edef68

commit 542ac86313916b7903a50c1d4f2a4ce5ee2d4ebd
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Tue Oct 9 21:28:20 2012 +0000

    Upgrade to metrics jar to 3.x to pick up csv reporter fixes; KAFKA-542; patched by Joel Koshy; reviewed by Neha Narkhede.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396336 13f79535-47bb-0310-9956-ffa450edef68

commit 3a525e0bfa4cd5b3dd963bb95617e3431f6040fd
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Oct 9 18:37:51 2012 +0000

    KAFKA-504 Catching the wrong exception in the test for snappy compression, added check for SnappyException too. Trivial fix, no review.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396178 13f79535-47bb-0310-9956-ffa450edef68

commit d5df29b84f65fbcfab7b3289ec761eebbf6174f8
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 9 17:08:42 2012 +0000

    support changing host/port of a broker; patched by David Arthur; reviewed by Jun Rao; kafka-474
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396116 13f79535-47bb-0310-9956-ffa450edef68

commit 452be9080ea00327834386014657c01f057aaaca
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Oct 9 16:40:56 2012 +0000

    KAFKA-551 Remove the concept of immutable log segments--now all indexes and message sets are mutable. This allows truncating old segments. Review by Jun and Neha.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1396102 13f79535-47bb-0310-9956-ffa450edef68

commit 3819adc48631d6841032c0d8d08b74ea1912daf2
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 9 15:56:52 2012 +0000

    The ConsumerStats MBean name should include the groupid; patched by Michael Tamm; reviewed by Jun Rao; kafka-547
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1396085 13f79535-47bb-0310-9956-ffa450edef68

commit eed59835968603c6dd10a124e8b119e7cb66be12
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 9 05:16:26 2012 +0000

    Replica.hw should be initialized to the smaller of checkedpointed HW and log end offset; patched by Yang Ye; reviewed by Jun Rao; KAFKA-539
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1395861 13f79535-47bb-0310-9956-ffa450edef68

commit 7294dd3333238423cd665f3103221e24182173ec
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Mon Oct 8 23:18:48 2012 +0000

    ConsumerOffsetChecker now works with hostnames (in addition to IP) in the brokers/ids zk path; KAFKA-549; patched by Bob Cotton; reviewed by Joel Koshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1395809 13f79535-47bb-0310-9956-ffa450edef68

commit c85c01b6e4c5fc5bf0894522210617710131751e
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Mon Oct 8 23:18:48 2012 +0000

    ConsumerOffsetChecker now works with hostnames (in addition to IP) in the brokers/ids zk path; KAFKA-549; patched by Bob Cotton; reviewed by Joel Koshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1395809 13f79535-47bb-0310-9956-ffa450edef68

commit f64fd3dcbaace1dba7bbd72398bb3e7d28b41d61
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Oct 8 19:13:24 2012 +0000

    KAFKA-506 Move to logical offsets. Reviewed by Jun and Neha.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1395729 13f79535-47bb-0310-9956-ffa450edef68

commit 3f1fbb1d077a63d49f2d0dbdca5eb95af1d987f1
Author: Joe Stein <joestein@apache.org>
Date:   Fri Oct 5 15:27:05 2012 +0000

    KAFKA-508 split out partiondata from fetchresponse and producerrequest
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1394587 13f79535-47bb-0310-9956-ffa450edef68

commit c42726cdaf213544c965162925dd9bda75a62d91
Author: Jun Rao <junrao@apache.org>
Date:   Thu Oct 4 17:29:33 2012 +0000

    ProducerSendThread calls ListBuffer.size a whole bunch. That is a O(n) operation; patched by David Arthur; reviewed by Jun Rao; kafka-456
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1394164 13f79535-47bb-0310-9956-ffa450edef68

commit 3bb1c16691877a86754509d2170e40ce5804b78f
Author: Jun Rao <junrao@apache.org>
Date:   Thu Oct 4 03:46:44 2012 +0000

    log.append() should halt on IOException; patched by Jun Rao; reviewed by Jay Kreps; KAFKA-540
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1393906 13f79535-47bb-0310-9956-ffa450edef68

commit db4e02f2630d157ad021751aa47d0251bdac4d0e
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Wed Oct 3 19:50:13 2012 +0000

    Replace numerical compression codes in config with something human readable; KAFKA-363; patched by David Arthur; reviewed by Joel Koshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1393731 13f79535-47bb-0310-9956-ffa450edef68

commit db78c35fc051be561dadbf07dac9cedd659662a2
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 2 15:47:10 2012 +0000

    server should shut down on encountering invalid highwatermark file; patched by Yang Ye; reviewed by Jun Rao; kafka-509
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1392988 13f79535-47bb-0310-9956-ffa450edef68

commit 9623ae4de3e4c65ab2e90798843769795b8a00c6
Author: Jun Rao <junrao@apache.org>
Date:   Sat Sep 29 18:17:39 2012 +0000

    IndexOutOfBoundsException thrown by kafka.consumer.ConsumerFetcherThread; patched by Jun Rao; reviewed by Jay Kreps and Neha Narkhede; kafka-528
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1391854 13f79535-47bb-0310-9956-ffa450edef68

commit 77b511f696f7fa75777a003ade5065fab128bf38
Author: Joe Stein <joestein@apache.org>
Date:   Sat Sep 29 01:11:36 2012 +0000

    KAFKA-538 missing apache license header in sbt and util.h
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1391715 13f79535-47bb-0310-9956-ffa450edef68

commit 80d571049f60414537d385d1c688a6fb7f724740
Author: Joe Stein <joestein@apache.org>
Date:   Sat Sep 29 01:11:07 2012 +0000

    KAFKA-538 missing apache license header in sbt and util.h
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1391714 13f79535-47bb-0310-9956-ffa450edef68

commit 14b42f795641e13f9703286a527015cbf99a7788
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Thu Sep 27 19:20:08 2012 +0000

    getOffset Api should return different latest offset to non-follower and follower consumers. Also, implement a batched version of the getOffset Api. patched by Joel Koshy; reviewed by Jun Rao; KAFKA-501
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1391168 13f79535-47bb-0310-9956-ffa450edef68

commit 3310531d8752c9d19bf3083f9b0c062c2578ba52
Author: Jun Rao <junrao@apache.org>
Date:   Thu Sep 27 01:33:54 2012 +0000

    restrict topic names (reopened); patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-495
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1390800 13f79535-47bb-0310-9956-ffa450edef68

commit 1cf88bc6c5ede994f8d7ee46fffedc146a9d7d68
Author: Jun Rao <junrao@apache.org>
Date:   Thu Sep 27 01:19:29 2012 +0000

    Use getMetadata Api in ZookeeperConsumerConnector; patched by Yang Ye; reviewed by Jun Rao; KAFKA-473
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1390798 13f79535-47bb-0310-9956-ffa450edef68

commit 85d5edfa9c8c519ceb4ec9c375645c38616e2bbe
Author: Joe Stein <joestein@apache.org>
Date:   Thu Sep 27 00:25:23 2012 +0000

    KAFKA-533 changes to NOTICE and LICENSE related to KAFKA-534 removing client libraries from repo
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1390790 13f79535-47bb-0310-9956-ffa450edef68

commit 2a62bdb040352f838fd0afceb9983c35a6a9dafe
Author: Joe Stein <joestein@apache.org>
Date:   Thu Sep 27 00:24:56 2012 +0000

    KAFKA-533 changes to NOTICE and LICENSE related to KAFKA-534 removing client libraries from repo
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1390788 13f79535-47bb-0310-9956-ffa450edef68

commit 9a4ef48ef145e2fecf3b6f4154e5086c5e00e848
Author: Joe Stein <joestein@apache.org>
Date:   Thu Sep 27 00:22:12 2012 +0000

    KAFKA-534 remove client library directory
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1390786 13f79535-47bb-0310-9956-ffa450edef68

commit e9d07d72fa3bd29d61b4995abff07ea287853f6b
Author: Joe Stein <joestein@apache.org>
Date:   Thu Sep 27 00:21:45 2012 +0000

    KAFKA-534 remove client library directory
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1390784 13f79535-47bb-0310-9956-ffa450edef68

commit b5dc73219e2e4b02b0d7f49e4059a8308f899995
Author: Jun Rao <junrao@apache.org>
Date:   Tue Sep 25 19:02:30 2012 +0000

    System Test should remove the top level data log directory; patched by John Fung; reviewed by Jun Rao; KAFKA-526
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1390052 13f79535-47bb-0310-9956-ffa450edef68

commit 081f0d2353ffb86db3aa3a5080e00b0b0aee7c4a
Author: Jun Rao <junrao@apache.org>
Date:   Mon Sep 24 16:08:44 2012 +0000

    migration tool from 0.7 to 0.8; patched by Yang Ye; reviewed by Jun Rao; kafka-327
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1389460 13f79535-47bb-0310-9956-ffa450edef68

commit 0f06136aa87393f3c3ac8be3ab9e0c601a13fd63
Author: Jun Rao <junrao@apache.org>
Date:   Wed Sep 19 22:15:52 2012 +0000

    javaapi support for getTopoicMetaData; patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-500
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1387796 13f79535-47bb-0310-9956-ffa450edef68

commit 3889a3b34fd358ce512efe8c44c44befc19e3273
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Sep 18 17:21:15 2012 +0000

    KAFKA-499 Refactor controller; patched by Neha Narkhede; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1387270 13f79535-47bb-0310-9956-ffa450edef68

commit 13e606924f7d234a548a47232bc1413e46d54539
Author: Jun Rao <junrao@apache.org>
Date:   Tue Sep 18 17:18:09 2012 +0000

    trivial fix to log topics in fetching metadata properly
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1387269 13f79535-47bb-0310-9956-ffa450edef68

commit d37eb7fdd87ce16afb1cf94e1236301663833247
Author: Jun Rao <junrao@apache.org>
Date:   Tue Sep 18 05:04:00 2012 +0000

    TopicCount.constructTopicCount isn't thread-safe; patched by Jun Rao; reviewed by Joel Koshy; KAFKA-379
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1386987 13f79535-47bb-0310-9956-ffa450edef68

commit b688c3ba045df340bc32caa40ba1909eddbcbec5
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Mon Sep 17 20:15:59 2012 +0000

    KAFKA-391 Refactor fetch/producer requests to use maps instead of several arrays; patched by Joel Koshy; reviewed by Jun Rao.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1386806 13f79535-47bb-0310-9956-ffa450edef68

commit c8f75870721ac99286272d1b85d09ce41fad444c
Author: Jun Rao <junrao@apache.org>
Date:   Mon Sep 17 14:52:18 2012 +0000

    log.truncateTo needs to handle targetOffset smaller than the lowest offset in the log ; patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-463
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1386641 13f79535-47bb-0310-9956-ffa450edef68

commit fb0f176131b1d075e08cc110bbb9b58ce10dccf9
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Sep 14 17:20:04 2012 +0000

    KAFKA-449: Leader election test
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1384854 13f79535-47bb-0310-9956-ffa450edef68

commit e42c8d5f4e54d3661cb15c7231f9ad306d807790
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 14 01:29:07 2012 +0000

    revisit broker config in 0.8; patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-325
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1384624 13f79535-47bb-0310-9956-ffa450edef68

commit 2bc65dab67933e9f9cdade59bd0e45ff99afd338
Author: Jun Rao <junrao@apache.org>
Date:   Thu Sep 13 04:27:13 2012 +0000

    Improve Kafka internal metrics; patched by Jun Rao; reviewed by Joel Koshy and Neha Narkhede; KAFKA-203
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1384202 13f79535-47bb-0310-9956-ffa450edef68

commit de927e29482f066cc919817e260356ca9248d42f
Author: Jun Rao <junrao@apache.org>
Date:   Wed Sep 12 02:14:37 2012 +0000

    Handle topic names with / on Kafka server (0.8 branch); patched by Swapnil Ghike; reviewed by Jay Kreps, Joel Koshy and Jun Rao; KAFKA-495
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1383739 13f79535-47bb-0310-9956-ffa450edef68

commit ea14ae8b7fe12b0c1dbb05c89d3d3eb4d7c882f9
Author: Jun Rao <junrao@apache.org>
Date:   Wed Sep 12 01:30:09 2012 +0000

    Check max message size on server; patched by Swapnil Ghike; reviewed by Joel Koshy and Jun Rao; KAFKA-490
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1383730 13f79535-47bb-0310-9956-ffa450edef68

commit 082d9d3b5a9be63740e4f4f033589f9ebb71e7be
Author: Jun Rao <junrao@apache.org>
Date:   Tue Sep 11 16:07:35 2012 +0000

    trival fix to remove a 0 byte file
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1383464 13f79535-47bb-0310-9956-ffa450edef68

commit ba58c9a7040e778b6c8cf9dc59d97858c2617afe
Author: Jun Rao <junrao@apache.org>
Date:   Mon Sep 10 20:47:23 2012 +0000

    remove errorcode from ByteBufferMessageSet; patched by Swapnil Ghike; reviewed by Jay Kreps and Jun Rao; KAFKA-458
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1383105 13f79535-47bb-0310-9956-ffa450edef68

commit 22e4341ba9f7744314ae0363529333a276bd325d
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Sep 10 17:09:52 2012 +0000

    KAFKA-498: Controller has race conditions and synchronization bugs; patched by Neha Narkhede; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1382988 13f79535-47bb-0310-9956-ffa450edef68

commit 87fa96e29186a9b874caed820cf25d3d6f91b9f3
Author: Prashanth Menon <prashanthmenon@apache.org>
Date:   Mon Sep 10 13:28:44 2012 +0000

    Expose different data to fetch requests from the follower replicas and consumer clients; patched by Prashanth Menon; reviewed by Jun Rao; KAFKA-376
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1382828 13f79535-47bb-0310-9956-ffa450edef68

commit 50792c8765458c93e4d3632a0b76be4ef4354a60
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 7 03:57:32 2012 +0000

    Transient failure in ProducerTest; patched by Jun Rao; reviewed by Neha Narkhede; kafka-471
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1381858 13f79535-47bb-0310-9956-ffa450edef68

commit 259b710694a15a5554e895d41508dfc7241181c0
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 7 03:54:10 2012 +0000

    Handle topic names with / on Kafka server; patched by Jun Rao; reviewed by Neha Narkhede; kafka-470
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1381856 13f79535-47bb-0310-9956-ffa450edef68

commit 9e54dadf4bffbd0401d4b92fb82b1044c87cccc8
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 7 03:48:50 2012 +0000

    Handle topic names with / on Kafka server; patched by Swapnil Ghike; reviewed by Jay Kreps and Jun Rao; kafka-495
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1381853 13f79535-47bb-0310-9956-ffa450edef68

commit 4cea1de21a8f1638e9908560de08072e5782ff68
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Aug 30 23:47:55 2012 +0000

    KAFKA-483 Improvements to the system testing framework; patched by John Fung; reviewed by Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1379232 13f79535-47bb-0310-9956-ffa450edef68

commit d4f3eff171f97c45c977191999f1f03f7b343fd3
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Aug 29 18:07:58 2012 +0000

    KAFKA-489 Add metrics collection and graphs to the system test framework; patched by Neha Narkhede; reviewed by Jun Rao and John Fung
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1378666 13f79535-47bb-0310-9956-ffa450edef68

commit 695a8d43eb2a58920f3f00ae4dbce30b10adb42c
Author: Jun Rao <junrao@apache.org>
Date:   Wed Aug 29 14:52:39 2012 +0000

    Message size not checked at the server (patch v3); patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-469
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1378590 13f79535-47bb-0310-9956-ffa450edef68

commit e72ff0ee2aef90f532249c7b29d184091d69b4c4
Author: Jun Rao <junrao@apache.org>
Date:   Tue Aug 28 18:42:00 2012 +0000

    Add constructor for message which takes both byte array offset and length; patched by Graham Sanderson; reviewed by Jun Rao; KAFKA-393
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1378264 13f79535-47bb-0310-9956-ffa450edef68

commit a32d37f6d1b0576c2851feb7d7850b89d6e79dfd
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 06:23:18 2012 +0000

    Log errors for unrecognized config options; patched by Jun Rao; reviewed by Jay Kreps; KAFKA-181
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1377220 13f79535-47bb-0310-9956-ffa450edef68

commit a74cdb61b16dc0aabcd51e7f50d8d5422445aa9a
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 05:28:33 2012 +0000

    Require values in Utils.getTopic* methods to be positive (0.8 branch); patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-481
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1377214 13f79535-47bb-0310-9956-ffa450edef68

commit f2c901bcd422807f5d172a3a2f8aa18ee1b7c701
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 05:16:27 2012 +0000

    Require values in Utils.getTopic* methods to be positive; patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-481
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1377213 13f79535-47bb-0310-9956-ffa450edef68

commit 2f34eda87eaea7b65aa5ad091cafa4c5d0f1853e
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 01:14:41 2012 +0000

    Expose JMX operation to set logger level dynamically (0.8 branch); patched by Jun Rao; reviewed by Jay Kreps; KAFKA-429
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1377175 13f79535-47bb-0310-9956-ffa450edef68

commit 749665e33672b0e96869af787d8a4c78fa681732
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 01:04:59 2012 +0000

    Expose JMX operation to set logger level dynamically; patched by Jun Rao; reviewed by Jay Kreps; KAFKA-429
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1377172 13f79535-47bb-0310-9956-ffa450edef68

commit 31b9d124d609b1494cd6f79cdc2a022c7fae8a4f
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 00:46:08 2012 +0000

    maintain HW correctly with only 1 replica in ISR; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-420
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1377166 13f79535-47bb-0310-9956-ffa450edef68

commit 2756b424a73785be49a4bcfc2d5dae704e64d2d5
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 00:34:27 2012 +0000

    Time based log segment rollout (0.8 branch); patched by Swapnil Ghike; reviewed by Jun Rao, Neha Narkhede; KAFKA-475
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1377165 13f79535-47bb-0310-9956-ffa450edef68

commit 17283a377dc9b2026b3eecdf1d9a32908b3bfc90
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 00:24:49 2012 +0000

    Controller tests throw several zookeeper errors; patched by Yang Ye; reviewed by Jun Rao; KAFKA-416
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1377161 13f79535-47bb-0310-9956-ffa450edef68

commit 93e9dbd0268ae04790c75bdd1fb5c521ae331ee0
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 25 00:06:33 2012 +0000

    update leaderAndISR in ZK conditionally; patched by Yang Ye; reviewed by Jun Rao; KAFKA-428
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1377157 13f79535-47bb-0310-9956-ffa450edef68

commit 21326cb9f29c3514b9533a741b69b90ef6d45038
Author: Jun Rao <junrao@apache.org>
Date:   Fri Aug 24 20:38:27 2012 +0000

    Time based log segment rollout; patched by Swapnil Ghike; reviewed by Jun Rao, Neha Narkhede; KAFKA-475
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1377093 13f79535-47bb-0310-9956-ffa450edef68

commit 9a84e408c1dff1f32ea030190987501701a1903f
Author: Jun Rao <junrao@apache.org>
Date:   Fri Aug 24 14:32:10 2012 +0000

    message size not checked at the server; patched by Swapnil Ghike; reviewed by Jun Rao, Neha Narkhede; KAFKA-469
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1376943 13f79535-47bb-0310-9956-ffa450edef68

commit 0d6a4dff097d5e46d659db7f7ef922c91ede24e0
Author: Jun Rao <junrao@apache.org>
Date:   Thu Aug 23 17:15:17 2012 +0000

    TopicCount.constructTopicCount isn't thread-safe; patched by Jun Rao; reviewed by Joel Koshy and Neha Narkhede; kafka-379
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1376598 13f79535-47bb-0310-9956-ffa450edef68

commit 5861046d09e82b2bd187177c227bdd1be792d60b
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Aug 22 17:16:26 2012 +0000

    KAFKA-440 Regression/system test framework; patched by John Fung; reviewed by Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1376147 13f79535-47bb-0310-9956-ffa450edef68

commit 663d25443359763b2d0fb8adcbdd96cc82dcbda7
Author: Jun Rao <junrao@apache.org>
Date:   Tue Aug 21 17:17:29 2012 +0000

    refactor ReplicaManager; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-351
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1375670 13f79535-47bb-0310-9956-ffa450edef68

commit 7baccc6c331467335954d32558c68511223d8c7c
Author: Jun Rao <junrao@apache.org>
Date:   Tue Aug 21 01:52:50 2012 +0000

    remove support for format for magic byte 0 in 0.8; patched by Swapnil Ghike; reviewed by Jun Rao; KAFKA-461
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1375367 13f79535-47bb-0310-9956-ffa450edef68

commit 27aaebc874d0b0c0fc9380ed71dca56e1a12e9f1
Author: Jun Rao <junrao@apache.org>
Date:   Tue Aug 21 01:10:00 2012 +0000

    Create a generic Kafka thread; patched by Yang Ye; reviewed by Jun Rao, Jay Kreps; KAFKA-56
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1375360 13f79535-47bb-0310-9956-ffa450edef68

commit be521175dcf383ad97bc4cbcc642f25666dc0336
Author: Jun Rao <junrao@apache.org>
Date:   Sat Aug 18 05:26:59 2012 +0000

    failed ERROR messages in LazyInitProducerTest; patched by Yang Ye; reviewed by Jun Rao; kafka-467
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1374514 13f79535-47bb-0310-9956-ffa450edef68

commit 12a3ccafa1cbc333539b98d83d7d6d572700f05b
Author: Jun Rao <junrao@apache.org>
Date:   Fri Aug 17 23:09:05 2012 +0000

    KafkaController NPE in SessionExpireListener; patched by Yang Ye; reviewed by Jun Rao, Neha Narkhede; KAFKA-464
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1374467 13f79535-47bb-0310-9956-ffa450edef68

commit 60735b7ad6ef15f25ae9e432c2fc566bec535e31
Author: Jun Rao <junrao@apache.org>
Date:   Fri Aug 17 21:09:15 2012 +0000

    enforce broker.id to be a non-negative integer; patched by Swapnil Ghike; reviewed by Jun Rao, Neha Narkhede; KAFKA-424
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1374440 13f79535-47bb-0310-9956-ffa450edef68

commit 190bd3ff71d85b8e3831e1dbedcce3098f50960f
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Thu Aug 16 21:26:40 2012 +0000

    KAFKA-385 Fix race condition between checkSatisfied and expire in RequestPurgatory; fixed constant expiration of follower fetch requests as checkSatisfied was not getting called; add metrics to the RequestPurgatory; add a KafkaTimer convenience class; patched by Joel Koshy; reviewed by Jun Rao and Jay Kreps.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1374069 13f79535-47bb-0310-9956-ffa450edef68

commit 0fe89f7a493ec8879b31fafa560fd59f5df4a910
Author: Jun Rao <junrao@apache.org>
Date:   Wed Aug 15 15:07:41 2012 +0000

    KafkaController.RequestSendThread can throw exception on broker socket; patched by Yang Ye; reviewed by Jun Rao; KAFKA-459, KAFKA-460
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1373448 13f79535-47bb-0310-9956-ffa450edef68

commit 9eb99fde9a5154e1cb8389a8ee2ceead2b995814
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Aug 14 20:35:48 2012 +0000

    KAFKA-323 Add more parameters to the log4j appender. Patch by Jose Quinteiro.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1373067 13f79535-47bb-0310-9956-ffa450edef68

commit 623e2b7e53f052e9d2db2ab406867e8029ff8852
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Aug 14 19:59:11 2012 +0000

    KAFKA-424. Fix command line usage description. Patch from Tommie.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1373056 13f79535-47bb-0310-9956-ffa450edef68

commit d48253181007d908e2c2099b912b64179a0ad959
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Aug 14 19:56:36 2012 +0000

    KAFKA-425 Wrong class name in scripts. Patch from Akira Kitada reviewed by Jay Kreps.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1373054 13f79535-47bb-0310-9956-ffa450edef68

commit a8790784df26c7ab13ac82b521812c06fdeb718b
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Aug 14 19:47:54 2012 +0000

    KAFKA-439 Fix bad javadoc. Patch from Jim Plush. Reviewed and modified by Jay Kreps.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1373052 13f79535-47bb-0310-9956-ffa450edef68

commit ee855fe1aa4a4f549c9d91c81ee53f448828d81a
Author: Jun Rao <junrao@apache.org>
Date:   Tue Aug 14 04:17:27 2012 +0000

    remove ZK dependency on producer; patched by Yang Ye; reviewed by Jun Rao; KAFKA-369
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1372724 13f79535-47bb-0310-9956-ffa450edef68

commit b995133387881222cf3947f5b333a623a6d8407b
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Aug 8 20:17:31 2012 +0000

    Minor checkin to fix replication system test and jmx tool
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1370941 13f79535-47bb-0310-9956-ffa450edef68

commit 8ceec6eff0769198a454e2163e7597aab6c3e7ab
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Aug 6 17:27:05 2012 +0000

    KAFKA-380 Enhance single_host_multi_brokers test with failure to trigger leader re-election in replication; patched by John Fung; reviewed by Neha Narkhede, Jun Rao and Joel Koshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1369888 13f79535-47bb-0310-9956-ffa450edef68

commit 0223fd827003b94babdf6cb6624d0f97e936d00a
Author: Jun Rao <junrao@apache.org>
Date:   Wed Aug 1 16:13:59 2012 +0000

    recommit: revisit the become leader and become follower state change operations using V3 design; patched by Yang Ye; reviewed by Neha Narkhede and Jun Rao; kafka-343
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1368092 13f79535-47bb-0310-9956-ffa450edef68

commit 96ed9af6201e7ce7bc3cf44c5d5153ffbb95f7fd
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Jul 31 23:27:11 2012 +0000

    KAFKA-384 Fix intermittent unit test failures and remove Thread.sleep statements; patched by Neha Narkhede; reviewed by Joel Koshy, Jun Rao and Jay Kreps
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1367821 13f79535-47bb-0310-9956-ffa450edef68

commit c21a7979c18c93336bd1dda5f82627c9ae537b62
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jul 31 22:50:59 2012 +0000

    revert commit to KAFKA-343 due to unit test failures
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1367811 13f79535-47bb-0310-9956-ffa450edef68

commit 2a9d42c243397142f80d3f0f96c8d7a6b74d1b02
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jul 31 15:33:29 2012 +0000

    revisit the become leader and become follower state change operations using V3 design; patched by Yang Ye; reviewed by Neha Narkhede and Jun Rao; kafka-343
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1367619 13f79535-47bb-0310-9956-ffa450edef68

commit 19fbdb30998f6dead6cc788a41617c55bcb20d8e
Author: Jun Rao <junrao@apache.org>
Date:   Fri Jul 27 00:16:08 2012 +0000

    deal with empty TopicData list in producer and fetch request; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-412
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1366244 13f79535-47bb-0310-9956-ffa450edef68

commit 86de21a71c1d5bafeff04945088fb3e67ff0b800
Author: Jun Rao <junrao@apache.org>
Date:   Thu Jul 26 23:56:59 2012 +0000

    NullPointerException in ConsumerFetcherManager; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-418
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1366238 13f79535-47bb-0310-9956-ffa450edef68

commit 2e073db8dc3ce51c993f2174ab8c9c47716f3e3d
Author: Jun Rao <junrao@apache.org>
Date:   Thu Jul 26 16:59:06 2012 +0000

    single_host_multi_brokers system test fails on laptop; patched by John Fung; reviewed by Jun Rao; kafka-413
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1366085 13f79535-47bb-0310-9956-ffa450edef68

commit b49de724f12549354836c34aea6f2e0640994e07
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Jul 25 23:42:07 2012 +0000

    KAFKA-405 Improve high watermark maintenance to store high watermarks for all partitions in a single .highwatermark file; patched by Neha Narkhede; reviewed by Jay Kreps and Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1365841 13f79535-47bb-0310-9956-ffa450edef68

commit 842da7bfcddb322266ee27bab279c6f4e05b79cb
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Jul 24 18:13:01 2012 +0000

    KAFKA-350 Enable message replication in the presence of failures; patched by Neha Narkhede; reviewed by Jun Rao and Jay Kreps
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1365199 13f79535-47bb-0310-9956-ffa450edef68

commit c0e6ca95bffdf6cebc74036bea04695721542ebf
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jul 20 22:36:19 2012 +0000

    Minor change: Deleting the doc for kafka.producer.Producer's constructor. It is causing NoSuchElementException causing jenkins build to fail
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1364001 13f79535-47bb-0310-9956-ffa450edef68

commit 16b0f44559de969f1fd4387dceda881e6aabdc1c
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Jul 19 21:02:15 2012 +0000

    KAFKA-371 Refactoring of LogManager. Reviewed by Neha.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1363542 13f79535-47bb-0310-9956-ffa450edef68

commit 9e44db6af0a91a6071a046eb8b94f042ca223ec9
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Jul 19 19:51:12 2012 +0000

    KAFKA-352 Unknown topic error code handling for all requests; patched by Neha Narkhede; reviewed by Jay Kreps
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1363507 13f79535-47bb-0310-9956-ffa450edef68

commit 0d0f1fcfb3598c6d4b6304bd49e3545dbddf9a4b
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Wed Jul 18 17:16:28 2012 +0000

    KAFKA-371 Patch from Jonathan Creasy reviewed by me. Correctly handle the case of an empty string as topic name or invalid partition number.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1363022 13f79535-47bb-0310-9956-ffa450edef68

commit 89661d3b678974fe5574fb3e6b85f7cd2e5b2c2c
Author: Jun Rao <junrao@apache.org>
Date:   Wed Jul 11 16:16:26 2012 +0000

    ZookeeperConsumerConnector needs to connect to new leader after leadership change; patched by Jun Rao; reviewed by Joel Koshy; KAFKA-362
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1360261 13f79535-47bb-0310-9956-ffa450edef68

commit 3bade0b5c86c1313f52d4488964d9773344542d9
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jul 10 18:08:07 2012 +0000

    broker failure system test broken on replication branch; patched by John Fung; reviewed by Joel Koshy and Jun Rao; KAFKA-306
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1359813 13f79535-47bb-0310-9956-ffa450edef68

commit d79919d82748429589da9907a560e5a5071a4229
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jul 10 18:05:54 2012 +0000

    broker failure system test broken on replication branch; patched by John Fung; reviewed by Joel Koshy and Jun Rao; KAFKA-306
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1359812 13f79535-47bb-0310-9956-ffa450edef68

commit 489b09c120992d624fe95ed970b80ec8157131a9
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Fri Jul 6 20:44:51 2012 +0000

    KAFKA-373 Fix trunk broker failure test to work with mirror maker; patched by John Fung; reviewed by Joel Koshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1358407 13f79535-47bb-0310-9956-ffa450edef68

commit e7efee02c10e2def27d6b301e2f926202dabb9ce
Author: Joel Jacob Koshy <jjkoshy@apache.org>
Date:   Fri Jun 29 22:05:57 2012 +0000

    KAFKA-353 Tie producer-side ack with high watermark and progress of replicas; patched by Joel Koshy; reviewed by Jun Rao, Jay Kreps
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1355578 13f79535-47bb-0310-9956-ffa450edef68

commit cb5be0aff10423eca34fb43d107c65032b158b93
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jun 26 16:23:14 2012 +0000

    Consumer doesn't receive all data; patched by Jun Rao; reviewed by John Fung; KAFKA-372
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1354094 13f79535-47bb-0310-9956-ffa450edef68

commit 505cf9d618c24f532e7b800d8b34a20a40c45feb
Author: Jun Rao <junrao@apache.org>
Date:   Sat Jun 23 07:14:24 2012 +0000

    using MultiFetch in the follower; patched by Jun Rao; reviewed by Joel Koshy and Neha Narkhede; KAFKA-339
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1353086 13f79535-47bb-0310-9956-ffa450edef68

commit 0efd609fe7ee9b8bbcac1cb7ff681a95aadace4b
Author: Jun Rao <junrao@apache.org>
Date:   Fri Jun 22 17:31:38 2012 +0000

    Exception java.util.NoSuchElementException: None.get appears inconsistently; patched by Jun Rao; reviewed by Joel Koshy; KAFKA-370
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1352980 13f79535-47bb-0310-9956-ffa450edef68

commit a16448b71e00c19749cd98d8deb37ad7977a3202
Author: Joe Stein <joestein@apache.org>
Date:   Wed Jun 20 15:04:53 2012 +0000

    KAFKA-368 use the pig core jar from maven instead of distributing it patch by Joe Stein reviewed by Jun Rao and Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1352146 13f79535-47bb-0310-9956-ffa450edef68

commit 1af23bb2633c162659ab6fa99020307960f41465
Author: Joe Stein <joestein@apache.org>
Date:   Wed Jun 20 15:04:04 2012 +0000

    KAFKA-368 use the pig core jar from maven instead of distributing it patch by Joe Stein reviewed by Jun Rao and Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1352145 13f79535-47bb-0310-9956-ffa450edef68

commit 1a8511684c9d6e3b8ec073036551b79441aa5280
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jun 19 00:32:18 2012 +0000

    upgrade ZKClient to allow conditional updates in ZK; patched by Jun Rao; reviewed by Joel Koshy; KAFKA-337
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1351546 13f79535-47bb-0310-9956-ffa450edef68

commit 16b600d4fd972be697af95398f22f23aa8ad2608
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jun 19 00:27:00 2012 +0000

    add jmx beans in broker to track # bytes in consumer; patched by Jun Rao; reviewed by Joel Koshy; KAFKA-336
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1351544 13f79535-47bb-0310-9956-ffa450edef68

commit eff68ce1d0ef59e27a49edea4759ad0cd4096b7a
Author: Prashanth Menon <prashanthmenon@apache.org>
Date:   Mon Jun 18 01:17:44 2012 +0000

    Create topic support (revisit based on v3 design); patched by Prashanth Menon; reviewed by Jun Rao; KAFKA-329
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1351188 13f79535-47bb-0310-9956-ffa450edef68

commit efdc57bc58c2812cc01e627b64eaace9a5f92cb4
Author: Joe Stein <joestein@apache.org>
Date:   Sun Jun 17 15:32:29 2012 +0000

    KAFKA-348 rebase branch from trunk patch by Jun Rao reviewed by Joe Stein
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1351112 13f79535-47bb-0310-9956-ffa450edef68

commit f8ce071f3fa0efdad555a82aba9e024e3a7f4f56
Author: Joe Stein <joestein@apache.org>
Date:   Thu Jun 14 17:47:20 2012 +0000

    KAFKA-365 change copyright in NOTICE to current year, reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1350349 13f79535-47bb-0310-9956-ffa450edef68

commit ebcf7fc10d2a6a83545316d6f1526d5084c92b01
Author: Joe Stein <joestein@apache.org>
Date:   Thu Jun 14 17:47:20 2012 +0000

    KAFKA-365 change copyright in NOTICE to current year, reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1350349 13f79535-47bb-0310-9956-ffa450edef68

commit 965edbbcd8149abe4d9ecd87dcf813fb13874e83
Author: Jun Rao <junrao@apache.org>
Date:   Thu Jun 14 16:23:30 2012 +0000

    system test to validate consistency of replicas; patched by John Fung; reviewed by Jun Rao; KAFKA-341
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1350316 13f79535-47bb-0310-9956-ffa450edef68

commit 83c82a3ecc734138ed561a69f18ca3ac02a41ddb
Author: Jun Rao <junrao@apache.org>
Date:   Thu Jun 14 15:17:35 2012 +0000

    embedded controller; patched by Yang Ye; reviewed by Jun Rao; KAFKA-335
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1350291 13f79535-47bb-0310-9956-ffa450edef68

commit 7d3a782e50e878f7f4f948b5edbc440297097382
Author: Jun Rao <junrao@apache.org>
Date:   Wed Jun 13 22:36:20 2012 +0000

    trivial change to add some logging info in DefaultEventHandler
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1350046 13f79535-47bb-0310-9956-ffa450edef68

commit f99177766aff632831598a1e2e2c929a015b7c68
Author: Jun Rao <junrao@apache.org>
Date:   Wed Jun 6 01:28:46 2012 +0000

    Add admin RPC requests; clean up Response objects; patched by Yang Ye; reviewed by Jun Rao; KAFKA-349; KAFKA-336
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1346697 13f79535-47bb-0310-9956-ffa450edef68

commit c4a913e3c4a8ce21a08a49ca72f090750aa9e7f0
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jun 1 01:54:41 2012 +0000

    Minor checkin to remove an empty package
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1344965 13f79535-47bb-0310-9956-ffa450edef68

commit 045f4fdca4f8305a537d0e382f88aed3da0965a7
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jun 1 01:53:19 2012 +0000

    KAFKA-46: Message replication feature without failures; patched by Neha Narkhede; reviewed by Jun Rao, Jay Kreps, Prashanth Menon
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1344964 13f79535-47bb-0310-9956-ffa450edef68

commit 822963bb9dab9c948ecf850ab25b311e9d9fa7ae
Author: Joe Stein <joestein@apache.org>
Date:   Thu May 31 01:51:23 2012 +0000

    KAFKA-348 merge trunk to branch 1239902:1310937 patch by Joe Stein reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1344526 13f79535-47bb-0310-9956-ffa450edef68

commit 904708fae892417f248b74130da14a165747abcc
Author: Prashanth Menon <prashanthmenon@apache.org>
Date:   Mon May 28 13:45:51 2012 +0000

    Fix retry logic for producers; patched by Prashanth Menon; reviewed by Jun Rao, Neha Narkhede; KAFKA-49
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1343255 13f79535-47bb-0310-9956-ffa450edef68

commit 23b422bc446e351363d19d00397fc1b3c0e269fa
Author: Jun Rao <junrao@apache.org>
Date:   Fri May 25 01:49:22 2012 +0000

    upgrade ZKClient to allow conditional updates in ZK; patched by Jun Rao; reviewed by Joel Koshy; KAFKA-337
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1342487 13f79535-47bb-0310-9956-ffa450edef68

commit 2a59ad76c657e4aad8ee6ca67078f49d2f6017c9
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri May 18 01:22:11 2012 +0000

    Minor fix: Turning on TCP NODELAY in the Simple Consumer. This fix has a significant impact on single fetch request performance from a latency standpoint
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1339944 13f79535-47bb-0310-9956-ffa450edef68

commit 1bedde76c280181fe5114cd262389f599d8542fb
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Apr 30 21:34:49 2012 +0000

    KAFKA-48 Patch to add "long poll" support to fetch requests.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1332413 13f79535-47bb-0310-9956-ffa450edef68

commit d6b1de35f6b9cd5370c7812790fea8e61618f461
Author: Jun Rao <junrao@apache.org>
Date:   Wed Apr 25 02:24:47 2012 +0000

    Mirroring should use multiple producers; add producer retries to DefaultEventHandler; patched by Joel Koshy; reviewed by Jun Rao; KAFKA-332
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1330083 13f79535-47bb-0310-9956-ffa450edef68

commit d73355017a66fbcdf0a6ad1bafbf3d60fa004b92
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Apr 23 23:32:59 2012 +0000

    KAFKA-301 Implement broker startup procedure; patched by Neha Narkhede; reviewed by Jun Rao and Jay Kreps
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1329509 13f79535-47bb-0310-9956-ffa450edef68

commit d97c557202e7f20001d2597d09bcbf0bfc123fa9
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sun Apr 8 02:00:19 2012 +0000

    KAFKA-320 testZKSendWithDeadBroker fails intermittently due to ZKNodeExistsException; patched by nehanarkhede; reviewed by junrao and prashanth menon
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1310937 13f79535-47bb-0310-9956-ffa450edef68

commit 79a3b31f267921dedbe8b6ca6af648609bb11dc0
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sat Apr 7 02:12:26 2012 +0000

    KAFKA-320 testZKSendWithDeadBroker fails intermittently due to ZKNodeExistsException; patched by nehanarkhede; reviewed by junrao and prashanth menon
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1310661 13f79535-47bb-0310-9956-ffa450edef68

commit c0e190cdefabc7c59b11bbe0de843baec78efe3f
Author: Jun Rao <junrao@apache.org>
Date:   Sat Apr 7 00:04:51 2012 +0000

    Separate out Kafka mirroring into a stand-alone app; patched by Joel Koshy; reviewed by Jun Rao and Neha Narkhede; KAFKA-249
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1310645 13f79535-47bb-0310-9956-ffa450edef68

commit d9441f0066604534a8226ce1809eaf68e5a4ada2
Author: Jun Rao <junrao@apache.org>
Date:   Fri Apr 6 21:18:56 2012 +0000

    enable shallow iterator in ByteBufferMessageSet to allow mirroing data without decompression; patched by Jun Rao; reviewed by Joel Koshy; KAFKA-315
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1310595 13f79535-47bb-0310-9956-ffa450edef68

commit f8346239d492b22416d9c5d4639ebd5eafdbae92
Author: Jun Rao <junrao@apache.org>
Date:   Fri Apr 6 16:59:44 2012 +0000

    CallbackHandler.afterDequeuingExistingData is not called during event queue timeout; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-326
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1310482 13f79535-47bb-0310-9956-ffa450edef68

commit a260bfacaee251b4f23236a71651cfb87ce3f6d7
Author: Jun Rao <junrao@apache.org>
Date:   Mon Mar 26 17:12:30 2012 +0000

    SyncProducer does not correctly timeout; patched by Prashanth Menon; reviewed by Jun Rao, Neha Narkhede; KAFKA-305
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1305454 13f79535-47bb-0310-9956-ffa450edef68

commit fedb9d6c19903651e5b27412374aad84994f1320
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Mar 23 16:46:03 2012 +0000

    KAFKA-307 Refactor server code to reduce interdependencies; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1304473 13f79535-47bb-0310-9956-ffa450edef68

commit ba8fd9f1ee9fc47a1e62ee6f529f7cb272b3c7f3
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Mar 22 16:59:11 2012 +0000

    KAFKA-309 Bug in FileMessageSet's append API can corrupt on disk log; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1303890 13f79535-47bb-0310-9956-ffa450edef68

commit 2bcc91134316a546322bf59a422bec1934613607
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Mar 22 16:03:49 2012 +0000

    KAFKA-310 Incomplete message set validation checks in Log's append API can corrupt on disk log segment; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1303861 13f79535-47bb-0310-9956-ffa450edef68

commit 854fb29c26ed55926956e858b0465b85f80ef738
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Mar 21 17:29:32 2012 +0000

    KAFKA-300 Leader election; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1303473 13f79535-47bb-0310-9956-ffa450edef68

commit e180e68f94d1d50fb9563d273c03d255eb081998
Author: Jun Rao <junrao@apache.org>
Date:   Wed Mar 21 00:38:14 2012 +0000

    Dead code in the Log4j appender; patched by Jose Quinteiro; reviewed by Jun Rao; KAFKA-303
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1303239 13f79535-47bb-0310-9956-ffa450edef68

commit 7b39d7eed1449d993cdec6dca6babea6032dbbc3
Author: Jun Rao <junrao@apache.org>
Date:   Wed Mar 21 00:25:09 2012 +0000

    kafka-console-producer does not take in customized values of --batch-size or --timeout; patched by Jun Rao; reviewed by Edward Smith; KAFKA-279
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1303232 13f79535-47bb-0310-9956-ffa450edef68

commit 5e0e0b17fb5a9549fc9860c91384121def8ae695
Author: Jun Rao <junrao@apache.org>
Date:   Thu Mar 15 00:39:42 2012 +0000

    reverting previous commit for KAFKA-296 because patch didn't apply cleanly
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1300801 13f79535-47bb-0310-9956-ffa450edef68

commit 66d8073156403ce1a8f91b56f27beed93196ae04
Author: Jun Rao <junrao@apache.org>
Date:   Wed Mar 14 22:58:57 2012 +0000

    Update Go Client to new version of Go; patched by AaronR; KAFKA-296
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1300777 13f79535-47bb-0310-9956-ffa450edef68

commit 4dd7f95569d3af60c73484e7969080ac0d755085
Author: Jun Rao <junrao@apache.org>
Date:   Wed Mar 14 01:35:46 2012 +0000

    Add acknowledgement to the produce request; patched by Prashanth Menon; reviewed by Jun Rao; KAFKA-49
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1300435 13f79535-47bb-0310-9956-ffa450edef68

commit 74af0deef17bfed19237367cdbee7027666add08
Author: Jun Rao <junrao@apache.org>
Date:   Thu Mar 8 15:18:30 2012 +0000

    LogManager test fails on linux; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-220
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1298426 13f79535-47bb-0310-9956-ffa450edef68

commit 624a361e01431bf87ccda883fb9b1817d67cdbf7
Author: Jun Rao <junrao@apache.org>
Date:   Wed Mar 7 17:51:21 2012 +0000

    trivial fix to include violated payload size in MessageSizeTooLargeException; patched by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1298030 13f79535-47bb-0310-9956-ffa450edef68

commit 88660999a87c5e8214a57439156ed62358af3509
Author: Joe Stein <joestein@apache.org>
Date:   Tue Mar 6 17:45:17 2012 +0000

    KAFKA-240 missing producer response
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1297593 13f79535-47bb-0310-9956-ffa450edef68

commit 0443e2dd737cada1fed3964dd1cb2b687944f9c6
Author: Jun Rao <junrao@apache.org>
Date:   Tue Mar 6 02:21:54 2012 +0000

    broker deletes all file segments when cleaning up an empty log segment; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-292
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1297324 13f79535-47bb-0310-9956-ffa450edef68

commit f8042d5b3932a0114c33cad6388eba9c41d77809
Author: Joe Stein <joestein@apache.org>
Date:   Sat Mar 3 05:46:43 2012 +0000

    KAFKA-240 ProducerRequest wire format protocol update and related changes
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1296577 13f79535-47bb-0310-9956-ffa450edef68

commit 9fd2d4ffdba4b45df7807c1a70ff17496b51afa8
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Mar 1 21:15:26 2012 +0000

    KAFKA-239 Refactoring code to wire new ZK data structures and making partitions logical; patched by Neha Narkhede; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1295861 13f79535-47bb-0310-9956-ffa450edef68

commit ccc464c19a80f9818145c70079e9966fed22d75c
Author: Joe Stein <joestein@apache.org>
Date:   Thu Mar 1 02:47:03 2012 +0000

    Niek Sanders - KAFKA-284 fixed compilation issue for cpp client
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1295388 13f79535-47bb-0310-9956-ffa450edef68

commit 6c34cf2dcc5961703001ab484a1ca6e662eee362
Author: Jun Rao <junrao@apache.org>
Date:   Wed Feb 29 03:22:14 2012 +0000

    use propertyExists to test if both broker.list and zk.connect are present; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-290
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1294959 13f79535-47bb-0310-9956-ffa450edef68

commit d8286aad107dbec34faae9e4e29c65bde20eb6f8
Author: Jun Rao <junrao@apache.org>
Date:   Tue Feb 28 01:50:38 2012 +0000

    Increase maximum value of log.retention.size; patched by Elben Shira; reviewed by Jun Rao; KAFKA-285
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1294441 13f79535-47bb-0310-9956-ffa450edef68

commit caf310c2283731751926ccf8bd902df01dcb04f4
Author: Jun Rao <junrao@apache.org>
Date:   Mon Feb 27 19:46:36 2012 +0000

    consumer sometimes don't release partition ownership properly in ZK during rebalance; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-286
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1294302 13f79535-47bb-0310-9956-ffa450edef68

commit 7e91c167430afcffd5b700de58bbc54b2149be00
Author: Jun Rao <junrao@apache.org>
Date:   Sat Feb 25 23:08:02 2012 +0000

    add jmx beans in broker to track # of failed requests; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-283
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1293720 13f79535-47bb-0310-9956-ffa450edef68

commit 333966f50ea42ba41ff243d1ba5571a2fa8b9a60
Author: Jun Rao <junrao@apache.org>
Date:   Thu Feb 23 22:57:40 2012 +0000

    Add a shallow iterator to the ByteBufferMessageSet; patched by Yang Ye; reviewed by Jun Rao; KAFKA-277
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1293010 13f79535-47bb-0310-9956-ffa450edef68

commit 22d80462b15e24fc63960254bdfd8be74ddc14ba
Author: Jun Rao <junrao@apache.org>
Date:   Tue Feb 21 00:26:42 2012 +0000

    A tool to UPDATE Zookeeper partition-offset with input from a file; patched by John Fung; reviewed by Jun Rao; KAFKA-255
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1291536 13f79535-47bb-0310-9956-ffa450edef68

commit 7066d1c38b66d4de2d02fc1ef2fa8e7908990d07
Author: Jun Rao <junrao@apache.org>
Date:   Tue Feb 21 00:25:55 2012 +0000

    A tool to GET Zookeeper partition-offset and output to files; patched by John Fung; reviewed by Jun Rao; KAFKA-254
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1291535 13f79535-47bb-0310-9956-ffa450edef68

commit 95ee38728cb1d8eb9b62a73eb5ad26902142a1fd
Author: Jun Rao <junrao@apache.org>
Date:   Mon Feb 20 22:24:52 2012 +0000

    make time-based reconnect starting at a random time; patched by Yang Ye; reviewed by Jun Rao; KAFKA-268
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1291490 13f79535-47bb-0310-9956-ffa450edef68

commit a23d396a5a2f5c8685a404ce8478540c13fac6d4
Author: Jun Rao <junrao@apache.org>
Date:   Fri Feb 17 21:54:29 2012 +0000

    trivial fix for kafka-producer-perf-test.sh
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1245779 13f79535-47bb-0310-9956-ffa450edef68

commit ff562472ddf834e092cc2a8124dad59e763017db
Author: Joe Stein <joestein@apache.org>
Date:   Fri Feb 17 04:14:47 2012 +0000

    test access, fixed space
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1245316 13f79535-47bb-0310-9956-ffa450edef68

commit c28b3a61cce3288d3c0b620d1ef73d936989d3c5
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Feb 17 02:33:07 2012 +0000

    KAFKA-274 Handle corrupted messages cleanly; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1245299 13f79535-47bb-0310-9956-ffa450edef68

commit 6e1b2ebe3278c99e1b3ea89a47c60497cb964d44
Author: Jun Rao <junrao@apache.org>
Date:   Fri Feb 17 02:14:25 2012 +0000

    shutdown watch executor thread properly; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-265
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1245295 13f79535-47bb-0310-9956-ffa450edef68

commit 2ead8a49ea1c7e634c889e9425fd5eb209e7f1ff
Author: Jun Rao <junrao@apache.org>
Date:   Wed Feb 15 23:51:27 2012 +0000

    trivial fix to add trace logging in FetcherRunnable
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1244792 13f79535-47bb-0310-9956-ffa450edef68

commit 3e79116e7a7c725cafae1b5248a99837641a4ca2
Author: Jun Rao <junrao@apache.org>
Date:   Wed Feb 15 22:22:11 2012 +0000

    fix condition to use await instead of wait; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-265
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1244765 13f79535-47bb-0310-9956-ffa450edef68

commit 5c4ce616994112a68f8864520c4a2a6c7b545e30
Author: Jun Rao <junrao@apache.org>
Date:   Wed Feb 15 22:04:00 2012 +0000

    add JMX on broker to track bytes/messages per topic; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-272
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1244755 13f79535-47bb-0310-9956-ffa450edef68

commit 6e36047fae3338b425a63c0d1e4a5acb499e5207
Author: Jun Rao <junrao@apache.org>
Date:   Wed Feb 15 19:08:08 2012 +0000

    disable dup topic in consumer request; patched by Prashanth Menon; reviewed by Jun Rao; KAFKA-240
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1244650 13f79535-47bb-0310-9956-ffa450edef68

commit 0bd3b9c3f6df76043afbdce817d33d7531f1eecd
Author: Jun Rao <junrao@apache.org>
Date:   Tue Feb 14 06:19:34 2012 +0000

    time-based reconnect in producer; patched by Yang Ye; reviewed by Jun Rao; KAFKA-268
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1243786 13f79535-47bb-0310-9956-ffa450edef68

commit 732c27ff3e8bc6d5a9511ee64de275df49adf73f
Author: Jun Rao <junrao@apache.org>
Date:   Mon Feb 13 22:31:02 2012 +0000

    Add a queue of zookeeper notifications in the zookeeper consumer to reduce the number of rebalancing attempts; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-265
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1243721 13f79535-47bb-0310-9956-ffa450edef68

commit a5fb217293e5124ef7f47e0d45c7400bd9286077
Author: Jun Rao <junrao@apache.org>
Date:   Mon Feb 13 03:58:37 2012 +0000

    new consumer request format; patched by Prashanth Menon; reviewed by Jun Rao and Jay Kreps; KAFKA-240
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1243407 13f79535-47bb-0310-9956-ffa450edef68

commit 6a3c2f2032c5e910f634a29bfead555b63433465
Author: Jun Rao <junrao@apache.org>
Date:   Fri Feb 10 06:52:37 2012 +0000

    trivial change to reduce default fetcher queue size
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1242696 13f79535-47bb-0310-9956-ffa450edef68

commit a888a9d09e4fc219ab9d8536034ac043093f17df
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Feb 9 22:04:32 2012 +0000

    KAFKA-262 Bug in the consumer rebalancing logic causes one consumer to release partitions that it does not own; patched by Neha Narkhede; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1242552 13f79535-47bb-0310-9956-ffa450edef68

commit 21da30456f4c23aae1f40b3446f74565d5b6d917
Author: Jun Rao <junrao@apache.org>
Date:   Wed Feb 8 02:59:54 2012 +0000

    refactor the async producer; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-253
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1241754 13f79535-47bb-0310-9956-ffa450edef68

commit 345bc7bad594af43df5fc264ad0b5904d1126257
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Feb 7 17:38:15 2012 +0000

    KAFKA-263 Enhance single host broker failure test to have 2 topics with uneven distribution on the source brokers; patched by John Fung; reviewed by Neha Narkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1241528 13f79535-47bb-0310-9956-ffa450edef68

commit 2552a2488f2674e2fc3abea02272e85ff13a3ee4
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Feb 6 23:10:54 2012 +0000

    KAFKA-257 Hadoop producer should use software load balancer; patched by Sam Shah; reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1241249 13f79535-47bb-0310-9956-ffa450edef68

commit e3b529df80bfbc8d5ae3f86ef29efaf25e2edfb7
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Feb 2 23:40:39 2012 +0000

    Merging commits 1230840:1239902 from trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1239937 13f79535-47bb-0310-9956-ffa450edef68

commit afd4b0d772f35f902a7acf81039abcc47b983d1f
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Feb 2 19:07:48 2012 +0000

    KAFKA 256 Bug in the consumer rebalancing logic leads to the consumer not pulling data from some partitions; patched by nehanarkhede; reviewed by joelkoshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1239766 13f79535-47bb-0310-9956-ffa450edef68

commit fcc82dce6aff8fee30ce8a5ada3c6167aef1462f
Author: Jun Rao <junrao@apache.org>
Date:   Thu Feb 2 17:33:46 2012 +0000

    Corrupted request shuts down the broker; patched by Jun Rao; reviewed by Jay Kreps and Neha Narkhede; KAFKA-261
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1239740 13f79535-47bb-0310-9956-ffa450edef68

commit af0ceff79b3f1902bf9d005136ace81549332902
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Jan 24 20:54:11 2012 +0000

    KAFKA-238 getTopicMetadata API; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1235492 13f79535-47bb-0310-9956-ffa450edef68

commit fe2f0557130b21aca203ced11bd6990322847b97
Author: Jun Rao <junrao@apache.org>
Date:   Thu Jan 19 17:53:32 2012 +0000

    ConsumerIterator throws a IllegalStateException after a ConsumerTimeout occurs; patched by Jun Rao; reviewed by Joel Koshy; KAFKA-241
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1233501 13f79535-47bb-0310-9956-ffa450edef68

commit d3c58b64287b73ff9613e53e293d4a0989389cb2
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jan 17 17:30:38 2012 +0000

    max.message.size and fetch.size defaults should be consistent; patched by Pierre-Yves Ritschard; reviewed by Jun Rao; KAFKA-247
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1232500 13f79535-47bb-0310-9956-ffa450edef68

commit e913a06533c12c3cb7f139962abe5b61d2d08e0a
Author: Jun Rao <junrao@apache.org>
Date:   Fri Jan 13 23:52:21 2012 +0000

    trivial fix to make create topic script executable
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1231403 13f79535-47bb-0310-9956-ffa450edef68

commit ff668f4fc9a07137c92cc9259f8116d9ec2d2e1f
Author: Jun Rao <junrao@apache.org>
Date:   Fri Jan 13 23:48:27 2012 +0000

    create/delete ZK path for a topic in an admin tool; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-237
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1231400 13f79535-47bb-0310-9956-ffa450edef68

commit cd91e6770b62d336ea61332782d31a21599587a3
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jan 13 21:15:29 2012 +0000

    Checking in some files left from the last checkin for KAFKA-202
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1231298 13f79535-47bb-0310-9956-ffa450edef68

commit 1021ea9002dc7250c000512db7a8dec92f462404
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jan 13 19:53:32 2012 +0000

    KAFKA 244 Improve log4j appender to use kafka.producer.Producer; patched by vtkstef; reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1231276 13f79535-47bb-0310-9956-ffa450edef68

commit 60d88a3ac95bee3b54a3d732d1ada22258054a33
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jan 13 00:03:02 2012 +0000

    KAFKA-202 Make request processing in kafka asynchronous; patched by jaykreps; reviewed by junrao and nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1230845 13f79535-47bb-0310-9956-ffa450edef68

commit 570672793791b927162d4bf7d9da6f8c016f270d
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Jan 12 23:54:57 2012 +0000

    Creating branch for kafka-0.8.0-incubating that will include all replication related changes
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/branches/0.8@1230840 13f79535-47bb-0310-9956-ffa450edef68

commit 6c43b4634e5cebae822f19ed581bd97d74b3d47f
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Jan 12 20:26:25 2012 +0000

    Minor fix in the broker failure test for clean shutdown of servers
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1230759 13f79535-47bb-0310-9956-ffa450edef68

commit 7bd3e169f165a15822e2c81f3ea90ea954175f31
Author: Jun Rao <junrao@apache.org>
Date:   Wed Jan 11 02:53:04 2012 +0000

    trivial fix to make output of ConsumerOffsetChecker sorted
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1229876 13f79535-47bb-0310-9956-ffa450edef68

commit a3c742ef23d19962bdc13f75eebb8a8082ad04a2
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Jan 10 23:17:45 2012 +0000

    KAFKA-245 Pull zkclient jar from Maven; patched by pyritschard; reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1229794 13f79535-47bb-0310-9956-ffa450edef68

commit 7821f5b20fd9c842cad00435abd1f697b238f540
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Jan 10 22:53:04 2012 +0000

    KAFKA 218 Upgrade to zookeeper 3.3.4; patched by pyritschard; reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1229784 13f79535-47bb-0310-9956-ffa450edef68

commit b0484eccf3e72ff856c4e1c63949ac036c92d932
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sat Jan 7 00:01:25 2012 +0000

    KAFKA-228 Reduce duplicate messages served by the kafka consumer for uncompressed topics; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1228504 13f79535-47bb-0310-9956-ffa450edef68

commit 66be5eedf3e758ad53b966272f9228f54a96e648
Author: Jun Rao <junrao@apache.org>
Date:   Fri Jan 6 22:50:29 2012 +0000

    Support configurable send / receive socket buffer size in server; patched by John Fung; reviewed by Jun Rao; KAFKA-200
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1228480 13f79535-47bb-0310-9956-ffa450edef68

commit 336410a7774b0ee20758358a1bf03461ce4b98e1
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Jan 6 00:43:46 2012 +0000

    KAFKA-227 Broker failure system test; patched by johnfung; reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1227916 13f79535-47bb-0310-9956-ffa450edef68

commit aac76681959f8e6090e443cbbce41c74e0393089
Author: Jun Rao <junrao@apache.org>
Date:   Thu Jan 5 01:12:43 2012 +0000

    Make backoff time during consumer rebalance configurable; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-234
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1227417 13f79535-47bb-0310-9956-ffa450edef68

commit a7d4c2cf235cbe626ff3bc9053982929b6a62884
Author: Jun Rao <junrao@apache.org>
Date:   Tue Jan 3 01:55:23 2012 +0000

    avoid logging stacktrace directly; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-231
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1226599 13f79535-47bb-0310-9956-ffa450edef68

commit 5eb4badfc9980d25dd817c4caee6264e1e5b4b70
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Jan 2 20:51:36 2012 +0000

    KAFKA-229 Patch from Joe Stein. Log full exception stack trace instead of just message.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1226549 13f79535-47bb-0310-9956-ffa450edef68

commit e5a4ec1806e5a457dae4d9b0df75953876888940
Author: Jun Rao <junrao@apache.org>
Date:   Fri Dec 16 02:21:02 2011 +0000

    SyncProducer connect may return failed connection on reconnect; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-226
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1215027 13f79535-47bb-0310-9956-ffa450edef68

commit 77da5f54d736bfa63fb0b2a20415919aaf9ad96d
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Dec 15 18:30:05 2011 +0000

    KAFKA-221 LICENSE and NOTICE problems in Kafka 0.7; patched by jakobhoman; reviewed by junrao and nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1214904 13f79535-47bb-0310-9956-ffa450edef68

commit 31f6f02aa2395011e713b3ca66f2412926db34ca
Author: Jun Rao <junrao@apache.org>
Date:   Tue Dec 13 23:55:52 2011 +0000

    Bug in mirroring code causes mirroring to halt; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-225
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1213990 13f79535-47bb-0310-9956-ffa450edef68

commit bbba103d768b02bd39dc77caceb560d78c10f024
Author: Jun Rao <junrao@apache.org>
Date:   Tue Dec 13 03:03:38 2011 +0000

    Embedded consumer doesn't shut down if the server can't start; patched by Jun Rao; reviewed by Neha Narkhede and Jay Kreps; KAFKA-197
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1213546 13f79535-47bb-0310-9956-ffa450edef68

commit 9a3e2104b5fcf845afb1a1218989ec2436fbf0da
Author: Jun Rao <junrao@apache.org>
Date:   Thu Dec 8 02:38:46 2011 +0000

    trivial change to catch all throwables in ProducerSendThread
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1211747 13f79535-47bb-0310-9956-ffa450edef68

commit f53eb16f879374fea421deb0a31464d5a32273d4
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Dec 7 20:14:15 2011 +0000

    KAFKA 222 Mavenize contrib;patched by nehanarkhede; reviewed jakobhoman and junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1211616 13f79535-47bb-0310-9956-ffa450edef68

commit c36cba4f6c7f439984a40a09dee58355200624a4
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Dec 1 01:03:35 2011 +0000

    Minor fix to add description of usage of MIT license in the LICENSE file
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1208924 13f79535-47bb-0310-9956-ffa450edef68

commit 07611f317474a3d4fd835df0feca729de976ada9
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Dec 1 00:46:25 2011 +0000

    KAFKA:212 IllegalThreadStateException in kafka mirroring;patched by nehanarkhede; reviewed by junrao and jaykreps
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1208919 13f79535-47bb-0310-9956-ffa450edef68

commit 8aecab22532711dbe568261347ebaa077298f007
Author: Jakob Glen Homan <jghoman@apache.org>
Date:   Wed Nov 30 23:30:28 2011 +0000

    KAFKA-216: Add nunit license to the NOTICE file.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1208878 13f79535-47bb-0310-9956-ffa450edef68

commit 078bd591e1c5c37198af43184620fc69320d6a36
Author: Jun Rao <junrao@apache.org>
Date:   Mon Nov 28 21:56:14 2011 +0000

    make # of consumer rebalance retries configurable; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-213
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1207645 13f79535-47bb-0310-9956-ffa450edef68

commit cb2564c45e83ab829cbf482665abe667bd830292
Author: Jun Rao <junrao@apache.org>
Date:   Mon Nov 28 21:53:13 2011 +0000

    SyncProducer should log host and port if can't connect; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-214
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1207642 13f79535-47bb-0310-9956-ffa450edef68

commit c65e771d4714e7081d54222d847ad5e08a3238ed
Author: Jun Rao <junrao@apache.org>
Date:   Wed Nov 23 23:41:23 2011 +0000

    BoundedByteBufferReceive hides OutOfMemoryError; patched by Chris Burroughs; reviewed by Neha Narkhede; KAFKA-204
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1205663 13f79535-47bb-0310-9956-ffa450edef68

commit eefd133656f6dfcf6cfcdc524b300bfa13fd1d0a
Author: Jun Rao <junrao@apache.org>
Date:   Wed Nov 23 23:40:23 2011 +0000

    revert previous commit r1205659 because of wrong commit message
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1205662 13f79535-47bb-0310-9956-ffa450edef68

commit 285acbec41af90a9308a5c762fc13441ce83a57c
Author: Jun Rao <junrao@apache.org>
Date:   Wed Nov 23 23:25:14 2011 +0000

    AsyncProducerStats is not a singleton; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-207
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1205659 13f79535-47bb-0310-9956-ffa450edef68

commit e98bf881a5b3c81d00e6d5b424ef74236c197952
Author: Jun Rao <junrao@apache.org>
Date:   Wed Nov 23 18:43:48 2011 +0000

    javaapi ZookeeperConsumerConnectorTest duplicates many tests in the scala version; patched by Jun Rao; reviewed by Kay Kreps; KAFKA-210
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1205535 13f79535-47bb-0310-9956-ffa450edef68

commit 56b48d3fb6eaac98f3452901af0f61a60adf7db8
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Nov 23 18:19:06 2011 +0000

    KAFKA-176 Fix existing perf tools; patched by nehanarkhede; reviewed by junrao and jaykreps
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1205525 13f79535-47bb-0310-9956-ffa450edef68

commit cb4486656e2c25d2988892628a61279b0a9eb913
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Wed Nov 23 07:29:37 2011 +0000

    KAFKA-171 Do a single write for request sends.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1205313 13f79535-47bb-0310-9956-ffa450edef68

commit 1280b71a35f0868de427a22271fa9f38384d9f2f
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Wed Nov 23 07:21:16 2011 +0000

    KAFKA-193 Add a logging helper trait and use it where logging is used. Patch from Joe Stein.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1205311 13f79535-47bb-0310-9956-ffa450edef68

commit 41db543d31622e2b0943e3e62fbca4203493825f
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Nov 22 18:03:09 2011 +0000

    KAFKA-211 Fix LICENSE file to include MIT and SCALA license; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1205116 13f79535-47bb-0310-9956-ffa450edef68

commit 09f5ce21b337bdfb950cb393bf8fc004dcd0f36d
Author: Jun Rao <junrao@apache.org>
Date:   Tue Nov 22 00:58:39 2011 +0000

    AsyncProducerStats is not a singleton; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-207
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1204768 13f79535-47bb-0310-9956-ffa450edef68

commit af923c3018f8ddee6703e577eadf9227d826806e
Author: Jun Rao <junrao@apache.org>
Date:   Tue Nov 22 00:35:09 2011 +0000

    Avoid creating a new topic by the consumer; patched by Taylor Gautier; reviewed by Jun Rao; KAFKA-101
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1204764 13f79535-47bb-0310-9956-ffa450edef68

commit 7d856dce92d00e2c5a5dccdac7f8908f7fba44e2
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Nov 18 00:23:44 2011 +0000

    KAFKA-206 add DISCLAIMER, cleanup NOTICE file; patched by chrisburroughs;reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1203439 13f79535-47bb-0310-9956-ffa450edef68

commit c51b940179e2a5719021ea253b38ec4a2beed41f
Author: Jun Rao <junrao@apache.org>
Date:   Tue Nov 15 05:02:08 2011 +0000

    Add Snappy Compression as a Codec; patched by Joe Stein; reviewed by Neha Narkhede and Jun Rao; KAFKA-187
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1202045 13f79535-47bb-0310-9956-ffa450edef68

commit 0153d4bb597283f48ae07af7cda3c633a71e436b
Author: Jun Rao <junrao@apache.org>
Date:   Mon Nov 7 18:11:10 2011 +0000

    change ProducerShell to use high level producer; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-195
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1198849 13f79535-47bb-0310-9956-ffa450edef68

commit 4f9000c412f0586032bf622ebad23f941969d2c4
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sun Nov 6 19:07:20 2011 +0000

    KAFKA-192 CompressionUtilTest does not run and fails when it does;patched by joestein;reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1198536 13f79535-47bb-0310-9956-ffa450edef68

commit 5497e8d156abeb898ed556c688d2a84b8c8bdd83
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Sat Nov 5 20:25:33 2011 +0000

    Leave the default port alone (it was accidentally changed to 9093).
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1198047 13f79535-47bb-0310-9956-ffa450edef68

commit 5c3d5d815ca4f74611ffdd0fbd9da05cd5943d83
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sun Oct 30 23:46:41 2011 +0000

    KAFKA-177 Remove the clojure clients until correctly implemented and refactored; patched by nehanarkhede; reviewd by jefferydamick
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1195281 13f79535-47bb-0310-9956-ffa450edef68

commit 65c25ae6b948587b65ada9c87f8a783ac1b2ab22
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sun Oct 30 21:39:44 2011 +0000

    KAFKA-91 zkclient does not show up in pom;patched by cburroughs;reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1195253 13f79535-47bb-0310-9956-ffa450edef68

commit 12572102c695058264af1599112f0660325e7189
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Sun Oct 30 21:17:13 2011 +0000

    KAFKA-177 Remove the clojure clients until correctly implemented and refactored; patched by nehanarkhede; reviewd by jefferydamick
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1195249 13f79535-47bb-0310-9956-ffa450edef68

commit 14a1f0dcd6af28bc710e108e6f7a5c10f825a40a
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Oct 27 14:24:27 2011 +0000

    KAFKA 158 Support for compression in go clients; patched by jeffregydamick; reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1189773 13f79535-47bb-0310-9956-ffa450edef68

commit d9a8af778275fda2057d49f244e61456dfcf2f96
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Mon Oct 24 19:41:35 2011 +0000

    KAFKA-161 Producer using broker list does not load balance requests across multiple partitions on a broker; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1188333 13f79535-47bb-0310-9956-ffa450edef68

commit 41f14a3e965b8ff6a3e2e734e92574199463b452
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Oct 24 18:52:12 2011 +0000

    KAFKA-166 Add JMX perf tool.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1188288 13f79535-47bb-0310-9956-ffa450edef68

commit 76957e5e3a748b59525e5e7934f93721eb8f4c38
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Oct 24 17:47:20 2011 +0000

    KAFKA-150 Make the error message for duplicate node ids in zk more self-explanatory.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1188255 13f79535-47bb-0310-9956-ffa450edef68

commit 46b6144a8fee4d9cc1c4ff22d2c1984540259c6b
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Oct 24 05:01:40 2011 +0000

    KAFKA-164 Fix up configuration with more docs.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1188024 13f79535-47bb-0310-9956-ffa450edef68

commit ce070548e413714c60a5cbdd642421cdc1e49b1d
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Sun Oct 23 22:03:49 2011 +0000

    KAFKA-165 Add a cli script to use zkCli without having to download ZK.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1187983 13f79535-47bb-0310-9956-ffa450edef68

commit 81f8d0dd83a25e075cc6a08c6105b01459980c5f
Author: Jun Rao <junrao@apache.org>
Date:   Wed Oct 19 23:52:58 2011 +0000

    ZK consumer gets into infinite loop if a message is larger than fetch size; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-160
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1186570 13f79535-47bb-0310-9956-ffa450edef68

commit a0b2aa8847a97a60fbc087d7fff27db28be170d1
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Wed Oct 19 22:14:50 2011 +0000

    KAFKA-162 Upgrade the python client to use the new message format.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1186535 13f79535-47bb-0310-9956-ffa450edef68

commit c2dc9c0841532abc3cdb29e2daeae2a4854dee3d
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 18 17:57:29 2011 +0000

    Php Client support for compression attribute; patched by AaronR; KAFKA-159
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1185774 13f79535-47bb-0310-9956-ffa450edef68

commit e39c11abbc24223344b5ee8f7c8c03f126da5750
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 18 17:52:13 2011 +0000

    Add compression to C# client; patched by Eric Hauser; KAFKA-153
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1185772 13f79535-47bb-0310-9956-ffa450edef68

commit 3f0046be1b1ff9f0561b3f6cbf36dd32b0c0727d
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Oct 14 01:32:41 2011 +0000

    KAFKA-143 Fixing source code files to have the Apache license header ;patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1183191 13f79535-47bb-0310-9956-ffa450edef68

commit 4ad98872ad25b93a10c368edc77b59ed4032d3af
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Oct 14 01:30:12 2011 +0000

    KAFKA-151 Standard .rat-excludes file and rat script;patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1183190 13f79535-47bb-0310-9956-ffa450edef68

commit 85989a1baf42f5a3e204044e09a01dcee8332afa
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 12 19:28:46 2011 +0000

    Deleting the KEYS file from trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1182546 13f79535-47bb-0310-9956-ffa450edef68

commit e27136d81a47a5601e0a85069140a0a7854d3d65
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 12 01:05:28 2011 +0000

    KAFKA-141 Follow up patch to fix the cpp files; patched by Lorenzo, nehanarkhede; reviewed by junrao, jjkoshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1182158 13f79535-47bb-0310-9956-ffa450edef68

commit c0fc483d9f34d2adf3499b7d164f4c73d2e4f10e
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 11 19:11:38 2011 +0000

    ZK consumer may lose a chunk worth of message during rebalance; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-154
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1182028 13f79535-47bb-0310-9956-ffa450edef68

commit c7fb4649384d6635b820b6b39fa6c424e0c535b9
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Oct 11 19:00:28 2011 +0000

    KAFKA-143 Check and make sure that all source code distributed by the project is covered by one or more approved licenses; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1182023 13f79535-47bb-0310-9956-ffa450edef68

commit 84c06d4285fd087a44df07684031d96a4ba249c5
Author: Jun Rao <junrao@apache.org>
Date:   Tue Oct 11 01:10:37 2011 +0000

    Include payload size in DumpLogSegments; patched by Chris Burroughs; reviewed by Jun Rao; KAFKA-152
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1181329 13f79535-47bb-0310-9956-ffa450edef68

commit a45af2f1ed30bd6586690076dc7523b303fa6168
Author: Chris Burroughs <cburroughs@apache.org>
Date:   Mon Oct 10 14:18:40 2011 +0000

    Restore .gitignore
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1180987 13f79535-47bb-0310-9956-ffa450edef68

commit fa09aacdbdf0cd325edd28eb80cbd0f4b232ffc3
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Oct 7 19:51:28 2011 +0000

    KAFKA-141 Check and make sure that the files that have been donated have been updated to reflect the new ASF copyright;patched by nehanarkhede; reviewd by jjkoshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1180185 13f79535-47bb-0310-9956-ffa450edef68

commit f34dfc002d7e1aa6b57eb7fa28ee3c928a96e968
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Oct 7 17:33:43 2011 +0000

    Reverting accidental commit 1180110, which is pending review for KAFKA-141
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1180117 13f79535-47bb-0310-9956-ffa450edef68

commit a99becbe491680346c47b0bf8af738e1729de348
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Oct 7 17:18:56 2011 +0000

    Minor patch, removing the .gitigore file
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1180110 13f79535-47bb-0310-9956-ffa450edef68

commit 79092880fdce34005b5de8d4fb2c80b1d5e7533f
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Oct 7 00:54:13 2011 +0000

    Updating the KEYS file with the correct public keys
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179911 13f79535-47bb-0310-9956-ffa450edef68

commit e2a91de7a212a0f5fd18686b0e1dff659a1fe1bb
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Oct 6 22:28:52 2011 +0000

    Checking in KEYS file to be used to verify Kafka releases
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179887 13f79535-47bb-0310-9956-ffa450edef68

commit a1193810b62504ff2e3b4a931bc8c5109a7a530b
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Oct 6 21:12:35 2011 +0000

    KAFKA-149 minor commit to fix the project file to not reference the perf sub project anymore
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179855 13f79535-47bb-0310-9956-ffa450edef68

commit 4de899c24d29b86b2faf51040976ae795e12fea8
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Oct 6 19:57:38 2011 +0000

    KAFKA-89 consumer should initialize to a valid offset;patched by junrao; reviewed by jjkoshy
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179796 13f79535-47bb-0310-9956-ffa450edef68

commit 472723f1cccb8cb1e74ef52e47ccb2fbdc6c3e3d
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Oct 6 19:48:03 2011 +0000

    KAFKA-149: Current perf directory has buggy perf tests; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179791 13f79535-47bb-0310-9956-ffa450edef68

commit 101af58f6c0dc007d53819eb5f3281c60d1fa7bc
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Oct 6 19:45:38 2011 +0000

    KAFKA-141; Added the ASF header to the kafka source and test files where it was missing, deleted the CONTRIBUTORS file to match the convention of other Apache projects; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179788 13f79535-47bb-0310-9956-ffa450edef68

commit 0a9aea7160cc3b0e493608d843998300dd0ec495
Author: Jun Rao <junrao@apache.org>
Date:   Thu Oct 6 05:10:09 2011 +0000

    add optional mx4j support; patched by Chris Burroughs; reviewed by Jun Rao; KAFKA-78
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179501 13f79535-47bb-0310-9956-ffa450edef68

commit 881eaf14e5a8d8396c897b158209080b558be377
Author: Jun Rao <junrao@apache.org>
Date:   Thu Oct 6 05:04:40 2011 +0000

    trivial change to print out last offset in DumpLogSegments
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179500 13f79535-47bb-0310-9956-ffa450edef68

commit f7b2819bff31bb58c4fd32f847e2659b23ecda4a
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Thu Oct 6 01:57:38 2011 +0000

    reverting r1178669 to fix KAFKA-147 kafka integration tests fail on a fresh checkout; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179487 13f79535-47bb-0310-9956-ffa450edef68

commit 4f284428640f172976f2ece9e696b5cf95907b5f
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 5 22:48:10 2011 +0000

    KAFKA-145 Kafka server mirror shutdown bug; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179466 13f79535-47bb-0310-9956-ffa450edef68

commit bac6d9c3fa0e650aa1af99959fe63a8dd33971c8
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Oct 5 02:49:56 2011 +0000

    KAFKA-146 testUnreachableServer sporadically fails; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1179043 13f79535-47bb-0310-9956-ffa450edef68

commit dd62e77f90f5f6fb9050627a9cfa40b35dae67b1
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Oct 4 22:43:00 2011 +0000

    KAFKA-129 ZK-based producer can throw an unexpceted exception when sending a message; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1178997 13f79535-47bb-0310-9956-ffa450edef68

commit 513c4a59d8335e019a6742f731ce3fd5d6a433ff
Author: Chris Burroughs <cburroughs@apache.org>
Date:   Tue Oct 4 22:30:28 2011 +0000

    Adding a .0 for easier post-release support.
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1178988 13f79535-47bb-0310-9956-ffa450edef68

commit a7b4731947b605d8433c91e967aaecacd5340aa4
Author: Chris Burroughs <cburroughs@apache.org>
Date:   Tue Oct 4 01:41:25 2011 +0000

    obsessive compulsive tag team: Replace tabs with spaces
    patch by jkreps; reviewed by cburroughs for KAFKA-114
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1178670 13f79535-47bb-0310-9956-ffa450edef68

commit 4c2d121b26ad9c2efa7d6b23bff7278a54c5e3ed
Author: Chris Burroughs <cburroughs@apache.org>
Date:   Tue Oct 4 01:41:02 2011 +0000

    Update to sbt 0.7.7
    patch by cburroughs; reviewed by junrao for KAFKA-92
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1178669 13f79535-47bb-0310-9956-ffa450edef68

commit 59a5c3215a4736f8c6ccbaace3bf99ec935e738d
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Tue Oct 4 00:54:14 2011 +0000

    KAFKA-130 Add a "console producer" that sends messages from standard input
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1178659 13f79535-47bb-0310-9956-ffa450edef68

commit 031a559e89134497d0e3e9a366321fbdb3976b99
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Oct 3 20:11:36 2011 +0000

    KAFKA-125 On Linux, the test can throw SocketException instead of EOFException, that is cool too.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1178553 13f79535-47bb-0310-9956-ffa450edef68

commit 42c2241cfb1308956b87477dad6e71a63d0ab40f
Author: Jun Rao <junrao@apache.org>
Date:   Mon Oct 3 15:49:36 2011 +0000

    kafka-server-start.sh ignores JMX_PORT; patched by Mathias Herberts; reviewed by Jun Rao; KAFKA-144
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1178434 13f79535-47bb-0310-9956-ffa450edef68

commit 596c8d1af7403782c54c1e0814fff526f21cb8df
Author: Jun Rao <junrao@apache.org>
Date:   Mon Oct 3 04:57:06 2011 +0000

    JMX bean that reports #message/sec in consumer; patched by Jun Rao; reviewed by Neha Narkhede; KAFKA-136
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1178298 13f79535-47bb-0310-9956-ffa450edef68

commit efc7a8a0cd16c759cee54b8621bbfdbd4e7bb2a9
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 30 19:36:07 2011 +0000

    Expose total metrics through MBeansp; patched by Pierre-Yves Ritschard; reviewed by Jun Rao; KAFKA-140
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1177798 13f79535-47bb-0310-9956-ffa450edef68

commit da35513245797a491f8908c2c9ef7f66341bcbd2
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 30 05:44:13 2011 +0000

    trival fix to make hash code positive; patched by Joel Koshy; reviewed by Jun Rao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1177516 13f79535-47bb-0310-9956-ffa450edef68

commit 1b0feb6345b07136c8a7807962c4a7aa0691d777
Author: Jun Rao <junrao@apache.org>
Date:   Wed Sep 28 00:51:51 2011 +0000

    Bug in the queue timeout logic of the async producer; patched by Neha Narkhede; reviewed by Jun Rao; KAFKA-138
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1176672 13f79535-47bb-0310-9956-ffa450edef68

commit 4092ceeb5ae5c5e2546c824ccab7478a8ab19c68
Author: Jun Rao <junrao@apache.org>
Date:   Wed Sep 28 00:42:30 2011 +0000

    Consumer needs a pluggable decoder; patched by Joel Koshy; reviewed by Jun Rao; KAFKA-3
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1176671 13f79535-47bb-0310-9956-ffa450edef68

commit 61433bf0a2afc4d7da9bcde79c504aab434f4d79
Author: Jun Rao <junrao@apache.org>
Date:   Mon Sep 26 17:41:02 2011 +0000

    ruby kafka gem is not functional; patched by Pierre-Yves Ritschard; KAFKA-135
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1175972 13f79535-47bb-0310-9956-ffa450edef68

commit 5fbac30f865dd0829ea965b5a5a62b8b8f695e2a
Author: Jun Rao <junrao@apache.org>
Date:   Mon Sep 26 17:34:48 2011 +0000

    Log flush should complete upon broker shutdown; patched by Joel Koshy; reviewed by Jun Rao; KAFKA-126
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1175966 13f79535-47bb-0310-9956-ffa450edef68

commit d772600c7b79d84d332aa2b7d37512b47fd7d7ae
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 23 01:44:40 2011 +0000

    Fix ASF license headers for C# client; patched by Eric Hauser; #KAFKA-137
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1174493 13f79535-47bb-0310-9956-ffa450edef68

commit dc66fd9a4b6e77cacb5c15dee18a404a0bb89408
Author: Jun Rao <junrao@apache.org>
Date:   Wed Sep 21 19:17:19 2011 +0000

    enhancements to .Net; patched by Eric Hauser; KAFKA-85
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1173797 13f79535-47bb-0310-9956-ffa450edef68

commit 8efb536aff3fefda0e7f683c5daf6814d0f27c2c
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Sat Sep 17 03:31:15 2011 +0000

    KAFKA-132 Patch from Scott Andreas to avoid flush when there is nothing to flush. Looks like due to atime attribute in the filesystem this can lead to flushing file metadata.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1171889 13f79535-47bb-0310-9956-ffa450edef68

commit 54f49314afbc1e13ff511f152e9b292ffaf9104d
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Sat Sep 17 03:21:06 2011 +0000

    KAFKA-70 Patch from Prashanth Menon to add space-based retention setting.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1171886 13f79535-47bb-0310-9956-ffa450edef68

commit 6af334d69ade5f4f21a89b8b2a8e0e881ed51359
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 9 23:49:45 2011 +0000

    Tool to watch consumer offsets and lag; patched by Joel Joshy; reviewed by Jun Rao; KAFKA-127
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1167405 13f79535-47bb-0310-9956-ffa450edef68

commit d42450715cf8ac6774fc68e36c1751e34f29549b
Author: Jun Rao <junrao@apache.org>
Date:   Wed Sep 7 21:47:26 2011 +0000

    Hadoop Consumer goes into an infinite loop; patched by Sam William; reviewed by Richard Park; KAFKA-131
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1166424 13f79535-47bb-0310-9956-ffa450edef68

commit c8e507aba42cd5572ea237c1db0654164209b3c8
Author: Jun Rao <junrao@apache.org>
Date:   Fri Sep 2 05:19:15 2011 +0000

    fix string formatting; write data to stdout in ConsumerShell
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1164353 13f79535-47bb-0310-9956-ffa450edef68

commit ec21a5e841bf561275f1095deb7e8b38ad9ca953
Author: Jun Rao <junrao@apache.org>
Date:   Thu Sep 1 07:49:31 2011 +0000

    DumpLogSegments outputs wrong offsets; kafka-128 patched by junrao; reviewed by Joel
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1163929 13f79535-47bb-0310-9956-ffa450edef68

commit c247dfa8844f6d112755f21918dc1515db37a05e
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Thu Sep 1 05:47:21 2011 +0000

    KAFKA-124 Console consumer does not stop consuming if the program reading from standard out dies. Check for errors on the output stream and exit if no one is listening.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1163911 13f79535-47bb-0310-9956-ffa450edef68

commit 92b1dd925256455b97200a5c77d4e83ba50c4b86
Author: Chris Burroughs <cburroughs@apache.org>
Date:   Wed Aug 31 16:53:38 2011 +0000

    Enable logging for tests, at a reasonable verbosity
    patch by cburroughs; reviewed by junrao for KAFKA-113
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1163693 13f79535-47bb-0310-9956-ffa450edef68

commit d72b388236fb9b1541c79bd7e31687795e137b25
Author: Jun Rao <junrao@apache.org>
Date:   Thu Aug 25 17:47:03 2011 +0000

    more info in DumpLogSegments; KAFKA-122 ; patched by Jun; reviewed by Neha
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1161664 13f79535-47bb-0310-9956-ffa450edef68

commit b5ea7c9055bbc7dd0b1a655b9340f48a7e795d4d
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Aug 24 21:10:03 2011 +0000

    A new file part of KAFKA-116 was accidentally not checked in. This commit fixes it; patched by nehanarkhede; reviewed by chrisburroughs
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1161276 13f79535-47bb-0310-9956-ffa450edef68

commit 72544aa51ee07d573922498f33783aa636de7fea
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Aug 24 01:33:59 2011 +0000

    Code clean up in FetcherRunnable and ZookeeperConsumerConnector; KAFKA-120; patched by junrao; reviewed by nehanarkhede
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1160953 13f79535-47bb-0310-9956-ffa450edef68

commit bf30ae996f2ec08ae97f61a0eff0c50bb8ce8067
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Aug 24 01:27:42 2011 +0000

    The FetcherRunnable busy waits on empty fetch requests; KAFKA-117; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1160952 13f79535-47bb-0310-9956-ffa450edef68

commit 4cdc982e22870f0e4d993d479036a3571ad3a2bc
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Aug 24 00:50:28 2011 +0000

    Producer performance tool should use the new blocking async producer instead of the sleep timeout hack; KAFKA-118; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1160947 13f79535-47bb-0310-9956-ffa450edef68

commit c79c4f6f94328da5ca5090037093453311b0bfa4
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Wed Aug 24 00:44:22 2011 +0000

    AsyncProducer shutdown logic causes data loss; KAFKA-116; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1160946 13f79535-47bb-0310-9956-ffa450edef68

commit e311cbb6bb1735ecd1d94be0fb1e6fca9fa99f75
Author: Chris Burroughs <cburroughs@apache.org>
Date:   Tue Aug 23 22:22:13 2011 +0000

    Explicitly list ZooKeeper as a dependency instead of including jar in-tree
    patch by cburroughs; reviewed by nehanarkhede and hsaputra for KAFKA-90
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1160905 13f79535-47bb-0310-9956-ffa450edef68

commit 2e05fbfa221fcec5ef6b57490e005759363966ee
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Aug 23 02:36:24 2011 +0000

    Improve the command line tools in the bin directory to use the compression feature correctly; KAFKA-112; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1160529 13f79535-47bb-0310-9956-ffa450edef68

commit a484c1bcd1ecf4116102576ccd615168c693832f
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Tue Aug 23 02:31:56 2011 +0000

    Kafka server access log does not log request details coming from a MultiProduceRequest; KAFKA-115; patched by nehanarkhede; reviewed by junrao
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1160527 13f79535-47bb-0310-9956-ffa450edef68

commit 4a688c5d6c87aa8dfffdb2154ef880107176573f
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Sat Aug 20 04:08:06 2011 +0000

    KAFKA-99 Enforce a max request size in socket server to avoid running out of memory with very large requests.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1159837 13f79535-47bb-0310-9956-ffa450edef68

commit 4f56e4410025a1154b75f20e86091589aace7bd5
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Aug 19 01:09:26 2011 +0000

    ByteBufferMessageSet iterator bug returning incorrect offsets after reading a compressed empty message set KAFKA-111; patched by Jun; reviewed by Neha
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1159466 13f79535-47bb-0310-9956-ffa450edef68

commit 76ccf2211db03d819b7847d69c41cb88da04bfe9
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Aug 19 01:00:07 2011 +0000

    Bug in the collate logic of the DefaultEventHandler dispatches empty list of messages using the producer KAFKA-110; patched by Neha; reviewed by Jun
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1159465 13f79535-47bb-0310-9956-ffa450edef68

commit 28984e6c1834bd88f5acb86dd7468751c542ac50
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Aug 19 00:51:20 2011 +0000

    Some new unit tests for ByteBufferMessageSet iterator KAFKA-108; patched by Jun; reviewed by Neha
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1159461 13f79535-47bb-0310-9956-ffa450edef68

commit 900496eedabd7acfdeaaf077239228f4d94312e8
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Aug 19 00:47:34 2011 +0000

    CompressionUtils introduces a GZIP header while compressing empty message sets KAFKA-109; patched by Neha; reviewed by Jun
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1159459 13f79535-47bb-0310-9956-ffa450edef68

commit 8a07bdb71e74377d7b8ae3c53fe1e59f46bbe2a8
Author: Neha Narkhede <nehanarkhede@apache.org>
Date:   Fri Aug 19 00:29:09 2011 +0000

    Bug in serialize and collate logic in the DefaultEventHandler KAFKA-107; patched by Neha; reviewed by Jun
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1159452 13f79535-47bb-0310-9956-ffa450edef68

commit 82b42163a55440eee6508ff4a721906bc40704e8
Author: Jun Rao <junrao@apache.org>
Date:   Wed Aug 17 23:34:08 2011 +0000

    change whitelist config for mirroring; patched by Joel; KAFKA-103
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1158969 13f79535-47bb-0310-9956-ffa450edef68

commit 4cf1f167460f9ee5da60214eef72ea43148063c6
Author: Jun Rao <junrao@apache.org>
Date:   Tue Aug 16 21:07:54 2011 +0000

    fix log4j to avoid duplicating log entries in kafka
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1158447 13f79535-47bb-0310-9956-ffa450edef68

commit 6d1b6f28270e0bfc0678bd69fbb77341cef74d51
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Aug 15 17:34:24 2011 +0000

    KAFKA-98 Fix hardcoded ports in unit tests so you can run them while running kafka.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1157922 13f79535-47bb-0310-9956-ffa450edef68

commit 7976993f9e20d7448105e50e1dca74ecf8bc1ea3
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Aug 15 17:31:35 2011 +0000

    KAFKA-102 Patch from Blake Matheny. Clean up logging.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1157920 13f79535-47bb-0310-9956-ffa450edef68

commit d7e0b11d875e4c8fc21bfe3cc0cc4da542fa387a
Author: Jun Rao <junrao@apache.org>
Date:   Sun Aug 14 16:42:35 2011 +0000

    fix kafka-server-start.sh to take an optional producer property
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1157560 13f79535-47bb-0310-9956-ffa450edef68

commit 944da579ba1828586b1b000fcd5cad6076abbcd3
Author: Jun Rao <junrao@apache.org>
Date:   Fri Aug 12 02:09:56 2011 +0000

    KafkaServer can throw a NullPointerException during startup if zookeeper is down; KAFKA-94
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1156940 13f79535-47bb-0310-9956-ffa450edef68

commit 49f3b4017918c4e254e9bc09e2ef5178d62e0248
Author: Jun Rao <junrao@apache.org>
Date:   Wed Aug 10 22:32:23 2011 +0000

    auto-discovery of topics for mirroring; patched by Joel; reviewed by Jun; KAFKA-74
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1156393 13f79535-47bb-0310-9956-ffa450edef68

commit d0c980dab278627286e9a2be649de0f6c8ce8b53
Author: Henry Saputra <hsaputra@apache.org>
Date:   Wed Aug 10 18:32:09 2011 +0000

    KAFKA-93 | add license to missed files and remove LinkedIn copyright line per ASF guideline. Thanks to Joel Koshy for pointing it out
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1156299 13f79535-47bb-0310-9956-ffa450edef68

commit 462dfda513d98a0017564f5070f678d57f834872
Author: Henry Saputra <hsaputra@apache.org>
Date:   Wed Aug 10 15:33:21 2011 +0000

    KAFKA-93 | Change and add ASF source header to follow standard ASF source header (http://www.apache.org/legal/src-headers.html).
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1156232 13f79535-47bb-0310-9956-ffa450edef68

commit e96cf1facfa4ef21128f38aaf9484a307c6bdb61
Author: Chris Burroughs <cburroughs@apache.org>
Date:   Wed Aug 10 13:14:28 2011 +0000

    Update readme links.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1156166 13f79535-47bb-0310-9956-ffa450edef68

commit ed34f0cb35cf7ec1a6837ba5180d05a9659e0d37
Author: Jun Rao <junrao@apache.org>
Date:   Mon Aug 8 18:27:54 2011 +0000

    change default zk connection limit to infinite; KAFKA-88
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1155041 13f79535-47bb-0310-9956-ffa450edef68

commit f7046c247dd466c90337bb39a4612115c3e41923
Author: Jun Rao <junrao@apache.org>
Date:   Sun Aug 7 23:56:05 2011 +0000

    Options in SyncProducerConfig and AsyncProducerConfig can leak, KAFKA-83
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1154804 13f79535-47bb-0310-9956-ffa450edef68

commit 96b8e03dd1ee23a550ca87803777b4d7bec05d5a
Author: Jun Rao <junrao@apache.org>
Date:   Sun Aug 7 16:29:55 2011 +0000

    commit offset before consumer shutdown KAFKA-84; rename util.StringSerializer to ZKStringSerializer to avoid confusion with producer.StringSerializer
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1154719 13f79535-47bb-0310-9956-ffa450edef68

commit 665f1d0527846e1eaf6c39fd8a329dbfeb08b0c9
Author: Jun Rao <junrao@apache.org>
Date:   Fri Aug 5 01:36:43 2011 +0000

    upgrade zkclient jar; #KAFKA-82
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1154064 13f79535-47bb-0310-9956-ffa450edef68

commit cbbfbaf33179f2a44ae641ccaaba1f0a8e73730f
Author: Chris Burroughs <cburroughs@apache.org>
Date:   Wed Aug 3 17:34:03 2011 +0000

    gitignore for git-svn users.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1153592 13f79535-47bb-0310-9956-ffa450edef68

commit 642da2f28c9bc6e373603d6d9119ce33684090f5
Author: Edward Jay Kreps <jkreps@apache.org>
Date:   Mon Aug 1 23:41:24 2011 +0000

    Initial checkin of Kafka to Apache SVN. This corresponds to https://github.com/kafka-dev/kafka/commit/709afe4ec75489bc00a44335de8821fa726bb97e except that git specific files have been removed and code has been put into trunk/branches/site/etc. This is just a copy of master, branches and history are not being converted since we can't find a good tool for it.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/incubator/kafka/trunk@1152970 13f79535-47bb-0310-9956-ffa450edef68
